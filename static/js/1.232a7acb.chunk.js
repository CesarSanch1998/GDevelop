(this["webpackJsonpgdevelop-ide"]=this["webpackJsonpgdevelop-ide"]||[]).push([[1],Array(117).concat([function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i}));var r=n(15),a=function(e){return r.createElement("div",{style:{display:"flex",marginTop:e.noMargin?0:4,marginBottom:e.noMargin?0:4,alignItems:e.alignItems,justifyContent:e.justifyContent,flex:e.expand?1:void 0,overflow:e.overflow}},e.children)},o=function(e){return r.createElement("div",{style:{display:"flex",marginLeft:e.noMargin?0:8,marginRight:e.noMargin?0:8,flexDirection:"column",alignItems:e.alignItems||"stretch",justifyContent:e.justifyContent,flex:e.expand?1:void 0,minHeight:e.useFullHeight?"0":void 0,minWidth:e.noOverflowParent?0:void 0}},e.children)},i=function(){return r.createElement("span",{style:{width:4,height:4,flexShrink:0}})}},,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(179),a=n(3),o=n(4),i=n(6),s=n(5),c=n(15),l=n(2092),u=n(117),d=n(2078),p=n(490),m=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.primary,a=e.icon,o=e.keyboardFocused,i=e.exceptionalTooltipForToolbar,s=e.disabled,m=Object(r.a)(e,["label","primary","icon","keyboardFocused","exceptionalTooltipForToolbar","disabled"]),f=c.createElement(l.a,Object.assign({size:"small",color:n?"primary":"default",autoFocus:o,focusRipple:!0,disabled:s},m),a,a&&c.createElement(u.c,null),t);return i&&!s?c.createElement(d.a,{title:i,placement:"bottom",enterDelay:p.a},f):f}}]),n}(c.Component)},function(e,t,n){"use strict";var r=n(119),a=n(15),o=n(2091);t.a=function(e){var t=e.children,n=e.style,i=e.size,s=e.align,c=e.noShrink,l=e.noMargin,u=e.displayInlineAsSpan;return a.createElement(o.a,{variant:"bold-title"===i?"h5":"title"===i?"h6":"body2"===i?"body2":"body1",component:u?"span":void 0,style:Object(r.a)(Object(r.a)({},n),{},{display:u?"inline-block":void 0,flexShrink:c?0:void 0,marginTop:l?0:6,marginBottom:l?0:6}),align:s||"inherit"},t)}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(179),a=n(3),o=n(4),i=n(6),s=n(5),c=n(15),l=n(2092),u=n(117),d=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.primary,a=e.icon,o=Object(r.a)(e,["label","primary","icon"]);return c.createElement(l.a,Object.assign({variant:"contained",size:"small",color:n?"primary":"default",focusRipple:!0},o),a,a&&c.createElement(u.c,null),t)}}]),n}(c.Component)},function(e,t,n){"use strict";var r=n(119),a=n(15),o=n(2097),i=n(2101),s=n(2100),c=n(2099),l=n(146),u=n(171),d=n.n(u),p=n(143),m=n(163),f={defaultBody:{overflowX:"hidden"},noMarginBody:{padding:0,overflowX:"hidden"},flexRowBody:{display:"flex",flexDirection:"row"},flexBody:{display:"flex"},actionsContainerWithSecondaryActions:{display:"flex",justifyContent:"space-between"},noTitleMargin:{padding:0},fullHeightModal:{minHeight:"calc(100% - 64px)"}};t.a=function(e){var t=e.onApply,n=e.secondaryActions,u=e.actions,h=e.open,g=e.onRequestClose,b=e.maxWidth,v=e.noMargin,E=e.title,y=e.children,C=e.flexRowBody,j=e.flexBody,O=e.fullHeight,x=e.noTitleMargin,k=a.useContext(p.a).values.backdropClickBehavior,T=Object(l.b)(),w=a.useMemo((function(){return a.createElement(a.Fragment,null,n&&a.createElement("div",{key:"secondary-actions"},n),a.createElement("div",{key:"actions"},u))}),[u,n]),S=Object(r.a)(Object(r.a)(Object(r.a)({},v?f.noMarginBody:f.defaultBody),C?f.flexRowBody:{}),j?f.flexBody:{}),P=a.useCallback((function(e,n){if("escapeKeyDown"===n)g&&g();else if("backdropClick"===n)if("cancel"===k)g&&g();else if("apply"===k)t?t():g&&g();else if("nothing"===k)return}),[g,t,k]),_=a.useCallback((function(e){if(Object(m.b)(e))return P(e,"escapeKeyDown"),void e.stopPropagation();if(t&&Object(m.e)(e)){e.stopPropagation();var n=document.activeElement;n&&n.blur(),t()}}),[P,t]);return a.createElement(o.a,{open:h,onClose:P,fullWidth:!0,fullScreen:"small"===T,className:d()({"safe-area-aware-container":"small"===T}),PaperProps:{style:O?f.fullHeightModal:{}},maxWidth:void 0!==b?b:"md",disableBackdropClick:!1,onKeyDown:_},E&&a.createElement(c.a,{style:x?f.noTitleMargin:void 0},E),a.createElement(s.a,{style:S},y),a.createElement(i.a,{style:n?f.actionsContainerWithSecondaryActions:void 0},w))}},function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var r=n(119),a=n(15),o=n(117),i=n(146),s={flexShrink:0},c={container:{flex:1,display:"flex",alignItems:"flex-start"},filledTextFieldWithLabelRightButtonMargins:Object(r.a)(Object(r.a)({},s),{},{marginTop:15,marginLeft:8}),filledTextFieldWithoutLabelRightButtonMargins:Object(r.a)(Object(r.a)({},s),{},{marginTop:6,marginLeft:8}),standardTextFieldWithLabelRightButtonMargins:Object(r.a)(Object(r.a)({},s),{},{marginTop:17,marginLeft:8}),standardTextFieldWithoutLabelRightButtonMargins:Object(r.a)(Object(r.a)({},s),{},{marginTop:0,marginLeft:8})},l=function(e){var t=e.margin,n=e.noFloatingLabelText,r=e.renderTextField,o=e.renderButton;return a.createElement("div",{style:c.container},r(),o("none"===t?n?c.standardTextFieldWithoutLabelRightButtonMargins:c.standardTextFieldWithLabelRightButtonMargins:n?c.filledTextFieldWithoutLabelRightButtonMargins:c.filledTextFieldWithLabelRightButtonMargins))},u=function(e){var t=e.alignItems,n=e.justifyContent,r=e.expand,s=e.noMargin,c=e.noColumnMargin,l=e.children,u=Object(i.b)(),p=!0;return"small"===u?a.createElement(d,{noMargin:s||c,expand:!0},l):a.createElement(o.b,{alignItems:t,justifyContent:n,expand:r,noMargin:s},a.Children.map(l,(function(e,t){if(!e)return null;var n=!p;return p=!1,a.createElement(a.Fragment,null,n&&a.createElement(o.c,null),e)})))},d=function(e){var t=e.alignItems,n=e.justifyContent,r=e.expand,i=e.noMargin,s=e.children,c=!0;return a.createElement(o.a,{alignItems:t,justifyContent:n,expand:r,noMargin:i},a.Children.map(s,(function(e,t){if(!e)return null;var n=!c;return c=!1,a.createElement(a.Fragment,null,n&&a.createElement(o.c,null),e)})))}},,function(e,t){var n=function(e,t,n){for(var r=[],a=e;a<t;a++)r.push(n(a));return r};e.exports={mapFor:n,mapReverseFor:function(e,t,n){for(var r=[],a=t-1;a>=e;a--)r.push(n(a));return r},mapVector:function(e,t){return n(0,e.size(),(function(n){return t(e.at(n),n)}))}}},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return h}));var r=n(119),a=n(3),o=n(4),i=n(6),s=n(5),c=n(15),l=n(115),u=n(2200),d=n(2094),p=n(192),m=function(e){return{variant:"none"===e.margin?"standard":"filled",margin:"none"===e.margin?"none":"dense",hiddenLabel:"none"!==e.margin&&!e.floatingLabelText}},f=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._input=c.createRef(),e}return Object(o.a)(n,[{key:"focus",value:function(){this._input.current&&this._input.current.focus()}},{key:"blur",value:function(){this._input.current&&this._input.current.blur()}},{key:"getInputNode",value:function(){return this._input.current?this._input.current:null}},{key:"render",value:function(){var e=this,t=this.props,n=t.onChange||void 0,a=t.helperMarkdownText?c.createElement(p.a,{source:t.helperMarkdownText}):null;return c.createElement(l.I18n,null,(function(o){var i=o.i18n;return c.createElement(u.a,Object.assign({type:void 0!==t.type?t.type:void 0,value:void 0!==t.value?t.value:void 0,defaultValue:void 0!==t.defaultValue?t.defaultValue:void 0,onChange:n?function(e){return n(e,e.target.value)}:void 0,error:!!t.errorText,helperText:t.errorText||a,disabled:t.disabled,required:t.required,InputLabelProps:{shrink:!!t.floatingLabelFixed||void 0},label:t.floatingLabelText,name:t.name,placeholder:t.hintText?i._(t.hintText):void 0,id:t.id,autoFocus:t.autoFocus,multiline:t.multiline,rows:t.rows,rowsMax:t.rowsMax},m(t),{fullWidth:t.fullWidth,InputProps:{disableUnderline:void 0!==t.underlineShow&&!t.underlineShow,style:Object(r.a)({fontSize:t.style?t.style.fontSize:void 0,fontStyle:t.style?t.style.fontStyle:void 0},t.inputStyle),readOnly:t.readOnly,inputProps:{onKeyPress:t.onKeyPress,onKeyUp:t.onKeyUp,onKeyDown:t.onKeyDown,onClick:t.onClick,max:t.max,min:t.min,step:t.step},endAdornment:t.endAdornment?c.createElement(d.a,{position:"end"},t.endAdornment):void 0},style:t.style?{width:t.style.width||void 0,flex:t.style.flex||void 0,top:t.style.top||void 0}:void 0,onFocus:t.onFocus,onBlur:t.onBlur,inputRef:e._input,spellCheck:"false"}))}))}}]),n}(c.Component),h=0},function(e,t,n){"use strict";var r=n(119),a=n(15),o=n(153),i=n(193),s={display:"flex",alignItems:"center",justifyContent:"center",flex:1,padding:10};t.a=function(e){return a.createElement(o.a,null,(function(t){return a.createElement("div",{style:Object(r.a)(Object(r.a)({},s),e.style)},a.createElement(i.a,{style:e.messageStyle},e.children))}))}},,function(e,t,n){"use strict";var r=n(179),a=n(3),o=n(4),i=n(6),s=n(5),c=n(15),l=n(2073),u=n(2078),d=n(115),p=n(43),m=n(490);n.d(t,"a",(function(){return f}));var f=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.tooltip,n=e.acceleratorString,a=Object(r.a)(e,["tooltip","acceleratorString"]),o=c.createElement(l.a,a);return t&&!this.props.disabled?c.createElement(d.I18n,null,(function(e){var r,a=e.i18n;return c.createElement(u.a,{title:a._(t)+(n?" "+(r=n,Object(p.f)()?"":Object(p.e)()?r.replace(/CmdOrCtrl\+/,"\u2318").replace(/CommandOrControl\+/,"\u2318").replace(/Super\+/,"\u2318").replace(/Shift\+/,"\u21e7").replace(/Alt\+/,"\u2325").replace(/Option\+/,"\u2325").replace(/Delete/,"\u2326").replace(/Backspace/,"\u232b"):r.replace(/CmdOrCtrl\+/,"Ctrl+").replace(/CommandOrControl\+/,"Ctrl+").replace(/Super\+/,"Win+").replace(/Option\+/,"Alt+").replace(/Delete/,"DEL")):""),placement:"bottom",enterDelay:m.a},o)})):o}}]),n}(c.Component)},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(179),a=n(3),o=n(4),i=n(6),s=n(5),c=n(15),l=n(135),u=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={focused:!1,text:null},e._field=null,e}return Object(o.a)(n,[{key:"forceSetValue",value:function(e){this.setState({text:e})}},{key:"forceSetSelection",value:function(e,t){var n=this.getInputNode();n&&(n.selectionStart=e,n.selectionEnd=t)}},{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"getInputNode",value:function(){if(this._field)return this._field.getInputNode()}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,a=t.onChange,o=t.commitOnBlur,i=t.onFocus,s=t.onBlur,u=t.type,d=Object(r.a)(t,["value","onChange","commitOnBlur","onFocus","onBlur","type"]);return c.createElement(l.b,Object.assign({},d,{type:u||"text",ref:function(t){return e._field=t},value:this.state.focused?this.state.text:n,onFocus:function(t){e.setState({focused:!0,text:e.props.value}),i&&i(t)},onChange:function(t,n){e.setState({text:n}),o||a(n)},onBlur:function(t){a(t.currentTarget.value),e.setState({focused:!1,text:null}),s&&s(t)}}))}}]),n}(c.Component)},function(e,t,n){"use strict";var r=n(115),a=n(15),o=n(124),i=n(677),s=n.n(i),c=n(16),l=n(269);t.a=function(e){if(!e.helpPagePath)return null;var t=Object(l.a)(e.helpPagePath);return t?a.createElement(o.a,{onClick:function(){e.helpPagePath&&c.b.openExternalURL(t)},target:"_blank",label:e.label||a.createElement(r.Trans,{id:"Help"}),icon:a.createElement(s.a,null)}):null}},function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var r=n(115),a=n(15),o=n(17),i=n.n(o)()("electron"),s=(r.Trans,r.Trans,r.Trans,r.Trans,r.Trans,r.Trans,r.Trans,r.Trans,r.Trans,r.Trans,r.Trans,r.Trans,r.Trans,r.Trans,r.Trans,r.Trans,r.Trans,r.Trans,r.Trans,r.Trans,r.Trans,r.Trans,r.Trans,r.Trans,r.Trans,{values:{language:"en",autoDownloadUpdates:!0,themeName:"undefined"!==typeof window&&window.matchMedia("(prefers-color-scheme: dark)").matches?"Nord":"GDevelop default",codeEditorThemeName:"vs-dark",hiddenAlertMessages:{},hiddenTutorialHints:{},autoDisplayChangelog:!0,lastLaunchedVersion:void 0,eventsSheetShowObjectThumbnails:!0,autosaveOnPreview:!0,useNewInstructionEditorDialog:!0,useUndefinedVariablesInAutocompletion:!1,useGDJSDevelopmentWatcher:!0,eventsSheetUseAssignmentOperators:!1,eventsSheetZoomLevel:14,showEffectParameterNames:!1,projectLastUsedPaths:{},defaultEditorMosaicNodes:{},recentProjectFiles:[],autoOpenMostRecentProject:!0,hasProjectOpened:!1,userShortcutMap:{},newObjectDialogDefaultTab:i?"new-object":"asset-store",isMenuBarHiddenInPreview:!0,isAlwaysOnTopInPreview:!1,backdropClickBehavior:"nothing",eventsSheetCancelInlineParameter:"apply"},setLanguage:function(){},setThemeName:function(){},setCodeEditorThemeName:function(){},setAutoDownloadUpdates:function(){},checkUpdates:function(){},setAutoDisplayChangelog:function(){},showAlertMessage:function(e,t){},showAllAlertMessages:function(){},showTutorialHint:function(e,t){},showAllTutorialHints:function(){},verifyIfIsNewVersion:function(){return!1},setEventsSheetShowObjectThumbnails:function(){},setAutosaveOnPreview:function(){},setUseNewInstructionEditorDialog:function(e){},setUseUndefinedVariablesInAutocompletion:function(e){},setUseGDJSDevelopmentWatcher:function(e){},setEventsSheetUseAssignmentOperators:function(e){},setEventsSheetZoomLevel:function(e){},setShowEffectParameterNames:function(e){},getLastUsedPath:function(e,t){return""},setLastUsedPath:function(e,t,n){},getDefaultEditorMosaicNode:function(e){return null},setDefaultEditorMosaicNode:function(e,t){},getRecentProjectFiles:function(){return[]},insertRecentProjectFile:function(e){},removeRecentProjectFile:function(e){},getAutoOpenMostRecentProject:function(){return!0},setAutoOpenMostRecentProject:function(){},hadProjectOpenedDuringLastSession:function(){return!1},setHasProjectOpened:function(){},resetShortcutsToDefault:function(){},setShortcutForCommand:function(e,t){},getNewObjectDialogDefaultTab:function(){return"asset-store"},setNewObjectDialogDefaultTab:function(){},getIsMenuBarHiddenInPreview:function(){return!0},setIsMenuBarHiddenInPreview:function(){},setBackdropClickBehavior:function(){},getIsAlwaysOnTopInPreview:function(){return!0},setIsAlwaysOnTopInPreview:function(){},setEventsSheetCancelInlineParameter:function(){}}),c=a.createContext(s);t.a=c},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(3),a=n(4),o=n(17),i=n.n(o),s=i()("electron"),c=i()("path"),l=function(){function e(){Object(r.a)(this,e),this.projectCache={}}return Object(a.a)(e,[{key:"_getProjectCache",value:function(e){var t=this.projectCache[e.ptr];return t||(this.projectCache[e.ptr]={})}},{key:"getCachedUrl",value:function(e,t){return this._getProjectCache(e)[t]}},{key:"cacheUrl",value:function(e,t){return this._getProjectCache(e)[t]=t}},{key:"burstUrl",value:function(e,t){delete this._getProjectCache(e)[t]}},{key:"cacheLocalFileUrl",value:function(e,t,n,r){var a=this._getProjectCache(e);return a[t]=r?n:"".concat(n,"?cache=").concat(Date.now())}}]),e}(),u=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,null,[{key:"burstUrlsCacheForResources",value:function(t,n){var r=t.getResourcesManager();n.forEach((function(n){r.hasResource(n)&&e._cache.burstUrl(t,r.getResource(n).getFile())}))}},{key:"burstAllUrlsCache",value:function(){e._cache=new l}},{key:"getFullUrl",value:function(t,n,r){var a=r.isResourceForPixi,o=r.disableCacheBurst;if(s&&function(e){return!(e.startsWith("http://")||e.startsWith("https://")||e.startsWith("ftp://")||e.startsWith("blob:")||e.startsWith("data:"))}(n)){var i=e._cache.getCachedUrl(t,n);if(i)return i;var l=t.getProjectFile(),u=c.dirname(l),d=c.resolve(u,n).replace(/\\/g,"/");return console.info("Caching resolved local filename:",d),this._cache.cacheLocalFileUrl(t,n,"file://"+d,!!o)}var p=n;a&&(p=function(e,t,n){if(e.startsWith("data:")||e.startsWith("blob:"))return e;var r=-1===e.indexOf("?")?"?":"&";return e+r+t+"="+n}(p,"gdUsage","pixi"));var m=e._cache.getCachedUrl(t,p);return m||(console.info("Caching resolved url:",p),this._cache.cacheUrl(t,p))}},{key:"getResourceFullUrl",value:function(t,n,r){if(t.getResourcesManager().hasResource(n)){var a=t.getResourcesManager().getResource(n).getFile();return e.getFullUrl(t,a,r)}return n}}]),e}();u._cache=new l},,function(e,t,n){"use strict";var r,a=n(15),o=n.n(a),i=n(148),s=new Set,c=function(){return s.forEach((function(e){return e()}))};window.addEventListener("resize",(function(){clearTimeout(r),r=setTimeout(c,200)}));n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var l=function(e){return(0,e.children)(u())},u=function(){var e;return e=Object(i.a)(),o.a.useEffect((function(){return s.add(e),function(){s.delete(e)}}),[e]),"undefined"===typeof window?"medium":window.innerWidth<750||window.innerHeight<350?"small":window.innerWidth<1150?"medium":"large"}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(26),a=n(15);function o(){var e=a.useState(),t=Object(r.a)(e,2)[1];return a.useCallback((function(){return t({})}),[])}},,,function(e,t,n){"use strict";n.d(t,"c",(function(){return F})),n.d(t,"d",(function(){return L})),n.d(t,"b",(function(){return D})),n.d(t,"a",(function(){return U}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(119),c=n(26),l=n(15),u=n(2086),d=n(2083),p=n(2089),m=n(2090),f=n(2103),h=n(674),g=n.n(h),b=n(349),v=n.n(b),E=n(2073),y=n(672),C=n.n(y),j=n(347),O=n.n(j),x=n(348),k=n.n(x),T=n(1108),w=n.n(T),S=n(186),P=n(2078),_=n(173),I=n.n(_),N=n(673),A=n.n(N),R=n(346),M=n(2104),F=32,L=29,B={listItemText:{margin:"1px 0",wordBreak:"break-word"}},D=l.forwardRef((function(e,t){var n=l.useState(!!e.initiallyOpen),r=Object(c.a)(n,2),a=r[0],o=r[1],i=l.useRef(null),h=l.useCallback((function(){i.current&&i.current.open()}),[i]),b=Object(R.a)(h),y=function(){return e.displayReloadButton?l.createElement(f.a,null,l.createElement(P.a,{title:e.reloadButtonTooltip},l.createElement(E.a,{size:"small",edge:"end","aria-label":"reload",onClick:e.onReload},l.createElement(C.a,null)))):e.buildMenuTemplate?e.displayMenuButton?l.createElement(f.a,null,l.createElement(S.a,{ref:i,element:l.createElement(E.a,{size:"small",edge:"end","aria-label":"menu"},l.createElement(O.a,{style:{color:e.rightIconColor}})),buildMenuTemplate:e.buildMenuTemplate})):l.createElement(S.a,{ref:i,element:l.createElement("div",null),buildMenuTemplate:e.buildMenuTemplate}):e.displayLinkButton?l.createElement(f.a,null,l.createElement(E.a,{size:"small",edge:"end","aria-label":"open link",onClick:e.onOpenLink},l.createElement(k.a,{style:{color:e.rightIconColor}}))):e.displayRemoveButton?l.createElement(f.a,null,l.createElement(E.a,{size:"small",edge:"end","aria-label":"remove",onClick:e.onRemove},l.createElement(w.a,{style:{color:e.rightIconColor}}))):null},j=e.renderNestedItems;if(j){var x=void 0===e.open?a:e.open;return l.createElement(l.Fragment,null,l.createElement(d.a,{button:!0,dense:!0,disableRipple:!0,onClick:function(){o(!x),e.onClick&&e.onClick()},disabled:e.disabled,style:e.style,ref:t},e.leftIcon&&l.createElement(p.a,null,e.leftIcon),l.createElement(m.a,{style:B.listItemText,primary:e.primaryText,secondary:e.secondaryText}),e.autoGenerateNestedIndicator?x?l.createElement(g.a,null):l.createElement(v.a,null):null,y()),l.createElement(M.a,{in:x,timeout:"auto",unmountOnExit:!0},l.createElement(u.a,{component:"div",disablePadding:!0,style:Object(s.a)({paddingLeft:16},e.nestedListStyle),dense:!0},j())))}return l.createElement(d.a,Object.assign({button:!0,dense:!0,disableRipple:!0,ContainerComponent:"div",onClick:e.onClick,onDoubleClick:e.onDoubleClick,disabled:e.disabled,selected:e.selected,style:e.style,onContextMenu:e.buildMenuTemplate?h:void 0},b,{alignItems:2===e.secondaryTextLines?"flex-start":void 0,ref:t}),e.leftIcon&&l.createElement(p.a,null,e.leftIcon),l.createElement(m.a,{style:B.listItemText,primary:e.primaryText,secondary:e.secondaryText}),y(),e.displayAddIcon&&l.createElement(I.a,{style:{color:e.rightIconColor}}),e.displaySearchIcon&&l.createElement(A.a,{style:{color:e.rightIconColor}}))})),U=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return l.createElement(u.a,{style:this.props.style,dense:!0},this.props.children)}}]),n}(l.Component)},,function(e,t,n){"use strict";var r=n(15),a=n(170);t.a=function(e){return r.createElement(a.a.Consumer,null,(function(t){return e.children(t)}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(15),c=n(115),l=n(2200),u=n(135),d=n(192),p=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._input=s.createRef(),e}return Object(a.a)(n,[{key:"focus",value:function(){this._input.current&&this._input.current.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.onChange||void 0,r=!0,a=s.Children.map(t.children,(function(e){return null!==e&&e.props?e.props.value:null}));a?r=0!==a.filter((function(e){return e===t.value})).length:console.error("SelectField has been passed no or invalid children. Only SelectOption and null are supported.");var o=r?t.value:"",i=t.helperMarkdownText?s.createElement(d.a,{source:t.helperMarkdownText}):null;return s.createElement(c.I18n,null,(function(a){var c=a.i18n;return s.createElement(l.a,Object.assign({select:!0},Object(u.a)(t),{disabled:t.disabled,fullWidth:t.fullWidth,label:t.floatingLabelText,helperText:i,value:o,onChange:n?function(e){n(e,-1,e.target.value)}:void 0,InputLabelProps:{shrink:!0},SelectProps:{native:!0},style:t.style,inputRef:e._input}),r?null:s.createElement("option",{value:"",disabled:!0},t.hintText?c._(t.hintText):c._({id:"Choose an option"})),t.children)}))}}]),n}(s.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(15),c=n(115),l=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this;return s.createElement(c.I18n,null,(function(t){var n=t.i18n;return s.createElement("option",{value:e.props.value,disabled:e.props.disabled},n._(e.props.primaryText))}))}}]),n}(s.Component)},function(e,t,n){"use strict";var r=n(119),a=n(115),o=n(15),i=n(2085),s=n(670),c=n.n(s),l=n(305),u=n.n(l),d=n(671),p=n.n(d),m=n(117),f=n(124),h=n(125),g=n(170),b=n(129),v={icon:{width:28,height:28,marginRight:10,marginLeft:10},content:{flex:1}};t.a=function(e){var t=e.kind,n=e.children,s=e.onHide,l=e.renderRightButton,d=e.renderLeftIcon,E=o.useContext(g.a);return o.createElement(i.a,{elevation:10,square:!0},o.createElement(m.a,{expand:!0},o.createElement(b.b,{alignItems:"center",justifyContent:"space-between",noMargin:!0},o.createElement(m.b,{noMargin:!0,alignItems:"center"},d?o.createElement(o.Fragment,null,d(),o.createElement(m.c,null),o.createElement(m.c,null)):o.createElement(o.Fragment,null,"info"===t&&o.createElement(c.a,{style:v.icon}),"warning"===t&&o.createElement(u.a,{style:Object(r.a)(Object(r.a)({},v.icon),{},{color:E.message.warning})}),"error"===t&&o.createElement(p.a,{style:Object(r.a)(Object(r.a)({},v.icon),{},{color:E.message.error})})),o.createElement(h.a,{style:v.content},n)),o.createElement(b.b,{noMargin:!0,alignItems:"center"},l&&l(),s&&o.createElement(f.a,{label:o.createElement(a.Trans,{id:"Hide"}),onClick:function(){return s()}})))))}},,function(e,t,n){"use strict";var r=n(119),a=n(15),o=n.n(a),i=n(2105),s={display:"flex",alignItems:"center",justifyContent:"center",flex:1,padding:10};t.a=function(e){return o.a.createElement("div",{style:Object(r.a)(Object(r.a)({},s),e.style)},o.a.createElement(i.a,{size:40}))}},,function(e,t,n){"use strict";var r=n(119),a=n(15),o=n(2085),i={container:{display:"flex",flexDirection:"column"},maxWidth:{maxWidth:"100%"}};t.a=function(e){return a.createElement(o.a,{square:!0,style:Object(r.a)(Object(r.a)({},i.container),{},{height:e.noFullHeight?void 0:"100%",width:e.width?e.width:void 0,flex:e.noExpand?void 0:1},e.maxWidth?i.maxWidth:void 0)},e.children)}},,,function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"f",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return c}));var r=function(e){return"Escape"===e.key},a=function(e){return"Enter"===e.key},o=function(e){return"Enter"===e.key||" "===e.key},i=function(e){return(e.metaKey||e.ctrlKey)&&"Enter"===e.key},s=function(e){return"Tab"===e.key&&!e.shiftKey},c=function(e){return"Tab"===e.key&&e.shiftKey}},function(e,t,n){"use strict";var r=n(119),a=n(15),o=n(42),i=n.n(o),s={flex:1};t.a=a.forwardRef((function(e,t){var n=e.children,o=e.autoHideScrollbar,c=e.style,l=a.useRef(null);return a.useImperativeHandle(t,(function(){return{scrollTo:function(e){var t=l.current;if(t){var n=i.a.findDOMNode(e);if(n instanceof HTMLElement){var r=n.getBoundingClientRect().top,a=t.getBoundingClientRect().top;t.scrollTop+=r-a}else console.error("Tried to scroll to something that is not a HTMLElement")}},scrollToBottom:function(){var e=l.current;e&&(e.scrollTop=e.scrollHeight)}}})),a.createElement("div",{style:Object(r.a)(Object(r.a)({},s),{},{overflowY:o?"auto":"scroll"},c),ref:l},n)}))},,,function(e,t,n){"use strict";t.a=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!t(e))return e;for(var r=n+e,a=2;t(r);++a)r=n+e+a;return r}},,function(e,t,n){"use strict";n.d(t,"q",(function(){return r})),n.d(t,"r",(function(){return a})),n.d(t,"i",(function(){return o})),n.d(t,"m",(function(){return i})),n.d(t,"n",(function(){return s})),n.d(t,"h",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"t",(function(){return d})),n.d(t,"s",(function(){return p})),n.d(t,"l",(function(){return m})),n.d(t,"j",(function(){return f})),n.d(t,"k",(function(){return h})),n.d(t,"d",(function(){return g})),n.d(t,"f",(function(){return b})),n.d(t,"g",(function(){return v})),n.d(t,"e",(function(){return E})),n.d(t,"b",(function(){return y})),n.d(t,"o",(function(){return C})),n.d(t,"p",(function(){return j}));var r="selectable",a="selected",o="icon",i="large-selectable",s="large-selected",c="executable-event-container",l="actions-container",u="conditions-container",d="sub-instructions-container",p="small-width-container",m="instruction-parameter",f="instruction-invalid-parameter",h="instruction-missing-parameter",g="disabled-text",b="events-tree",v="with-search-results",E="drop-indicator",y="cant-drop-indicator",C="link-container",j="name-and-icon-container"},function(e,t,n){"use strict";var r=n(15),a=n(489),o=r.createContext(a.a.gdevelopTheme);t.a=o},,function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(15),c=n(2203),l=n(2102),u=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this;return s.createElement(c.a,{variant:"fullWidth",textColor:"primary",value:this.props.value,onChange:function(t,n){return e.props.onChange(n)}},this.props.children)}}]),n}(s.Component),d=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return s.createElement(l.a,this.props)}}]),n}(s.Component)},,,function(e,t,n){"use strict";var r=n(15),a=n(2095),o=n(2209);t.a=function(e){var t=e.onCheck,n=r.createElement(o.a,{disabled:e.disabled,checked:e.checked,onChange:t?function(e){return t(e,e.target.checked)}:void 0,icon:e.uncheckedIcon,checkedIcon:e.checkedIcon,color:"primary",style:e.label?void 0:e.style});return e.label?r.createElement(a.a,{control:n,label:e.label,style:e.style}):n}},function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i}));var r=e.gd;function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"serializeTo",n=new r.SerializerElement;e[t](n);var a=JSON.parse(r.Serializer.toJSON(n));return n.delete(),a}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"serializeTo",n=new r.SerializerElement;e[t](n);var a=r.Serializer.toJSON(n);return n.delete(),a}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unserializeFrom",a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,o=r.Serializer.fromJSObject(t);a?e[n](a,o):e[n](o),o.delete()}}).call(this,n(8))},,,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var r=n(0),a=n.n(r),o=n(1),i=n(15),s=(n(11),{authenticated:!1,firebaseUser:null,profile:null,badges:null,subscription:null,usages:null,limits:null,onLogout:function(){},onLogin:function(){},onEdit:function(){},onChangeEmail:function(){},onCreateAccount:function(){},onBadgesChanged:function(){var e=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onRefreshUserProfile:function(){var e=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onRefreshFirebaseProfile:function(){var e=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onSendEmailVerification:function(){var e=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),onAcceptGameStatsEmail:function(){var e=Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getAuthorizationHeader:function(){return Promise.reject(new Error("Unimplemented"))}}),c=i.createContext(s);t.a=c},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(119),a=n(179),o=n(3),i=n(4),s=n(21),c=n(6),l=n(5),u=n(15),d=n(42),p=n.n(d),m=n(379),f=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).open=function(){var t=Object(s.a)(e)._contextMenu;if(t){var n=p.a.findDOMNode(e._wrappedElement);if(n instanceof HTMLElement){var r=n.getBoundingClientRect();t.open(Math.round(r.left+r.width/2),Math.round(r.top+r.height))}}},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.element,o=t.buildMenuTemplate,i=t.openMenuWithSecondaryClick,s=t.passExtraProps,c=Object(a.a)(t,["element","buildMenuTemplate","openMenuWithSecondaryClick","passExtraProps"]);return u.createElement(u.Fragment,null,u.cloneElement(n,Object(r.a)(Object(r.a)({onContextMenu:this.open},i?{}:{onClick:this.open}),{},{ref:function(t){return e._wrappedElement=t}},s?c:{})),u.createElement(m.a,{ref:function(t){return e._contextMenu=t},buildMenuTemplate:o}))}}]),n}(u.Component)},function(e,t,n){"use strict";n.d(t,"b",(function(){return _}));var r=n(119),a=n(26),o=n(15),i=n(2205),s=n(138),c=n(135),l=n(2085),u=n(2091),d=n(2200),p=n(2104),m=n(351),f=n.n(m),h=n(673),g=n.n(h),b=n(505),v=n.n(b),E=n(2208),y=n(186),C=n(153),j=n(676),O=n(238),x=n(163),k=n(117),T=n(350),w=n(115),S=Object(i.a)((function(e){var t=e.palette.text.primary;return{groupLabel:{color:"".concat(t).concat(t.length>4?"88":"8")}}})),P=o.forwardRef((function(e,t){var n=e.disabled,i=e.placeholder,m=e.onChange,h=e.onRequestSearch,b=e.style,O=e.value,P=e.tagsHandler,I=e.tags,N=e.buildMenuTemplate,A=e.helpPagePath;o.useImperativeHandle(t,(function(){return{focus:R,blur:M}}));var R=function(){H.current&&H.current.focus()},M=function(){H.current&&H.current.blur()},F=o.useState(O),L=Object(a.a)(F,2),B=L[0],D=L[1],U=o.useState(O),G=Object(a.a)(U,2),V=G[0],W=G[1],H=o.useRef(null),z=function(e,t){var n=!!e&&e.length>0;return{root:{height:30,display:"flex",flex:1,justifyContent:"space-between"},iconButtonClose:{style:{opacity:t?.38:.54,transform:n?"scale(1, 1)":"scale(0, 0)",transition:"transform 200ms cubic-bezier(0.4, 0.0, 0.2, 1)"},iconStyle:{opacity:n?1:0,transition:"opacity 200ms cubic-bezier(0.4, 0.0, 0.2, 1)"}},iconButtonSearch:{style:{opacity:t?.38:.54,transform:n?"scale(0, 0)":"scale(1, 1)",transition:"transform 200ms cubic-bezier(0.4, 0.0, 0.2, 1)",marginRight:-30},iconStyle:{opacity:n?0:1,transition:"opacity 200ms cubic-bezier(0.4, 0.0, 0.2, 1)"}},iconButtonFilter:{style:{opacity:t?.38:.54}},iconButtonHelp:{style:{opacity:t?.38:.54}},input:{width:"100%"},searchContainer:{top:-1,position:"relative",margin:"auto 8px",width:"100%"}}}(B,n),Y=S(),q=o.useCallback((function(e){D(e||""),m&&m(e||"")}),[m,D]);o.useEffect((function(){D(O)}),[O]);var X=_(),K=o.useRef(0);o.useEffect((function(){X&&P&&0===P.chosenTags.size&&K.current>0&&R()}),[P,X]),o.useEffect((function(){K.current=P?P.chosenTags.size:0}));var J=function(){B&&""!==B.trim()||q("")},Z=function(e){q(e.target.value)},Q=function(){q("")},$=function(e){Object(x.f)(e)&&h(B)},ee=function(e,t,n){"select-option"===n?(P&&P.add(t),q("")):q(t)},te=function(e,t,n){"reset"===n?(D(""),W("")):D(t)};return o.createElement(w.I18n,null,(function(e){var t=e.i18n;return o.createElement(C.a,null,(function(e){return o.createElement(k.a,{noMargin:!0},o.createElement(k.b,{noMargin:!0},o.createElement(l.a,{style:Object(r.a)(Object(r.a)({backgroundColor:e.searchBar.backgroundColor},z.root),b),square:!0,elevation:1},o.createElement("div",{style:z.searchContainer},I?o.createElement(E.a,{options:I.slice(0,30),groupBy:function(e){return t._({id:"Apply a filter"})},classes:Y,freeSolo:!0,fullWidth:!0,defaultValue:"",inputValue:B,value:V,onChange:ee,onInputChange:te,onKeyPress:$,onBlur:J,renderOption:function(e){return o.createElement(u.a,null,e)},renderInput:function(e){return o.createElement(d.a,Object.assign({margin:"none"},e,{inputRef:H,InputProps:Object(r.a)(Object(r.a)({},e.InputProps),{},{disableUnderline:!0,endAdornment:null,placeholder:t._(i||{id:"Search"})})}))}}):o.createElement(c.b,{margin:"none",hintText:i||{id:"Search"},onBlur:J,value:B,onChange:Z,onKeyUp:$,fullWidth:!0,style:z.input,underlineShow:!1,disabled:n,ref:H})),N&&o.createElement(y.a,{element:o.createElement(s.a,{style:z.iconButtonFilter.style,disabled:n,size:"small"},o.createElement(v.a,null)),buildMenuTemplate:N}),A&&o.createElement(j.a,{disabled:n,helpPagePath:A,style:z.iconButtonHelp.style,size:"small"}),o.createElement(s.a,{style:z.iconButtonSearch.style,disabled:n,size:"small"},o.createElement(g.a,{style:z.iconButtonSearch.iconStyle})),o.createElement(s.a,{onClick:Q,style:z.iconButtonClose.style,disabled:n,size:"small"},o.createElement(f.a,{style:z.iconButtonClose.iconStyle})))),P&&o.createElement(p.a,{in:P.chosenTags.size>0},o.createElement(T.a,{tags:Array.from(P.chosenTags),onRemove:function(e){return P.remove(e)}})))}))}))}));t.a=P;var _=function(){return!("touch"===Object(O.b)())}},function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"g",(function(){return a})),n.d(t,"h",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return d}));var r=function(e){return e?"".concat(e.r,";").concat(e.g,";").concat(e.b):""},a=function(e,t,n){return""+((1<<24)+(e<<16)+(t<<8)+n).toString(16).slice(1)},o=function(e,t,n){return(e<<16)+(t<<8)+n},i=function(e){var t=d(e);return t?o(t.r,t.g,t.b):0},s=function(e){return 3===e.split(";").length?i(e):parseInt(e.replace("#",""),16)},c=function(e){return{r:e>>16&255,g:e>>8&255,b:255&e,a:255}},l=function(e){var t=c(e);return r(t)},u=function(e){if(3===e.split(";").length)return e;var t=function(e){var t=parseInt(e.replace("#",""),16);return c(t)}(e);return"".concat(t.r,";").concat(t.g,";").concat(t.b)},d=function(e,t){var n=e.replace(/"/g,"").split(";");if(3!==n.length)return null;var r=parseInt(n[0],10),a=parseInt(n[1],10),o=parseInt(n[2],10);return r!==r||a!==a||o!==o?null:{r:r,g:a,b:o,a:void 0===t||null===t?1:t}}},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(15),a=n(1012),o=n.n(a),i=n(115),s=n(170),c=n(171),l=n.n(c),u=function(e){var t=r.useContext(s.a),n=r.useMemo((function(){return t=e.isStandaloneText||!1,n=e.allowParagraphs||!1,{root:function(e){return t?r.createElement("div",e):r.createElement("span",e)},link:function(e){return e.href?r.createElement("a",{href:e.href,target:"_blank",rel:"noopener noreferrer"},e.children):e.children},linkReference:function(e){return e.href?r.createElement("a",{href:e.href,target:"_blank",rel:"noopener noreferrer"},e.children):e.children},paragraph:function(e){return t||n?r.createElement("p",null,e.children):e.children}};var t,n}),[e.isStandaloneText,e.allowParagraphs]);return r.createElement(i.I18n,null,(function(a){var i=a.i18n;return r.createElement(o.a,{escapeHtml:!0,source:e.translatableSource?i._(e.translatableSource):e.source,className:l()({"gd-markdown":!0,[t.markdownRootClassName]:!0,"standalone-text-container":e.isStandaloneText}),renderers:n})}))}},function(e,t,n){"use strict";var r=n(119),a=n(15),o=n(153),i=n(2091);t.a=function(e){return a.createElement(o.a,null,(function(t){return a.createElement(i.a,{variant:"body2",align:"center",style:Object(r.a)({opacity:.6,textShadow:"1px 1px 0px ".concat(t.emptyMessage.shadowColor)},e.style),title:e.tooltipText},e.children)}))}},,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return L}));var r=n(119),a=n(3),o=n(4),i=n(6),s=n(5),c=n(15),l=n(42),u=n.n(l),d=n(2079),p=n(403),m=n.n(p),f=n(1437),h=n.n(f),g=n(127),b=n(141),v=n(131),E=n(1424),y=n(1430),C=n(796),j=n(564),O=n(1431),x=n(253),k=n.n(x),T=n(2118),w=n(2085),S=n(129),P=n(1432),_=n(1435),I=n(1436),N=n(146),A=n(163),R=e.gd,M={container:{display:"flex",alignItems:"flex-start"},textFieldContainer:{flex:1,minWidth:300},textFieldAndHightlightContainer:{position:"relative"},expressionSelectorPopoverContentSmall:{display:"flex",maxHeight:250},expressionSelectorPopoverContent:{display:"flex",maxHeight:350},input:{fontFamily:'"Lucida Console", Monaco, monospace',lineHeight:1.4},backgroundHighlightingWithFloatingLabel:{marginTop:22,paddingLeft:12,paddingRight:12,boxSizing:"border-box"},backgroundHighlightingInline:{marginTop:0,paddingLeft:0,paddingRight:0},backgroundHighlightingInlineWithFloatingLabel:{marginTop:22,paddingLeft:0,paddingRight:0}},F=function(e){var t=new R.ExpressionValidator;e.visit(t);var n=t.getErrors(),r=Object(v.mapVector)(n,(function(e){return{begin:e.getStartPosition(),end:e.getEndPosition()+1,message:e.getMessage(),type:"error"}})),a=Math.max(0,r.length-10),o=r.length>1,i=(a>0?r.slice(0,10):r).map((function(e,t){return(o?"[".concat(t+1,"] "):"")+e.message})).join(" ");return t.delete(),{errorText:i,errorHighlights:r}},L=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i)))._field=null,e._fieldElement=null,e._inputElement=null,e.state={popoverOpen:!1,parametersDialogOpen:!1,selectedExpressionInfo:null,validatedValue:e.props.value,errorText:null,errorHighlights:[],autocompletions:Object(_.a)()},e.focus=function(){e._field&&(e._field.focus(),e._enqueueValidation())},e._openExpressionPopover=function(){e.setState({popoverOpen:!0})},e._handleFocus=function(e){e.preventDefault()},e._handleRequestClose=function(){e.setState({popoverOpen:!1})},e._handleChange=function(t){e.setState({validatedValue:t},(function(){return e._enqueueValidation()}))},e._handleBlur=function(t){var n=t.currentTarget.value;e.props.onChange&&e.props.onChange(n),e.setState({validatedValue:n},(function(){e._enqueueValidation.cancel(),e._doValidation(),e.setState({autocompletions:Object(_.a)()})}))},e._shouldOpenParametersDialog=function(e){return Object(C.b)(e.metadata)},e._handleExpressionChosen=function(t){var n={popoverOpen:!1};e._shouldOpenParametersDialog(t)?n=Object(r.a)(Object(r.a)({},n),{},{parametersDialogOpen:!0,selectedExpressionInfo:t}):e.insertExpression(t,[]),e.setState(n)},e.insertExpression=function(t,n){if(e._inputElement){var r=e._inputElement.selectionStart,a=Object(j.a)(t,n),o=e.props.value,i=o.substr(0,r)+a+o.substr(r);e.props.onChange&&e.props.onChange(i),e.setState({validatedValue:i},(function(){return e._enqueueValidation()})),setTimeout((function(){e._field&&e._field.focus(),setTimeout((function(){e._inputElement&&e._inputElement.setSelectionRange(r,r+a.length)}),5)}),5)}},e._insertAutocompletion=function(t){if(!t.isExact){var n=e._inputElement?e._inputElement.selectionStart:0,r=e.state.validatedValue,a=Object(P.b)({expression:r,caretLocation:n},{completion:t.completion,replacementStartPosition:t.replacementStartPosition,replacementEndPosition:t.replacementEndPosition,addParenthesis:t.addParenthesis,addDot:t.addDot,addParameterSeparator:t.addParameterSeparator,addNamespaceSeparator:t.addNamespaceSeparator,hasVisibleParameters:t.hasVisibleParameters}),o=a.expression,i=a.caretLocation;e._field&&e._field.forceSetValue(o),e.props.onChange&&e.props.onChange(o),e.setState({validatedValue:o},(function(){e._enqueueValidation(),e._field&&e._field.forceSetSelection(i,i)}))}},e._enqueueValidation=k()((function(){e._doValidation()}),250),e._doValidation=function(){var t=e.props,n=t.project,r=t.globalObjectsContainer,a=t.objectsContainer,o=t.expressionType,i=t.scope,s=t.onGetAdditionalAutocompletions,c=t.onExtractAdditionalErrors;if(!n)return null;var l=e.state.validatedValue,u=new R.ExpressionParser2(R.JsPlatform.get(),r,a),d=u.parseExpression(o,l).get(),p=F(d),m=p.errorText,f=p.errorHighlights,h=[c?c(l,d):null,m].filter(Boolean).join(" - ");if(l.length>0&&" "===l.charAt(l.length-1))e.setState((function(e){return{errorText:h,errorHighlights:f,autocompletions:Object(_.a)()}}));else{var g=e._inputElement?e._inputElement.selectionStart:0,b=R.ExpressionCompletionFinder.getCompletionDescriptionsFor(d,g-1),v=Object(P.a)({gd:R,project:n,globalObjectsContainer:r,objectsContainer:a,scope:i},b),E=s?s(l).concat(v):v;u.delete(),e.setState((function(e){return{errorText:h,errorHighlights:f,autocompletions:Object(_.e)(e.autocompletions,E)}}))}},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){if(this._field){var e=u.a.findDOMNode(this._field);e instanceof Element&&(this._fieldElement=e),this._inputElement=this._field?this._field.getInputNode():null}}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,a=t.expressionType,o=t.parameterMetadata,i=t.project,s=t.scope,l=t.globalObjectsContainer,u=t.objectsContainer,p=t.parameterRenderingService,f=o?o.getDescription():this.props.isInline?void 0:"-",v=o?o.getLongDescription():void 0,C={width:this._fieldElement?this._fieldElement.clientWidth:"auto",marginLeft:-5,zIndex:m.a.tooltip+100},j=this.props.isInline?f?M.backgroundHighlightingInlineWithFloatingLabel:M.backgroundHighlightingInline:M.backgroundHighlightingWithFloatingLabel;return c.createElement(c.Fragment,null,c.createElement(S.c,{margin:this.props.isInline?"none":"dense",renderTextField:function(){return c.createElement("div",{style:M.textFieldContainer},c.createElement("div",{style:M.textFieldAndHightlightContainer},c.createElement(O.a,{value:e.state.validatedValue,style:Object(r.a)(Object(r.a)({},M.input),j),highlights:e.state.errorHighlights}),c.createElement(b.a,{margin:e.props.isInline?"none":"dense",value:n,floatingLabelText:f,helperMarkdownText:v,hintText:"string"===a?'""':void 0,inputStyle:M.input,onChange:e._handleChange,onBlur:e._handleBlur,ref:function(t){return e._field=t},onFocus:e._handleFocus,errorText:e.state.errorText,onClick:function(){return e._enqueueValidation()},onKeyDown:function(t){var n=Object(_.d)(e.state.autocompletions,{event:t,onUpdateAutocompletions:e._enqueueValidation,onInsertAutocompletion:e._insertAutocompletion});if(e.setState({autocompletions:n}),Object(A.b)(t)||Object(A.e)(t)){var r=t.currentTarget.value;e.props.onChange&&e.props.onChange(r)}},multiline:!0,fullWidth:!0})),e._inputElement&&e.state.popoverOpen&&c.createElement(T.a,{onClickAway:e._handleRequestClose},c.createElement(d.a,{style:C,open:e.state.popoverOpen,anchorEl:e._inputElement,placement:"bottom",disablePortal:!0},c.createElement(N.a,null,(function(t){return c.createElement(w.a,{style:"small"===t?M.expressionSelectorPopoverContentSmall:M.expressionSelectorPopoverContent},c.createElement(E.a,{selectedType:"",onChoose:function(t,n){e._handleExpressionChosen(n)},expressionType:a,focusOnMount:!0,scope:s}))})))),e._inputElement&&!e.state.popoverOpen&&p&&c.createElement(I.a,{project:i,anchorEl:e._inputElement,expressionAutocompletions:Object(_.c)(e.state.autocompletions),remainingCount:Object(_.b)(e.state.autocompletions),selectedCompletionIndex:e.state.autocompletions.selectedCompletionIndex,onChoose:function(t){e._insertAutocompletion(t),setTimeout(e.focus,50)},parameterRenderingService:p}))},renderButton:function(t){return c.createElement(c.Fragment,null,!e.props.isInline&&e.props.renderExtraButton&&e.props.renderExtraButton({style:t}),!e.props.isInline&&c.createElement(g.a,{icon:c.createElement(h.a,null),label:"string"===a?'"ABC"':"number"===a?"123":"",primary:!0,style:t,onClick:e._openExpressionPopover}))}}),this.state.parametersDialogOpen&&this.state.selectedExpressionInfo&&c.createElement(y.a,{project:i,scope:s,globalObjectsContainer:l,objectsContainer:u,expressionMetadata:this.state.selectedExpressionInfo.metadata,onDone:function(t){e.state.selectedExpressionInfo&&(e.insertExpression(e.state.selectedExpressionInfo,t),e.setState({parametersDialogOpen:!1,selectedExpressionInfo:null}))},onRequestClose:function(){e.setState({parametersDialogOpen:!1,selectedExpressionInfo:null})},parameterRenderingService:p}))}}]),n}(c.Component)}).call(this,n(8))},,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(15),a=function(e,t,n){if(e.startsWith("data:")||e.startsWith("blob:"))return e;var r=-1===e.indexOf("?")?"?":"&";return e+r+t+"="+n},o=function(e){return r.createElement("img",Object.assign({},e,{src:e.src?a(e.src,"gdUsage","img"):void 0}))}},,,,,,function(e,t,n){"use strict";var r=n(15),a=n(143),o=n(156),i=n(16);t.a=function(e){var t=e.identifier,n=e.kind,s=e.children;return r.createElement(a.a.Consumer,null,(function(e){var a=e.values,c=e.showAlertMessage;return!a.hiddenAlertMessages[t]&&r.createElement(o.a,{kind:n,children:s,onHide:function(){i.b.showConfirmDialog("Are you sure you want to hide this hint? You won't see it again, unless you re-activate it from the preferences.")&&c(t,!1)}})}))}},function(e,t,n){"use strict";var r=n(15),a=n.n(r),o=n(203),i=n(170);var s=a.a.memo((function(e){var t=a.a.useContext(i.a),n=e.src,r=e.tooltip,s=e.disabled,c=e.isGDevelopIcon,l=e.cssAnimation,u=e.useExactIconSize,d=void 0!==e.iconWidth?e.iconWidth:e.iconSize,p=void 0!==e.iconHeight?e.iconHeight:e.iconSize,m=d>40?16:0,f={maxWidth:u?void 0:d,maxHeight:u?void 0:p,width:u?d:void 0,height:u?p:void 0,verticalAlign:"middle",animation:l,filter:c?s?"grayscale(100%)":t.gdevelopIconsCSSFilter:void 0};return a.a.createElement("div",{style:{width:d,height:p,lineHeight:"".concat(p,"px"),textAlign:"center",paddingRight:m}},c?a.a.createElement("img",{title:r,alt:r,src:n,style:f}):a.a.createElement(o.a,{title:r,alt:r,src:n,style:f}))}));t.a=s},,function(e,t,n){"use strict";var r=n(26),a=n(119),o=n(179),i=n(15),s=n(115),c=n(2200),l=(n(210),n(2089)),u=n(2090),d=n(192),p=n(2208),m=n(2083),f=n(135),h=n(2106),g=n(403),b=n.n(g),v=n(163),E=n(511),y={container:{position:"relative",width:"100%"},listItem:{padding:0,margin:0},listItemText:{margin:"1px 0"}},C=Object(h.a)({option:{cursor:"default"},listbox:{padding:0,margin:0},input:{width:"auto",flexGrow:1},inputRoot:{flexWrap:"wrap"},popper:{zIndex:b.a.tooltip+100}}),j=function(e){return function(t,n){if(t.type&&"separator"===t.type)return i.createElement(m.a,{divider:!0,disableGutters:!0,component:"div",style:y.listItem});var r=t.translatableValue?e._(t.translatableValue):t.value;return i.createElement(m.a,{dense:!0,component:"div",style:y.listItem},t.renderIcon&&i.createElement(l.a,null,t.renderIcon()),i.createElement(u.a,{style:y.listItemText,primary:i.createElement("div",{title:r,style:E.a},r)}))}},O=function(e){return"separator"===e.type};t.a=i.forwardRef((function(e,t){var n=i.useRef(null),l=Object(i.useState)(null),u=Object(r.a)(l,2),m=u[0],h=u[1],g=Object(i.useState)(!1),b=Object(r.a)(g,2),E=b[0],x=b[1],k=C();i.useImperativeHandle(t,(function(){return{focus:function(){n.current&&n.current.focus()},forceInputValueTo:function(e){null!==m&&h(e)}}}));var T=null!==m?m:e.value,w=e.helperMarkdownText?i.createElement(d.a,{source:e.helperMarkdownText}):null,S=function(e,t,n){h(t),E||x(!0)};return i.createElement(s.I18n,null,(function(t){var r=t.i18n;return i.createElement(p.a,{freeSolo:!0,classes:k,onChange:function(t,r){null!==r&&n.current&&(!function(e,t,n){"separator"!==t.type&&(t.onClick?t.onClick():(e.value=t.value,n.onChoose?n.onChoose(t.value):n.onChange(t.value),n.onApply?n.onApply():n.onRequestClose&&n.onRequestClose()))}(n.current,r,e),h(null),x(!1))},open:E,style:Object(a.a)(Object(a.a)({},e.style),y.container),inputValue:T,value:T,onInputChange:S,options:e.dataSource,renderOption:j(r),getOptionDisabled:O,getOptionLabel:function(e){return function(e,t){return e.value?e.value:t}(e,T)},filterOptions:function(e,t){return function(e,t,n){var r=n.toLowerCase(),a=e.filter((function(e){return"separator"===e.type||(!e.text||-1!==e.text.toLowerCase().indexOf(r))}));if(!a.filter((function(e){return"separator"!==e.type&&(e.value||e.translatableValue)})).length)return[];for(;void 0!==a[a.length-1]&&void 0!==a[a.length-1].type;)a.pop();for(;void 0!==a[0]&&void 0!==a[0].type;)a.shift();return a}(e,0,T)},renderInput:function(t){var s=function(e,t){var n=e.InputProps,r=e.inputProps,i=(e.InputLabelProps,Object(o.a)(e,["InputProps","inputProps","InputLabelProps"]));return Object(a.a)(Object(a.a)({},i),{},{InputProps:Object(a.a)(Object(a.a)({},n),{},{className:null,endAdornment:null}),inputProps:Object(a.a)(Object(a.a)({},r),{},{className:null,disabled:t.disabled,onKeyDown:function(e){Object(v.b)(e)?t.onRequestClose&&t.onRequestClose():Object(v.e)(e)&&(t.onChange(e.currentTarget.value),t.onApply?t.onApply():t.onRequestClose&&t.onRequestClose())}})})}(t,e),l=s.InputProps,u=s.inputProps,d=Object(o.a)(s,["InputProps","inputProps"]);return i.createElement(c.a,Object.assign({InputProps:Object(a.a)(Object(a.a)({},l),{},{placeholder:"string"===typeof e.hintText?e.hintText:r._(e.hintText)}),inputProps:Object(a.a)(Object(a.a)({},u),{},{onFocus:function(e){x(!0),n.current&&(n.current.selectionStart=n.current.value.length)},onBlur:function(t){h(null),x(!1),e.onChange(t.currentTarget.value),e.onBlur&&e.onBlur(t)},onMouseDown:function(e){n.current&&!n.current.value.length&&x(!E)}})},d,Object(f.a)(e),{style:e.textFieldStyle,label:e.floatingLabelText,inputRef:n,disabled:e.disabled,error:!!e.errorText,helperText:w||e.errorText,fullWidth:e.fullWidth}))}})}))}))},,function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return c}));var r=e.gd,a=function(e){var t=e.instructionMetadata,n=e.instruction,a=e.expressionMetadata,o=e.expression,i=e.parameterIndex;if(void 0===i||null==i)return null;var s=null;if(t&&n){var c=r.ParameterMetadataTools.getObjectParameterIndexFor(t.getParameters(),i);c>=0&&c<n.getParametersCount()&&(s=n.getParameter(c))}else if(a&&o){var l=r.ParameterMetadataTools.getObjectParameterIndexFor(a.getParameters(),i);l>=0&&l<o.getParametersCount()&&(s=o.getParameter(l))}return s},o=function(e,t){var n=r.ParameterMetadataTools.getObjectParameterIndexFor(e,t);return n<0||n>=e.size()?"":e.at(n).getExtraInfo()},i=function(e){var t=e.instruction,n=e.expression,r=e.parameterIndex;if(void 0===r||null==r)return null;if(t){if(r>=1&&r<t.getParametersCount())return t.getParameter(r-1)}else if(n&&r>=1&&r<n.getParametersCount())return n.getParameter(r-1);return null},s=function(e){if(!e)return null;var t=e.trim();return t.length>=2&&'"'===t[0]&&'"'===t[t.length-1]?t.substr(1,t.length-2):null},c=function(e){if(!e)return[];try{return JSON.parse(e.getExtraInfo()).map((function(e){return{kind:"Text",completion:'"'.concat(e,'"')}}))}catch(t){console.error("The parameter seems misconfigured, as an array of choices could not be extracted - verify that your properly wrote a list of choices in JSON format. Full exception is:",t)}return[]}}).call(this,n(8))},function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(119),a=n(3),o=n(4),i=n(6),s=n(5),c=n(15),l=n.n(c),u=n(153),d=n(125),p={display:"flex",alignItems:"center",paddingLeft:8,paddingRight:8},m=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props.justifyContent;return l.a.createElement(u.a,null,(function(n){return l.a.createElement("div",{style:Object(r.a)(Object(r.a)({},p),{},{height:32,backgroundColor:n.toolbar.backgroundColor,justifyContent:t})},e.props.children)}))}}]),n}(c.Component),f={marginRight:4},h={marginLeft:4,marginRight:4},g=function(e){var t=e.children,n=e.firstChild;return l.a.createElement(d.a,{noShrink:!0,style:n?f:h},t)};t.b=m},,,,,,,function(e,t,n){"use strict";var r=n(15),a=n(2091),o={paddingLeft:8};t.a=function(e){var t=e.children;return t?r.createElement(a.a,{variant:"overline",style:o},t):null}},function(e,t,n){"use strict";var r=n(115),a=n(15),o=n(117),i=n(127),s=n(136);t.a=function(e){var t=e.onRetry,n=e.children;return a.createElement(o.a,{expand:!0,alignItems:"center"},a.createElement(s.a,null,n),a.createElement(o.b,null,t&&a.createElement(i.a,{primary:!0,label:a.createElement(r.Trans,{id:"Retry"}),onClick:function(){t()}})))}},function(e,t,n){"use strict";n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"g",(function(){return f}));var r=n(20),a=n.n(r),o=n(536),i=n(19),s=n(417),c=function(e,t){return e&&e[t]?"s3Key"===t?e.gameId?i.g.getInstantBuildUrl(e.id):"https://games.gdevelop-app.com/".concat(e[t],"/index.html"):"https://builds.gdevelop-app.com/".concat(e[t]):null},l=function(){var e="game-archive-"+Object(o.a)(),t=e+"/game-archive.zip";return Object(s.c)({uploadType:"build",key:t,contentType:"application/zip"}).then((function(e){return{signedUrl:e.signedUrl,contentType:"application/zip",key:t}}))},u=function(e,t,n,r,o){return e().then((function(e){return a.a.post("".concat(i.c.baseUrl,"/build"),null,{params:{userId:t,key:n,type:"electron-build",targets:r.join(","),gameId:o},headers:{Authorization:e}})})).then((function(e){return e.data}))},d=function(e,t,n,r){return e().then((function(e){return a.a.post("".concat(i.c.baseUrl,"/build"),null,{params:{userId:t,key:n,type:"web-build",targets:"s3",gameId:r},headers:{Authorization:e}})})).then((function(e){return e.data}))},p=function(e,t,n,r,o,s){return e().then((function(e){return a.a.post("".concat(i.c.baseUrl,"/build"),JSON.stringify({signing:{keystore:o}}),{params:{userId:t,key:n,type:"cordova-build",targets:r.join(","),gameId:s},headers:{Authorization:e}})})).then((function(e){return e.data}))},m=function(e,t,n){return e().then((function(e){return a.a.get("".concat(i.c.baseUrl,"/build/").concat(n),{params:{userId:t},headers:{Authorization:e}})})).then((function(e){return e.data}))},f=function(e,t,n){return e().then((function(e){return a.a.get("".concat(i.c.baseUrl,"/build"),{params:{userId:t,gameId:n},headers:{Authorization:e}})})).then((function(e){return e.data}))}},,function(e,t,n){"use strict";(function(e){n.d(t,"g",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"a",(function(){return m})),n.d(t,"d",(function(){return f}));var r=n(131),a=n(220),o=n.n(a),i=n(306),s=e.gd,c=function(e){return function(t){return e&&t&&e.global===t.global&&e.object===t.object}},l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=function(r){return!n||s.getTypeOfObject(e,t,r.getName(),!1)===n},o=Object(r.mapFor)(0,t.getObjectsCount(),(function(e){return t.getObjectAt(e)})).filter(a).map((function(e){return{object:e,global:!1}})),i=e===t?[]:Object(r.mapFor)(0,e.getObjectsCount(),(function(t){return e.getObjectAt(t)})).filter(a).map((function(e){return{object:e,global:!0}})),c=o.concat(i);return{containerObjectsList:o,projectObjectsList:i,allObjectsList:c}},u=function(e){var t=e.getCurrentPlatform().getAllPlatformExtensions();return o()(Object(r.mapFor)(0,t.size(),(function(e){var n=t.at(e);return n.getExtensionObjectsTypes().toJSArray().map((function(e){return n.getObjectMetadata(e)})).map((function(e){return{extension:n,objectMetadata:e,name:e.getName(),fullName:e.getFullName(),description:e.getDescription(),iconFilename:e.getIconFilename(),categoryFullName:e.getCategoryFullName()}}))})))},d=function(e,t){var n=t.searchText,r=t.selectedTags,a=t.hideExactMatches;return n||r.length?e.filter((function(e){if(!r.length)return!0;var t=e.object.getTags();return Object(i.d)(t,r)})).filter((function(e){var t=e.object.getName();if(!a||n!==t)return-1!==t.toLowerCase().indexOf(n.toLowerCase())})):e},p=function(e,t){var n=t.searchText,r=t.hideExactMatches;return n?e.filter((function(e){var t=e.group.getName();if(!r||t!==n)return-1!==t.toLowerCase().indexOf(n.toLowerCase())})):e},m=function(e){return Object(r.mapFor)(0,e.count(),(function(t){return e.getAt(t)}))},f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=function(r){return!n||s.getTypeOfObject(e,t,r.getName(),!1)===n},o=function(r){return!n||s.getTypeOfObject(e,t,r.getName(),!0)===n},i=Object(r.mapFor)(0,t.getObjectsCount(),(function(e){return t.getObjectAt(e)})).filter(a).map((function(e){return{object:e,global:!1}})),c=t.getObjectGroups(),l=m(c).filter(o).map((function(e){return{group:e,global:!1}})),u=e===t?[]:Object(r.mapFor)(0,e.getObjectsCount(),(function(t){return e.getObjectAt(t)})).filter(a).map((function(e){return{object:e,global:!0}})),d=e.getObjectGroups(),p=e===t?[]:m(d).filter(o).map((function(e){return{group:e,global:!0}})),f=i.concat(u),h=l.concat(p);return{containerObjectsList:i,projectObjectsList:u,allObjectsList:f,containerGroupsList:l,projectGroupsList:p,allGroupsList:h}}}).call(this,n(8))},function(e,t,n){"use strict";(function(e){var r=n(1402),a=n(1414),o=n(1415),i=n(1416),s=n(1417),c=n(1418),l=n(1419),u=n(1420),d=n(562),p=n(144),m=n(247),f=n(145),h=n(17),g=n.n(h),b=n(188),v=g()("path"),E=g()("electron"),y=e.gd;e.PIXI=f,e.GlobalPIXIModule={PIXI:f};var C={};t.a={renderers:{unknownObjectType:r.a,Sprite:a.a,"TiledSpriteObject::TiledSprite":o.a,"PanelSpriteObject::PanelSprite":i.a,"TextObject::Text":s.a,"PrimitiveDrawing::Drawer":c.a,"TextEntryObject::TextEntry":l.a,"ParticleSystem::ParticleEmitter":u.a},getThumbnail:function(e,t){var n=t.getType();return this.renderers.hasOwnProperty(n)?this.renderers[n].getThumbnail(e,p.a,t):this.renderers.unknownObjectType.getThumbnail(e,p.a,t)},createNewInstanceRenderer:function(e,t,n,r,a){var o=r.getType();return this.renderers.hasOwnProperty(o)?new this.renderers[o](e,t,n,r,a,d.a):(console.warn("Object with type ".concat(o," has no instance renderer registered. Please use registerInstanceRenderer to register your renderer.")),new this.renderers.unknownObjectType(e,t,n,r,a,d.a))},registerInstanceRenderer:function(e,t){t.getThumbnail?this.renderers.hasOwnProperty(e)?console.warn('Tried to register renderer for object "'.concat(e,'", but a renderer already exists.')):(console.info('Properly registered renderer for object "'.concat(e,'".')),this.renderers[e]=t):console.warn('Tried to register renderer for object "'.concat(e,'", but getThumbnail is not defined.'))},registerModule:function(e,t){C[e]=t},requireModule:function(t,n){if(E&&v){var r=v.join(t,n),a=g()("module");if(!a._load)throw new Error('module._load does not exist. This is possibly a change in Node.js that is breaking the custom loader, in ObjectsRenderingService.requireModule, that is injected to expose Pixi.js to extensions using "require".');var o=a._load,i={"pixi.js-legacy":f,"pixi.js":f,"@pixi/core":f,"@pixi/display":f,"@pixi/constants":f,"@pixi/sprite":f,"@pixi/math":f,"@pixi/utils":f,"@pixi/graphics":f};a._load=function(e,t,n){var a=i[e];return a||(0===e.indexOf("./")||e===r?o(e,t,n):(console.error('A module ("'.concat(e,'") was required from ').concat(r,' but is not an allowed module or a relative file path starting with "./". null will be returned instead.')),console.warn("Allowed modules are: ",Object.keys(i)),console.warn("Please use only allowed modules or a reference a local file."),null))};var s=null;try{s=e.require(r)}catch(c){console.error('Unable to load module "'.concat(n,'". Only files located in ').concat(t," are supported. Exception was:"),c),s=null}return a._load=o,s}return C[n]?C[n]:(console.error('Unable to load module "'.concat(n,'". Are you sure you registered it using ObjectsRenderingService.registerModule? This is mandatory for the web-app to have the file bundled.')),null)},rgbOrHexToHexNumber:b.c,gd:y,PIXI:f,RenderedInstance:m.a}}).call(this,n(8))},function(e,t,n){"use strict";function r(e,t,n){var r=null;return t&&t.hasObjectNamed(n)?r=t.getObject(n):e.hasObjectNamed(n)&&(r=e.getObject(n)),r}n.d(t,"a",(function(){return r}))},function(e,t,n){var r=n(17),a=r("electron"),o=a?a.remote.app:null,i=r("fs"),s=r("path"),c=r("process"),l=c&&/^darwin/.test(c.platform),u=function(e,t,n){return i.access(e,i.constants.R_OK,(function(r){r?n():t(e)}))};e.exports={findGDJS:function(){if(!s||!c||!i)return Promise.reject(new Error("Unsupported"));var e=o?o.getAppPath():c.cwd(),t=l?"../../../../":s.join("..",".."),n=s.join(e,t);return new Promise((function(t,r){var a=function(e){return t({gdjsRoot:e})},o=function(){return r(new Error("Could not find GDJS"))};u(s.join(n,"..","JsPlatform"),a,(function(){u(s.join(e,"..","GDJS"),a,(function(){var t=s.join(e,"..","..","app","resources","GDJS");u(t,a,o)}))}))}))}}},,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));n(15);var r=!1;"undefined"!==typeof window&&window.addEventListener("touchstart",(function e(){console.info("Touch detected, considering the screen as touch enabled."),r=!0,window.removeEventListener("touchstart",e,!1)}),!1);var a=function(e){return(0,e.children)(o())},o=function(){return"undefined"===typeof window?"normal":r?"touch":"normal"}},function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"f",(function(){return m})),n.d(t,"b",(function(){return f})),n.d(t,"e",(function(){return h})),n.d(t,"a",(function(){return g})),n.d(t,"g",(function(){return b}));var r=n(144),a=n(17),o=n.n(a),i=n(167),s=n(688),c=o()("fs"),l=o()("path"),u=e.gd,d=function(e,t,n){var r=e.getResourcesManager();r.hasResource(n)&&r.removeResource(n),t.setFile(n),t.setName(n),g(e,t),r.addResource(t),t.delete()},p=function(e,t){var n=r.a.getResourceFullUrl(e,t,{}).substring(7);return-1!==n.indexOf("?cache=")&&(n=n.substring(0,n.lastIndexOf("?cache="))),n},m=function(e,t){var n=l.dirname(e.getProjectFile());return t.includes(n)},f=function(e,t){if(!c||!l)return Promise.resolve(t);var n=l.dirname(e.getProjectFile());return Promise.all(t.map((function(t){if(m(e,t))return t;var r=l.basename(t),a=l.extname(r),o=l.basename(r,a),s=Object(i.a)(o,(function(e){var t=l.join(n,e)+a;return c.existsSync(t)})),u=l.join(n,s+a);return new Promise((function(e){c.copyFile(t,u,(function(n){return e(n?t:u)}))}))})))},h=function(e,t){if(!c)return"";var n=l.normalize(p(e,t));return c.existsSync(n)?m(e,n)?"":"warning":"error"},g=function(e,t){t instanceof u.ImageResource&&t.setSmooth("nearest"!==e.getScaleMode())},b=function(e,t){var n=Object(s.a)(t),r=new u.ResourcesRenamer(n);n.delete(),e.exposeResources(r),r.delete()}}).call(this,n(8))},,,function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return u})),n.d(t,"j",(function(){return d})),n.d(t,"i",(function(){return p})),n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return f})),n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return g}));var r=n(26),a=n(20),o=n.n(a),i=n(19),s=function(e){return e?i.g.getGameUrl(e.id):null},c=function(e){return e.toJSArray().map((function(e){return{userId:e,feature:"author",level:"owner"}}))},l=function(){return o.a.get("".concat(i.e.baseUrl,"/showcased-game")).then((function(e){return e.data})).then((function(e){var t=e.gamesShowcaseUrl,n=e.filtersUrl;if(!t||!n)throw new Error("Unexpected response from the resource endpoint.");return Promise.all([o.a.get(t).then((function(e){return e.data})),o.a.get(n).then((function(e){return e.data}))]).then((function(e){var t=Object(r.a)(e,2);return{showcasedGames:t[0],filters:t[1]}}))}))},u=function(e,t,n){var r=n.gameId,a=n.gameName,s=n.authorName;return e().then((function(e){return o.a.post("".concat(i.e.baseUrl,"/game/").concat(r),{gameName:a,authorName:s},{params:{userId:t},headers:{Authorization:e}})})).then((function(e){return e.data}))},d=function(e,t,n,r){var a=r.gameName,s=r.authorName,c=r.publicWebBuildId;return e().then((function(e){return o.a.patch("".concat(i.e.baseUrl,"/game/").concat(n),{gameName:a,authorName:s,publicWebBuildId:c},{params:{userId:t},headers:{Authorization:e}})})).then((function(e){return e.data}))},p=function(e,t,n,r){return e().then((function(e){return o.a.post("".concat(i.e.baseUrl,"/game/action/set-acls"),{gameId:n,acls:r},{params:{userId:t},headers:{Authorization:e}})})).then((function(e){return e.data}))},m=function(e,t,n){return e().then((function(e){return o.a.get("".concat(i.e.baseUrl,"/game/").concat(n),{params:{userId:t},headers:{Authorization:e}})})).then((function(e){return e.data}))},f=function(e,t,n){return e().then((function(e){return o.a.delete("".concat(i.e.baseUrl,"/game/").concat(n),{params:{userId:t},headers:{Authorization:e}})})).then((function(e){return e.data}))},h=function(e,t){return e().then((function(e){return o.a.get("".concat(i.e.baseUrl,"/game"),{params:{userId:t},headers:{Authorization:e}})})).then((function(e){return e.data}))},g=function(e){return o.a.get("".concat(i.e.baseUrl,"/public-game/").concat(e)).then((function(e){return e.data}))}},,function(e,t,n){"use strict";var r=n(15),a=n(2105),o={progress:{marginRight:8,verticalAlign:"middle"}};t.a=function(e){var t=e.children,n=e.isLoading;return r.createElement("span",null,n&&r.createElement(a.a,{size:20,style:o.progress}),t)}},function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return h})),n.d(t,"h",(function(){return v})),n.d(t,"j",(function(){return E})),n.d(t,"k",(function(){return y})),n.d(t,"i",(function(){return C}));var r=n(0),a=n.n(r),o=n(1),i=n(20),s=n.n(i),c=n(19),l="trivial_first-event",u="trivial_first-behavior",d="trivial_first-preview",p="trivial_first-web-export",m="trivial_first-extension",f="trivial_first-effect",h="trivial_first-debug",g=function(e,t){return e.map((function(e){return e.achievementId})).includes(t)},b=function(){var e=Object(o.a)(a.a.mark((function e(t,n){var r,o,i,l,u,d,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.badges,o=t.firebaseUser,i=t.getAuthorizationHeader,l=t.onBadgesChanged,r&&o){e.next=3;break}return e.abrupt("return",null);case 3:if(!g(r,n)){e.next=5;break}return e.abrupt("return",null);case 5:return u=o.uid,e.prev=6,e.next=9,i();case 9:return d=e.sent,e.next=12,s.a.post("".concat(c.j.baseUrl,"/user/").concat(u,"/badge"),{achievementId:n},{params:{userId:u},headers:{Authorization:d}});case 12:return p=e.sent,l(),e.abrupt("return",p.data);case 17:if(e.prev=17,e.t0=e.catch(6),!e.t0.response||409!==e.t0.response.status){e.next=23;break}console.warn("Badge already exists"),e.next=24;break;case 23:throw e.t0;case 24:case"end":return e.stop()}}),e,null,[[6,17]])})));return function(t,n){return e.apply(this,arguments)}}(),v=function(e,t,n){var r=e.badges;return r?g(r,t)?n:function(){try{b(e,t)}catch(i){console.error("Couldn't create badge ".concat(t,"; ").concat(i))}for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n.apply(null,a)}:n},E=function(){return s.a.get("".concat(c.j.baseUrl,"/achievement")).then((function(e){return e.data}))},y=function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r,o,i,l,u,d,p;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.badges,r=t.firebaseUser,o=t.getAuthorizationHeader,i=t.onBadgesChanged,n&&r){e.next=3;break}return e.abrupt("return",null);case 3:if(0!==(l=n.filter((function(e){return!e.seen}))).length){e.next=6;break}return e.abrupt("return");case 6:return u=r.uid,e.prev=7,e.next=10,o();case 10:return d=e.sent,e.next=13,s.a.patch("".concat(c.j.baseUrl,"/user/").concat(u,"/badge"),l.map((function(e){return{achievementId:e.achievementId,seen:!0}})),{params:{userId:u},headers:{Authorization:d}});case 13:return p=e.sent,i(),e.abrupt("return",p.data);case 18:e.prev=18,e.t0=e.catch(7),console.error("Couldn't mark badges as seen: ".concat(e.t0));case 21:case"end":return e.stop()}}),e,null,[[7,18]])})));return function(t){return e.apply(this,arguments)}}(),C=function(e,t){return t.unlockedAt&&e.unlockedAt?t.unlockedAt-e.unlockedAt:e.unlockedAt&&!t.unlockedAt?-1:!e.unlockedAt&&t.unlockedAt?1:0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n(15),a=n(421),o=function(e,t,n){var o=r.useContext(a.b),i=n.handler;r.useEffect((function(){if(t)return o.registerCommand(e,{handler:i}),function(){return o.deregisterCommand(e)}}),[o,e,t,i])},i=function(e,t,n){var o=r.useContext(a.b),i=n.generateOptions;r.useEffect((function(){if(t)return o.registerCommand(e,{generateOptions:i}),function(){return o.deregisterCommand(e)}}),[o,e,t,i])}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(3),a=n(4),o=(n(145),n(562),function(){function e(t,n,a,o,i,s){Object(r.a)(this,e),this._pixiObject=null,this._instance=a,this._associatedObject=o,this._pixiContainer=i,this._project=t,this._layout=n,this._pixiResourcesLoader=s,this.wasUsed=!0}return Object(a.a)(e,[{key:"update",value:function(){}},{key:"getPixiObject",value:function(){return this._pixiObject}},{key:"getInstance",value:function(){return this._instance}},{key:"onRemovedFromScene",value:function(){null!==this._pixiObject&&this._pixiContainer.removeChild(this._pixiObject)}},{key:"getOriginX",value:function(){return 0}},{key:"getOriginY",value:function(){return 0}},{key:"getDefaultWidth",value:function(){return 32}},{key:"getDefaultHeight",value:function(){return 32}}],[{key:"toRad",value:function(e){return e/180*3.14159}}]),e}())},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(119),a=n(3),o=n(4),i=n(6),s=n(5),c=n(15),l=n(135),u=n(356),d=n(188),p={container:{position:"relative",display:"inline-block"},picker:{position:"absolute",right:"8px",top:"19px"}},m=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={color:e.props.color,alpha:e.props.disableAlpha||void 0===e.props.alpha?1:e.props.alpha},e._textField=null,e._handleChange=function(t,n){e.setState({color:t,alpha:n})},e._handleBlur=function(){var t=parseFloat(e.state.alpha);t<0&&(t=0),t>1&&(t=1),e.setState({alpha:t}),e.props.onChange(e.state.color,t)},e._handlePickerChange=function(t){var n=Object(d.b)(t.rgb),r=e.props.disableAlpha?1:t.rgb.a;e.setState({color:n,alpha:r}),e.props.onChange(n,r)},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return c.createElement("div",{style:Object(r.a)(Object(r.a)({},p.container),{},{width:this.props.fullWidth?"100%":void 0})},c.createElement(l.b,{id:this.props.id,fullWidth:this.props.disableAlpha,style:this.props.disableAlpha?void 0:{width:"60%"},floatingLabelText:this.props.floatingLabelText,floatingLabelFixed:!0,helperMarkdownText:this.props.helperMarkdownText,type:"text",hintText:{id:"Text in the format R;G;B, like 100;200;180"},value:this.state.color,onChange:function(t){return e._handleChange(t.target.value,e.state.alpha)},onBlur:this._handleBlur,ref:function(t){return e._textField=t}}),!this.props.disableAlpha&&c.createElement(l.b,{id:"".concat(this.props.id||"","-alpha"),floatingLabelText:"Alpha",floatingLabelFixed:!0,style:{width:"30%"},hintText:{id:"Number between 0 and 1"},value:this.state.alpha.toString(),onChange:function(t,n){return e._handleChange(e.state.color,parseFloat(n))},onBlur:this._handleBlur,ref:function(t){return e._textField=t},type:"number",step:.1}),c.createElement("div",{style:p.picker},c.createElement(u.a,{disableAlpha:this.props.disableAlpha,onChangeComplete:this._handlePickerChange,color:Object(d.e)(this.state.color,this.state.alpha)})))}}]),n}(c.Component)},,function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"d",(function(){return g})),n.d(t,"e",(function(){return b})),n.d(t,"f",(function(){return v}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(15),c=n(2108),l=n(2109),u=n(2111),d=n(2110),p=n(2112),m=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return s.createElement(c.a,Object.assign({size:"small"},this.props))}}]),n}(s.Component),f=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return s.createElement(l.a,this.props)}}]),n}(s.Component),h=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return s.createElement(d.a,this.props)}}]),n}(s.Component),g=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return s.createElement(u.a,this.props)}}]),n}(s.Component),b=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return s.createElement(p.a,this.props)}}]),n}(s.Component),v=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return s.createElement(u.a,this.props)}}]),n}(s.Component)},,,,function(e,t,n){"use strict";(function(e){n.d(t,"f",(function(){return d})),n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return v})),n.d(t,"d",(function(){return E})),n.d(t,"c",(function(){return y})),n.d(t,"e",(function(){return C})),n.d(t,"g",(function(){return j}));var r=n(18),a=n(793),o=e.gd,i={BuiltinObject:{"":["AjoutHasard","Create","AjoutObjConcern"]}},s={BuiltinObject:{"":["AjoutHasard","AjoutObjConcern","CollisionNP","NbObjet","PickNearest","Distance","SeDirige","EstTourne","SourisSurObjet"]}},c={},l={Physics2:{"Physics2::Physics2Behavior":["Physics2::Collision"]}},u={BuiltinObject:Object(r.a)(s.BuiltinObject[""]),Physics2:Object(r.a)(l.Physics2["Physics2::Physics2Behavior"])},d=function(e){return e.getCategory()+"/"+e.getFullName()},p=function(e){var t=!1;return e.filter((function(e){if("Create"===e.type){if(t)return!1;t=!0}return!0}))},m=function(e,t){var n=t;return n?e.filter((function(e){return-1===n.indexOf(e.type)})):e},f=function(e,t,n,r,a){var o=t.getName(),i=e?l[o]:c[o];if(!i)return[];var s=i[n];if(!s)return[];var u=e?t.getAllConditions():t.getAllActions();return s.map((function(e){return g(r,e,u.get(e),a)}))},h=function(e,t,n,r,a){var o=t.getName(),c=e?s[o]:i[o];if(!c)return[];var l=c[n];if(!l)return[];var u=e?t.getAllConditions():t.getAllActions();return l.map((function(e){return g(r,e,u.get(e),a)}))},g=function(e,t,n,r){var a=n.getFullName(),o=n.getGroup(),i=n.getIconFilename();return{type:t,metadata:n,iconFilename:i,displayedName:a,fullGroupName:[e,o].filter(Boolean).join("/"),scope:r,isPrivate:n.isPrivate()}},b=function(e,t,n){for(var r=t.keys(),a=[],o=0;o<r.size();++o){var i=r.at(o),s=t.get(i);s.isHidden()||a.push(g(e,i,s,n))}return a},v=function(e){for(var t=[],n=o.asPlatform(o.JsPlatform.get()).getAllPlatformExtensions(),a=0;a<n.size();++a){var i=n.at(a),s=i.getName(),c=i.getExtensionObjectsTypes(),l=i.getBehaviorsTypes(),p=d(i),g=b(p,e?i.getAllConditions():i.getAllActions(),{extension:i,objectMetadata:void 0,behaviorMetadata:void 0});t=[].concat(Object(r.a)(t),Object(r.a)(m(g,u[s])));for(var v=0;v<c.size();++v){var E=c.at(v),y=i.getObjectMetadata(E),C={extension:i,objectMetadata:y};t=[].concat(Object(r.a)(t),Object(r.a)(b(p,e?i.getAllConditionsForObject(E):i.getAllActionsForObject(E),C)),Object(r.a)(h(e,i,E,p,C)))}for(var j=0;j<l.size();++j){var O=l.at(j),x=i.getBehaviorMetadata(O),k={extension:i,behaviorMetadata:x};t=[].concat(Object(r.a)(t),Object(r.a)(b(p,e?i.getAllConditionsForBehavior(O):i.getAllActionsForBehavior(O),k)),Object(r.a)(f(e,i,O,p,k)))}}return t},E=function(e,t,n,a){for(var i=[],s=o.getTypeOfObject(t,n,a,!0),c=o.getBehaviorsOfObject(t,n,a,!0).toJSArray(),l=new Set(c.map((function(e){return o.getTypeOfBehavior(t,n,e,!1)}))),u=o.asPlatform(o.JsPlatform.get()).getAllPlatformExtensions(),d=function(t){var n=u.at(t),a=-1!==n.getExtensionObjectsTypes().toJSArray().indexOf(s),o=-1!==n.getExtensionObjectsTypes().toJSArray().indexOf(""),c=n.getBehaviorsTypes().toJSArray().filter((function(e){return l.has(e)}));if(!a&&!o&&0===c.length)return"continue";if(""!==s&&a){var d=n.getObjectMetadata(s),p={extension:n,objectMetadata:d};i=[].concat(Object(r.a)(i),Object(r.a)(b("",e?n.getAllConditionsForObject(s):n.getAllActionsForObject(s),p)),Object(r.a)(h(e,n,"","",p)))}if(o){var m=n.getObjectMetadata(""),g={extension:n,objectMetadata:m};i=[].concat(Object(r.a)(i),Object(r.a)(b("",e?n.getAllConditionsForObject(""):n.getAllActionsForObject(""),g)),Object(r.a)(h(e,n,"","",g)))}c.forEach((function(t){var a=n.getBehaviorMetadata(t),o={extension:n,behaviorMetadata:a};i=[].concat(Object(r.a)(b("",e?n.getAllConditionsForBehavior(t):n.getAllActionsForBehavior(t),o)),Object(r.a)(f(e,n,t,"",o)),Object(r.a)(i))}))},p=0;p<u.size();++p)d(p);return function(e){var t=e.filter((function(e){return 0===e.fullGroupName.length})),n=e.filter((function(e){return 0!==e.fullGroupName.length}));return[].concat(Object(r.a)(t),Object(r.a)(n))}(i)},y=function(e){for(var t=[],n=o.asPlatform(o.JsPlatform.get()).getAllPlatformExtensions(),a=0;a<n.size();++a){var i=n.at(a),s=i.getName(),c=d(i),l=b(c,e?i.getAllConditions():i.getAllActions(),{extension:i,objectMetadata:void 0,behaviorMetadata:void 0});t=[].concat(Object(r.a)(t),Object(r.a)(m(l,u[s])))}return t},C=function(e,t){var n=t.searchText;if(!n)return e;var r=[],o=[],i=n.toLowerCase();return e.forEach((function(e){var t=e.displayedName.toLowerCase(),n=e.fullGroupName.toLowerCase();return t.includes(i)?r.push(e):Object(a.a)(i,t)||Object(a.a)(i,n)?o.push(e):void 0})),[].concat(r,o)},j=function(e){var t=e.getParametersCount();if(t>=1){var n=e.getParameter(0).getType();if("object"===n)return 0;if(o.ParameterMetadata.isObject(n))return 0;if(("objectsContext"===n||"currentScene"===n)&&t>=2){var r=e.getParameter(1).getType();if(o.ParameterMetadata.isObject(r))return 1}}return-1}}).call(this,n(8))},,function(e,t,n){"use strict";var r=n(18),a=n(3),o=n(4),i=n(6),s=n(5),c=n(115),l=n(15),u=n(212),d=n(1133),p=n.n(d),m=n(173),f=n.n(m),h=n(689),g=n.n(h),b=(n(144),n(239)),v=n(179),E=n(127),y=n(186),C=function(){throw new Error("This RaisedButtonWithMenu onClick should never be called")},j=function(e){var t=e.buildMenuTemplate,n=Object(v.a)(e,["buildMenuTemplate"]);return l.createElement(y.a,{element:l.createElement(E.a,Object.assign({},n,{onClick:C})),buildMenuTemplate:t})},O=n(129),x=n(138);n.d(t,"a",(function(){return k}));var k=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(e){var r;Object(a.a)(this,n),(r=t.call(this,e))._addFrom=function(e){if(e){var t=r.props,n=t.project;(0,t.onChooseResource)({initialSourceName:e.name,multiSelection:!1,resourceKind:r.props.resourceKind}).then((function(e){if(e.length){var t=e[0];Object(b.a)(n,t),n.getResourcesManager().addResource(t),r._loadFrom(n.getResourcesManager());var a=t.getName();r._onChangeResourceName(a),r._autoComplete&&r._autoComplete.forceInputValueTo(a),e.forEach((function(e){return e.delete()}))}})).catch((function(e){console.error("Unable to choose a resource",e)}))}},r._onResetResourceName=function(){r.setState({resourceName:"",notExistingError:!1},(function(){r.props.onChange&&r.props.onChange(r.state.resourceName)}))},r._onChangeResourceName=function(e){if(""!==e){var t=-1===r.allResourcesNames.indexOf(e);t||r.props.onChange&&r.props.onChange(e),r.setState({resourceName:e,notExistingError:t})}else r._onResetResourceName()},r._editWith=function(e){var t=r.props,n=t.project,a=t.resourcesLoader,o=t.resourceKind,i=r.state.resourceName,s=n.getResourcesManager(),c={},l=s.getResource(i).getMetadata();if(l)try{c=JSON.parse(l)}catch(f){console.error("Malformed metadata",f)}if("image"===o){var u=[];s.hasResource(i)&&u.push(i);var d={project:n,resourcesLoader:a,singleFrame:!0,resourceNames:u,extraOptions:{fps:0,name:i,isLooping:!1,externalEditorData:c},onChangesSaved:function(e){e.length&&(a.burstUrlsCacheForResources(n,[e[0].name]),r.props.onChange(e[0].name))}};e.edit(d)}else if("audio"===o){var p={project:n,resourcesLoader:a,resourceNames:[i],extraOptions:{externalEditorData:c},onChangesSaved:function(e){a.burstUrlsCacheForResources(n,[e[0].name]),r.props.onChange(e[0].name)}};e.edit(p)}else if("json"===o){var m={project:n,resourcesLoader:a,resourceNames:[i],extraOptions:{initialResourceMetadata:c},onChangesSaved:function(e){r.props.onChange(e[0].name)}};e.edit(m)}},r.state={notExistingError:!1,resourceName:e.initialResourceName||""};var o=e.project;return o&&r._loadFrom(o.getResourcesManager()),r}return Object(o.a)(n,[{key:"focus",value:function(){this._autoComplete&&this._autoComplete.focus()}},{key:"componentWillReceiveProps",value:function(e){e.initialResourceName!==this.props.initialResourceName&&this.setState({resourceName:e.initialResourceName||""})}},{key:"_getResourceSourceItems",value:function(){var e=this,t=this.props.resourceSources||[];return[].concat(Object(r.a)(t.filter((function(t){return t.kind===e.props.resourceKind})).map((function(t){return{text:"",value:"",translatableValue:t.displayName,renderIcon:function(){return l.createElement(f.a,null)},onClick:function(){return e._addFrom(t)}}}))),[{type:"separator"}])}},{key:"_loadFrom",value:function(e){var t=this;this.allResourcesNames=e.getAllResourceNames().toJSArray(),this.props.resourceKind&&(this.allResourcesNames=this.allResourcesNames.filter((function(n){return e.getResource(n).getKind()===t.props.resourceKind})));var n=this._getResourceSourceItems(),a=this.allResourcesNames.map((function(e){return{text:e,value:e}}));this.autoCompleteData=[].concat(Object(r.a)(n),Object(r.a)(a))}},{key:"render",value:function(){var e=this,t=this.state.notExistingError?"This resource does not exist in the game":null,n=this.props.resourceExternalEditors.filter((function(t){return t.kind===e.props.resourceKind}));return l.createElement(O.c,{noFloatingLabelText:!this.props.floatingLabelText,margin:this.props.margin,renderTextField:function(){return l.createElement(u.a,{style:e.props.style,floatingLabelText:e.props.floatingLabelText,helperMarkdownText:e.props.helperMarkdownText,hintText:e.props.hintText,openOnFocus:!0,dataSource:e.autoCompleteData||[],value:e.state.resourceName,onChange:e._onChangeResourceName,errorText:t,fullWidth:e.props.fullWidth,margin:e.props.margin,onRequestClose:e.props.onRequestClose,onApply:e.props.onApply,ref:function(t){return e._autoComplete=t}})},renderButton:function(t){return l.createElement(l.Fragment,null,e.props.canBeReset&&l.createElement(x.a,{size:"small",onClick:function(){e._onResetResourceName()}},l.createElement(p.a,null)),n.length?l.createElement(j,{style:t,icon:l.createElement(g.a,null),label:e.state.resourceName?l.createElement(c.Trans,{id:"Edit"}):l.createElement(c.Trans,{id:"Create"}),primary:!0,buildMenuTemplate:function(){return n.map((function(t){return{label:t.displayName,click:function(){return e._editWith(t)}}}))}}):null)}})}}]),n}(l.Component)},,,,,,,,,function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r=function(e){return e.startsWith("/")},a=function(e){return e.startsWith("http://")||e.startsWith("https://")},o=function(e){return r(e)?"http://wiki.compilgames.net/doku.php/gdevelop5".concat(e,"?utm_source=gdevelop&utm_medium=help-link"):a(e)?e:""}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var r=n(3),a=n(4),o=n(17),i=n.n(o)()("electron"),s=i?i.clipboard:null,c="",l=function(e){return"GDEVELOP_"+e+"_CLIPBOARD_KIND-jsBdHbLy912y8Rc"},u=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,null,[{key:"extractNumberProperty",value:function(e,t){if(!this.extractObject(e))return null;var n=e[t];return"number"!==typeof n?null:n}},{key:"extractStringProperty",value:function(e,t){if(!this.extractObject(e))return null;var n=e[t];return"string"!==typeof n?null:n}},{key:"extractObjectProperty",value:function(e,t){if(!this.extractObject(e))return null;var n=e[t];return this.extractObject(n)}},{key:"extractArrayProperty",value:function(e,t){if(!this.extractObject(e))return null;var n=e[t];return this.extractArray(n)}},{key:"extractObject",value:function(e){return null===e||void 0===e||"object"!==typeof e||Array.isArray(e)?null:e}},{key:"extractArray",value:function(e){return null!==e&&void 0!==e&&"object"===typeof e&&Array.isArray(e)?e:null}}]),e}(),d=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,null,[{key:"set",value:function(e,t){var n=JSON.stringify({"000kind":l(e),content:t});s?s.writeText(n):c=n}},{key:"has",value:function(e){return 12===(s?s.readText():c).indexOf(l(e))}},{key:"get",value:function(t){if(!e.has(t))return null;var n="";n=s?s.readText():c;try{return JSON.parse(n).content}catch(r){return console.warn("The clipboard content is not valid JSON"),null}}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n(141),u=n(310),d=n(260),p=n(144),m=n(222),f=n(124),h=n(154),g=n(155),b=n(533),v=n.n(b),E=n(252),y=n(192),C=n(188),j=n(2093),O=n(129),x=n(127),k=n(398),T=n(117),w=n(125),S={columnContainer:{display:"flex",flexDirection:"column"},fieldContainer:{flex:1,display:"flex",flexDirection:"row",alignItems:"baseline"},field:{flex:1,width:"auto"},subPropertiesEditorContainer:{marginLeft:15},subHeader:{paddingLeft:0}},P=function(e,t,n){if(!e[0])return console.log("getFieldValue was called with an empty list of instances (or containing undefined). This is a bug that should be fixed"),n;for(var r=t.getValue(e[0]),a=1;a<e.length;++a)if(r!==t.getValue(e[a])){"undefined"!==typeof n&&(r=n);break}return r},_=function(e,t){return e[0]?t.getLabel?t.getLabel(e[0]):t.name:(console.log("PropertiesEditor._getFieldLabel was called with an empty list of instances (or containing undefined). This is a bug that should be fixed"),t.name)},I=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._onInstancesModified=function(t){e.props.unsavedChanges&&e.props.unsavedChanges.triggerUnsavedChanges(),e.props.onInstancesModified&&e.props.onInstancesModified(t),e.forceUpdate()},e._getFieldDescription=function(t,n){var r=e.props.renderExtraDescriptionText;if(t[0]){var a=[];return n.getDescription&&a.push(n.getDescription(t[0])),r&&n.getExtraDescription&&a.push(r(n.getExtraDescription(t[0]))),a.join("\n")||void 0}console.log("PropertiesEditor._getFieldDescription was called with an empty list of instances (or containing undefined). This is a bug that should be fixed")},e._renderInputField=function(t){if("PLEASE_ALSO_SHOW_EDIT_BUTTON_THANKS"===t.name)return null;if("boolean"===t.valueType){var n=t.setValue,r=e._getFieldDescription(e.props.instances,t);return c.createElement(u.a,{label:r?c.createElement(c.Fragment,null,c.createElement(T.b,{noMargin:!0},_(e.props.instances,t)),c.createElement(j.a,{style:{display:"inline"}},c.createElement(y.a,{source:r}))):_(e.props.instances,t),key:t.name,checked:P(e.props.instances,t),onCheck:function(t,r){e.props.instances.forEach((function(e){return n(e,!!r)})),e._onInstancesModified(e.props.instances)},disabled:t.disabled})}if("number"===t.valueType){var a=t.setValue;return c.createElement(l.a,{value:P(e.props.instances,t),key:t.name,id:t.name,floatingLabelText:_(e.props.instances,t),floatingLabelFixed:!0,helperMarkdownText:e._getFieldDescription(e.props.instances,t),onChange:function(t){e.props.instances.forEach((function(e){return a(e,parseFloat(t)||0)})),e._onInstancesModified(e.props.instances)},type:"number",style:S.field,disabled:t.disabled})}if("color"===t.valueType){var o=t.setValue;return c.createElement(E.a,{key:t.name,id:t.name,floatingLabelText:_(e.props.instances,t),helperMarkdownText:e._getFieldDescription(e.props.instances,t),disableAlpha:!0,fullWidth:!0,color:P(e.props.instances,t),onChange:function(t){var n=0===t.length?"":Object(C.d)(t);e.props.instances.forEach((function(e){return o(e,n)})),e._onInstancesModified(e.props.instances)}})}if("textarea"===t.valueType){var i=t.setValue;return c.createElement(l.a,{key:t.name,id:t.name,onChange:function(t){e.props.instances.forEach((function(e){return i(e,t||"")})),e._onInstancesModified(e.props.instances)},value:P(e.props.instances,t),floatingLabelText:_(e.props.instances,t),floatingLabelFixed:!0,helperMarkdownText:e._getFieldDescription(e.props.instances,t),multiline:!0,style:S.field})}var d=t.onEditButtonClick,p=t.setValue;return c.createElement(O.c,{key:t.name,renderTextField:function(){return c.createElement(l.a,{value:P(e.props.instances,t,"(Multiple values)"),id:t.name,floatingLabelText:_(e.props.instances,t),floatingLabelFixed:!0,helperMarkdownText:e._getFieldDescription(e.props.instances,t),onChange:function(t){e.props.instances.forEach((function(e){return p(e,t||"")})),e._onInstancesModified(e.props.instances)},style:S.field,disabled:t.disabled})},renderButton:function(t){return d?c.createElement(x.a,{style:t,primary:!0,disabled:1!==e.props.instances.length,icon:c.createElement(v.a,null),label:c.createElement(s.Trans,{id:"Edit"}),onClick:function(){return d(e.props.instances[0])}}):null}})},e._renderSelectField=function(t){if(t.getChoices&&t.getValue){var n=t.getChoices().map((function(e){var t=e.value,n=e.label;return c.createElement(g.a,{key:t,value:t,primaryText:n})}));if("number"===t.valueType){var r=t.setValue;return c.createElement(h.a,{value:P(e.props.instances,t),key:t.name,floatingLabelText:_(e.props.instances,t),helperMarkdownText:e._getFieldDescription(e.props.instances,t),onChange:function(t,n,a){e.props.instances.forEach((function(e){return r(e,parseFloat(a)||0)})),e._onInstancesModified(e.props.instances)},style:S.field,disabled:t.disabled},n)}if("string"===t.valueType){var a=t.setValue;return c.createElement(h.a,{value:P(e.props.instances,t,"(Multiple values)"),key:t.name,floatingLabelText:_(e.props.instances,t),helperMarkdownText:e._getFieldDescription(e.props.instances,t),onChange:function(t,n,r){e.props.instances.forEach((function(e){return a(e,r||"")})),e._onInstancesModified(e.props.instances)},style:S.field,disabled:t.disabled},n)}}},e._renderButton=function(t){return c.createElement(f.a,{key:t.name,fullWidth:!0,primary:!0,label:_(e.props.instances,t),onClick:function(){t.onClick&&t.onClick(e.props.instances[0])}})},e._renderResourceField=function(t){if(!e.props.project||!e.props.resourceSources||!e.props.onChooseResource||!e.props.resourceExternalEditors)return console.error("You tried to display a resource field in a PropertiesEditor that does not support display resources. If you need to display resources, pass additional props (project, resourceSources, onChooseResource, resourceExternalEditors)."),null;var n=t.setValue;return c.createElement(d.a,{key:t.name,project:e.props.project,resourceSources:e.props.resourceSources,onChooseResource:e.props.onChooseResource,resourceExternalEditors:e.props.resourceExternalEditors,resourcesLoader:p.a,resourceKind:t.resourceKind,fullWidth:!0,initialResourceName:P(e.props.instances,t,"(Multiple values)"),onChange:function(t){e.props.instances.forEach((function(e){return n(e,t)})),e._onInstancesModified(e.props.instances)},floatingLabelText:_(e.props.instances,t),helperMarkdownText:e._getFieldDescription(e.props.instances,t)})},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this;return("row"===this.props.mode?function(e){return c.createElement(O.b,{noMargin:!0},e)}:function(e){return c.createElement(O.a,{noMargin:!0},e)})(this.props.schema.map((function(t){if(t.children){if("row"===t.type){var r=c.createElement(k.b.Consumer,{key:t.name},(function(r){return c.createElement(n,{project:e.props.project,resourceSources:e.props.resourceSources,onChooseResource:e.props.onChooseResource,resourceExternalEditors:e.props.resourceExternalEditors,schema:t.children,instances:e.props.instances,mode:"row",unsavedChanges:r,onInstancesModified:e.props.onInstancesModified})}));return t.title?[c.createElement(w.a,{key:t.name+"-title",size:"title"},t.title),r]:r}return c.createElement("div",{key:t.name},c.createElement(m.a,null,t.name),c.createElement("div",{style:S.subPropertiesEditorContainer},c.createElement(k.b.Consumer,{key:t.name},(function(r){return c.createElement(n,{project:e.props.project,resourceSources:e.props.resourceSources,onChooseResource:e.props.onChooseResource,resourceExternalEditors:e.props.resourceExternalEditors,schema:t.children,instances:e.props.instances,mode:"column",unsavedChanges:r,onInstancesModified:e.props.onInstancesModified})}))))}return"resource"===t.valueType?e._renderResourceField(t):t.getChoices&&t.getValue?e._renderSelectField(t):t.getValue?e._renderInputField(t):t.onClick?e._renderButton(t):null})))}}]),n}(c.Component)},,function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return p}));var r=n(13),a=n(26),o=n(115),i=n(15),s=n(310),c=n(129),l=n(158),u=n(136),d=function(){var e=i.useState(null),t=Object(a.a)(e,2),n=t[0],o=t[1],s=i.useState((function(){return new Set})),c=Object(a.a)(s,2),l=c[0],u=c[1];return{chosenCategory:n,setChosenCategory:i.useCallback((function(e){if(e){var t,n=new Set,a=Object(r.a)(l.keys());try{for(a.s();!(t=a.n()).done;){var i=t.value;e.node.allChildrenTags.includes(i)&&n.add(i)}}catch(s){a.e(s)}finally{a.f()}u(n),o(e)}else o(null)}),[l]),chosenFilters:l,addFilter:function(e){var t=new Set(l);t.add(e),u(t)},removeFilter:function(e){var t=new Set(l);t.delete(e),u(t)}}},p=function(e){var t=e.filtersState,n=e.allFilters,r=e.error;if(!n)return i.createElement(l.a,null);if(r)return null;var a=t.chosenCategory?t.chosenCategory.node.allChildrenTags:n.defaultTags;return i.createElement(c.a,null,a?a.length?a.map((function(e){return i.createElement(s.a,{key:e,label:(n=e,n?n[0].toUpperCase()+n.substr(1):""),checked:t.chosenFilters.has(e),onCheck:function(){t.chosenFilters.has(e)?t.removeFilter(e):t.addFilter(e)}});var n})):i.createElement(u.a,null,i.createElement(o.Trans,{id:"No filters in this category."})):i.createElement(u.a,null,i.createElement(o.Trans,{id:"Choose a category to display filters"})))}},function(e,t,n){"use strict";var r=n(15),a={eventsFunctionsExtensionsError:null,loadProjectEventsFunctionsExtensions:function(){return Promise.reject(new Error("Use a provider"))},unloadProjectEventsFunctionsExtensions:function(){},reloadProjectEventsFunctionsExtensions:function(){return Promise.reject(new Error("Use a provider"))},unloadProjectEventsFunctionsExtension:function(){},getEventsFunctionsExtensionWriter:function(){return null},getEventsFunctionsExtensionOpener:function(){return null},ensureLoadFinished:function(){return Promise.reject(new Error("Use a provider"))},getIncludeFileHashs:function(){return{}}},o=r.createContext(a);t.a=o},function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return f})),n.d(t,"c",(function(){return h}));var r=n(26),a=n(20),o=n.n(a),i=n(19),s=n(728),c=n.n(s),l=function(e,t){return!t.gdevelopVersion||c()(e,t.gdevelopVersion,{includePrerelease:!0})},u=function(){return o.a.get("".concat(i.b.baseUrl,"/asset")).then((function(e){return e.data})).then((function(e){var t=e.assetShortHeadersUrl,n=e.filtersUrl;if(!t||!n)throw new Error("Unexpected response from the resource endpoint.");return Promise.all([o.a.get(t).then((function(e){return e.data})),o.a.get(n).then((function(e){return e.data}))]).then((function(e){var t=Object(r.a)(e,2);return{assetShortHeaders:t[0],filters:t[1]}}))}))},d=function(e){return o.a.get("".concat(i.b.baseUrl,"/asset/").concat(e.id)).then((function(e){return e.data})).then((function(e){var t=e.assetUrl;if(!t)throw new Error("Unexpected response from the asset endpoint.");return o.a.get(t)})).then((function(e){return e.data}))},p=function(){return o.a.get("".concat(i.b.baseUrl,"/resource")).then((function(e){return e.data})).then((function(e){var t=e.resourcesUrl,n=e.filtersUrl;if(!t||!n)throw new Error("Unexpected response from the resource endpoint.");return Promise.all([o.a.get(t).then((function(e){return e.data})),o.a.get(n).then((function(e){return e.data}))]).then((function(e){var t=Object(r.a)(e,2);return{resources:t[0],filters:t[1]}}))}))},m=function(){return o.a.get("".concat(i.b.baseUrl,"/author")).then((function(e){return e.data})).then((function(e){var t=e.authorsUrl;if(!t)throw new Error("Unexpected response from author endpoint.");return o.a.get(t)})).then((function(e){return e.data}))},f=function(){return o.a.get("".concat(i.b.baseUrl,"/license")).then((function(e){return e.data})).then((function(e){var t=e.licensesUrl;if(!t)throw new Error("Unexpected response from license endpoint.");return o.a.get(t)})).then((function(e){return e.data}))},h=function(e){return e.tags.some((function(e){return"pixel art"===e.toLowerCase()}))}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var r=n(3),a=n(4),o=e.gd,i=function(e){return!e.includes(".")&&!e.includes("[")&&e.length>0},s=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,null,[{key:"findAllGlobalVariables",value:function(e,t){return o.EventsVariablesFinder.findAllGlobalVariables(e,t).toNewVectorString().toJSArray().filter(i)}},{key:"findAllLayoutVariables",value:function(e,t,n){return o.EventsVariablesFinder.findAllLayoutVariables(t.getCurrentPlatform(),t,n).toNewVectorString().toJSArray().filter(i)}},{key:"findAllObjectVariables",value:function(e,t,n,r){return o.EventsVariablesFinder.findAllObjectVariables(t.getCurrentPlatform(),t,n,r).toNewVectorString().toJSArray().filter(i)}}]),e}()}).call(this,n(8))},,,,function(e,t,n){"use strict";(function(e){n.d(t,"l",(function(){return c})),n.d(t,"k",(function(){return l})),n.d(t,"g",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"d",(function(){return h})),n.d(t,"h",(function(){return g})),n.d(t,"e",(function(){return b})),n.d(t,"a",(function(){return E})),n.d(t,"c",(function(){return y})),n.d(t,"i",(function(){return C})),n.d(t,"j",(function(){return j}));var r=n(18),a=n(131),o=n(565),i=n.n(o),s=e.gd,c=function(e,t,n,r){var a=t<e.getAnimationsCount(),o=a?e.getAnimation(t):null,i=!!o&&n<o.getDirectionsCount(),s=i?o.getDirection(n):null,c=!!s&&r<s.getSpritesCount(),l=c?s.getSprite(r):null;return{hasValidAnimation:a,animation:o,hasValidDirection:i,direction:s,hasValidSprite:c,sprite:l}},l=function(e){for(var t=new Set,n=0;n<e.getAnimationsCount();n++)for(var a=e.getAnimation(n),o=0;o<a.getDirectionsCount();o++)for(var i=a.getDirection(o),s=0;s<i.getSpritesCount();s++)for(var c=i.getSprite(s).getAllNonDefaultPoints(),l=0;l<c.size();l++){var u=c.at(l);t.add(u.getName())}return Object(r.a)(t)},u=function(e,t){t.setX(e.getX()),t.setY(e.getY()),t.setName(e.getName())},d=function(e,t){e.ptr!==t.ptr&&(u(e.getCenter(),t.getCenter()),u(e.getOrigin(),t.getOrigin()),t.setDefaultCenterPoint(e.isDefaultCenterPoint()),t.getAllNonDefaultPoints().clear(),Object(a.mapVector)(e.getAllNonDefaultPoints(),(function(e){t.addPoint(e)})))},p=function(e,t){Object(a.mapFor)(0,t.getDirectionsCount(),(function(n){var r=t.getDirection(n);Object(a.mapFor)(0,r.getSpritesCount(),(function(t){var n=r.getSprite(t);d(e,n)}))}))},m=function(e,t){return e.getX()===t.getX()&&e.getY()===t.getY()&&e.getName()===t.getName()},f=function(e,t){return i()(Object(a.mapFor)(0,t.getSpritesCount(),(function(n){var r,o,s=t.getSprite(n);return o=e,!!m((r=s).getCenter(),o.getCenter())&&!!m(r.getOrigin(),o.getOrigin())&&r.isDefaultCenterPoint()===o.isDefaultCenterPoint()&&r.getAllNonDefaultPoints().size()===o.getAllNonDefaultPoints().size()&&i()(Object(a.mapVector)(r.getAllNonDefaultPoints(),(function(e){return!!o.hasPoint(e.getName())&&m(e,o.getPoint(e.getName()))})))})))},h=function(e,t){return i()(Object(a.mapFor)(0,t.getDirectionsCount(),(function(n){var r=t.getDirection(n);return f(e,r)})))},g=function(e,t){e.ptr!==t.ptr&&(t.setCollisionMaskAutomatic(e.isCollisionMaskAutomatic()),t.getCustomCollisionMask().clear(),Object(a.mapVector)(e.getCustomCollisionMask(),(function(e){t.getCustomCollisionMask().push_back(e)})))},b=function(e,t){Object(a.mapFor)(0,t.getDirectionsCount(),(function(n){var r=t.getDirection(n);Object(a.mapFor)(0,r.getSpritesCount(),(function(t){var n=r.getSprite(t);g(e,n)}))}))},v=function(e,t){if(e.isCollisionMaskAutomatic()!==t.isCollisionMaskAutomatic())return!1;if(e.isCollisionMaskAutomatic()&&t.isCollisionMaskAutomatic())return!0;var n=e.getCustomCollisionMask(),r=t.getCustomCollisionMask();return n.size()===r.size()&&i()(Object(a.mapVector)(n,(function(e,t){return function(e,t){var n=e.getVertices(),r=t.getVertices();return n.size()===r.size()&&i()(Object(a.mapVector)(n,(function(e,t){var n=r.at(t);return e.get_x()===n.get_x()&&e.get_y()===n.get_y()})))}(e,r.at(t))})))},E=function(e,t){return i()(Object(a.mapFor)(0,t.getSpritesCount(),(function(n){var r=t.getSprite(n);return v(r,e)})))},y=function(e,t){return i()(Object(a.mapFor)(0,t.getDirectionsCount(),(function(n){var r=t.getDirection(n);return E(e,r)})))},C=function(e,t){Object(a.mapFor)(0,e.getDirectionsCount(),(function(n){for(var r=e.getDirection(n),o=Object(a.mapFor)(0,r.getSpritesCount(),(function(e){var n=r.getSprite(e);return!!t[n.ptr]})),i=r.getSpritesCount()-1;i>=0;i--)o[i]&&r.removeSprite(i)}))},j=function(e,t){Object(a.mapFor)(0,e.getDirectionsCount(),(function(n){for(var r=e.getDirection(n),o=Object(a.mapFor)(0,r.getSpritesCount(),(function(e){var n=r.getSprite(e);return!!t[n.ptr]})),i=r.getSpritesCount()-1;i>=0;i--)if(o[i]){var c=r.getSprite(i),l=new s.Sprite;l.setImageName(c.getImageName()),d(c,l),g(c,l),r.addSprite(l),r.moveSprite(r.getSpritesCount()-1,i)}}))}}).call(this,n(8))},function(e,t,n){"use strict";(function(e){n.d(t,"e",(function(){return l})),n.d(t,"g",(function(){return m})),n.d(t,"f",(function(){return f})),n.d(t,"d",(function(){return h})),n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return v}));var r=n(131),a=n(1477),o=n(431),i=e.gd,s=function(e){return Object(a.a)(e,"_",[])},c=function(e,t){return t+"__"+s(e.getName())},l=function(e,t,n){return Promise.all(Object(r.mapFor)(0,e.getEventsFunctionsExtensionsCount(),(function(r){return u(e,e.getEventsFunctionsExtensionAt(r),{skipCodeGeneration:!0,eventsFunctionCodeWriter:t,i18n:n})}))).then((function(){return Promise.all(Object(r.mapFor)(0,e.getEventsFunctionsExtensionsCount(),(function(r){return u(e,e.getEventsFunctionsExtensionAt(r),{skipCodeGeneration:!1,eventsFunctionCodeWriter:t,i18n:n})})))}))},u=function(e,t,n){return d(e,t,n).then((function(e){i.JsPlatform.get().addNewExtension(e),e.delete()}))},d=function(e,t,n){var a=new i.PlatformExtension;Object(o.e)(a,t);var l="gdjs.evtsExt__"+s(t.getName()),u={codeNamespacePrefix:l,extensionIncludeFiles:function(e,t,n,a){return Object(r.mapFor)(0,t.getEventsFunctionsCount(),(function(e){var r=t.getEventsFunctionAt(e);if(Object(o.h)(r.getName())){var i=c(r,a)+".func";return n.eventsFunctionCodeWriter.getIncludeFileFor(i)}return null})).filter(Boolean)}(0,t,n,l)};return Promise.all(Object(r.mapVector)(t.getEventsBasedBehaviors(),(function(c){return function(e,t,n,a,c,l){var u=Object(o.b)(t,a),d=a.getEventsFunctions(),p=function(e,t){return t+"__"+s(e.getName())}(a,l.codeNamespacePrefix),m=c.eventsFunctionCodeWriter.getIncludeFileFor(p);return u.setIncludeFile(m),l.extensionIncludeFiles.forEach((function(e){u.addIncludeFile(e)})),Promise.resolve().then((function(){var l=new i.MapStringString;if(Object(o.c)(c.i18n,t,u,a),Object(r.mapFor)(0,d.getEventsFunctionsCount(),(function(e){var n=d.getEventsFunctionAt(e),r=s(n.getName());l.set(n.getName(),r);var i=Object(o.a)(t,u,a,n);Object(o.d)(n,i),Object(o.g)(n.getName())&&i.setHidden(),n.isPrivate()&&i.setPrivate(),i.getCodeExtraInformation().setIncludeFile(m).setFunctionName(r)})),c.skipCodeGeneration)return l.delete(),Promise.resolve();var f=new i.SetString,h=new i.BehaviorCodeGenerator(e),g=h.generateRuntimeBehaviorCompleteCode(n.getName(),a,p,l,f,!0);return h.delete(),l.delete(),f.toNewVectorString().toJSArray().forEach((function(e){u.addIncludeFile(e)})),f.delete(),c.eventsFunctionCodeWriter.writeBehaviorCode(p,g)}))}(e,a,t,c,n,u)}))).then((function(){return Promise.all(Object(r.mapFor)(0,t.getEventsFunctionsCount(),(function(r){var o=t.getEventsFunctionAt(r);return p(e,a,t,o,n,u)})))})).then((function(){return a}))},p=function(e,t,n,r,a,s){var l=Object(o.f)(t,n,r);l.addCodeOnlyParameter("currentScene",""),Object(o.d)(r,l),Object(o.h)(r.getName())&&l.setHidden(),r.isPrivate()&&l.setPrivate();var u=c(r,s.codeNamespacePrefix),d=u+".func",p=l.getCodeExtraInformation();if(p.setIncludeFile(a.eventsFunctionCodeWriter.getIncludeFileFor(d)).setFunctionName(d),s.extensionIncludeFiles.forEach((function(e){p.addIncludeFile(e)})),a.skipCodeGeneration)return Promise.resolve();var m=new i.SetString,f=new i.EventsFunctionsExtensionCodeGenerator(e).generateFreeEventsFunctionCompleteCode(r,u,m,!0);return m.toNewVectorString().toJSArray().forEach((function(e){p.addIncludeFile(e)})),m.delete(),a.eventsFunctionCodeWriter.writeFunctionCode(d,f)};var m=function(e){return Promise.all(Object(r.mapFor)(0,e.getEventsFunctionsExtensionsCount(),(function(t){i.JsPlatform.get().removeExtension(e.getEventsFunctionsExtensionAt(t).getName())})))},f=function(e,t){i.JsPlatform.get().removeExtension(t)},h=function(e){var t=e.getParametersCount();return!(t<=0)&&"eventsFunctionContext"===e.getParameter(t-1).getType()},g=function(e){var t=e.split("::");return t.length?{name:t[t.length-1],behaviorName:t.length>2?t[1]:void 0,extensionName:t[0]}:{name:"",behaviorName:"",extensionName:""}},b=function(e,t){return e+"::"+t.getName()},v=function(e){return e?0:1}}).call(this,n(8))},,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(3),a=n(4),o=n(145),i=function(){function e(t){var n=this,a=t.initialViewX,i=t.initialViewY,s=t.width,c=t.height,l=t.instancesEditorSettings;Object(r.a)(this,e),this.viewX=0,this.viewY=0,this._pixiContainer=new o.Container,this.toSceneCoordinates=function(e,t){e-=n._width/2,t-=n._height/2,e/=Math.abs(n.instancesEditorSettings.zoomFactor),t/=Math.abs(n.instancesEditorSettings.zoomFactor);var r=e;return e=Math.cos(0*Math.PI)*e-Math.sin(0*Math.PI)*t,t=Math.sin(0*Math.PI)*r+Math.cos(0*Math.PI)*t,[e+n.viewX,t+n.viewY]},this.toCanvasCoordinates=function(e,t){e-=n.viewX,t-=n.viewY;var r=e;return e=Math.cos(-0*Math.PI)*e-Math.sin(-0*Math.PI)*t,t=Math.sin(-0*Math.PI)*r+Math.cos(-0*Math.PI)*t,e*=Math.abs(n.instancesEditorSettings.zoomFactor),t*=Math.abs(n.instancesEditorSettings.zoomFactor),[e+n._width/2,t+n._height/2]},this.viewX=a,this.viewY=i,this.instancesEditorSettings=l,this.resize(s,c)}return Object(a.a)(e,[{key:"setInstancesEditorSettings",value:function(e){this.instancesEditorSettings=e}},{key:"resize",value:function(e,t){this._width=e,this._height=t}},{key:"getWidth",value:function(){return this._width}},{key:"getHeight",value:function(){return this._height}},{key:"scrollBy",value:function(e,t){this.viewX+=e,this.viewY+=t}},{key:"scrollTo",value:function(e,t){this.viewX=e,this.viewY=t}},{key:"scrollToInstance",value:function(e){this.viewX=e.getX(),this.viewY=e.getY()}},{key:"getViewX",value:function(){return this.viewX}},{key:"getViewY",value:function(){return this.viewY}},{key:"getPixiContainer",value:function(){return this._pixiContainer}},{key:"render",value:function(){this._pixiContainer.position.x=-this.viewX*this.instancesEditorSettings.zoomFactor,this._pixiContainer.position.y=-this.viewY*this.instancesEditorSettings.zoomFactor,this._pixiContainer.position.x+=this._width/2,this._pixiContainer.position.y+=this._height/2,this._pixiContainer.scale.x=this.instancesEditorSettings.zoomFactor,this._pixiContainer.scale.y=this.instancesEditorSettings.zoomFactor}}]),e}()},,,function(e,t,n){"use strict";var r=n(119),a=n(15),o=function(){var e=document.body,t=document.activeElement,n=document.querySelector("div.main-frame"),r=n&&n.contains(t);return!(t===e)&&!r},i=n(43),s=["CmdOrCtrl+KeyZ","CmdOrCtrl+KeyY","CmdOrCtrl+Shift+KeyZ","CmdOrCtrl+KeyX","CmdOrCtrl+KeyC","CmdOrCtrl+KeyV","CmdOrCtrl+Shift+KeyV","CmdOrCtrl+KeyA","Delete","CmdOrCtrl+Shift+KeyI","F11","NumpadAdd","CmdOrCtrl+Equal","NumpadSubtract","CmdOrCtrl+Minus","CmdOrCtrl+KeyF"],c=n(143),l=n(345),u=function(){var e=document.activeElement;if(!e)return!1;return!!e.closest('textarea, input, [contenteditable="true"]')},d=n(504),p=n(17),m=n.n(p);n.d(t,"c",(function(){return g})),n.d(t,"e",(function(){return b})),n.d(t,"d",(function(){return v})),n.d(t,"b",(function(){return E})),n.d(t,"a",(function(){return y}));var f=m()("electron"),h=function(e){return e?0===e.indexOf("Key")?"alphabet":0===e.indexOf("Digit")?"number":0===e.indexOf("F")?"fn-row":"NumpadAdd"===e||"NumpadSubtract"===e?"numpad-arith":"Equal"===e||"Minus"===e?"numrow-arith":"Tab"===e||"Space"===e?"other":null:null},g=function(e){var t=function(e){var t="";(e.ctrlKey||e.metaKey)&&(t+="CmdOrCtrl+"),e.shiftKey&&(t+="Shift+"),e.altKey&&(t+="Alt+");var n=e.code||"";return h(n)&&(t+=n),t}(e),n=function(e){var t=e.code||"",n=h(t);if(!n)return!1;var r=e.ctrlKey||e.metaKey,a=e.altKey;return!("other"===n&&!r&&!a)}(e),r=s.includes(t);return{shortcutString:t,isValid:n&&!r}},b=function(){var e=a.useContext(c.a).values.userShortcutMap;return Object(r.a)(Object(r.a)({},d.a),e)},v=function(e){var t=b();a.useEffect((function(){var n=function(n){var r=g(n);if(r.isValid){var a=Object.keys(t).find((function(e){return t[e]===r.shortcutString}));a&&(f&&l.b[a].handledByElectron||u()||(n.preventDefault(),o()||e(a)))}};return document.addEventListener("keydown",n),function(){return document.removeEventListener("keydown",n)}}),[e,t])},E=function(e){return e.split("+").map((function(e){return"CmdOrCtrl"===e?Object(i.e)()?"Cmd":"Ctrl":"Shift"===e||"Alt"===e?e:function(e){var t=h(e);return"alphabet"===t?e.slice(3):"number"===t?e.slice(5):"fn-row"===t?e:"numpad-arith"===t?"NumpadAdd"===e?"Num+":"Num-":"numrow-arith"===t?"Minus"===e?"-":"=":e}(e)})).join(" + ")},y=function(e){return e.split("+").map((function(e){return"CmdOrCtrl"===e||"Shift"===e||"Alt"===e?e:function(e){var t=h(e);return"alphabet"===t?e.slice(3):"number"===t?e.slice(5):"fn-row"===t?e:"numpad-arith"===t?"NumpadAdd"===e?"numadd":"numsub":"numrow-arith"===t?"Minus"===e?"-":"=":e}(e)})).join("+")}},,,,,,,function(e,t,n){"use strict";var r=n(15),a=n(138),o=n(153),i=r.forwardRef((function(e,t){var n=e.src,i=e.tooltip,s=e.acceleratorString,c=e.disabled,l=e.onClick,u=e.onContextMenu;return r.createElement(o.a,null,(function(e){return r.createElement(a.a,{onClick:l,onContextMenu:u,size:"small",disabled:c,tooltip:i,acceleratorString:s,ref:t},r.createElement("img",{alt:i,src:n,width:32,height:32,style:{filter:c?"grayscale(100%)":e.gdevelopIconsCSSFilter}}))}))}));t.a=i},,,,,,,function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return l}));var r=n(13),a=n(18),o=function(e,t){return e.filter((function(e){return e!==t}))},i=function(e){var t=e.noTagLabel,n=e.getAllTags,r=e.selectedTags,i=e.onChange,s=e.onEditTags,c=e.editTagsLabel,l=n(),u=s&&c?[{type:"separator"},{label:c,click:s}]:[];return l.length?l.map((function(e){return{type:"checkbox",label:e,checked:r.includes(e),click:function(){var t,n;r.includes(e)?i(o(r,e)):i((t=r,n=[e],Array.from(new Set([].concat(Object(a.a)(t),Object(a.a)(n))))))}}})).concat(u):[{label:t,enabled:!1}].concat(u)},s=function(e){return""===e.trim()?[]:e.split(",").map((function(e){return e.trim()}))},c=function(e){return e.join(", ")},l=function(e,t){var n,a=Object(r.a)(t);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(-1===e.indexOf(o))return!1}}catch(i){a.e(i)}finally{a.f()}return!0}},function(e,t,n){"use strict";var r=n(115),a=n(15),o=n(124),i=n(128),s=n(352),c=n(507),l=n(148),u=n(355);t.a=function(e){var t=e.onCancel,n=e.onApply,d=e.open,p=e.onEditObjectVariables,m=e.title,f=e.emptyExplanationMessage,h=e.emptyExplanationSecondMessage,g=e.variablesContainer,b=e.hotReloadPreviewButtonProps,v=e.onComputeAllVariableNames,E=e.helpPagePath,y=Object(l.a)(),C=Object(s.a)({serializableObject:g,onCancel:t});return a.createElement(i.a,{onApply:n,noMargin:!0,actions:[a.createElement(o.a,{label:a.createElement(r.Trans,{id:"Cancel"}),onClick:C,key:"Cancel"}),a.createElement(o.a,{label:a.createElement(r.Trans,{id:"Apply"}),primary:!0,keyboardFocused:!0,onClick:n,key:"Apply"})],open:d,cannotBeDismissed:!0,onRequestClose:C,secondaryActions:[p?a.createElement(o.a,{key:"edit-object-variables",label:a.createElement(r.Trans,{id:"Edit Object Variables"}),primary:!1,onClick:p}):null,b?a.createElement(u.b,Object.assign({key:"hot-reload-preview-button"},b)):null],title:m,flexBody:!0,fullHeight:!0},a.createElement(c.a,{commitVariableValueOnBlur:!0,variablesContainer:g,emptyExplanationMessage:f,emptyExplanationSecondMessage:h,onSizeUpdated:y,onComputeAllVariableNames:v,helpPagePath:E}))}},,,function(e,t,n){"use strict";var r=n(15),a=n(2095),o=n(2209),i=n(2078),s=n(2107),c=n(2093);t.a=function(e){var t=e.onCheck,n=e.disabled,l=e.checked,u=e.label,d=e.uncheckedIcon,p=e.checkedIcon,m=e.tooltipOrHelperText,f=r.createElement(o.a,{disabled:n,checked:l,onChange:t?function(e){return t(e,e.target.checked)}:void 0,icon:d,checkedIcon:p,color:"primary"});return u?r.createElement(s.a,null,r.createElement(a.a,{control:f,label:u}),m&&r.createElement(c.a,null,m)):m&&!n?r.createElement(i.a,{title:m},f):f}},,function(e,t,n){"use strict";var r=n(18),a=n(131);t.a=function(e,t,n,o){var i=e.keys(),s=new Map;if(Object(a.mapFor)(0,i.size(),(function(r){var a=i.at(r),c=e.get(a),l=c.getGroup()||"",u=s.get(l);u||(u=[],s.set(l,u));var d=c.getDescription(),p=c.getType().toLowerCase(),m=function(e){var n=t(e).get(a).getLabel();return n||a.charAt(0).toUpperCase()+a.slice(1).split(/(?=[A-Z])/).join(" ")},f=function(){return d};if(c.isHidden())return null;if("number"===p)return u.push({name:a,valueType:p,getValue:function(e){return parseFloat(t(e).get(a).getValue())||0},setValue:function(e,t){n(e,a,""+t)},getLabel:m,getDescription:f}),null;if("string"===p||""===p)return u.push({name:a,valueType:"string",getValue:function(e){return t(e).get(a).getValue()},setValue:function(e,t){n(e,a,t)},getLabel:m,getDescription:f}),null;if("boolean"===p)return u.push({name:a,valueType:p,getValue:function(e){return"true"===t(e).get(a).getValue()},setValue:function(e,t){n(e,a,t?"1":"0")},getLabel:m,getDescription:f}),null;if("choice"===p){var h=c.getExtraInfo().toJSArray().map((function(e){return{value:e,label:e}}));return u.push({name:a,valueType:"string",getChoices:function(){return h},getValue:function(e){return t(e).get(a).getValue()},setValue:function(e,t){n(e,a,t)},getLabel:m,getDescription:f}),null}if("behavior"===p){var g=c.getExtraInfo().size()>0?c.getExtraInfo().at(0):"";return u.push({name:a,valueType:"string",getChoices:function(){return o&&""!==g?o.getAllBehaviorNames().toJSArray().map((function(e){return o.getBehavior(e).getTypeName()===g?e:null})).filter(Boolean).map((function(e){return{value:e,label:e}})):[]},getValue:function(e){return t(e).get(a).getValue()},setValue:function(e,t){n(e,a,t)},getLabel:m,getDescription:f}),null}if("resource"===p){var b=c.getExtraInfo().toJSArray()[0]||"";return u.push({name:a,valueType:"resource",resourceKind:b,getValue:function(e){return t(e).get(a).getValue()},setValue:function(e,t){n(e,a,t)},getLabel:m,getDescription:f}),null}return"color"===p?(u.push({name:a,valueType:"color",getValue:function(e){return t(e).get(a).getValue()},setValue:function(e,t){n(e,a,t)},getLabel:m,getDescription:f}),null):"textarea"===p?(u.push({name:a,valueType:"textarea",getValue:function(e){return t(e).get(a).getValue()},setValue:function(e,t){n(e,a,t)},getLabel:m,getDescription:f}),null):(console.error("A property with type=".concat(p," could not be mapped to a field. Ensure that this type is correct and understood by the IDE.")),null)})),0===s.size)return[];var c=s.get("");return 1===s.size&&c?c:Object(r.a)(s.keys()).sort((function(e,t){return e.localeCompare(t)})).map((function(e){return{name:e,type:"column",title:e,children:s.get(e)||[]}}))}},function(e,t,n){"use strict";var r=n(119),a=n(15),o=n(170);t.a=function(e){var t=a.useContext(o.a),n=Object(r.a)({position:"absolute",top:0,left:0,width:"100%",height:"100%",background:'url("res/transparentback.png") repeat',filter:t.imagePreview.backgroundFilter||"none"},e.style);return a.createElement("div",{style:n})}},,function(e,t,n){"use strict";var r=n(15),a=n(2085);t.a=function(e){return r.createElement("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center"}},r.createElement(a.a,{elevation:3,style:{padding:10,margin:5}},e.children))}},function(e,t,n){"use strict";var r=n(115),a=n(15),o=n(2214),i=n(2092),s=n(143),c=n(238);t.a=function(e){var t=e.identifier,n=e.show,l=e.touchScreenMessage,u=e.message,d=a.useContext(s.a),p=Object(c.b)();return a.createElement(o.a,{open:n&&!d.values.hiddenAlertMessages[t],message:"touch"===p&&l?l:u,action:a.createElement(i.a,{key:"undo",color:"primary",size:"small",onClick:function(){d.showAlertMessage(t,!1)}},a.createElement(r.Trans,{id:"Got it"}))})}},function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var r=n(0),a=n.n(r),o=n(1),i=n(20),s=n.n(i),c=n(19),l=function(){var e=Object(o.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("".concat(c.b.baseUrl,"/example-short-header-and-filter"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(o.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("".concat(c.b.baseUrl,"/example-v2/").concat(t.id));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(o.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.a.get("".concat(c.b.baseUrl,"/example-short-header"),{params:{authorId:t}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},,function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(26),a=n(115),o=n(15),i=n(1397),s=n(131),c=n(426),l=n(783),u=n(802),d=n(803),p=n(346),m={addButton:{cursor:"pointer"}},f=Object(d.a)(i.b);function h(e){var t=e.addButtonLabel,n=e.areConditions,d=e.className,h=e.instrsList,g=e.onAddNewInstruction,b=e.onPasteInstructions,v=e.onMoveToInstruction,E=e.onMoveToInstructionsList,y=e.onInstructionClick,C=e.onInstructionContextMenu,j=e.onInstructionDoubleClick,O=e.onAddInstructionContextMenu,x=e.onParameterClick,k=e.selection,T=e.style,w=e.disabled,S=e.renderObjectThumbnail,P=e.screenType,_=e.windowWidth,I=o.useState(!1),N=Object(r.a)(I,2),A=N[0],R=N[1],M=o.useCallback((function(){g&&g({instrsList:h,isCondition:n})}),[g,h,n]),F=o.useCallback((function(){b({instrsList:h,isCondition:n})}),[b,h,n]),L=Object(s.mapFor)(0,h.size(),(function(e){var t=h.get(e),r={isCondition:n,instrsList:h,instruction:t,indexInList:e};return o.createElement(i.a,{instruction:t,isCondition:n,key:t.ptr,selected:Object(c.n)(k,t),onMoveToInstruction:function(){return v(r)},onClick:function(){return y(r)},onDoubleClick:function(){return j(r)},onContextMenu:function(e,t){return C(e,t,r)},onParameterClick:function(e,t){return x({isCondition:r.isCondition,instrsList:r.instrsList,instruction:r.instruction,indexInList:r.indexInList,parameterIndex:t,domEvent:e})},selection:k,onAddNewSubInstruction:g,onPasteSubInstructions:b,onMoveToSubInstruction:v,onMoveToSubInstructionsList:E,onSubInstructionClick:y,onSubInstructionDoubleClick:j,onSubInstructionContextMenu:C,onAddSubInstructionContextMenu:O,onSubParameterClick:x,disabled:w,renderObjectThumbnail:S,screenType:P,windowWidth:_})})),B={instrsList:h,isCondition:n},D=o.useRef(null),U=n?o.createElement(a.Trans,{id:"Add condition"}):o.createElement(a.Trans,{id:"Add action"}),G=Object(p.a)(o.useCallback((function(e){D.current&&O(D.current,B)}),[O,B,D]));return o.createElement(f,{canDrop:function(e){return e.isCondition===n},drop:function(){E({isCondition:n,instrsList:h})}},(function(e){var r=e.connectDropTarget,i=e.isOver,s=e.canDrop;return r(o.createElement("div",{className:d,style:T},L,i&&o.createElement(l.a,{canDrop:s}),o.createElement("span",{onPointerEnter:function(){R(n&&Object(u.c)()||!n&&Object(u.b)())},onPointerLeave:function(){R(!1)}},o.createElement("button",Object.assign({style:m.addButton,className:"add-link",onClick:M,onContextMenu:function(e){e.stopPropagation(),O(e.currentTarget,B)}},G,{ref:D}),t||U),A&&o.createElement("span",null,o.createElement("button",{style:m.addButton,className:"add-link",onClick:F},n?o.createElement(a.Trans,{id:"(or paste conditions)"}):o.createElement(a.Trans,{id:"(or paste actions)"}))))))}))}},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"f",(function(){return c}));var r=function(e){return"object-group-key-".concat(e.group.getName(),"-").concat(e.global?"-global":"")},a=function(e){return"object-key-".concat(e.object.getName(),"-").concat(e.global?"-global":"")},o=function(e){return"object-or-object-group-value-".concat(e)},i=function(e){return"instruction-key-".concat(e.fullGroupName,"-").concat(e.type)},s=function(e){return"instruction-value-".concat(e)},c=function(e){return"subheader-key-".concat(e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(15),a=n(2079),o=n(160),i=n(2118),s=n(117),c=n(163),l={popover:{paddingBottom:10,overflowY:"auto",overflowX:"hidden",minHeight:30,maxHeight:400,maxWidth:600,minWidth:300,zIndex:5}};function u(e){var t=r.useRef(null),n=r.useRef(null);return r.createElement(i.a,{onClickAway:function(t){t instanceof MouseEvent?e.onApply():setTimeout((function(){e.onApply()}),50)}},r.createElement(a.a,{open:e.open,anchorEl:e.anchorEl,style:l.popover,placement:"bottom-start",onKeyDown:function(r){Object(c.b)(r)?e.onRequestClose():Object(c.e)(r)&&e.onApply(),Object(c.c)(r)?r.target&&r.target===n.current&&(r.stopPropagation(),r.preventDefault(),t.current&&t.current.focus()):Object(c.d)(r)&&r.target&&r.target===t.current&&(r.stopPropagation(),r.preventDefault(),n.current&&n.current.focus())}},r.createElement(o.a,null,r.createElement("div",{tabIndex:0,ref:t}),r.createElement(s.a,{expand:!0},r.createElement(s.b,null,e.children)),r.createElement("div",{tabIndex:0,ref:n}))))}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(119),c=n(115),l=n(15),u=n(820),d=n(858),p=n(153),m=n(253),f=n.n(m),h=(n(1630),n(1631),function e(t,n,r,a,o){if(!t)return n;if("string"!==typeof t){if("end"===r&&t.second&&"string"!==typeof t.second)return Object(s.a)(Object(s.a)({},t),{},{second:e(t.second,n,r,a,o)});if("start"===r&&t.first&&"string"!==typeof t.first)return Object(s.a)(Object(s.a)({},t),{},{first:e(t.first,n,r,a,o)})}return{direction:"row"===o?"column":"row",first:"end"===r?t:n,second:"end"===r?n:t,splitPercentage:a}}),g=function e(t,n,r){return t?"string"===typeof t?t===n?r:t:t===n?r:Object(s.a)(Object(s.a)({},t),{},{first:e(t.first,n,r),second:e(t.second,n,r)}):t},b=[l.createElement(d.a,{key:"close"})],v=function(e){return l.createElement("div",{className:"mosaic-preview"},l.createElement("div",{className:"mosaic-window-toolbar"},l.createElement("div",{className:"mosaic-window-title"},e.title)),l.createElement("div",{className:"mosaic-window-body"}))},E=function(e){return l.createElement(u.MosaicWindow,Object.assign({},e,{toolbarControls:e.toolbarControls||b,renderPreview:v}))},y=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={mosaicNode:e.props.initialNodes},e.openEditor=function(t,n,r,a){var o=e.props,i=o.editors,s=o.limitToOneSecondaryEditor,c=e.props.editors[t];if(!c)return!1;var l=Object(u.getLeaves)(e.state.mosaicNode);if(-1!==l.indexOf(t))return!1;if(s&&"secondary"===c.type){var d=l.find((function(e){return"secondary"===i[e].type}));if(d)return e.setState({mosaicNode:g(e.state.mosaicNode,d,t)}),e._persistNodes(),!0}return e.setState({mosaicNode:h(e.state.mosaicNode,t,n,r,a)}),e._persistNodes(),!0},e._onChange=function(t){e.setState({mosaicNode:t}),e._persistNodes()},e._persistNodes=f()((function(){e.props.onPersistNodes&&e.state.mosaicNode&&e.props.onPersistNodes(e.state.mosaicNode)}),2e3),e}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.props.editors;return l.createElement(p.a,null,(function(n){return l.createElement(u.MosaicWithoutDragDropContext,{className:"".concat(n.mosaicRootClassName," mosaic-blueprint-theme mosaic-gd-theme"),renderTile:function(e,n){var r=t[e];return r?r.noTitleBar?r.renderEditor():l.createElement(c.I18n,null,(function(e){var t=e.i18n;return l.createElement(E,{path:n,title:t._(r.title),toolbarControls:r.toolbarControls},r.renderEditor())})):(console.error("Trying to render un unknown editor: "+e),null)},value:e.state.mosaicNode,onChange:e._onChange})}))}}]),n}(l.Component)},,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(3),a=n(4),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;Object(r.a)(this,e),this.left=t,this.top=n,this.right=a,this.bottom=o}return Object(a.a)(e,[{key:"set",value:function(e,t,n,r){this.left=e,this.top=t,this.right=n,this.bottom=r}},{key:"setRectangle",value:function(e){this.left=e.left,this.top=e.top,this.right=e.right,this.bottom=e.bottom}},{key:"width",value:function(){return this.right-this.left}},{key:"height",value:function(){return this.bottom-this.top}},{key:"centerX",value:function(){return(this.left+this.right)/2}},{key:"centerY",value:function(){return(this.top+this.bottom)/2}},{key:"union",value:function(e){e.left<this.left&&(this.left=e.left),e.top<this.top&&(this.top=e.top),e.right>this.right&&(this.right=e.right),e.bottom>this.bottom&&(this.bottom=e.bottom)}},{key:"toString",value:function(){return"["+this.left+" -> "+this.right+" ; "+this.top+" -> "+this.bottom+"]"}}]),e}()},,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var r=n(15),a=n(153),o=r.memo((function(e){var t=e.children;return r.createElement(a.a,null,(function(e){return r.createElement("div",{style:{backgroundColor:e.toolbar.backgroundColor,padding:3,flexShrink:0,display:"flex",overflowX:"auto",overflowY:"hidden"}},t)}))})),i=function(e){return{flex:1,display:"flex",alignItems:"center",justifyContent:e.firstChild?"flex-start":e.lastChild?"flex-end":"center"}},s=r.memo((function(e){return r.createElement("span",{style:i(e)},e.children)}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(119),a=n(185),o={width:200,height:32,closeButtonWidth:24};function i(e){return{mosaicRootClassName:e,eventsSheetRootClassName:e,tableRootClassName:e,markdownRootClassName:e}}function s(e,t,n,r,a){return{MuiTypography:{h6:{fontWeight:400}},MuiInput:{input:{padding:0,paddingBottom:3},underline:{"&:before":{borderBottom:"1px solid ".concat(n)}}},MuiAppBar:{colorPrimary:{backgroundColor:r}},MuiIconButton:{root:{color:a}},MuiListItemIcon:{root:{color:a}},MuiListItem:{secondaryAction:{paddingRight:40},gutters:{paddingRight:8}},MuiListItemSecondaryAction:{root:{right:8}},MuiTabs:{root:{backgroundColor:t,minHeight:32}},MuiTab:{textColorPrimary:{color:e+" !important"},root:{paddingTop:0,paddingBottom:0,minHeight:32}},MuiButtonBase:{root:{cursor:"default"}},MuiTableCell:{sizeSmall:{paddingTop:0,paddingBottom:0}},MuiDialogTitle:{root:{padding:8}},MuiDialogContent:{root:{padding:8,"&:first-child":{paddingTop:8}}},MuiFormControl:{marginDense:{marginTop:0,marginBottom:0}},MuiCheckbox:{root:{marginTop:-9,marginBottom:-9}},MuiButton:{root:{borderRadius:0,fontWeight:400}},MuiAccordion:{root:{margin:"5px","&$expanded":{margin:"5px","&:first-child":{marginTop:5},"&:before":{opacity:1}},"&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"}}},MuiAccordionSummary:{root:{"&$expanded":{minHeight:null}},content:{margin:0,"&$expanded":{margin:0}},expandIcon:{padding:0}},MuiAccordionDetails:{root:{padding:8}}}}function c(e,t){return{light:Object(a.e)(e,.05),main:e,dark:Object(a.a)(e,.05),contrastText:t}}function l(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return{gdevelopTheme:Object(r.a)(Object(r.a)({palette:{canvasColor:e.ThemeSurfaceCanvasBackgroundColor},message:{warning:e.ThemeMessageWarningColor,error:e.ThemeMessageErrorColor,valid:e.ThemeMessageValidColor},toolbar:{backgroundColor:e.ThemeSurfaceWindowBackgroundColor,separatorColor:e.ThemeToolbarSeparatorColor},text:{highlighted:{backgroundColor:e.ThemeTextHighlightedBackgroundColor}},closableTabs:Object(r.a)({fontFamily:e.GdevelopFontFamily,containerBackgroundColor:e.ThemeSurfaceWindowBackgroundColor,backgroundColor:e.ThemeClosableTabsDefaultBackgroundColor,textColor:e.ThemeClosableTabsDefaultColor,selectedBackgroundColor:e.ThemeClosableTabsSelectedBackgroundColor,selectedTextColor:e.ThemeClosableTabsSelectedColor},o),imageThumbnail:{selectedBorderColor:e.ThemeSelectionBackgroundColor},imagePreview:{backgroundFilter:e.ThemeImagePreviewBackgroundFilter,borderColor:e.ThemeImagePreviewBorderColor,frameBorderColor:e.ThemeImagePreviewFrameBorderColor},list:{itemsBackgroundColor:e.ThemeSurfaceAlternateCanvasBackgroundColor},searchBar:{backgroundColor:e.ThemeSurfaceAlternateCanvasBackgroundColor},listItem:{groupBackgroundColor:e.ThemeSurfaceWindowBackgroundColor,groupTextColor:e.ThemeListItemGroupTextColor,deprecatedGroupTextColor:e.ThemeListItemGroupTextDeprecatedColor,separatorColor:e.ThemeListItemSeparatorColor,selectedBackgroundColor:e.ThemeSelectionBackgroundColor,selectedTextColor:e.ThemeSelectionColor,rightIconColor:e.ThemeRightIconColor,selectedRightIconColor:e.ThemeRightIconColor,errorTextColor:e.ThemeListItemErrorColor,warningTextColor:e.ThemeListItemWarningColor,selectedErrorBackgroundColor:e.ThemeListItemErrorColor,selectedWarningBackgroundColor:e.ThemeListItemWarningColor},emptyMessage:{shadowColor:e.ThemeMessageEmptyShadowColor}},i(t)),{},{logo:{src:"res/GD-logo-big.png"},gdevelopIconsCSSFilter:a}),muiThemeOptions:{typography:{fontFamily:e.GdevelopFontFamily},palette:{type:n,common:{black:e.ThemePaletteBlack,white:e.ThemePaletteWhite},background:{paper:e.ThemeSurfaceCanvasBackgroundColor,default:e.ThemeSurfaceWindowBackgroundColor},primary:c(e.ThemePrimaryColor,e.ThemePrimaryTextContrastColor),secondary:c(e.ThemeSecondaryColor,e.ThemeSecondaryTextContrastColor),text:{primary:e.ThemeTextDefaultColor,secondary:e.ThemeTextSecondaryColor,disabled:e.ThemeTextDisabledColor,hint:e.ThemeTextSecondaryColor}},overrides:s(e.ThemeTextContrastColor,e.TabsBackgroundColor,e.InputBorderBottomColor,e.MosaicToolbarBackgroundColor,e.ThemeTextDefaultColor)}}}},,,,,function(e,t,n){"use strict";var r=n(15),a=n.n(r),o=n(170);t.a=function(){var e=a.a.useContext(o.a);return a.a.createElement("span",{style:{height:32,marginLeft:3,marginRight:3,borderLeftStyle:"solid",borderLeftWidth:1,borderColor:e.toolbar.separatorColor}})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={GENERAL:{id:"General"},IDE:{id:"IDE"},PROJECT:{id:"Project"},SCENE:{id:"Scene"},EVENTS:{id:"Events"}};t.b={QUIT_APP:{area:"GENERAL",displayText:{id:"Close GDevelop"},handledByElectron:!0},OPEN_PROJECT_MANAGER:{area:"IDE",displayText:{id:"Open project manager"},handledByElectron:!0},OPEN_PROFILE:{area:"IDE",displayText:{id:"Open My Profile"}},OPEN_GAMES_DASHBOARD:{area:"IDE",displayText:{id:"Open My Games Dashboard"}},LAUNCH_NEW_PREVIEW:{area:"PROJECT",displayText:{id:"Launch new preview"}},LAUNCH_DEBUG_PREVIEW:{area:"PROJECT",displayText:{id:"Launch preview with debugger and profiler"}},LAUNCH_NETWORK_PREVIEW:{area:"PROJECT",displayText:{id:"Launch network preview over WiFi/LAN"}},HOT_RELOAD_PREVIEW:{area:"PROJECT",displayText:{id:"Apply changes to the running preview"}},OPEN_HOME_PAGE:{area:"IDE",displayText:{id:"Show Home"}},CREATE_NEW_PROJECT:{area:"GENERAL",displayText:{id:"Create a new project"},handledByElectron:!0},OPEN_PROJECT:{area:"GENERAL",displayText:{id:"Open project"},handledByElectron:!0},SAVE_PROJECT:{area:"GENERAL",displayText:{id:"Save project"},handledByElectron:!0},SAVE_PROJECT_AS:{area:"GENERAL",displayText:{id:"Save project as..."},handledByElectron:!0},CLOSE_PROJECT:{area:"GENERAL",displayText:{id:"Close project"},handledByElectron:!0},EXPORT_GAME:{area:"PROJECT",displayText:{id:"Export game"},handledByElectron:!0},OPEN_RECENT_PROJECT:{area:"GENERAL",displayText:{id:"Open recent project..."}},OPEN_COMMAND_PALETTE:{area:"IDE",displayText:{id:"Open command palette"},ghost:!0},OPEN_PROJECT_PROPERTIES:{area:"PROJECT",displayText:{id:"Open project properties"}},OPEN_PROJECT_LOADING_SCREEN:{area:"PROJECT",displayText:{id:"Edit loading screen"}},OPEN_PROJECT_VARIABLES:{area:"PROJECT",displayText:{id:"Edit global variables"}},OPEN_PLATFORM_SPECIFIC_ASSETS_DIALOG:{area:"PROJECT",displayText:{id:"Open project icons"}},OPEN_PROJECT_RESOURCES:{area:"PROJECT",displayText:{id:"Open project resources"}},OPEN_SEARCH_EXTENSIONS_DIALOG:{area:"PROJECT",displayText:{id:"Search/import extensions"}},OPEN_LAYOUT:{area:"IDE",displayText:{id:"Open scene..."}},OPEN_EXTERNAL_EVENTS:{area:"IDE",displayText:{id:"Open external events..."}},OPEN_EXTERNAL_LAYOUT:{area:"IDE",displayText:{id:"Open external layout..."}},OPEN_EXTENSION:{area:"IDE",displayText:{id:"Open extension..."}},OPEN_SCENE_PROPERTIES:{area:"SCENE",displayText:{id:"Open scene properties"}},OPEN_SCENE_VARIABLES:{area:"SCENE",displayText:{id:"Open scene variables"}},OPEN_OBJECTS_PANEL:{area:"SCENE",displayText:{id:"Open the objects editor"}},OPEN_OBJECT_GROUPS_PANEL:{area:"SCENE",displayText:{id:"Open the object groups editor"}},OPEN_PROPERTIES_PANEL:{area:"SCENE",displayText:{id:"Open the properties panel"}},TOGGLE_INSTANCES_PANEL:{area:"SCENE",displayText:{id:"Open the list of instances"}},TOGGLE_LAYERS_PANEL:{area:"SCENE",displayText:{id:"Open the layers editor"}},SCENE_EDITOR_UNDO:{area:"SCENE",displayText:{id:"Undo the last changes"},noShortcut:!0},SCENE_EDITOR_REDO:{area:"SCENE",displayText:{id:"Redo the last changes"},noShortcut:!0},DELETE_INSTANCES:{area:"SCENE",displayText:{id:"Delete the selected instances from the scene"},noShortcut:!0},TOGGLE_WINDOW_MASK:{area:"SCENE",displayText:{id:"Toggle mask"}},TOGGLE_GRID:{area:"SCENE",displayText:{id:"Toggle grid"}},OPEN_SETUP_GRID:{area:"SCENE",displayText:{id:"Setup grid"}},EDIT_LAYER_EFFECTS:{area:"SCENE",displayText:{id:"Edit layer effects..."}},EDIT_LAYER:{area:"SCENE",displayText:{id:"Edit layer..."}},EDIT_OBJECT:{area:"SCENE",displayText:{id:"Edit object..."}},EDIT_OBJECT_BEHAVIORS:{area:"SCENE",displayText:{id:"Edit object behaviors..."}},EDIT_OBJECT_EFFECTS:{area:"SCENE",displayText:{id:"Edit object effects..."}},EDIT_OBJECT_VARIABLES:{area:"SCENE",displayText:{id:"Edit object variables..."}},EDIT_OBJECT_GROUP:{area:"SCENE",displayText:{id:"Edit object group..."}},ADD_STANDARD_EVENT:{area:"EVENTS",displayText:{id:"Add a new empty event"}},ADD_SUBEVENT:{area:"EVENTS",displayText:{id:"Add a sub-event to the selected event"}},ADD_COMMENT_EVENT:{area:"EVENTS",displayText:{id:"Add a comment"}},CHOOSE_AND_ADD_EVENT:{area:"EVENTS",displayText:{id:"Choose and add an event..."}},EVENTS_EDITOR_UNDO:{area:"EVENTS",displayText:{id:"Undo the last changes"},noShortcut:!0},EVENTS_EDITOR_REDO:{area:"EVENTS",displayText:{id:"Redo the last changes"},noShortcut:!0},DELETE_SELECTION:{area:"EVENTS",displayText:{id:"Delete the selected event(s)"},noShortcut:!0},SEARCH_EVENTS:{area:"EVENTS",displayText:{id:"Search in events"},noShortcut:!0},OPEN_EXTENSION_SETTINGS:{area:"EVENTS",displayText:{id:"Open extension settings"}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(15),a=function(e){var t=r.useRef(null),n=r.useRef({clientX:0,clientY:0}),a=r.useCallback((function(){t.current&&clearTimeout(t.current)}),[]);return r.useEffect((function(){return document.addEventListener("scroll",a,{capture:!0}),function(){a(),document.removeEventListener("scroll",a,{capture:!0})}}),[a]),{onTouchStart:r.useCallback((function(r){t.current&&clearTimeout(t.current),n.current=function(e){return e.touches&&e.touches.length>0?{clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}:{clientX:0,clientY:0}}(r),t.current=setTimeout((function(){e(n.current)}),600)}),[e]),onTouchMove:r.useCallback((function(e){if(1===e.touches.length){var t=e.touches[0],r=n.current,o=r.clientX,i=r.clientY;(Math.abs(t.clientX-o)>10||Math.abs(t.clientY-i)>10)&&a()}else a()}),[n,a]),onTouchEnd:a}}},,,,function(e,t,n){"use strict";var r=n(119),a=n(26),o=n(15),i=n.n(o),s=n(2217),c=n(1109),l=n.n(c),u=n(306),d={chipContainer:{display:"flex",flexWrap:"wrap",overflowX:"auto",marginTop:4},chip:{marginRight:4,marginBottom:4}},p=function(e){return l()({seed:e,luminosity:"light"})};t.a=function(e){var t=e.tags,n=e.onChange,o=e.onRemove;if(!t.length)return null;var c=i.a.useState(null),l=Object(a.a)(c,2),m=l[0],f=l[1],h=i.a.useState(null),g=Object(a.a)(h,2),b=g[0],v=g[1],E=[];i.a.useEffect((function(){if(null!==b){var e=E[Math.min(b,t.length-1)];e.current&&e.current.focus(),v(null)}}),[t,b,E]);var y=i.a.useCallback((function(e){var t=!!m&&m===e;return Object(r.a)(Object(r.a)({},d.chip),{},{backgroundColor:t?p(e):void 0,color:t?"black":void 0})}),[m]),C=function(e){return function(r){if(r.nativeEvent instanceof KeyboardEvent){var a=t.indexOf(e);v(a)}n?n(Object(u.e)(t,e)):o&&o(e)}};return i.a.createElement("div",{style:d.chipContainer},t.map((function(e){var t=i.a.createRef();return E.push(t),i.a.createElement(s.a,{key:e,size:"small",style:y(e),onBlur:function(){return f(null)},onFocus:function(){return f(e)},onDelete:n||o?C(e):null,label:e,ref:t})})))}},,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var r=n(15),a=e.gd,o=function(e){var t=e.serializableObject,n=e.useProjectToUnserialize,o=e.onCancel,i=r.useRef(null);return r.useEffect((function(){return i.current&&(i.current.delete(),i.current=null),i.current=new a.SerializerElement,t.serializeTo(i.current),function(){i.current&&(i.current.delete(),i.current=null)}}),[t]),r.useCallback((function(){var e=i.current;e&&(n?t.unserializeFrom(n,e):t.unserializeFrom(e),o())}),[t,n,o])}}).call(this,n(8))},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p}));var r=n(115),a=n(15),o=n(124),i=n(1131),s=n.n(i),c=n(1132),l=n.n(c),u=s.a,d=l.a;function p(e){var t=e.launchProjectDataOnlyPreview,n=e.hasPreviewsRunning;return a.createElement(o.a,{icon:n?a.createElement(d,null):a.createElement(u,null),label:n?a.createElement(r.Trans,{id:"Apply changes to preview"}):a.createElement(r.Trans,{id:"Run a preview"}),onClick:function(){return t()}})}},function(e,t,n){"use strict";var r=n(119),a=n(179),o=n(3),i=n(4),s=n(6),c=n(5),l=n(15),u=n(1134),d=n(2084),p=n(403),m={color:{width:"36px",height:"14px",borderRadius:"2px",textAlign:"center",fontSize:"10px"},swatch:{padding:"5px",background:"#fff",borderRadius:"1px",boxShadow:"0 0 0 1px rgba(0,0,0,.1)",display:"inline-block",cursor:"pointer"},popover:{zIndex:n.n(p).a.tooltip+100}},f=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a)))._swatch=l.createRef(),e.state={displayColorPicker:!1},e.open=function(){e.setState({displayColorPicker:!0})},e.handleClick=function(){e.setState({displayColorPicker:!e.state.displayColorPicker})},e.handleClose=function(){e.setState({displayColorPicker:!1})},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=e.color,o=Object(a.a)(e,["style","color"]),i=n||{r:200,g:200,b:200,a:1};return l.createElement("div",{style:t},l.createElement("div",{style:m.swatch,onClick:this.handleClick,ref:this._swatch},l.createElement("div",{style:Object(r.a)(Object(r.a)({},m.color),{},{background:"rgba(".concat(i.r,", ").concat(i.g,", ").concat(i.b,", ").concat(i.a||1,")")})},n?null:"?")),this.state.displayColorPicker&&this._swatch.current?l.createElement(d.a,{open:!0,onClose:this.handleClose,anchorEl:this._swatch.current,style:m.popover},l.createElement(u.SketchPicker,Object.assign({color:i},o))):null)}}]),n}(l.Component);t.a=f},,,function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return c}));var r=n(131),a=function(e){return Object(r.mapFor)(0,e.getLayoutsCount(),(function(t){return e.getLayoutAt(t)}))},o=function(e){return Object(r.mapFor)(0,e.getExternalEventsCount(),(function(t){return e.getExternalEventsAt(t)}))},i=function(e){return Object(r.mapFor)(0,e.getExternalLayoutsCount(),(function(t){return e.getExternalLayoutAt(t)}))},s=function(e){return Object(r.mapFor)(0,e.getEventsFunctionsExtensionsCount(),(function(t){return e.getEventsFunctionsExtensionAt(t)}))},c=function(e,t){if(!t)return e;var n=t.toLowerCase();return e.filter((function(e){return-1!==e.getName().toLowerCase().indexOf(n)}))}},function(e,t,n){"use strict";n.d(t,"e",(function(){return m})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return g})),n.d(t,"d",(function(){return b}));var r=n(0),a=n.n(r),o=n(1),i=n(119),s=n(20),c=n.n(s),l=n(19),u=n(728),d=n.n(u),p=function(e){return Array.isArray(e.tags)?e:Object(i.a)(Object(i.a)({},e),{},{tags:e.tags.split(",").map((function(e){return e.trim().toLowerCase()}))})},m=function(e,t){return!t.gdevelopVersion||d()(e,t.gdevelopVersion,{includePrerelease:!0})},f=function(){return c.a.get("".concat(l.b.baseUrl,"/extensions-registry")).then((function(e){return e.data})).then((function(e){return Object(i.a)(Object(i.a)({},e),{},{extensionShortHeaders:e.extensionShortHeaders.map(p)})}))},h=function(e){return c.a.get(e.headerUrl).then((function(e){var t=e.data;return p(t)}))},g=function(e){return c.a.get(e.url).then((function(e){var t=e.data;return p(t)}))},b=function(){var e=Object(o.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.get("".concat(l.b.baseUrl,"/extension-short-header"),{params:{authorId:t}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(119),a=n(15),o=n(203),i={iconBackground:{flex:0,display:"flex",justifyContent:"center"},icon:{background:"linear-gradient(45deg, #FFFFFF33, #FFFFFF)",borderRadius:4}},s=function(e){var t=e.src,n=e.alt,s=e.size,c=s>24?4:2;return a.createElement("div",{style:i.iconBackground},a.createElement(o.a,{style:Object(r.a)(Object(r.a)({},i.icon),{},{padding:c,width:s-2*c,height:s-2*c}),src:t,alt:n}))}},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var r=n(18),a=n(119),o=n(1425),i=n.n(o),s=n(1428),c=n.n(s),l=function(e){var t={};return e.forEach((function(e){var n=c()(e.fullGroupName.split("/"));n.length||(n=[""]),i()(t,n,(function(t){var n=t||{};return Object(a.a)(Object(a.a)({},n),{},{[e.displayedName]:e})}))})),t},u=function e(t,n){if(!n)return null;for(var a=Object.keys(t),o=0;o<a.length;++o){var i=a[o],s=t[i];if(!s)return null;if("string"===typeof s.type){if(s.type===n)return[]}else{var c=e(s,n);if(c)return[i].concat(Object(r.a)(c))}}return null}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var r=e.gd,a=function(e,t){return e.filter((function(e){if(!e.isPrivate)return!0;var n,a,o=e.scope,i=o.behaviorMetadata,s=o.extension,c=t.eventsBasedBehavior,l=t.eventsFunctionsExtension;return!!(i&&c&&l&&(n=l.getName(),a=c.getName(),n+r.PlatformExtension.getNamespaceSeparator()+a===i.getName()))||!(i||!l||l.getName()!==s.getName())}))}}).call(this,n(8))},function(e,t,n){"use strict";var r=n(15),a=n(169),o={oneColumnContainer:{display:"flex",flexDirection:"column"},twoColumnsContainer:{display:"flex"}};t.a=function(e){return"small"===e.windowWidth?r.createElement("div",{style:o.oneColumnContainer,className:e.className},e.renderConditionsList({style:{},className:"".concat(a.c," ").concat(a.s)}),e.renderActionsList({style:{},className:"".concat(a.a," ").concat(a.s)})):r.createElement("div",{style:o.twoColumnsContainer,className:e.className},e.renderConditionsList({style:{width:"calc(35vw - ".concat(e.leftIndentWidth,"px)")},className:a.c}),e.renderActionsList({className:a.a}))}},function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var r=n(20),a=n.n(r),o=n(19),i=function(){return a.a.get("".concat(o.b.baseUrl,"/tutorial")).then((function(e){return e.data}))},s=function(e){switch(e){case"ParticleSystem::ParticleEmitter":return["particle-effects"];case"Lighting::LightObject":return["flickering-dynamic-light-effect"];default:return[]}},c=function(e){switch(e){case"Tween::TweenBehavior":return["tween-behavior"];case"AnchorBehavior::AnchorBehavior":return["responsive-ui"];case"Physics2::Physics2Behavior":return["physics-engine-platformer-game","2d-car-physics-movement"];default:return[]}},l=function(e){switch(e){case"CameraX":case"CameraY":case"RotateCamera":case"ZoomCamera":case"FixCamera":case"CentreCamera":return["smooth-camera-movement"];case"ChangeTimeScale":return["pause-menu"];case"EcrireFichierExp":case"EcrireFichierTxt":case"LireFichierExp":case"LireFichierTxt":return["save-and-load"];case"PlatformBehavior::SimulateJumpKey":return["simple-trampoline-platformer"];default:return[]}}},,,,,,function(e,t,n){"use strict";var r=n(15),a=n(186),o=n(2131),i=n(2092),s=n(1666),c=n.n(s),l=n(117),u=function(){throw new Error("This RaisedButtonWithSplitMenu onClick should never be called")},d={mainButton:{flex:1}};t.a=function(e){var t=e.buildMenuTemplate,n=e.onClick,s=e.label,p=e.primary,m=e.icon,f=e.disabled;return r.createElement(o.a,{variant:"contained",color:p?"primary":"default",disabled:f,size:"small"},r.createElement(i.a,{focusRipple:!0,onClick:n,style:d.mainButton},m,m&&r.createElement(l.c,null),s),r.createElement(a.a,{passExtraProps:!0,element:r.createElement(i.a,{onClick:u,focusRipple:!0},r.createElement(c.a,null)),buildMenuTemplate:t}))}},function(e,t,n){"use strict";(function(e){var r=n(119),a=n(26),o=n(115),i=n(138),s=n(568),c=n(15),l=(n(144),n(117)),u=n(215),d=n(1675),p=n.n(d),m=n(1676),f=n.n(m),h=n(1677),g=n.n(h),b=n(315),v=n(125),E=n(203),y=n(170),C=n(313),j=n(603),O=e.gd,x={previewImagePixelated:{imageRendering:Object(j.a)()},contentContainer:{position:"relative",height:"100%",overflow:"hidden"},imagePreviewContainer:{position:"relative",width:"100%",height:"100%",boxSizing:"border-box",overflow:"auto",touchAction:"none"},spriteThumbnailImage:{position:"relative",pointerEvents:"none",margin:50}},k=function(e){return{errored:!1,imageSource:e.resourcesLoader.getResourceFullUrl(e.project,e.resourceName,{})}};t.a=function(e){var t=c.useState(Object(r.a)({errored:!1,imageWidth:null,imageHeight:null,imageZoomFactor:1},k(e))),n=Object(a.a)(t,2),d=n[0],m=n[1];c.useEffect((function(){m((function(t){return Object(r.a)(Object(r.a)({},t),k({resourceName:e.resourceName,project:e.project,resourcesLoader:e.resourcesLoader}))}))}),[e.resourceName,e.project,e.resourcesLoader,e.resourcePath]);var h=function(){m((function(e){return Object(r.a)(Object(r.a)({},e),{},{errored:!0})}))},j=function(t){var n=t.target,a=n?n.naturalWidth||n.clientWidth:0,o=n?n.naturalHeight||n.clientHeight:0;m((function(e){return Object(r.a)(Object(r.a)({},e),{},{imageWidth:a,imageHeight:o})})),e.onSize&&e.onSize(a,o)},T=function(e){w(d.imageZoomFactor+e)},w=function(e){m((function(t){return Object(r.a)(Object(r.a)({},t),{},{imageZoomFactor:Math.min(10,Math.max(.1,e))})}))},S=c.useContext(y.a),P=S.imagePreview.frameBorderColor||"#aaa",_=S.imagePreview.borderColor||"#aaa";return c.createElement(s.a,{bounds:!0},(function(t){var n=t.contentRect,a=t.measureRef,s=n.bounds.width,m=n.bounds.height,y=e.resourceName,k=e.renderOverlay,S=e.fixedHeight,I=e.project,N=d.imageHeight,A=d.imageWidth,R=d.imageSource,M=d.imageZoomFactor,F=!!A&&!!N&&!d.errored,L=Math.max(0,m/2-(N||0)*M/2-50),B=Math.max(0,s/2-(A||0)*M/2-50),D=Object(r.a)(Object(r.a)({},x.spriteThumbnailImage),{},{top:L||0,left:B||0,width:A?A*M:void 0,height:N?N*M:void 0,visibility:F?void 0:"hidden"},function(e,t){var n=e.getResourcesManager().getResource(t);return"image"===n.getKind()&&O.asImageResource(n).isSmooth()}(I,y)?void 0:x.previewImagePixelated),U={position:"absolute",top:L+50||0,left:B+50||0,width:A?A*M:void 0,height:N?N*M:void 0,visibility:F?void 0:"hidden",border:"1px solid ".concat(P)},G={position:"absolute",top:0,left:0,width:"100%",height:"100%",visibility:F?void 0:"hidden"};return c.createElement(l.a,{expand:!0,noMargin:!0,useFullHeight:!0},c.createElement(u.b,null,c.createElement(i.a,{onClick:function(){return T(.2)},tooltip:{id:"Zoom in (you can also use Ctrl + Mouse wheel)"}},c.createElement(p.a,null)),c.createElement(i.a,{onClick:function(){return T(-.2)},tooltip:{id:"Zoom out (you can also use Ctrl + Mouse wheel)"}},c.createElement(f.a,null)),c.createElement(i.a,{onClick:function(){return w(1)},tooltip:{id:"Restore original size"}},c.createElement(g.a,null))),c.createElement("div",{style:Object(r.a)(Object(r.a)({},x.contentContainer),{},{height:S||"100%"})},c.createElement(C.a,null),c.createElement("div",{dir:"ltr",style:Object(r.a)(Object(r.a)({},x.imagePreviewContainer),{},{border:"1px solid ".concat(_)}),ref:a,onWheel:function(e){var t=e.deltaY;(e.metaKey||e.ctrlKey)&&(T(-t/500),e.preventDefault(),e.stopPropagation())}},!!d.errored&&c.createElement(b.a,null,c.createElement(v.a,null,c.createElement(o.Trans,{id:"Unable to load the image"}))),!d.errored&&c.createElement(E.a,{style:D,alt:y,src:R,onError:h,onLoad:j}),F&&k&&c.createElement("div",{style:U}),F&&k&&c.createElement("div",{style:G},k({imageWidth:A||0,imageHeight:N||0,offsetTop:L+50,offsetLeft:B+50,imageZoomFactor:M})))))}))}}).call(this,n(8))},,,,function(e,t,n){"use strict";var r=n(3),a=n(4),o=n(6),i=n(5),s=n(15),c=n.n(s),l=n(115),u=n(2006),d=n(2087),p=n(17),m=n.n(p),f=m()("electron"),h=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,[{key:"buildFromTemplate",value:function(e){this.menuTemplate=e}},{key:"showMenu",value:function(e){if(f){var t=f.remote.Menu,n=f.remote.getCurrentWindow();this.menu=t.buildFromTemplate(this.menuTemplate),this.menu.popup({window:n,x:Math.round(e.left),y:Math.round(e.top+e.height),async:!0})}}},{key:"getMenuProps",value:function(){return{open:!1}}}]),e}(),g=n(26),b=n(2082),v=n(1007),E=n.n(v),y=n(1009),C=n.n(y),j=n(1010),O=n.n(j),x=n(2089),k=n(2090),T=n(2088),w=function(e){var t=e.item,n=e.buildFromTemplate,r=Object(s.useState)(!1),a=Object(g.a)(r,2),o=a[0],i=a[1],l=Object(s.useRef)(null),p=Object(s.useCallback)((function(e){l.current=e}),[]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(b.a,{dense:!0,key:t.label,disabled:!1===t.enabled,onClick:function(e){!1!==t.enabled&&(l.current||p(e.currentTarget),i(!o))}},t.label,c.a.createElement(E.a,null)),c.a.createElement(u.a,{open:o,anchorEl:l.current,onClose:function(){return i(!1)},TransitionComponent:d.a},n(t.submenu)))},S=function(){function e(t){var n=t.onClose;Object(r.a)(this,e),this._onClose=n}return Object(a.a)(e,[{key:"buildFromTemplate",value:function(e){var t=this;return e.map((function(e,n){return!1===e.visible?null:"separator"===e.type?c.a.createElement(T.a,{key:"separator"+n}):"checkbox"===e.type?c.a.createElement(b.a,{dense:!0,key:"checkbox"+e.label,checked:e.checked,disabled:!1===e.enabled,onClick:function(){!1!==e.enabled&&(e.click&&e.click(),t._onClose())}},c.a.createElement(x.a,null,e.checked?c.a.createElement(C.a,null):c.a.createElement(O.a,null)),c.a.createElement(k.a,{primary:e.label})):e.submenu?c.a.createElement(w,{key:"submenu"+e.label,item:e,buildFromTemplate:function(e){return t.buildFromTemplate(e)}}):c.a.createElement(b.a,{dense:!0,key:"item"+e.label,disabled:!1===e.enabled,onClick:function(){!1!==e.enabled&&e.click&&(e.click(),t._onClose())}},e.label)})).filter(Boolean)}},{key:"showMenu",value:function(){}},{key:"getMenuProps",value:function(){return{}}}]),e}(),P=m()("electron"),_=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).open=function(e,t){a.setState({anchorX:e,anchorY:t},(function(){a.setState({open:!0})}))},a._onClose=function(){a.setState({open:!1})},a.state={open:!1,anchorX:0,anchorY:0},a.menuImplementation=new S({onClose:a._onClose}),a}return Object(a.a)(n,[{key:"render",value:function(){var e=this;return this.state.open?c.a.createElement(l.I18n,null,(function(t){var n=t.i18n;return c.a.createElement(u.a,Object.assign({open:e.state.open,anchorPosition:{left:e.state.anchorX,top:e.state.anchorY},anchorReference:"anchorPosition",onClose:e._onClose,TransitionComponent:d.a},e.menuImplementation.getMenuProps()),e.menuImplementation.buildFromTemplate(e.props.buildMenuTemplate(n)))})):null}}]),n}(c.a.Component),I=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).open=function(e,t){a.menuImplementation.buildFromTemplate(a.props.buildMenuTemplate(a.props.i18n)),a.menuImplementation.showMenu({left:e||0,top:t||0,width:0,height:0})},a.menuImplementation=new h,a}return Object(a.a)(n,[{key:"render",value:function(){return null}}]),n}(c.a.Component),N=c.a.forwardRef((function(e,t){var n=c.a.useRef(null);return c.a.useImperativeHandle(t,(function(){return{open:function(e,t){n.current&&n.current.open(e,t)}}})),c.a.createElement(l.I18n,null,(function(t){var r=t.i18n;return c.a.createElement(I,Object.assign({},e,{i18n:r,ref:n}))}))}));t.a=P?N:_},function(e,t,n){"use strict";var r=n(15),a=n(144),o=n(260),i=n(3),s=n(4),c=n(6),l=n(5),u=n(726),d=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(e){var r;return Object(i.a)(this,n),(r=t.call(this,e)).state=r._loadFrom(e),r}return Object(s.a)(n,[{key:"componentWillReceiveProps",value:function(e){e.resourceName===this.props.resourceName&&e.project===this.props.project||this.setState(this._loadFrom(e))}},{key:"_loadFrom",value:function(e){var t=e.project,n=e.resourceName,r=t.getResourcesManager();return{resourceKind:r.hasResource(n)?r.getResource(n).getKind():null}}},{key:"render",value:function(){switch(this.state.resourceKind){case"image":return r.createElement(u.a,{project:this.props.project,resourceName:this.props.resourceName,resourcesLoader:this.props.resourcesLoader,style:this.props.style,selectable:this.props.selectable,selected:this.props.selected,onSelect:this.props.onSelect,onContextMenu:this.props.onContextMenu});default:return null}}}]),n}(r.Component),p={container:{flex:1,display:"flex",alignItems:"flex-end"},selectorContainer:{flex:1},resourceThumbnail:{marginLeft:10,marginBottom:4}};t.a=function(e){var t=e.project,n=e.resourceSources,i=e.onChooseResource,s=e.resourceExternalEditors,c=e.resourceKind,l=e.resourceName,u=e.onChange,m=e.floatingLabelText,f=e.hintText;return r.createElement("div",{style:p.container},r.createElement("div",{style:p.selectorContainer},r.createElement(o.a,{project:t,resourceSources:n,onChooseResource:i,resourceExternalEditors:s,resourcesLoader:a.a,resourceKind:c,fullWidth:!0,initialResourceName:l,onChange:u,floatingLabelText:m,hintText:f})),r.createElement(d,{resourceName:l,resourcesLoader:a.a,project:t,style:p.resourceThumbnail}))}},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(119),a=n(3),o=n(4),i=n(6),s=n(5),c=n(15),l=c.createContext({hasUnsavedChanges:!1,sealUnsavedChanges:function(){},triggerUnsavedChanges:function(){}});t.b=l;var u=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={hasUnsavedChanges:!1},e.triggerUnsavedChanges=function(){e.state.hasUnsavedChanges||e.setState({hasUnsavedChanges:!0})},e.sealUnsavedChanges=function(){e.state.hasUnsavedChanges&&e.setState({hasUnsavedChanges:!1})},e}return Object(o.a)(n,[{key:"render",value:function(){var e=Object(r.a)(Object(r.a)({},this.state),{},{triggerUnsavedChanges:this.triggerUnsavedChanges,sealUnsavedChanges:this.sealUnsavedChanges});return c.createElement(l.Provider,{value:e},this.props.children)}}]),n}(c.Component)},,,,function(e,t,n){"use strict";var r=n(15),a=n.n(r),o=n(1115),i=n.n(o),s=n(251),c={handle:{display:"flex",cursor:"move"},disabledHandle:{display:"flex",opacity:.4},handleColor:"#DDD"},l=Object(s.SortableHandle)((function(e){return a.a.createElement("span",{style:e.disabled?c.disabledHandle:c.handle},a.a.createElement(i.a,{htmlColor:c.handleColor}))}));t.a=l},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(15),a=n(2085),o=n(117),i=function(e){return r.createElement(o.a,{alignItems:"center"},r.createElement(a.a,{variant:"outlined",style:{maxWidth:"450px",whiteSpace:"normal"}},r.createElement(o.a,null,e.children,r.createElement(o.b,{expand:!0,justifyContent:"flex-end"},e.renderButtons()))))}},function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var r=n(30),a=n(353),o=n.n(a),i=e.gd,s=function(e){return/^([A-Za-z]{1}[A-Za-z\d_]*\.)+[A-Za-z][A-Za-z\d_]*$/i.test(e)},c=function(e,t){var n={},r=function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";n[e]||(n[e]=[]),n[e].push({type:t,message:r,extraExplanation:a})};return t.getPackageName()?t.getPackageName().length>=255?r("packageName","error",e("The package name is too long."),e("Change the package name in the game properties.")):s(t.getPackageName())||r("packageName","error",e('The package name is containing invalid characters or not following the convention "xxx.yyy.zzz" (numbers allowed after a letter only).'),e("Change the package name in the game properties.")):r("packageName","error",e("The package name is empty."),e("Choose and enter a package name in the game properties.")),t.getName()||r("name","error",e("The name of your game is too long."),e("Change the name in the game properties.")),(!t.getVersion()||t.getVersion().split(".").length<3)&&r("packageName","error",e("The version that you've set for the game is invalid."),e("Enter a version in the game properties.")),n},l=function(e,t){return!Object.keys(t).length||(Object(r.a)({message:e("Your game has some invalid elements, please fix these before continuing:")+"\n\n"+o()(t).map((function(e){return e.map((function(e){return"- ".concat(e.message)})).join("\n")})).join("\n"),rawError:void 0,errorId:"project-invalid-settings-error",doNotReport:!0}),!1)},u=function(e){for(var t=i.WholeProjectRefactorer.findInvalidRequiredBehaviorProperties(e),n=0;n<t.size();n++){var r=t.at(n),a=i.WholeProjectRefactorer.getBehaviorsWithType(r.getSourceObject(),r.getExpectedBehaviorTypeName()).toJSArray();console.error('Invalid value for required behavior property "'.concat(r.getSourcePropertyName(),'" in object ').concat(r.getSourceObject().getName()," for behavior ").concat(r.getSourceBehaviorContent().getName(),".")),console.info("Expected behavior of type ".concat(r.getExpectedBehaviorTypeName(),". Possibles values are: ").concat(a.join(", ")||"(none)","."))}}}).call(this,n(8))},,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return p}));var r=n(20),a=n.n(r),o=n(19),i=function(){return[{planId:"gdevelop_pro",name:"GDevelop Pro",monthlyPriceInEuros:7,smallDescription:{id:"Ideal for advanced game makers"},descriptionBullets:[{message:{id:"Package your game for Android up to 70 times a day (every 24 hours)."}},{message:{id:"One-click packaging for Windows, macOS and Linux up to 70 times a day (every 24 hours)."}},{message:{id:"Immerse your players by removing GDevelop logo when the game loads."}}],extraDescription:{id:"You'll also have access to online packaging for iOS or other services when they are released."}},{planId:"gdevelop_indie",name:"GDevelop Indie",monthlyPriceInEuros:2,smallDescription:{id:"Ideal for beginners"},descriptionBullets:[{message:{id:"Package your game for Android up to 10 times a day (every 24 hours)."}},{message:{id:"One-click packaging for Windows, macOS and Linux up to 10 times a day (every 24 hours)."}},{message:{id:"Immerse your players by removing GDevelop logo when the game loads"}}],extraDescription:{id:"You'll also have access to online packaging for iOS or other services when they are released."}},{planId:null,name:"No subscription",monthlyPriceInEuros:0,descriptionBullets:[{message:{id:"You can use GDevelop for free! Online packaging for Android, Windows, macOS and Linux is limited to twice a day (every 24 hours) to avoid overloading the services."}}]}]},s=function(e,t){return e().then((function(e){return a.a.get("".concat(o.i.baseUrl,"/usage"),{params:{userId:t},headers:{Authorization:e}})})).then((function(e){return e.data}))},c=function(e,t){return e().then((function(e){return a.a.get("".concat(o.i.baseUrl,"/limits"),{params:{userId:t},headers:{Authorization:e}})})).then((function(e){return e.data.limits}))},l=function(e,t){return e().then((function(e){return a.a.get("".concat(o.i.baseUrl,"/subscription-v2"),{params:{userId:t},headers:{Authorization:e}})})).then((function(e){return e.data}))},u=function(e,t,n){return e().then((function(e){return a.a.post("".concat(o.i.baseUrl,"/subscription-v2"),n,{params:{userId:t},headers:{Authorization:e}})})).then((function(e){return e.data}))},d=function(e){return a.a.post("".concat(o.i.baseUrl,"/upload-options/signed-url"),e).then((function(e){return e.data}))},p=function(e,t,n){return"".concat(o.i.baseUrl,"/subscription-v2/redirect-to-checkout?planId=").concat(encodeURIComponent(e),"&clientReferenceId=").concat(encodeURIComponent(t),"&customerEmail=").concat(encodeURIComponent(n))}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(115),a=n(15),o=n(158),i=n(223),s=n(545),c=n(205),l=n(136),u={container:{flex:1},grid:{overflowX:"hidden"}},d=function(e){var t=e.searchItems,n=e.getSearchItemUniqueId,d=e.renderSearchItem,p=e.error,m=e.onRetry,f=a.useRef(null),h=a.useRef(0),g=a.useRef({}),b=a.useCallback((function(e,t){return g.current[n(e)]!==t&&(g.current[n(e)]=t,!0)}),[n]),v=a.useCallback((function(e){var r=e.index;if(!t||!t[r])return 90;var a=t[r];return g.current[n(a)]||90}),[t,n]),E=a.useCallback((function(e){var n=e.key,r=e.rowIndex,o=e.style;if(!t)return null;var i=t[r];return i?a.createElement("div",{key:n,style:o},d(i,(function(e){b(i,e)&&f.current&&f.current.recomputeGridSize(0,r)}))):null}),[t,b,d]);return t?0===t.length?a.createElement(l.a,null,a.createElement(r.Trans,{id:"No results returned for your search. Try something else or typing at least 2 characters."})):a.createElement(s.a,null,a.createElement("div",{style:u.container},a.createElement(c.a,null,(function(e){var n=e.width,r=e.height;return n&&r?(h.current!==n&&(g.current={},h.current=n),a.createElement(c.e,{ref:function(e){e&&e.recomputeGridSize(0,0),f.current=e},width:n,height:r,columnCount:1,columnWidth:n,rowHeight:v,rowCount:t.length,cellRenderer:E,style:u.grid})):null})))):p?a.createElement(i.a,{onRetry:m},a.createElement(r.Trans,{id:"Can't load the results. Verify your internet connection or retry later."})):a.createElement(o.a,null)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(15),a=n(2217),o=n(743),i=n.n(o),s=n(742),c={chip:{marginRight:2}},l=function(e){var t=e.user,n=e.isClickable,o=void 0!==n&&n,l=r.useContext(s.a).openUserPublicProfile;return r.createElement(a.a,{icon:r.createElement(i.a,null),size:"small",style:c.chip,label:t.username,key:t.username,onClick:o?function(){return l(t.id)}:null})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(15),a=n(754),o=n(755),i=r.createContext(new a.a),s=function(e){var t=Object(o.a)((function(){return new a.a}));return r.createElement(i.Provider,{value:t},e.children)};t.b=i},,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"m",(function(){return m})),n.d(t,"n",(function(){return f})),n.d(t,"h",(function(){return h})),n.d(t,"i",(function(){return g})),n.d(t,"k",(function(){return b})),n.d(t,"j",(function(){return v})),n.d(t,"l",(function(){return E})),n.d(t,"a",(function(){return y})),n.d(t,"o",(function(){return C})),n.d(t,"p",(function(){return j}));var r=n(119),a=n(13),o=n(353),i=n.n(o),s=function(){return{selectedInstructions:{},selectedEvents:{},selectedInstructionsLists:{}}},c=function(e){return i()(e.selectedEvents).map((function(e){return e.event}))},l=function(e){return i()(e.selectedEvents)},u=function(e){return i()(e.selectedInstructions).map((function(e){return e.instruction}))},d=function(e){return i()(e.selectedInstructions)},p=function(e){return i()(e.selectedInstructionsLists)},m=function(e,t){return!!e.selectedEvents[t.ptr]},f=function(e,t){return!!e.selectedInstructions[t.ptr]},h=function(e){return!!Object.keys(e.selectedEvents).length},g=function(e){return!!Object.keys(e.selectedInstructions).length},b=function(e){var t,n=Object(a.a)(d(e));try{for(n.s();!(t=n.n()).done;){if(t.value.isCondition)return!0}}catch(r){n.e(r)}finally{n.f()}return!1},v=function(e){return!!Object.keys(e.selectedInstructionsLists).length},E=function(e){return g(e)||v(e)||h(e)},y=function(){return s()},C=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=t.event;if(m(e,a))return e;var o=n?e:y();return Object(r.a)(Object(r.a)({},o),{},{selectedEvents:Object(r.a)(Object(r.a)({},o.selectedEvents),{},{[a.ptr]:t})})},j=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=t.instruction;if(f(e,a))return e;var o=n?e:y();return Object(r.a)(Object(r.a)({},o),{},{selectedInstructions:Object(r.a)(Object(r.a)({},o.selectedInstructions),{},{[a.ptr]:t})})}},,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return S}));var r=n(119),a=n(3),o=n(4),i=n(6),s=n(5),c=n(115),l=n(15),u=n(173),d=n.n(u),p=n(151),m=n(187),f=n(365),h=n(258),g=n(153),b=n(794),v=n(795),E=n(136),y=n(164),C=n(117),j=n(127),O=n(320),x=n(129),k=e.gd,T={searchBar:{backgroundColor:"transparent",flexShrink:0,zIndex:1}},w=function(e){return k.JsPlatform.get().getInstructionOrExpressionGroupMetadata(e).getIcon()},S=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={searchText:"",searchResults:[]},e._scrollView=l.createRef(),e._selectedItem=l.createRef(),e.initialInstructionTypePath=Object(f.b)(e.props.instructionsInfoTree,e.props.selectedType),e.focus=function(){e._searchBar&&e._searchBar.focus()},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.focusOnMount&&Object(m.b)()&&this._searchBar&&this._searchBar.focus(),this._selectedItem.current&&this._scrollView.current&&this._scrollView.current.scrollTo(this._selectedItem.current)}},{key:"render",value:function(){var e=this,t=this.props,n=t.selectedType,a=t.iconSize,o=t.instructionsInfoTree,i=t.onChoose,s=t.searchPlaceholderObjectName,u=t.searchPlaceholderIsCondition,f=t.useSubheaders,k=t.helpPagePath,S=t.style,P=t.onClickMore,_=this.state.searchText,I=_?Object(h.e)(this.props.instructionsInfo,{searchText:_}):[],N=!_||!!I.length,A=function(){I.length&&i(I[0].type,I[0])};return l.createElement(g.a,null,(function(t){return l.createElement("div",{style:Object(r.a)({backgroundColor:t.list.itemsBackgroundColor},S)},l.createElement(m.a,{value:_,onChange:function(t){return e.setState({searchText:t})},onRequestSearch:A,style:T.searchBar,placeholder:s?u?{id:"Search {searchPlaceholderObjectName} conditions",values:{searchPlaceholderObjectName:s}}:{id:"Search {searchPlaceholderObjectName} actions",values:{searchPlaceholderObjectName:s}}:void 0,helpPagePath:k,ref:function(t){return e._searchBar=t}}),l.createElement(y.a,{ref:e._scrollView},N&&l.createElement(p.a,null,_?I.map((function(e){return Object(b.a)({instructionOrExpressionMetadata:e,iconSize:a,onClick:function(){return i(e.type,e)},selectedValue:Object(O.b)(n)})})):l.createElement(l.Fragment,null,Object(v.a)({instructionTreeNode:o,iconSize:a,onChoose:i,useSubheaders:f,selectedValue:Object(O.b)(n),initiallyOpenedPath:e.initialInstructionTypePath,selectedItemRef:e._selectedItem,getGroupIconSrc:w}),P&&l.createElement(x.b,{justifyContent:"center"},l.createElement(j.a,{primary:!0,icon:l.createElement(d.a,null),onClick:P,label:l.createElement(c.Trans,{id:"Add a new behavior to the object"})})))),!N&&l.createElement(C.b,null,l.createElement(E.a,null,l.createElement(c.Trans,{id:"Nothing corresponding to your search. Try browsing the list instead."})))))}))}}]),n}(l.PureComponent)}).call(this,n(8))},function(e,t,n){"use strict";var r=n(115),a=n(15),o=n(143),i=n(156),s=n(16),c=n(127),l=n(806),u=n.n(l),d=n(1476),p=n.n(d),m=n(430);t.a=function(e){var t=e.tutorialId,n=a.useContext(o.a),l=n.values,d=n.showTutorialHint,f=a.useContext(m.a).tutorials;if(l.hiddenTutorialHints[t])return null;if(!f)return null;var h=f.find((function(e){return e.id===t}));return h?a.createElement(r.I18n,null,(function(e){e.i18n;return a.createElement(i.a,{kind:"info",children:h.title,renderLeftIcon:function(){return a.createElement("img",{alt:"",style:{maxWidth:128,maxHeight:128},src:h.thumbnailUrl})},renderRightButton:function(){return a.createElement(c.a,{icon:"video"===h.type?a.createElement(u.a,null):a.createElement(p.a,null),label:"video"===h.type?a.createElement(r.Trans,{id:"Watch the tutorial"}):a.createElement(r.Trans,{id:"Read the tutorial"}),onClick:function(){s.b.openExternalURL(h.link)}})},onHide:function(){d(t,!1)}})})):(console.warn("Tutorial ".concat(t," not found")),null)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var r=n(0),a=n.n(r),o=n(1),i=n(26),s=n(15),c=n(368),l=s.createContext({tutorials:null,fetchTutorials:function(){},error:null}),u=function(e){var t=e.children,n=s.useState(null),r=Object(i.a)(n,2),u=r[0],d=r[1],p=s.useState(null),m=Object(i.a)(p,2),f=m[0],h=m[1],g=s.useRef(!1),b=s.useCallback((function(){u||g.current||Object(o.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(null),g.current=!0,e.prev=2,e.next=5,Object(c.d)();case 5:t=e.sent,console.info("Loaded ".concat(t.length," tutorials.")),d(t),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.error("Unable to load the tutorials:",e.t0),h(e.t0);case 14:g.current=!1;case 15:case"end":return e.stop()}}),e,null,[[2,10]])})))()}),[u,g]),v=s.useMemo((function(){return{tutorials:u,fetchTutorials:b,error:f}}),[u,b,f]);return s.createElement(l.Provider,{value:v},t)}},function(e,t,n){"use strict";(function(e){n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return l})),n.d(t,"g",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"a",(function(){return m})),n.d(t,"c",(function(){return f})),n.d(t,"d",(function(){return h}));var r=n(131),a=n(1478),o=e.gd,i=function(e,t){var n=t.getFullName()||t.getName();e.setExtensionInformation(t.getName(),n,t.getDescription(),t.getAuthor(),"").setExtensionHelpPath(t.getHelpPath()).setIconUrl(t.getIconUrl()),n&&e.addInstructionOrExpressionGroupMetadata(n).setIcon(t.getIconUrl()),t.getCategory()&&e.setCategory(t.getCategory()),s(e,t)},s=function(e,t){return Object(r.mapVector)(t.getAllDependencies(),(function(t){return e.addDependency().copyFrom(t)}))},c=function(e){return e.getIconUrl()||"res/function24.png"},l=function(e,t){var n=new o.BehaviorJsImplementation,r=Object(a.a)(t.getPropertyDescriptors());return n.updateProperty=function(e,t,n){var a=r.find((function(e){return e.name===t}));if(!a)return!1;var o=e.addChild(t),i=a.type;return"String"===i||"Choice"===i||"Color"===i||"Behavior"===i?o.setStringValue(n):"Number"===i?o.setDoubleValue(parseFloat(n)):"Boolean"===i&&o.setBoolValue("1"===n),!0},n.getProperties=function(e){var t=new o.MapStringPropertyDescriptor;return r.forEach((function(n){var r=n.name,o=n.type,i=Object(a.b)(n,t.getOrCreate(r));e.hasChild(r)&&("String"===o||"Choice"===o||"Color"===o||"Behavior"===o?i.setValue(e.getChild(r).getStringValue()):"Number"===o?i.setValue(""+e.getChild(r).getDoubleValue()):"Boolean"===o&&i.setValue(e.getChild(r).getBoolValue()?"true":"false"))})),t},n.initializeContent=function(e){r.forEach((function(t){var n=e.addChild(t.name),r=t.type;"String"===r||"Choice"===r||"Color"===r||"Behavior"===r?n.setStringValue(t.value):"Number"===r?n.setDoubleValue(parseFloat(t.value)||0):"Boolean"===r&&n.setBoolValue("true"===t.value)}))},e.addBehavior(t.getName(),t.getFullName()||t.getName(),t.getName(),t.getDescription(),"",c(e),t.getName(),n,new o.BehaviorsSharedData).setObjectType(t.getObjectType())},u=function(e){return-1!==["onCreated","onActivate","onDeActivate","doStepPreEvents","doStepPostEvents","onDestroy","onOwnerRemovedFromScene"].indexOf(e)},d=function(e){return o.EventsFunctionsExtension.isExtensionLifecycleEventsFunction(e)},p=function(e,t,n){var r=n.getFunctionType();return r===o.EventsFunction.Expression?e.addExpression(n.getName(),n.getFullName()||n.getName(),n.getDescription()||n.getFullName(),n.getGroup()||"",c(e)):r===o.EventsFunction.StringExpression?e.addStrExpression(n.getName(),n.getFullName()||n.getName(),n.getDescription()||n.getFullName(),n.getGroup()||"",c(e)):r===o.EventsFunction.Condition?e.addCondition(n.getName(),n.getFullName()||n.getName(),n.getDescription()||n.getFullName(),n.getSentence(),n.getGroup()||"",c(e),c(e)):e.addAction(n.getName(),n.getFullName()||n.getName(),n.getDescription()||n.getFullName(),n.getSentence(),n.getGroup()||"",c(e),c(e))},m=function(e,t,n,r){var a=r.getFunctionType();return a===o.EventsFunction.Expression?t.addExpression(r.getName(),r.getFullName()||r.getName(),r.getDescription()||r.getFullName(),r.getGroup()||n.getFullName()||n.getName(),c(e)):a===o.EventsFunction.StringExpression?t.addStrExpression(r.getName(),r.getFullName()||r.getName(),r.getDescription()||r.getFullName(),r.getGroup()||n.getFullName()||n.getName(),c(e)):a===o.EventsFunction.Condition?t.addScopedCondition(r.getName(),r.getFullName()||r.getName(),r.getDescription()||r.getFullName(),r.getSentence(),r.getGroup()||n.getFullName()||n.getName(),c(e),c(e)):t.addScopedAction(r.getName(),r.getFullName()||r.getName(),r.getDescription()||r.getFullName(),r.getSentence(),r.getGroup()||n.getFullName()||n.getName(),c(e),c(e))},f=function(e,t,n,a){var i=function(e){return e.addParameter("object","Object","",!1),e.getParameter(e.getParametersCount()-1).setExtraInfo(a.getObjectType()),e.addParameter("behavior","Behavior",a.getName(),!1),e.setPrivate(),e};Object(r.mapVector)(a.getPropertyDescriptors(),(function(r){var s=r.getType(),l=r.getName(),u=o.BehaviorCodeGenerator.getBehaviorPropertyGetterName(l),d=o.BehaviorCodeGenerator.getBehaviorPropertySetterName(l),p=r.getLabel()||e._({id:"{propertyName} property",values:{propertyName:l}});"String"===s||"Choice"===s?(i(n.addStrExpression(o.EventsBasedBehavior.getPropertyExpressionName(l),p,p,a.getFullName()||a.getName(),c(t))).getCodeExtraInformation().setFunctionName(u),i(n.addScopedCondition(o.EventsBasedBehavior.getPropertyConditionName(l),p,e._({id:"Compare the content of {propertyLabel}",values:{propertyLabel:p}}),e._({id:"the property {propertyName}",values:{propertyName:l}}),a.getFullName()||a.getName(),c(t),c(t))).useStandardRelationalOperatorParameters("string").getCodeExtraInformation().setFunctionName(u),i(n.addScopedAction(o.EventsBasedBehavior.getPropertyActionName(l),p,e._({id:"Change the content of {propertyLabel}",values:{propertyLabel:p}}),e._({id:"the property {propertyName}",values:{propertyName:l}}),a.getFullName()||a.getName(),c(t),c(t))).useStandardOperatorParameters("string").getCodeExtraInformation().setFunctionName(d).setManipulatedType("string").setGetter(u)):"Number"===s?(i(n.addExpression(o.EventsBasedBehavior.getPropertyExpressionName(l),p,p,a.getFullName()||a.getName(),c(t))).getCodeExtraInformation().setFunctionName(u),i(n.addScopedCondition(o.EventsBasedBehavior.getPropertyConditionName(l),p,e._({id:"Compare the value of {propertyLabel}",values:{propertyLabel:p}}),e._({id:"the property {propertyName}",values:{propertyName:l}}),a.getFullName()||a.getName(),c(t),c(t))).useStandardRelationalOperatorParameters("number").getCodeExtraInformation().setFunctionName(u),i(n.addScopedAction(o.EventsBasedBehavior.getPropertyActionName(l),p,e._({id:"Change the value of {propertyLabel}",values:{propertyLabel:p}}),e._({id:"the property {propertyName}",values:{propertyName:l}}),a.getFullName()||a.getName(),c(t),c(t))).useStandardOperatorParameters("number").getCodeExtraInformation().setFunctionName(d).setGetter(u)):"Boolean"===s?(i(n.addScopedCondition(o.EventsBasedBehavior.getPropertyConditionName(l),p,e._({id:"Check the value of {propertyLabel}",values:{propertyLabel:p}}),e._({id:"Property {propertyName} of _PARAM0_ is true",values:{propertyName:l}}),a.getFullName()||a.getName(),c(t),c(t))).getCodeExtraInformation().setFunctionName(u),i(n.addScopedAction(o.EventsBasedBehavior.getPropertyActionName(l),p,e._({id:"Update the value of {propertyLabel}",values:{propertyLabel:p}}),e._({id:"Set property {propertyName} of _PARAM0_ to _PARAM2_",values:{propertyName:l}}),a.getFullName()||a.getName(),c(t),c(t))).addParameter("yesorno",e._({id:"New value to set"}),"",!1).getCodeExtraInformation().setFunctionName(d)):"Color"===s&&(i(n.addScopedCondition(o.EventsBasedBehavior.getPropertyConditionName(l),p,e._({id:"Check the color {propertyLabel}",values:{propertyLabel:p}}),e._({id:"Color {propertyName}",values:{propertyName:l}}),a.getFullName()||a.getName(),c(t),c(t))).useStandardRelationalOperatorParameters("string").getCodeExtraInformation().setFunctionName(u),i(n.addScopedAction(o.EventsBasedBehavior.getPropertyActionName(l),p,e._({id:"Update the color of {propertyLabel}",values:{propertyLabel:p}}),e._({id:"Change color {propertyName} of _PARAM0_ to _PARAM2_",values:{propertyName:l}}),a.getFullName()||a.getName(),c(t),c(t))).addParameter("color",e._({id:"New color to set"}),"",!1).getCodeExtraInformation().setFunctionName(d),i(n.addStrExpression(o.EventsBasedBehavior.getPropertyExpressionName(l),p,p,a.getFullName()||a.getName(),c(t))).getCodeExtraInformation().setFunctionName(u))}))},h=function(e,t){Object(r.mapVector)(e.getParameters(),(function(e){e.isCodeOnly()?t.addCodeOnlyParameter(e.getType(),""):(t.addParameter(e.getType(),e.getDescription(),"",e.isOptional()),t.setParameterLongDescription(e.getLongDescription()),t.setDefaultValue(e.getDefaultValue())),t.getParameter(t.getParametersCount()-1).setExtraInfo(e.getExtraInfo())})),t.addCodeOnlyParameter("eventsFunctionContext","")}}).call(this,n(8))},,,,,,,,,,,,,function(e,t){throw new Error("This is a fake @blueprintjs/core (or @blueprintjs/icons) package that is just throwing an error. It's used by react-mosaic, which will fallback to using something else.This is useful for avoiding webpack/create-react-app warnings in the developmentconsole about a missing package - while avoiding to import blueprint.")},,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i}));var r=n(3),a=n(4),o=e.gd,i=function(){function e(){Object(r.a)(this,e),this.selection=[]}return Object(a.a)(e,[{key:"hasSelectedInstances",value:function(){return!!this.getSelectedInstances().length}},{key:"getSelectedInstances",value:function(){return this.selection}},{key:"isInstanceSelected",value:function(e){for(var t=0;t<this.selection.length;t++)if(o.compare(this.selection[t],e))return!0;return!1}},{key:"clearSelection",value:function(){this.selection.length=0}},{key:"selectInstance",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.isInstanceSelected(e)?t&&this.unselectInstance(e):(t||this.clearSelection(),n&&!n[e.getLayer()]||this.selection.push(e))}},{key:"selectInstances",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t||this.clearSelection(),e.forEach((function(e){return n.selectInstance(e,!0,r)}))}},{key:"unselectInstance",value:function(e){if(this.isInstanceSelected(e)){for(var t=this.selection.length-1;t>=-1&&this.selection[t].ptr!==e.ptr;)--t;this.selection.splice(t,1)}}},{key:"unselectInstancesOfObject",value:function(e){for(var t=0;t<this.selection.length;)this.selection[t].getObjectName()===e?this.selection.splice(t,1):t++}},{key:"unselectInstancesOnLayer",value:function(e){for(var t=0;t<this.selection.length;)this.selection[t].getLayer()===e?this.selection.splice(t,1):t++}}]),e}()}).call(this,n(8))},function(e,t,n){"use strict";(function(e){var r=n(1670),a=n(1671),o=n(1672),i=n(1673),s=n(1687),c=n(1688),l=n(1689),u=n(1690),d=e.gd;t.a={getEditorConfiguration(e){return this.editorConfigurations[e]||console.warn("Object with type ".concat(e," has no editor configuration registered. Please use registerEditorConfiguration to register your editor.")),this.editorConfigurations[e]},registerEditorConfiguration:function(e,t){t.component?t.createNewObject?t.castToObjectType?this.editorConfigurations.hasOwnProperty(e)?console.warn('Tried to register editor configuration for object "'.concat(e,'", but an editor configuration already exists.')):(console.info('Properly registered editor configuration for object "'.concat(e,'".')),this.editorConfigurations[e]=t):console.warn('Tried to register editor configuration for object "'.concat(e,'", but "castToObjectType" property is not defined.')):console.warn('Tried to register editor configuration for object "'.concat(e,'", but "createNewObject" property is not defined.')):console.warn('Tried to register editor configuration for object "'.concat(e,'", but "component" property is not defined.'))},getDefaultObjectJsImplementationPropertiesEditor:e=>({component:u.a,createNewObject:function(e){return d.asObjectJsImplementation(e).clone().release()},castToObjectType:function(e){return d.asObjectJsImplementation(e)},helpPagePath:e.helpPagePath}),editorConfigurations:{Sprite:{component:i.a,createNewObject:function(){return new d.SpriteObject("")},castToObjectType:function(e){return d.asSpriteObject(e)},helpPagePath:"/objects/sprite"},"TiledSpriteObject::TiledSprite":{component:a.a,createNewObject:function(){return new d.TiledSpriteObject("")},castToObjectType:function(e){return d.asTiledSpriteObject(e)},helpPagePath:"/objects/tiled_sprite"},"PanelSpriteObject::PanelSprite":{component:o.a,createNewObject:function(){return new d.PanelSpriteObject("")},castToObjectType:function(e){return d.asPanelSpriteObject(e)},helpPagePath:"/objects/panel_sprite"},"TextObject::Text":{component:r.a,createNewObject:function(){return new d.TextObject("")},castToObjectType:function(e){return d.asTextObject(e)},helpPagePath:"/objects/text"},"PrimitiveDrawing::Drawer":{component:c.a,createNewObject:function(){return new d.ShapePainterObject("")},castToObjectType:function(e){return d.asShapePainterObject(e)},helpPagePath:"/objects/shape_painter"},"TextEntryObject::TextEntry":{component:s.a,createNewObject:function(){return new d.TextEntryObject("")},castToObjectType:function(e){return d.asTextEntryObject(e)},helpPagePath:"/objects/text_entry"},"ParticleSystem::ParticleEmitter":{component:l.a,createNewObject:function(){return new d.ParticleEmitterObject("")},castToObjectType:function(e){return d.asParticleEmitterObject(e)},helpPagePath:"/objects/particles_emitter"}}}}).call(this,n(8))},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(119),a=n(3),o=n(4),i=n(6),s=n(5),c=n(115),l=n(15),u=n.n(l),d=n(135),p=n(127),m=n(17),f=n.n(m)()("electron"),h=f?f.remote.dialog:null,g={container:{position:"relative",display:"flex",alignItems:"baseline"},button:{marginLeft:10},textField:{flex:1}},b=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._onChooseFolder=function(t){var n=t.title,r=t.message;if(h&&f){var a=f.remote.getCurrentWindow();h.showOpenDialog(a,{title:n,properties:["openDirectory","createDirectory"],message:r,defaultPath:e.props.defaultPath}).then((function(t){var n=t.filePaths;n&&n.length&&e.props.onChange(n[0])}))}},e._getTitleAndMessage=function(t){var n=e.props.type;return"export"===n?{title:t._({id:"Choose an export folder"}),message:t._({id:"Choose where to export the game"})}:"create-game"===n?{title:t._({id:"Choose a folder for the new game"}),message:t._({id:"Choose where to create the game"})}:{title:void 0,message:void 0}},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return u.a.createElement(c.I18n,null,(function(t){var n=t.i18n,a=e._getTitleAndMessage(n);return u.a.createElement("div",{style:Object(r.a)(Object(r.a)({},g.container),{},{width:e.props.fullWidth?"100%":void 0})},u.a.createElement(d.b,{margin:"dense",style:g.textField,type:"text",hintText:a.title,value:e.props.value,onChange:function(t,n){return e.props.onChange(n)}}),u.a.createElement(p.a,{label:u.a.createElement(c.Trans,{id:"Choose folder"}),primary:!1,style:g.button,onClick:function(){return e._onChooseFolder(a)}}))}))}}]),n}(l.PureComponent)},function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return l}));var r=n(115),a=n(15),o=n(125),i=n(117),s=function(){return a.createElement(o.a,null,a.createElement(r.Trans,{id:"This will export your game as a Cordova project. Cordova is a technology that enables HTML5 games to be packaged for iOS and Android."}))},c=function(e){var t=e.renderGameButton;return a.createElement(i.a,{noMargin:!0},a.createElement(o.a,null,a.createElement(r.Trans,{id:"You can now compile the game by yourself using Cordova command-line tool to iOS (XCode is required) or Android (Android SDK is required)."})),a.createElement(i.b,{justifyContent:"center"},t()))},l={key:"cordovaexport",tabName:a.createElement(r.Trans,{id:"Mobile"}),name:a.createElement(r.Trans,{id:"iOS & Android (manual)"}),helpPage:"/publishing/android_and_ios_with_cordova"}},function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return l}));var r=n(115),a=n(15),o=n(125),i=n(117),s=function(){return a.createElement(o.a,null,a.createElement(r.Trans,{id:"This will export your game so that you can package it for Windows, macOS or Linux. You will need to install third-party tools (Node.js, Electron Builder) to package your game."}))},c=function(e){var t=e.renderGameButton;return a.createElement(i.a,{noMargin:!0},a.createElement(o.a,null,a.createElement(r.Trans,{id:"The game was properly exported. You can now use Electron Builder (you need Node.js installed and to use the command-line on your computer to run it) to create an executable."})),a.createElement(i.b,{justifyContent:"center"},t()))},l={key:"electronexport",tabName:a.createElement(r.Trans,{id:"Desktop"}),name:a.createElement(r.Trans,{id:"Windows/macOS/Linux (manual)"}),helpPage:"/publishing/windows-macos-linux-with-electron"}},,function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return p}));var r=n(115),a=n(15),o=n(125),i=n(117),s=n(124),c=n(269),l=n(16),u=function(){return a.createElement(o.a,null,a.createElement(r.Trans,{id:"Prepare your game for Facebook Instant Games so that it can be play on Facebook Messenger. GDevelop will create a compressed file that you can upload on your Facebook Developer account."}))},d=function(e){var t=e.renderGameButton;return a.createElement(i.a,{noMargin:!0},a.createElement(o.a,null,a.createElement(r.Trans,{id:"You can now create a game on Facebook Instant Games, if not already done, and upload the generated archive."})),a.createElement(i.b,{justifyContent:"center"},t(),a.createElement(s.a,{label:a.createElement(r.Trans,{id:"Learn more about Instant Games publication"}),primary:!0,onClick:function(){l.b.openExternalURL(Object(c.a)("/publishing/publishing-to-facebook-instant-games"))}})))},p={key:"facebookinstantgamesexport",tabName:a.createElement(r.Trans,{id:"Instant Games"}),name:a.createElement(r.Trans,{id:"Facebook Instant Games"}),helpPage:"/publishing/publishing-to-facebook-instant-games"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return h}));var r=n(119),a=n(115),o=n(15),i=n(125),s=n(117),c=n(2095),l=n(2206),u=n(2129),d=n(128),p=n(124),m=n(142),f=function(e){var t=e.exportState,n=e.updateExportState;return o.createElement(s.a,{noMargin:!0},o.createElement(s.b,null,o.createElement(i.a,null,o.createElement(a.Trans,{id:"Packaging your game for Android will create an APK file that can be installed on Android phones or an Android App Bundle that can be published to Google Play."}))),o.createElement(u.a,{value:t.targets[0]||"androidApk",onChange:function(e){var t=e.target.value;n((function(e){return Object(r.a)(Object(r.a)({},e),{},{targets:[t]})}))}},o.createElement(c.a,{value:"androidApk",control:o.createElement(l.a,{color:"primary"}),label:o.createElement(a.Trans,{id:"APK (for testing on device or sharing outside Google Play)"})}),o.createElement(c.a,{value:"androidAppBundle",control:o.createElement(l.a,{color:"primary"}),label:o.createElement(a.Trans,{id:"Android App Bundle (for publishing on Google Play)"})})),o.createElement(s.b,{noMargin:!0,justifyContent:"flex-end"},o.createElement(p.a,{label:o.createElement(a.Trans,{id:"Signing options"}),onClick:function(){n((function(e){return Object(r.a)(Object(r.a)({},e),{},{signingDialogOpen:!0})}))},disabled:"androidAppBundle"!==t.targets[0]})),t.signingDialogOpen&&o.createElement(d.a,{actions:[o.createElement(p.a,{key:"close",label:o.createElement(a.Trans,{id:"Close"}),primary:!0,keyboardFocused:!0,onClick:function(){n((function(e){return Object(r.a)(Object(r.a)({},e),{},{signingDialogOpen:!1})}))}})],secondaryActions:[o.createElement(m.a,{helpPagePath:"/publishing/android_and_ios/play-store/upgrading-from-apk-to-aab",key:"help"})],open:!0,title:o.createElement(a.Trans,{id:"Signing options"}),onRequestClose:function(){n((function(e){return Object(r.a)(Object(r.a)({},e),{},{signingDialogOpen:!1})}))},maxWidth:"sm"},o.createElement(i.a,null,o.createElement(a.Trans,{id:'Choose the upload key to use to identify your Android App Bundle. In most cases you don\'t need to change this. Use the "Old upload key" if you used to publish your game as an APK and you activated Play App Signing before switching to Android App Bundle.'})),o.createElement(u.a,{name:"signing-keystore",value:t.keystore,onChange:function(e){var t=e.target.value;n((function(e){return Object(r.a)(Object(r.a)({},e),{},{keystore:t})}))}},o.createElement(c.a,{value:"new",control:o.createElement(l.a,{color:"primary"}),label:o.createElement(a.Trans,{id:"New upload key (recommended)"})}),o.createElement(c.a,{value:"old",control:o.createElement(l.a,{color:"primary"}),label:o.createElement(a.Trans,{id:"Old upload key (only if you used to publish your game as an APK and already activated Play App Signing)"})}),o.createElement(c.a,{value:"custom",control:o.createElement(l.a,{color:"primary"}),label:o.createElement(a.Trans,{id:"Custom upload key (not available yet)"}),disabled:!0}))))},h={key:"onlinecordovaexport",tabName:o.createElement(a.Trans,{id:"Mobile"}),name:o.createElement(a.Trans,{id:"Android (& iOS coming soon)"}),helpPage:"/publishing/android_and_ios"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d}));var r=n(18),a=n(119),o=n(115),i=n(15),s=n(125),c=n(175),l=n(117),u=function(e){var t=e.exportState,n=e.updateExportState,u=function(e,t){n((function(n){return t&&-1===n.targets.indexOf(e)?Object(a.a)(Object(a.a)({},n),{},{targets:[].concat(Object(r.a)(n.targets),[e])}):t||-1===n.targets.indexOf(e)?n:Object(a.a)(Object(a.a)({},n),{},{targets:n.targets.filter((function(t){return t!==e}))})}))};return i.createElement(i.Fragment,null,i.createElement(l.a,{noMargin:!0},i.createElement(l.b,null,i.createElement(s.a,null,i.createElement(o.Trans,{id:"Your game will be exported and packaged online as a stand-alone game for Windows, Linux and/or macOS."}))),i.createElement(c.a,{label:i.createElement(o.Trans,{id:"Windows (zip file)"}),checked:-1!==t.targets.indexOf("winZip"),onCheck:function(e,t){return u("winZip",t)}}),i.createElement(c.a,{label:i.createElement(o.Trans,{id:"Windows (auto-installer file)"}),checked:-1!==t.targets.indexOf("winExe"),onCheck:function(e,t){return u("winExe",t)}}),i.createElement(c.a,{label:i.createElement(o.Trans,{id:"macOS (zip file)"}),checked:-1!==t.targets.indexOf("macZip"),onCheck:function(e,t){return u("macZip",t)}}),i.createElement(c.a,{label:i.createElement(o.Trans,{id:"Linux (AppImage)"}),checked:-1!==t.targets.indexOf("linuxAppImage"),onCheck:function(e,t){return u("linuxAppImage",t)}})))},d={key:"onlineelectronexport",tabName:i.createElement(o.Trans,{id:"Desktop"}),name:i.createElement(o.Trans,{id:"Windows/macOS/Linux"}),helpPage:"/publishing/windows-macos-linux"}},,,,,function(e,t,n){"use strict";var r=n(115),a=n(15),o=n.n(a),i=n(125),s=n(269),c=n(16),l=n(124),u=n(117),d=n(156),p=n(894),m=n(662),f=o.a.memo((function(e){return o.a.createElement(m.a,e,o.a.createElement("path",{d:"M7,2H17L13.5,9H17L10,22V14H7V2M9,4V12H12V14.66L14,11H10.24L13.76,4H9Z"}))})),h=n(119),g=o.a.memo((function(e){return o.a.createElement(m.a,Object.assign({},e,{style:Object(h.a)({transform:"rotate(90deg)"},e.style)}),o.a.createElement("path",{d:"M12 2C17.5 2 22 6.5 22 12C22 17.5 17.5 22 12 22C6.5 22 2 17.5 2 12C2 6.5 6.5 2 12 2M12 4C7.58 4 4 7.58 4 12C4 16.42 7.58 20 12 20C16.42 20 20 16.42 20 12C20 7.58 16.42 4 12 4M12 5C15.87 5 19 8.13 19 12C19 15.87 15.87 19 12 19V5Z"}))})),b=o.a.memo((function(e){return o.a.createElement(m.a,e,o.a.createElement("path",{fill:"currentColor",d:"M1.5,2.09C2.4,3 3.87,3.73 5.69,4.25C7.41,2.84 9.61,2 12,2C14.39,2 16.59,2.84 18.31,4.25C20.13,3.73 21.6,3 22.5,2.09C22.47,3.72 21.65,5.21 20.28,6.4C21.37,8 22,9.92 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12C2,9.92 2.63,8 3.72,6.4C2.35,5.21 1.53,3.72 1.5,2.09M20,12A8,8 0 0,0 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12M10.5,10C10.5,10.8 9.8,11.5 9,11.5C8.2,11.5 7.5,10.8 7.5,10V8.5L10.5,10M16.5,10C16.5,10.8 15.8,11.5 15,11.5C14.2,11.5 13.5,10.8 13.5,10L16.5,8.5V10M12,17.23C10.25,17.23 8.71,16.5 7.81,15.42L9.23,14C9.68,14.72 10.75,15.23 12,15.23C13.25,15.23 14.32,14.72 14.77,14L16.19,15.42C15.29,16.5 13.75,17.23 12,17.23Z"}))})),v=o.a.memo((function(e){return o.a.createElement(m.a,e,o.a.createElement("path",{d:"M20,12H4V11H6L7,6H12L13,11H20V12M13.22,7L13.62,9H22V7H13.22M22,16A3,3 0 0,1 19,19H5A3,3 0 0,1 2,16A3,3 0 0,1 5,13H19A3,3 0 0,1 22,16M6,16A1,1 0 0,0 5,15A1,1 0 0,0 4,16A1,1 0 0,0 5,17A1,1 0 0,0 6,16M13,16A1,1 0 0,0 12,15A1,1 0 0,0 11,16A1,1 0 0,0 12,17A1,1 0 0,0 13,16M20,16A1,1 0 0,0 19,15A1,1 0 0,0 18,16A1,1 0 0,0 19,17A1,1 0 0,0 20,16Z"}))})),E=n(146);n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return C})),n.d(t,"c",(function(){return j}));var y=function(){var e=function(e){return{height:"small"===e?30:48,width:"small"===e?30:48,margin:10}}(Object(E.b)());return a.createElement(u.a,{noMargin:!0},a.createElement(u.b,null,a.createElement(i.a,null,a.createElement(r.Trans,{id:"This will export your game to a folder. You can then upload it on a website/game hosting service and share it on marketplaces and gaming portals like CrazyGames, Poki, Game Jolt, itch.io, Newgrounds..."}))),a.createElement(u.b,{justifyContent:"center"},a.createElement(p.a,{color:"primary",style:e}),a.createElement(f,{color:"primary",style:e}),a.createElement(g,{color:"primary",style:e}),a.createElement(b,{color:"primary",style:e}),a.createElement(v,{color:"primary",style:e})))},C=function(e){var t=e.renderGameButton;return a.createElement(u.a,{noMargin:!0},a.createElement(i.a,null,a.createElement(r.Trans,{id:"You can now upload the game to a web hosting to play to the game."})),a.createElement(d.a,{kind:"warning"},a.createElement(r.Trans,{id:"Your game won't work if you open index.html on your computer. You must upload it to a web hosting (Kongregate, Itch.io, etc...) or a web server to run it."})),a.createElement(u.c,null),t(),a.createElement(u.c,null),a.createElement(l.a,{fullWidth:!0,primary:!0,onClick:function(){return c.b.openExternalURL(Object(s.a)("/publishing/publishing-to-gamejolt-store"))},label:a.createElement(r.Trans,{id:"Publish your game on Game Jolt"}),icon:a.createElement(f,null)}),a.createElement(l.a,{fullWidth:!0,primary:!0,onClick:function(){return c.b.openExternalURL("https://gdevelop-app.com/crazy-games")},label:a.createElement(r.Trans,{id:"Publish your game on CrazyGames.com"}),icon:a.createElement(b,null)}),a.createElement(l.a,{fullWidth:!0,primary:!0,onClick:function(){return c.b.openExternalURL(Object(s.a)("/publishing/publishing-to-kongregate-store"))},label:a.createElement(r.Trans,{id:"Publish your game on Kongregate"})}),a.createElement(l.a,{fullWidth:!0,primary:!0,onClick:function(){return c.b.openExternalURL(Object(s.a)("/publishing/publishing-to-itch-io"))},label:a.createElement(r.Trans,{id:"Publish your game on Itch.io"}),icon:a.createElement(p.a,null)}),a.createElement(l.a,{fullWidth:!0,primary:!0,onClick:function(){return c.b.openExternalURL("https://gdevelop-app.com/poki")},label:a.createElement(r.Trans,{id:"Publish your game on Poki.com"}),icon:a.createElement(g,null)}),a.createElement(l.a,{fullWidth:!0,onClick:function(){return c.b.openExternalURL(Object(s.a)("/publishing"))},label:a.createElement(r.Trans,{id:"Learn more about publishing"})}))},j={key:"webexport",tabName:a.createElement(r.Trans,{id:"Web"}),name:a.createElement(r.Trans,{id:"Web"}),helpPage:"/publishing/html5_game_in_a_local_folder"}},function(e,t,n){"use strict";var r=n(3),a=n(4),o=n(6),i=n(5),s=n(15),c=n(205),l=n(119),u=n(151),d=n(210),p=n(135),m=n(153),f=n(163),h=n(511),g={textField:{top:p.c}},b=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"componentDidUpdate",value:function(e){var t=this;!e.editingName&&this.props.editingName&&setTimeout((function(){t.textField&&t.textField.focus()}),100)}},{key:"render",value:function(){var e=this,t=this.props,n=t.item,r=t.itemName,a=t.renderItemLabel,o=t.isBold,i=t.selected,c=t.getThumbnail,b=t.errorStatus,v=t.onEdit,E=t.onItemSelected,y=t.hideMenuButton,C=t.scaleUpItemIconWhenSelected,j=t.connectIconDragSource;return s.createElement(m.a,null,(function(t){var m=e.props.editingName?s.createElement(p.b,{id:"rename-item-field",margin:"none",ref:function(t){return e.textField=t},defaultValue:r,onBlur:function(t){return e.props.onRename(t.currentTarget.value)},onKeyPress:function(t){Object(f.f)(t)&&e.textField&&e.textField.blur()},fullWidth:!0,style:g.textField}):s.createElement("div",{title:"string"===typeof r?r:void 0,style:Object(l.a)(Object(l.a)({},h.a),{},{color:i?t.listItem.selectedTextColor:void 0,fontStyle:o?"italic":void 0,fontWeight:o?"bold":"normal"})},a?a():r),O={borderBottom:"1px solid ".concat(t.listItem.separatorColor),backgroundColor:i?""===b?t.listItem.selectedBackgroundColor:"error"===b?t.listItem.selectedErrorBackgroundColor:t.listItem.selectedWarningBackgroundColor:void 0,color:""===b?void 0:"error"===b?t.listItem.errorTextColor:t.listItem.warningTextColor},x=c?s.createElement(d.a,{iconSize:24,src:c(),cssAnimation:C&&i?"scale-and-jiggle 0.8s forwards":""}):null;return s.createElement(u.b,{style:Object(l.a)({},O),primaryText:m,leftIcon:j&&x?j(s.createElement("div",null,x)):x,displayMenuButton:!y,rightIconColor:i?t.listItem.selectedRightIconColor:t.listItem.rightIconColor,buildMenuTemplate:e.props.buildMenuTemplate,onClick:function(){E&&(e.props.editingName||E(i?null:n))},onDoubleClick:function(t){0===t.button&&v&&(e.props.editingName||(E(null),v(n)))}})}))}}]),n}(s.Component),v=n(506),E=n(801),y={borderTop:"2px solid #18dcf2",height:0,marginTop:"-1px",marginBottom:"-1px",width:"100%",boxSizing:"border-box"};function C(e){var t=e.canDrop;return s.createElement(m.a,null,(function(e){return s.createElement("div",{style:Object(l.a)(Object(l.a)({},y),{},{borderColor:t?e.listItem.selectedBackgroundColor:e.listItem.selectedErrorBackgroundColor})})}))}var j=n(146),O=n(238);n.d(t,"a",(function(){return x}));var x=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).DragSourceAndDropTarget=Object(E.a)(e.props.reactDndType),e}return Object(a.a)(n,[{key:"forceUpdateGrid",value:function(){this._list&&this._list.forceUpdateGrid()}},{key:"_renderItemRow",value:function(e,t,n,r){var a=this,o=this.props,i=o.selectedItems,c=o.getItemThumbnail,l=o.erroredItems,u=o.isItemBold,d=o.onEditItem,p=o.renamedItem,m=o.getItemName,f=o.renderItemLabel,h=o.scaleUpItemIconWhenSelected,g=p===e,v=m(e);return s.createElement(b,{item:e,itemName:v,renderItemLabel:f?function(){return f(e)}:void 0,isBold:!!u&&u(e),onRename:function(t){return a.props.onRename(e,t)},editingName:g,getThumbnail:c?function(){return c(e)}:void 0,selected:-1!==i.indexOf(e),onItemSelected:this.props.onItemSelected,errorStatus:l&&l[v]||"",buildMenuTemplate:function(){return a.props.buildMenuTemplate(e,t)},onEdit:d,hideMenuButton:"small"===n,scaleUpItemIconWhenSelected:h,connectIconDragSource:r||null})}},{key:"render",value:function(){var e=this,t=this.props,n=t.height,r=t.width,a=t.fullList,o=t.addNewItemLabel,i=t.renamedItem,l=t.getItemThumbnail,d=t.onAddNewItem,p=t.onMoveSelectionToItem,m=t.canMoveSelectionToItem,f=t.selectedItems,h=this.DragSourceAndDropTarget;return s.createElement(j.a,null,(function(t){return s.createElement(O.a,null,(function(g){return s.createElement(c.f,{ref:function(t){return e._list=t},height:n,rowCount:a.length+(d?1:0),rowHeight:l?u.c:u.d,rowRenderer:function(n){var r=n.index,c=n.key,l=n.style;if(r>=a.length)return s.createElement("div",{style:l,key:c},s.createElement(v.a,{onClick:d,primaryText:o}));var u=a[r],b=i===u,E=-1!==f.indexOf(u);return s.createElement("div",{style:l,key:c},s.createElement(h,{beginDrag:function(){return e.props.onItemSelected(u),{}},canDrag:function(){return!b},canDrop:function(){return!m||m(u)},drop:function(){p(u)}},(function(n){var a=n.connectDragSource,o=n.connectDropTarget,i=n.isOver,c=n.canDrop,l="touch"===g&&!E,d=o(s.createElement("div",null,i&&s.createElement(C,{canDrop:c}),e._renderItemRow(u,r,t,l?a:null)));return d?l?d:a(d):null})))},width:r})}))}))}}]),n}(s.Component)},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n(26),s=n(115),c=n(15),l=n(125),u=n(117),d=n(135),p=n(224),m=n(127),f=n(16),h=n(682),g=n(1782),b=n.n(g),v=n(2214),E=n(238),y=function(e){var t=e.visible,n=e.touchScreenMessage,r=e.message,a=e.hide,o=Object(E.b)();return c.useEffect((function(){if(t){var e=setTimeout((function(){a()}),3e3);return function(){return clearTimeout(e)}}}),[t,a]),c.createElement(v.a,{open:t,message:"touch"===o&&n?n:r})},C=n(138),j=n(2113),O=n(2105),x=n(124),k=n(128),T=n(2139),w=n(2140),S=n(2141),P=n(2142),_=n(2143),I=n(2144),N=n(2145),A=n(2146),R=n(2147),M=n(2148),F=n(129),L=n(242),B=n(183);n.d(t,"a",(function(){return U})),n.d(t,"b",(function(){return G})),n.d(t,"c",(function(){return V}));var D={icon:{padding:5}},U=function(){return c.createElement(u.a,{noMargin:!0,alignItems:"center",justifyContent:"center"},c.createElement(u.b,null,c.createElement(l.a,{align:"center"},c.createElement(s.Trans,{id:"Generate a unique link to share your game, playable from any computer or mobile phone's browser."}))))},G=function(e){var t=e.build,n=e.errored,r=e.exportStep,g=c.useState(!1),v=Object(i.a)(g,2),E=v[0],U=v[1],G=c.useState(!1),V=Object(i.a)(G,2),W=V[0],H=V[1],z=c.useState(null),Y=Object(i.a)(z,2),q=Y[0],X=Y[1],K=c.useState(!1),J=Object(i.a)(K,2),Z=J[0],Q=J[1],$=c.useContext(B.a),ee=$.getAuthorizationHeader,te=$.profile,ne=!n&&""!==r&&"done"!==r,re=t&&"complete"===t.status,ae=t&&q&&t.id===q.publicWebBuildId,oe=ne||!re?null:ae?Object(L.d)(q):Object(p.e)(t,"s3Key"),ie=c.useCallback(Object(o.a)(a.a.mark((function e(){var n,r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t&&t.gameId,te&&n){e.next=3;break}return e.abrupt("return");case 3:return r=te.id,e.prev=4,Q(!0),e.next=8,Object(L.c)(ee,r,n);case 8:o=e.sent,X(o),Q(!1),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(4),Q(!1),console.error("Unable to load the game",e.t0);case 17:case"end":return e.stop()}}),e,null,[[4,13]])}))),[t,ee,te]);c.useEffect((function(){!q&&re&&ie()}),[q,ie,re]);var se=function(){oe&&f.b.openExternalURL(oe)},ce=function(){oe&&(navigator.clipboard.writeText(oe),U(!0))},le=function(){var e=Object(o.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(oe&&navigator.share){e.next=2;break}return e.abrupt("return");case 2:return t={title:"My GDevelop game",text:"Try the game I just created with #gdevelop",url:oe},e.prev=3,e.next=6,navigator.share(t);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.error("Couldn't share the game",e.t0);case 11:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(){return e.apply(this,arguments)}}();c.useEffect((function(){"done"===r&&H(!0)}),[r]);var ue=c.useCallback(Object(o.a)(a.a.mark((function e(){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(te&&q&&t){e.next=2;break}return e.abrupt("return");case 2:return n=te.id,e.prev=3,Q(!0),e.next=7,Object(L.j)(ee,n,q.id,{publicWebBuildId:t.id});case 7:r=e.sent,X(r),Q(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),console.error("Unable to update the game",e.t0),Q(!1);case 16:case"end":return e.stop()}}),e,null,[[3,12]])}))),[q,ee,te,t]);return t||r?c.createElement(c.Fragment,null,ne&&c.createElement(c.Fragment,null,c.createElement(l.a,null,c.createElement(s.Trans,{id:"Just a few seconds while we generate the link..."})),c.createElement(j.a,null)),c.createElement(k.a,{title:c.createElement(s.Trans,{id:"Share your game"}),actions:[c.createElement(x.a,{key:"close",label:c.createElement(s.Trans,{id:"Back"}),primary:!1,onClick:function(){return H(!1)}})],open:W,onRequestClose:function(){return H(!1)}},oe&&!Z?c.createElement(u.a,{noMargin:!0},c.createElement(F.c,{noFloatingLabelText:!0,renderTextField:function(){return c.createElement(d.b,{value:oe,readOnly:!0,fullWidth:!0,endAdornment:c.createElement(C.a,{onClick:ce,tooltip:{id:"Copy"},edge:"end"},c.createElement(h.a,null))})},renderButton:function(e){return c.createElement(m.a,{primary:!0,label:c.createElement(s.Trans,{id:"Open"}),onClick:se,style:e})}}),ae&&navigator.share&&c.createElement(u.b,{justifyContent:"flex-end"},c.createElement(x.a,{label:c.createElement(s.Trans,{id:"Share"}),onClick:le,icon:c.createElement(b.a,null)})),ae&&!navigator.share&&c.createElement(u.b,{justifyContent:"flex-end"},c.createElement(T.a,{url:oe,style:D.icon,quote:"Try the game I just created with GDevelop.io",hashtag:"#gdevelop"},c.createElement(w.a,{size:32,round:!0})),c.createElement(S.a,{url:oe,title:"Try the game I just created with r/gdevelop",style:D.icon},c.createElement(P.a,{size:32,round:!0})),c.createElement(_.a,{title:"Try the game I just created with GDevelop.io",hashtags:["gdevelop"],url:oe,style:D.icon},c.createElement(I.a,{size:32,round:!0})),c.createElement(N.a,{title:"Try the game I just created with GDevelop.io",url:oe,style:D.icon},c.createElement(A.a,{size:32,round:!0})),c.createElement(R.a,{subject:"My GDevelop game",body:"Try the game I just created with GDevelop.io",url:oe,style:D.icon},c.createElement(M.a,{size:32,round:!0}))),!ae&&c.createElement(u.b,{justifyContent:"center"},c.createElement(m.a,{label:c.createElement(s.Trans,{id:"Publish this build to the game's page"}),onClick:ue}))):c.createElement(u.a,{alignItems:"center"},c.createElement(O.a,null)),c.createElement(y,{message:c.createElement(s.Trans,{id:"Copied to clipboard!"}),visible:E,hide:function(){return U(!1)}}))):null},V={key:"onlinewebexport",tabName:"Web",name:c.createElement(s.Trans,{id:"Web"}),helpPage:"/publishing/web"}},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(339),a=n(1003);n(1004);t.a=Object(r.a)(a,"DefaultTheme","light")},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=300},,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(15),c=n(2095),l=n(2096),u=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this;return s.createElement(c.a,{control:s.createElement(l.a,{checked:this.props.toggled,onChange:function(t){return e.props.onToggle(t,t.target.checked)},color:"primary"}),label:this.props.label,disabled:this.props.disabled,style:this.props.style})}}]),n}(s.Component)},,function(e,t,n){"use strict";t.a={QUIT_APP:"CmdOrCtrl+Shift+KeyQ",OPEN_PROJECT_MANAGER:"CmdOrCtrl+Alt+KeyE",LAUNCH_NEW_PREVIEW:"F4",LAUNCH_DEBUG_PREVIEW:"F6",HOT_RELOAD_PREVIEW:"F5",LAUNCH_NETWORK_PREVIEW:"F8",OPEN_HOME_PAGE:"",CREATE_NEW_PROJECT:"CmdOrCtrl+Alt+KeyN",OPEN_PROJECT:"CmdOrCtrl+KeyO",SAVE_PROJECT:"CmdOrCtrl+KeyS",SAVE_PROJECT_AS:"CmdOrCtrl+Shift+KeyS",CLOSE_PROJECT:"CmdOrCtrl+KeyQ",EXPORT_GAME:"CmdOrCtrl+Shift+KeyE",OPEN_RECENT_PROJECT:"",OPEN_COMMAND_PALETTE:"CmdOrCtrl+KeyP",OPEN_PROJECT_PROPERTIES:"",OPEN_PROJECT_LOADING_SCREEN:"",OPEN_PROJECT_VARIABLES:"",OPEN_PLATFORM_SPECIFIC_ASSETS_DIALOG:"",OPEN_PROJECT_RESOURCES:"",OPEN_LAYOUT:"Alt+KeyS",OPEN_EXTERNAL_EVENTS:"Alt+KeyV",OPEN_EXTERNAL_LAYOUT:"Alt+KeyW",OPEN_EXTENSION:"Alt+KeyE",OPEN_SCENE_PROPERTIES:"KeyS",OPEN_SCENE_VARIABLES:"KeyV",OPEN_OBJECTS_PANEL:"KeyO",OPEN_OBJECT_GROUPS_PANEL:"KeyG",OPEN_PROPERTIES_PANEL:"KeyP",TOGGLE_INSTANCES_PANEL:"KeyI",TOGGLE_LAYERS_PANEL:"KeyL",TOGGLE_WINDOW_MASK:"KeyM",TOGGLE_GRID:"Alt+KeyG",OPEN_SETUP_GRID:"CmdOrCtrl+Shift+KeyG",EDIT_LAYER_EFFECTS:"KeyE",EDIT_LAYER:"KeyT",EDIT_OBJECT:"Shift+KeyE",EDIT_OBJECT_VARIABLES:"Shift+KeyV",EDIT_OBJECT_GROUP:"Shift+KeyG",ADD_STANDARD_EVENT:"Shift+KeyA",ADD_SUBEVENT:"Shift+KeyD",ADD_COMMENT_EVENT:"",CHOOSE_AND_ADD_EVENT:"Shift+KeyW",OPEN_EXTENSION_SETTINGS:""}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var r=n(15),a=n(151),o=n(193),i=function(e){return r.createElement(a.b,{onClick:e.onClick,primaryText:r.createElement(o.a,null,e.primaryText),displayAddIcon:!0})},s=function(e){return r.createElement(a.b,{onClick:e.onClick,primaryText:r.createElement(o.a,null,e.primaryText),displaySearchIcon:!0})}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return I}));var r=n(18),a=n(119),o=n(3),i=n(4),s=n(6),c=n(5),l=n(115),u=n(15),d=n(220),p=n.n(d),m=n(251),f=n(131),h=n(167),g=n(1114),b=n(1120),v=n(1121),E=n(1130),y=n(272),C=n(176),j=n(142),O=n(405),x=n(125),k=n(117),T=n(164),w=e.gd,S={variablesContainer:{marginBottom:10}},P=Object(m.SortableElement)(g.a),_=Object(m.SortableContainer)((function(e){var t=e.children;return u.createElement("div",{style:S.variablesContainer},t)}));_.muiName="TableBody";var I=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={nameErrors:{},selectedVariables:Object(v.b)(),mode:"select",allVariableNames:[]},e._selectVariable=function(t,n){e.setState({selectedVariables:Object(v.a)(e.state.selectedVariables,t,n)})},e.copySelection=function(){y.b.set(E.a,Object(v.c)(e.state.selectedVariables).map((function(e){var t=e.name,n=e.variable;return{name:t,serializedVariable:Object(C.b)(n)}})))},e.paste=function(){var t=e.props,n=t.variablesContainer,r=t.inheritedVariablesContainer;if(y.b.has(E.a)){var a=y.b.get(E.a),o=y.a.extractArray(a);o&&(o.forEach((function(e){var t=y.a.extractStringProperty(e,"name"),a=y.a.extractObjectProperty(e,"serializedVariable");if(t&&a){var o=Object(h.a)(t,(function(e){return r&&r.has(e)||n.has(e)}),"CopyOf"),i=new w.Variable;Object(C.c)(i,a),n.insert(o,i,n.count()),i.delete()}})),e.forceUpdate())}},e.deleteSelection=function(){var t=e.props.variablesContainer,n=Object(v.c)(e.state.selectedVariables);n.filter((function(e){return!n.find((function(t){return e!==t&&t.variable.contains(e.variable,!0)}))})).forEach((function(e){var n=e.variable;return t.removeRecursively(n)})),e.clearSelection()},e.clearSelection=function(){e.setState({selectedVariables:Object(v.b)()})},e._updateOrDefineVariable=function(t,n,r,a,o){var i=e.props,s=i.variablesContainer,c=i.inheritedVariablesContainer;if(c&&"parent"===o){var l=Object(C.b)(c.get(t)),u=new w.Variable;Object(C.c)(u,l),s.insert(t,u,a),u.delete(),n=s.get(t)}switch(n.getType()){case w.Variable.String:n.setString(r);break;case w.Variable.Number:n.setValue(parseFloat(r));break;case w.Variable.Boolean:n.setBool("true"===r);break;default:console.error("Cannot set variable with type ".concat(n.getType()," - are you sure it's a primitive type?"))}},e._getVariableOrigin=function(t){var n=e.props,r=n.variablesContainer,a=n.inheritedVariablesContainer;return a&&a.has(t)?r.has(t)?"inherited":"parent":""},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.setState({allVariableNames:this.props.onComputeAllVariableNames()})}},{key:"_renderStructureChildren",value:function(e,t,n){var r=this,a=e.getAllChildrenNames().toJSArray();return p()(a.map((function(a,o){var i=e.getChild(a);return r._renderVariableAndChildrenRows(a,i,t+1,o,e,n)})))}},{key:"_renderArrayChildren",value:function(e,t,n){var r=this;return Object(f.mapFor)(0,e.getChildrenCount(),(function(a){var o=e.getAtIndex(a);return r._renderVariableAndChildrenRows(""+a,o,t+1,a,e,n,!0)}))}},{key:"_renderVariableAndChildrenRows",value:function(e,t,n,r,o){var i=this,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6],l=this.props,d=l.variablesContainer,p=l.commitVariableValueOnBlur,m=t.getType(),f=!w.Variable.isPrimitive(t.getType()),g=s||this._getVariableOrigin(e);return u.createElement(P,{name:e,index:r,key:"variable-"+e,variable:t,disabled:0!==n,depth:n,origin:g,arrayElement:!!c,commitVariableValueOnBlur:p,errorText:this.state.nameErrors[t.ptr.toString()]?"This name is already taken":void 0,onChangeValue:function(n){i._updateOrDefineVariable(e,t,n,r,g),i.forceUpdate(),i.props.onSizeUpdated&&i.props.onSizeUpdated()},onResetToDefaultValue:function(){d.removeRecursively(t),i.forceUpdate(),i.props.onSizeUpdated&&i.props.onSizeUpdated()},onChangeType:function(e){t.castTo(e),i.forceUpdate()},onChangeName:function(n){if(e!==n){var r=!0;r=o?o.renameChild(e,n):d.rename(e,n),i.setState({nameErrors:Object(a.a)(Object(a.a)({},i.state.nameErrors),{},{[t.ptr]:!r})})}},onRemove:function(){o?o.getType()===w.Variable.Structure?o.removeChild(e):o.getType()===w.Variable.Array&&o.removeAtIndex(r):d.remove(e),i.forceUpdate(),i.props.onSizeUpdated&&i.props.onSizeUpdated()},onAddChild:function(){if(f){if(m===w.Variable.Structure){var e=Object(h.a)("ChildVariable",(function(e){return t.hasChild(e)}));t.getChild(e).setString("")}else m===w.Variable.Array&&t.pushNew();i.forceUpdate(),i.props.onSizeUpdated&&i.props.onSizeUpdated()}},children:m===w.Variable.Structure?this._renderStructureChildren(t,n,g):m===w.Variable.Array?this._renderArrayChildren(t,n,g):null,showHandle:"move"===this.state.mode,showSelectionCheckbox:"select"===this.state.mode,isSelected:!!this.state.selectedVariables[t.ptr],onSelect:function(n){return i._selectVariable({name:e,ptr:t.ptr,variable:t},n)},undefinedVariableNames:0===n?this.state.allVariableNames.filter((function(e){return!i.props.variablesContainer.has(e)})):[]})}},{key:"render",value:function(){var e=this,t=this.props,n=t.variablesContainer,a=t.inheritedVariablesContainer;if(!n)return null;var o=a?Object(f.mapFor)(0,a.count(),(function(t){var r=a.getNameAt(t);if(!n.has(r)){var o=a.getAt(t);return e._renderVariableAndChildrenRows(r,o,0,t,void 0,"parent")}})):[],i=Object(f.mapFor)(0,n.count(),(function(t){var r=n.getAt(t),a=n.getNameAt(t);return e._renderVariableAndChildrenRows(a,r,0,t,void 0)})),s=[].concat(Object(r.a)(o),Object(r.a)(i));return u.createElement(k.a,{noMargin:!0,expand:!0,useFullHeight:!0},s.length?u.createElement(T.a,{autoHideScrollbar:!0},u.createElement(_,{variablesContainer:this.props.variablesContainer,onSortEnd:function(t){var n=t.oldIndex,r=t.newIndex;e.props.variablesContainer.move(n,r),e.forceUpdate()},helperClass:"sortable-helper",useDragHandle:!0,lockToContainerEdges:!0},s)):this.props.emptyExplanationMessage?u.createElement(k.a,{noMargin:!0,expand:!0,justifyContent:"center"},u.createElement(O.a,{renderButtons:function(){return u.createElement(j.a,{helpPagePath:e.props.helpPagePath})}},u.createElement(x.a,null,u.createElement(l.Trans,{id:"{0}",values:{0:this.props.emptyExplanationMessage}})),u.createElement(x.a,null,u.createElement(l.Trans,{id:"{0}",values:{0:this.props.emptyExplanationSecondMessage}})))):null,u.createElement(b.a,{onAdd:function(){var t=new w.Variable;t.setString("");var r=Object(h.a)("Variable",(function(e){return a&&a.has(e)||n.has(e)}));n.insert(r,t,n.count()),e.forceUpdate(),e.props.onSizeUpdated&&e.props.onSizeUpdated()},onCopy:this.copySelection,onPaste:this.paste,onDeleteSelection:this.deleteSelection,hasSelection:Object(v.d)(this.state.selectedVariables),hasClipboard:y.b.has(E.a)}))}}]),n}(u.Component)}).call(this,n(8))},,,function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return l}));var r=n(119),a=n(15),o=n(170),i={display:"flex"},s={display:"flex",alignItems:"center",paddingLeft:4,paddingRight:4},c=function(e){var t=a.useContext(o.a);return a.createElement("div",{style:Object(r.a)(Object(r.a)({},i),{},{alignItems:e.alignItems,backgroundColor:t.list.itemsBackgroundColor})},e.children)},l=function(e){return a.createElement("div",{style:Object(r.a)(Object(r.a)({},s),{},{flex:e.expand?1:void 0},e.style)},e.children)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n(0),a=n.n(r),o=n(1),i=n(26),s=n(115),c=n(15),l=n(535),u=n(183),d=n(156),p=n(117),m=n(129),f=n(30),h=n(223),g=n(158),b=n(127),v=n(242),E=n(540),y=n.n(E),C=n(931),j=function(e){var t=e.project,n=e.hideIfRegistered,r=e.hideIfSubscribed,s=e.hideLoader,l=e.onGameRegistered,d=c.useContext(u.a),p=d.authenticated,m=d.onLogin,h=d.onCreateAccount,g=d.getAuthorizationHeader,b=d.profile,E=d.onAcceptGameStatsEmail,y=c.useState(null),C=Object(i.a)(y,2),j=C[0],x=C[1],k=c.useState(null),T=Object(i.a)(k,2),w=T[0],S=T[1],P=c.useState(null),_=Object(i.a)(P,2),I=_[0],N=_[1],A=c.useState(!1),R=Object(i.a)(A,2),M=R[0],F=R[1],L=c.useState(!1),B=Object(i.a)(L,2),D=B[0],U=B[1],G=c.useState(!1),V=Object(i.a)(G,2),W=V[0],H=V[1],z=c.useState("details"),Y=Object(i.a)(z,2),q=Y[0],X=Y[1],K=c.useCallback(Object(o.a)(a.a.mark((function e(){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b&&t){e.next=2;break}return e.abrupt("return");case 2:return n=b.id,x(null),e.prev=4,e.next=7,Object(v.c)(g,n,t.getProjectUuid());case 7:r=e.sent,S(null),N(r),e.next=25;break;case 12:if(e.prev=12,e.t0=e.catch(4),console.log(e.t0),!e.t0.response){e.next=24;break}if(403!==e.t0.response.status){e.next=21;break}return S("unauthorized"),e.abrupt("return");case 21:if(404!==e.t0.response.status){e.next=24;break}return S("not-existing"),e.abrupt("return");case 24:x(e.t0);case 25:case"end":return e.stop()}}),e,null,[[4,12]])}))),[t,g,b]),J=c.useCallback(Object(o.a)(a.a.mark((function e(){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b&&t){e.next=2;break}return e.abrupt("return");case 2:return n=b.id,F(!0),e.prev=4,e.next=7,Object(v.h)(g,n,{gameId:t.getProjectUuid(),authorName:t.getAuthor()||"Unspecified publisher",gameName:t.getName()||"Untitled game"});case 7:K(),l&&l(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.error("Unable to register the game",e.t0),Object(f.a)({rawError:e.t0,errorId:"register-game-error",message:"Unable to register the game. Verify your internet connection or try again later."});case 15:F(!1);case 16:case"end":return e.stop()}}),e,null,[[4,11]])}))),[g,b,t,K,l]),Z=c.useCallback(Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b&&t){e.next=2;break}return e.abrupt("return");case 2:return U(!0),e.prev=3,e.next=6,E();case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(3),console.error("Unable to accept game stats email.",e.t0),Object(f.a)({rawError:e.t0,errorId:"game-stats-email-error",message:"Unable to accept game stats email.  Verify your internet connection or try again later."});case 12:U(!1);case 13:case"end":return e.stop()}}),e,null,[[3,8]])}))),[b,t,E]);return c.useEffect((function(){I||K()}),[K,I]),c.createElement(O,{authenticated:p,profile:b,onLogin:m,onCreateAccount:h,project:t,game:I,setGame:N,loadGame:K,onRegisterGame:J,registrationInProgress:M,hideIfRegistered:n,hideIfSubscribed:r,unavailableReason:w,acceptGameStatsEmailInProgress:D,onAcceptGameStatsEmail:Z,detailsInitialTab:q,setDetailsInitialTab:X,detailsOpened:W,setDetailsOpened:H,error:j,hideLoader:s})},O=function(e){var t=e.authenticated,n=e.profile,r=e.onLogin,a=e.onCreateAccount,o=e.project,i=e.game,u=e.setGame,f=e.loadGame,v=e.onRegisterGame,E=e.registrationInProgress,j=e.hideIfRegistered,O=e.hideIfSubscribed,x=e.unavailableReason,k=e.acceptGameStatsEmailInProgress,T=e.onAcceptGameStatsEmail,w=e.detailsInitialTab,S=e.setDetailsInitialTab,P=e.detailsOpened,_=e.setDetailsOpened,I=e.error,N=e.hideLoader;return o?t&&n?"not-existing"===x?c.createElement(d.a,{kind:"info",renderRightButton:function(){return c.createElement(b.a,{label:c.createElement(s.Trans,{id:"Register the project"}),disabled:E,primary:!0,onClick:v})}},c.createElement(s.Trans,{id:"This project is not registered online. Register it now to get access to metrics collected anonymously, like the number of daily players and retention of the players after a few days."})):"unauthorized"===x?c.createElement(d.a,{kind:"error"},c.createElement(s.Trans,{id:"This project is registered online but you don't have access to it. Ask the original owner of the game to share it with you to get access to the game metrics."})):I?c.createElement(h.a,{onRetry:function(){f()}},c.createElement(s.Trans,{id:"Can't check if the game is registered online."})," ",c.createElement(s.Trans,{id:"Verify your internet connection or try again later."})):i?j?null:n.getGameStatsEmail?O?null:c.createElement(m.a,{noMargin:!0},c.createElement(p.b,{justifyContent:"center"},c.createElement(b.a,{icon:c.createElement(y.a,null),label:c.createElement(s.Trans,{id:"Analytics"}),onClick:function(){S("analytics"),_(!0)}})),P&&c.createElement(C.a,{game:i,project:o,initialTab:w,onClose:function(){_(!1)},onGameUpdated:function(e){u(e)},onGameDeleted:function(){_(!1),f()}})):c.createElement(d.a,{kind:"info",renderRightButton:function(){return c.createElement(b.a,{label:c.createElement(s.Trans,{id:"Get game stats"}),disabled:k,primary:!0,onClick:T})}},c.createElement(s.Trans,{id:"Get stats about your game every week!"})):N?null:c.createElement(g.a,null):c.createElement(l.a,{onLogin:r,onCreateAccount:a}):null}},function(e,t,n){"use strict";var r=n(115),a=n(15),o=n(124),i=n(127),s=n(117),c=n(125),l=n(193);t.a=function(e){var t=e.message,n=e.onLogin,u=e.onCreateAccount,d=e.justifyContent;return a.createElement(s.a,{noMargin:!0},a.createElement(s.b,{justifyContent:d},a.createElement(c.a,null,t||a.createElement(r.Trans,{id:"You are not connected. Create an account to build your game for Android, Windows, macOS and Linux in one click, and get access to metrics for your game."}))),a.createElement(s.b,{justifyContent:"center",alignItems:"baseline"},a.createElement(i.a,{label:a.createElement(r.Trans,{id:"Create my account"}),onClick:u,primary:!0}),a.createElement(s.c,null),a.createElement(s.c,null),a.createElement(l.a,null,"or"),a.createElement(s.c,null),a.createElement(o.a,{label:a.createElement(r.Trans,{id:"Login"}),onClick:n})))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){return Date.now()+"-"+Math.floor(1e6*Math.random())}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(15),a=function(){var e=r.useRef(!1);return r.useEffect((function(){return e.current=!0,function(){e.current=!1}}),[]),e}},function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l}));var r=n(20),a=n.n(r),o=n(19),i=function(e){return a.a.get("".concat(o.j.baseUrl,"/user-public-profile/search"),{params:{username:e}}).then((function(e){return e.data}))},s=function(e){return a.a.get("".concat(o.j.baseUrl,"/user/").concat(e,"/badge")).then((function(e){return e.data}))},c=function(e){return a.a.get("".concat(o.j.baseUrl,"/user-public-profile"),{params:{id:e.join(",")}}).then((function(e){return e.data}))},l=function(e){return a.a.get("".concat(o.j.baseUrl,"/user-public-profile/").concat(e)).then((function(e){return e.data}))}},,function(e,t,n){"use strict";var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n(127),u=n(124),d=n(128),p=n(1268),m=n.n(p),f=n(1269),h=n.n(f),g=n(183),b=n(117),v=n(27),E=n(125),y={icon:{width:40,height:40,marginRight:20},iconText:{flex:1}},C=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={open:!1},e._closeDialog=function(){Object(v.p)(),e.setState({open:!1})},e}return Object(a.a)(n,[{key:"checkHasSubscription",value:function(){var e=this.props,t=e.authenticatedUser,n=e.mode,r=e.id;if(t.subscription&&!!t.subscription.planId)return this.setState({open:!1}),!0;return this.setState({open:!0}),Object(v.o)({mode:n,id:r}),!1}},{key:"render",value:function(){var e=this,t=this.state.open,n=this.props,r=n.onChangeSubscription,a=n.mode;return t?c.createElement(d.a,{actions:[r&&c.createElement(l.a,{label:c.createElement(s.Trans,{id:"Get a subscription or login"}),key:"subscribe",primary:!0,onClick:function(){e.setState({open:!1}),r()}})],secondaryActions:[c.createElement(u.a,{label:"try"===a?c.createElement(s.Trans,{id:"Continue anyway"}):c.createElement(s.Trans,{id:"Not now, thanks!"}),key:"close",primary:!1,onClick:this._closeDialog})],cannotBeDismissed:!1,onRequestClose:this._closeDialog,open:t,title:"try"===a?c.createElement(s.Trans,{id:"We need your support!"}):this.props.title},c.createElement(b.a,{noMargin:!0},c.createElement(b.b,{noMargin:!0,alignItems:"center"},"try"===a?c.createElement(E.a,null,c.createElement(s.Trans,{id:"Please get a subscription to keep GDevelop running."})):c.createElement(E.a,null,c.createElement(s.Trans,{id:"To use this feature, we ask you to get a subscription to GDevelop."}))),c.createElement(b.b,{noMargin:!0,alignItems:"center"},c.createElement(m.a,{style:y.icon}),c.createElement(E.a,{style:y.iconText},c.createElement(s.Trans,{id:"Get a subscription to gain more one-click exports, remove the GDevelop splashscreen, this message asking you to get a subscription."}))),c.createElement(b.b,{noMargin:!0,alignItems:"center"},c.createElement(h.a,{style:y.icon}),c.createElement(E.a,{style:y.iconText},c.createElement(s.Trans,{id:"You're also supporting the development of GDevelop, an open-source software! In the future, more online services will be available for users with a subscription."}))),c.createElement(b.c,null),c.createElement(b.c,null),c.createElement(b.c,null),c.createElement(b.c,null),c.createElement(E.a,{align:"right"},c.createElement("b",null,c.createElement(s.Trans,{id:"Thanks!"}))))):null}}]),n}(c.Component),j=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._dialog=null,e}return Object(a.a)(n,[{key:"checkHasSubscription",value:function(){return!!this._dialog&&this._dialog.checkHasSubscription()}},{key:"render",value:function(){var e=this;return c.createElement(g.a.Consumer,null,(function(t){return c.createElement(C,{authenticatedUser:t,ref:function(t){return e._dialog=t},onChangeSubscription:e.props.onChangeSubscription,id:e.props.id,title:e.props.title,mode:e.props.mode})}))}}]),n}(c.Component);t.a=j},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p}));var r=n(0),a=n.n(r),o=n(1),i=n(26),s=n(15),c=n(275),l=n(360),u=n(731),d=s.createContext({filters:null,searchResults:null,fetchExtensionsAndFilters:function(){},error:null,searchText:"",setSearchText:function(){},extensionShortHeadersByName:{},filtersState:{chosenFilters:new Set,addFilter:function(){},removeFilter:function(){},chosenCategory:null,setChosenCategory:function(){}}}),p=function(e){var t=e.children,n=s.useState({}),r=Object(i.a)(n,2),p=r[0],m=r[1],f=s.useState(null),h=Object(i.a)(f,2),g=h[0],b=h[1],v=s.useState(null),E=Object(i.a)(v,2),y=E[0],C=E[1],j=s.useRef(!1),O=s.useState(""),x=Object(i.a)(O,2),k=x[0],T=x[1],w=Object(c.b)(),S=s.useCallback((function(){Object.keys(p).length||j.current||Object(o.a)(a.a.mark((function e(){var t,n,r,o,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(null),j.current=!0,e.prev=2,e.next=5,Object(l.c)();case 5:t=e.sent,n=t.extensionShortHeaders,r=t.allTags,o=r.slice().sort((function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())})),i={},n.forEach((function(e){i[e.name]=e})),console.info("Loaded ".concat(n.length," extensions from the extension store.")),m(i),b({allTags:o,defaultTags:o,tagsTree:[]}),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),console.error("Unable to load the extensions from the extension store:",e.t0),C(e.t0);case 19:j.current=!1;case 20:case"end":return e.stop()}}),e,null,[[2,15]])})))()}),[p,j]);s.useEffect((function(){if(!Object.keys(p).length&&!j.current){var e=setTimeout((function(){console.info("Pre-fetching extensions from extension store..."),S()}),5e3);return function(){return clearTimeout(e)}}}),[S,p,j]);var P=w.chosenCategory,_=w.chosenFilters,I=Object(u.a)(p,k,P,_),N=s.useMemo((function(){return{searchResults:I,fetchExtensionsAndFilters:S,filters:g,error:y,searchText:k,setSearchText:T,extensionShortHeadersByName:p,filtersState:w}}),[I,y,g,k,p,w,S]);return s.createElement(d.Provider,{value:N},t)}},,,function(e,t,n){"use strict";var r=n(115),a=n(15),o=n(1282),i=n.n(o),s=n(1284),c=n.n(s),l=n(315),u=n(2088),d=n(127),p=n(27),m=n(16),f=n(125),h=n(117),g=n(28),b=n(43),v=function(e,t){console.error("Error catched by Boundary:",e,t),Object(p.e)("Error catched by error boundary","error-boundary",{error:e,componentStack:t},"error-boundary-error")},E=function(e){var t=e.componentStack,n=e.error;return a.createElement(l.a,null,a.createElement(h.b,null,a.createElement(c.a,{fontSize:"large"}),a.createElement(h.c,null),a.createElement(f.a,{size:"title"},"This editor encountered a problem.")),a.createElement(u.a,null),a.createElement(f.a,null,"Something wrong happened :(",a.createElement("br",null),"Please ",a.createElement("b",null,"backup your game file")," and save your game to ensure that you don't lose anything."),a.createElement(f.a,null,"The error was automatically reported.",a.createElement("br",null),"To make sure it's fixed, you may report it on GitHub, the platform where GDevelop is developed:"),a.createElement(d.a,{label:a.createElement(r.Trans,{id:"Report the issue on GitHub"}),onClick:function(){var e="\n=> Please write here a short description of when the error occured and how to reproduce it.\nYou also may have to create an account on GitHub before posting.\n\nWhen you're ready, click on \"Submit new issue\". Don't change the rest of the message. Thanks!\n\n## Error stack (don't write anything here)\n```\n".concat(n?n.stack:"No error found","\n```\n\n## Component stack (don't write anything here)\n```\n").concat(t||"No component stack found","\n```\n\n## Other details\n* IDE version: ").concat(Object(g.c)(),"\n* Arch: ").concat(Object(b.a)(),",\n* Platform Name: ").concat(Object(b.b)(),",\n* System Version: ").concat(Object(b.c)(),",\n* User Agent: ").concat(Object(b.d)(),",\n        ");m.b.openExternalURL("https://github.com/4ian/GDevelop/issues/new?body=".concat(encodeURIComponent(e),"&title=Crash%20while%20using%20an%20editor"))}}))};t.a=function(e){return a.createElement(i.a,{FallbackComponent:E,onError:v},e.children)}},,function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d}));var r=n(0),a=n.n(r),o=n(1),i=n(30),s=n(360),c=n(746),l=n(16),u=function(){var e=Object(o.a)(a.a.mark((function e(t,n,r,o){var l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(s.a)(o);case 3:return l=e.sent,e.next=6,Object(c.a)(r,n,[l]);case 6:return e.abrupt("return",!0);case 9:return e.prev=9,e.t0=e.catch(0),Object(i.a)({message:t._({id:"Unable to download and install the extension. Verify that your internet connection is working or try again later."}),rawError:e.t0,errorId:"download-extension-error"}),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n,r,a){return e.apply(this,arguments)}}(),d=function(){var e=Object(o.a)(a.a.mark((function e(t,n,r){var o,s,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.getEventsFunctionsExtensionOpener()){e.next=3;break}return e.abrupt("return",!1);case 3:return e.prev=3,e.next=6,o.chooseEventsFunctionExtensionFile();case 6:if(s=e.sent){e.next=9;break}return e.abrupt("return",!1);case 9:return e.next=11,o.readEventsFunctionExtensionFile(s);case 11:if(u=e.sent,!r.hasEventsFunctionsExtensionNamed(u.name)){e.next=16;break}if(l.b.showConfirmDialog(t._({id:"An extension with this name already exists in the project. Importing this extension will replace it: are you sure you want to continue?"}))){e.next=16;break}return e.abrupt("return",!1);case 16:return e.next=18,Object(c.a)(n,r,[u],!1);case 18:return e.abrupt("return",!0);case 21:return e.prev=21,e.t0=e.catch(3),Object(i.a)({message:t._({id:"An error happened while loading this extension. Please check that it is a proper extension file and compatible with this version of GDevelop"}),rawError:e.t0,errorId:"extension-loading-error"}),e.abrupt("return",!1);case 25:case"end":return e.stop()}}),e,null,[[3,21]])})));return function(t,n,r){return e.apply(this,arguments)}}()},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(17),a=n.n(r);function o(e){var t=!1,n=void 0;return function(){return t||(console.info("Lazy loading ".concat(e,"...")),n=a()(e),t=!0),n}}},function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return g}));var r=n(179),a=n(119),o=n(15),i=n(2219),s=n(2123),c=n(2124),l=(n(2125),n(349)),u=n.n(l),d=n(138),p=n(170),m={bodyRoot:{padding:0}},f=function(e){return o.createElement(s.a,{expandIcon:e.expandIcon||o.createElement(d.a,{size:"small"},o.createElement(u.a,null))},o.createElement("div",{style:{flexGrow:1,display:"flex",alignItems:"center"}},e.children),e.actions&&o.createElement("div",{style:{flexGrow:0,flexShrink:0,alignSelf:"center"}},e.actions))},h=function(e){return o.createElement(c.a,{style:Object(a.a)(Object(a.a)({},e.disableGutters&&m.bodyRoot),e.style)},e.children)},g=function(e){var t=e.costlyBody,n=Object(r.a)(e,["costlyBody"]),a=o.useContext(p.a);return o.createElement(i.a,Object.assign({},n,{square:!0,elevation:0,style:{border:"1px solid ".concat(a.toolbar.separatorColor)},TransitionProps:{unmountOnExit:!!t}}))}},function(e,t,n){"use strict";(function(e){var r=n(18),a=n(3),o=n(4),i=n(6),s=n(5),c=n(115),l=n(15),u=n(1333),d=n(1475),p=n(1992),m=n(1482),f=n(1483),h=n(2002),g=n(812),b=n(1484),v=n(379),E=n(176),y=n(813),C=n(426),j=n(1485),O=n(1486),x=n(1487),k=n(1489),T=n(1490),w=n(804),S=n(143),P=n(1491),_=n(814),I=n(802),N=n(316),A=n(238),R=n(146),M=n(183),F=n(245),L=e.gd,B=1,D=50,U={container:{display:"flex",width:"100%",flexDirection:"column",flex:1,position:"relative"}},G=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(e){var o;return Object(a.a)(this,n),(o=t.call(this,e))._containerDiv=l.createRef(),o._keyboardShortcuts=new g.a({isActive:function(){return!o.state.inlineEditing&&!o.state.editedInstruction.instruction&&!o.state.analyzedEventsContextResult&&!o.state.serializedEventsToExtract},shortcutCallbacks:{onDelete:function(){return o.deleteSelection()},onCopy:function(){return o.copySelection()},onCut:function(){return o.cutSelection()},onPaste:function(){return o.pasteEventsOrInstructions()},onSearch:function(){return o._toggleSearchPanel()},onEscape:function(){return o._closeSearchPanel()},onUndo:function(){return o.undo()},onRedo:function(){return o.redo()},onZoomIn:function(e){return o.onZoomEvent("IN")(e)},onZoomOut:function(e){return o.onZoomEvent("OUT")(e)}}}),o.state={history:Object(y.c)(o.props.events,{historyMaxSize:50}),editedInstruction:{isCondition:!0,instruction:null,instrsList:null,indexInList:0},editedParameter:{isCondition:!0,instruction:null,instrsList:null,parameterIndex:0},selection:Object(C.b)(),inlineEditing:!1,inlineEditingAnchorEl:null,inlineInstructionEditorAnchorEl:null,inlineEditingChangesMade:!1,inlineEditingPreviousValue:null,analyzedEventsContextResult:null,serializedEventsToExtract:null,showSearchPanel:!1,searchResults:null,searchFocusOffset:null,allEventsMetadata:[],textEditedEvent:null,fontSize:14},o._addStandardEvent=function(){o.addNewEvent("BuiltinCommonInstructions::Standard")},o._addCommentEvent=function(){o.addNewEvent("BuiltinCommonInstructions::Comment")},o._toggleSearchPanel=function(){o.setState((function(e){var t=!e.showSearchPanel;return t||o._eventSearcher&&o._eventSearcher.reset(),{showSearchPanel:t}}),(function(){o.state.showSearchPanel&&o._searchPanel&&o._searchPanel.focus()}))},o._closeSearchPanel=function(){o.setState({showSearchPanel:!1})},o.addSubEvents=function(){var e=o.props.project;Object(C.d)(o.state.selection).forEach((function(t){t.canHaveSubEvents()&&t.getSubEvents().insertNewEvent(e,"BuiltinCommonInstructions::Standard",t.getSubEvents().getEventsCount())})),o._saveChangesToHistory((function(){o._eventsTree&&o._eventsTree.forceEventsUpdate()}))},o._selectionCanHaveSubEvents=function(){return Object(C.d)(o.state.selection).some((function(e){return e.canHaveSubEvents()}))},o._selectionCanToggleDisabled=function(){return Object(C.d)(o.state.selection).some((function(e){return e.isExecutable()}))},o._addNewEvent=function(e,t){var n=o.props.project,r=Object(C.h)(o.state.selection),a=!1,i=[];t?i=[t]:r?("BuiltinCommonInstructions::Comment"!==e&&"BuiltinCommonInstructions::Group"!==e||(a=!0),i=Object(C.c)(o.state.selection).map((function(e){return{eventsList:e.eventsList,indexInList:a?e.indexInList-1:e.indexInList}}))):i=[{eventsList:o.props.events,indexInList:o.props.events.getEventsCount()}];var s=i.map((function(t){return t.eventsList.insertNewEvent(n,e,t.indexInList+1)}));return o._saveChangesToHistory((function(){var e=o._eventsTree;e&&e.forceEventsUpdate((function(){t||r||e.scrollToEvent(s[0])}))})),s},o.openEventTextDialog=function(){var e=Object(f.b)(Object(C.d)(o.state.selection));if(e.length){var t=e[e.length-1];o.setState({textEditedEvent:t})}},o.closeEventTextDialog=function(){o.setState({textEditedEvent:null})},o._buildInstructionContextMenu=function(e){return[{label:e._({id:"Copy"}),click:function(){return o.copySelection()},accelerator:"CmdOrCtrl+C"},{label:e._({id:"Cut"}),click:function(){return o.cutSelection()},accelerator:"CmdOrCtrl+X"},{label:e._({id:"Paste"}),click:function(){return o.pasteInstructions()},enabled:Object(I.c)()||Object(I.b)(),accelerator:"CmdOrCtrl+V"},{type:"separator"},{label:e._({id:"Delete"}),click:function(){return o.deleteSelection()},accelerator:"Delete"},{type:"separator"},{label:e._({id:"Undo"}),click:o.undo,enabled:Object(y.b)(o.state.history),accelerator:"CmdOrCtrl+Z"},{label:e._({id:"Redo"}),click:o.redo,enabled:Object(y.a)(o.state.history),accelerator:"CmdOrCtrl+Shift+Z"},{label:e._({id:"Invert Condition"}),click:function(){return o._invertSelectedConditions()},visible:Object(C.k)(o.state.selection)}]},o.openAddInstructionContextMenu=function(e,t){o.openInstructionEditor(t,e)},o.openInstructionEditor=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;o.state.editedInstruction.instruction&&(o.state.editedInstruction.instruction.delete(),console.warn("state.editedInstruction.instruction was containing an instruction - deleting it. Verify the logic handling the state in EventsSheet because that should not happen.")),o.setState({inlineInstructionEditorAnchorEl:t,editedInstruction:{instrsList:e.instrsList,isCondition:e.isCondition,instruction:e.instruction?e.instruction.clone():new L.Instruction,indexInList:void 0!==e.indexInList?e.indexInList:void 0}})},o.moveSelectionToInstruction=function(e){o.moveSelectionToInstructionsList({instrsList:e.instrsList,isCondition:e.isCondition},e.indexInList)},o.moveSelectionToInstructionsList=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=Object(C.e)(o.state.selection),r=void 0===t||null===t?e.instrsList.size():t,a=!!n.filter((function(t){return Object(T.a)(t,e.instrsList)})).length;a||(n.forEach((function(t){return e.instrsList.insert(t,r)})),o._keyboardShortcuts.shouldCloneInstances()?o._saveChangesToHistory():o.deleteSelection({deleteEvents:!1}))},o.selectEvent=function(e){var t=o._keyboardShortcuts.shouldMultiSelect();o.setState({selection:Object(C.o)(o.state.selection,e,t)},(function(){return o.updateToolbar()}))},o.collapseAll=function(){o._eventsTree&&o._eventsTree.foldAll()},o.expandToLevel=function(e){o._eventsTree&&o._eventsTree.unfoldToLevel(e)},o._buildEventContextMenu=function(e){return[{label:e._({id:"Edit"}),click:function(){return o.openEventTextDialog()},visible:Object(f.b)(Object(C.d)(o.state.selection)).length>0},{label:e._({id:"Copy"}),click:function(){return o.copySelection()},accelerator:"CmdOrCtrl+C"},{label:e._({id:"Cut"}),click:function(){return o.cutSelection()},accelerator:"CmdOrCtrl+X"},{label:e._({id:"Paste"}),click:function(){return o.pasteEvents()},enabled:Object(I.d)(),accelerator:"CmdOrCtrl+V"},{label:e._({id:"Delete"}),click:function(){return o.deleteSelection()},accelerator:"Delete"},{label:e._({id:"Toggle disabled"}),click:function(){return o.toggleDisabled()},enabled:o._selectionCanToggleDisabled()},{type:"separator"},{label:e._({id:"Add New Event Below"}),click:function(){return o.addNewEvent("BuiltinCommonInstructions::Standard")}},{label:e._({id:"Add Sub Event"}),click:function(){return o.addSubEvents()},enabled:o._selectionCanHaveSubEvents()},{label:e._({id:"Add Other"}),submenu:o.state.allEventsMetadata.map((function(e){return{label:e.fullName,click:function(){return o.addNewEvent(e.type)}}}))},{type:"separator"},{label:e._({id:"Undo"}),click:o.undo,enabled:Object(y.b)(o.state.history),accelerator:"CmdOrCtrl+Z"},{label:e._({id:"Redo"}),click:o.redo,enabled:Object(y.a)(o.state.history),accelerator:"CmdOrCtrl+Shift+Z"},{type:"separator"},{label:e._({id:"Collapse all"}),click:o.collapseAll},{label:e._({id:"Expand all to level"}),submenu:[{label:e._({id:"All"}),click:function(){return o.expandToLevel(-1)}},{type:"separator"}].concat(Object(r.a)([0,1,2,3,4,5,6,7,8].map((function(t){return{label:e._({id:"Level {0}",values:{0:t+1}}),click:function(){return o.expandToLevel(t)}}}))))},{type:"separator"},{label:e._({id:"Extract Events to a Function"}),click:function(){return o.extractEventsToFunction()}},{label:e._({id:"Move Events into a Group"}),click:function(){return o.moveEventsIntoNewGroup()}},{label:e._({id:"Analyze Objects Used in this Event"}),click:o._openEventsContextAnalyzer},{type:"separator"},{label:e._({id:"Zoom In"}),click:function(){return o.onZoomEvent("IN")()},accelerator:"CmdOrCtrl+=",enabled:o.props.preferences.values.eventsSheetZoomLevel<D},{label:e._({id:"Zoom Out"}),click:function(){return o.onZoomEvent("OUT")()},accelerator:"CmdOrCtrl+-",enabled:o.props.preferences.values.eventsSheetZoomLevel>B}]},o.openEventContextMenu=function(e,t,n){var r=o._keyboardShortcuts.shouldMultiSelect();o.setState({selection:Object(C.o)(o.state.selection,n,r)},(function(){o.updateToolbar(),o.eventContextMenu.open(e,t)}))},o.openInstructionContextMenu=function(e,t,n){var r=o._keyboardShortcuts.shouldMultiSelect();o.setState({selection:Object(C.p)(o.state.selection,n,r)},(function(){o.updateToolbar(),o.instructionContextMenu.open(e,t)}))},o.selectInstruction=function(e){var t=o._keyboardShortcuts.shouldMultiSelect();o.setState({selection:Object(C.p)(o.state.selection,e,t)},(function(){return o.updateToolbar()}))},o.openParameterEditor=function(e){var t=e.instruction,n=e.parameterIndex;o.setState({editedParameter:e,inlineEditing:!0,inlineEditingAnchorEl:e.domEvent?e.domEvent.currentTarget:null,inlineEditingChangesMade:!1,inlineEditingPreviousValue:t.getParameter(n)})},o.closeParameterEditor=function(e){if(e){var t=o.state.editedParameter,n=t.instruction,r=t.parameterIndex;if(!n||!o.state.inlineEditingPreviousValue)return;n.setParameter(r,o.state.inlineEditingPreviousValue)}else o.state.inlineEditingChangesMade&&o._saveChangesToHistory();var a=o.state.inlineEditingAnchorEl;o.setState({inlineEditing:!1,inlineEditingAnchorEl:null,inlineEditingChangesMade:!1},(function(){a&&a.focus()}))},o.toggleDisabled=function(){Object(C.d)(o.state.selection).forEach((function(e){return e.setDisabled(!e.isDisabled())})),o._saveChangesToHistory((function(){o._eventsTree&&o._eventsTree.forceEventsUpdate()}))},o.deleteSelection=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.deleteInstructions,n=void 0===t||t,r=e.deleteEvents,a=void 0===r||r,i=o.props.events,s=new L.EventsRemover;a&&Object(C.d)(o.state.selection).forEach((function(e){return s.addEventToRemove(e)})),n&&Object(C.e)(o.state.selection).forEach((function(e){return s.addInstructionToRemove(e)})),s.launch(i),o._eventsTree&&o._eventsTree.forceEventsUpdate(),o.setState({selection:Object(C.a)(),inlineEditing:!1,inlineEditingAnchorEl:null},(function(){o._saveChangesToHistory(),o._ensureFocused()}))},o.copySelection=function(){Object(I.a)(o.state.selection)},o.cutSelection=function(){o.copySelection(),o.deleteSelection()},o.pasteEvents=function(){Object(I.e)(o.props.project,o.state.selection)&&o._saveChangesToHistory((function(){o._eventsTree&&o._eventsTree.forceEventsUpdate()}))},o.pasteInstructions=function(){Object(I.g)(o.props.project,o.state.selection)&&o._saveChangesToHistory((function(){o._eventsTree&&o._eventsTree.forceEventsUpdate()}))},o.pasteEventsOrInstructions=function(){Object(C.h)(o.state.selection)?o.pasteEvents():(Object(C.i)(o.state.selection)||Object(C.j)(o.state.selection))&&o.pasteInstructions()},o.pasteInstructionsInInstructionsList=function(e){Object(I.f)(o.props.project,e)&&o._saveChangesToHistory((function(){o._eventsTree&&o._eventsTree.forceEventsUpdate()}))},o._invertSelectedConditions=function(){Object(C.f)(o.state.selection).forEach((function(e){e.isCondition&&e.instruction.setInverted(!e.instruction.isInverted())})),o._saveChangesToHistory((function(){o._eventsTree&&o._eventsTree.forceEventsUpdate()}))},o._saveChangesToHistory=function(e){o.setState({history:Object(y.e)(o.state.history,o.props.events)},(function(){o.updateToolbar(),e&&e()})),o._searchPanel&&o._searchPanel.markSearchResultsDirty()},o.undo=function(){if(Object(y.b)(o.state.history)){var e=o.props,t=e.events,n=e.project,r=Object(y.f)(o.state.history,t,n);o._eventsTree&&o._eventsTree.forceEventsUpdate(),o.setState({history:r,selection:Object(C.a)()},(function(){return o.updateToolbar()}))}},o.redo=function(){if(Object(y.a)(o.state.history)){var e=o.props,t=e.events,n=e.project,r=Object(y.d)(o.state.history,t,n);o._eventsTree&&o._eventsTree.forceEventsUpdate(),o.setState({history:r,selection:Object(C.a)()},(function(){return o.updateToolbar()}))}},o.onZoomEvent=function(e){var t="IN"===e?1:-1;return function(e){e&&(e.preventDefault(),e.stopPropagation()),o.props.preferences.setEventsSheetZoomLevel(Math.min(Math.max(o.props.preferences.values.eventsSheetZoomLevel+1*t,B),D))}},o._openEventsContextAnalyzer=function(){var e=o.props,t=e.globalObjectsContainer,n=e.objectsContainer,r=new L.EventsContextAnalyzer(L.JsPlatform.get(),t,n),a=new L.EventsList;Object(C.d)(o.state.selection).forEach((function(e){return a.insertEvent(e,a.getEventsCount())})),r.launch(a),a.delete(),o.setState({analyzedEventsContextResult:Object(O.b)(r.getEventsContext())}),r.delete()},o._closeEventsContextAnalyzer=function(){o.setState({analyzedEventsContextResult:null})},o.extractEventsToFunction=function(){var e=new L.EventsList;Object(C.d)(o.state.selection).forEach((function(t){return e.insertEvent(t,e.getEventsCount())})),o.setState({serializedEventsToExtract:Object(E.b)(e)}),e.delete()},o.moveEventsIntoNewGroup=function(){var e=new L.EventsList;Object(C.d)(o.state.selection).forEach((function(t){return e.insertEvent(t,e.getEventsCount())})),o._replaceSelectionByGroupOfEvents(e),e.delete()},o._replaceSelectionByEventsFunction=function(e,t){var n=Object(C.c)(o.state.selection);if(n.length){var r=o.addNewEvent("BuiltinCommonInstructions::Standard",{eventsList:n[0].eventsList,indexInList:n[0].indexInList});if(r.length){var a=Object(_.b)(e,t);L.asStandardEvent(r[0]).getActions().push_back(a),a.delete(),o.deleteSelection({deleteInstructions:!1})}else console.error("A new event should have been created")}},o._replaceSelectionByGroupOfEvents=function(e){var t=Object(C.c)(o.state.selection);if(t.length){var n=o.addNewEvent("BuiltinCommonInstructions::Group",{eventsList:t[0].eventsList,indexInList:t[0].indexInList});if(n.length){var r=L.asGroupEvent(n[0]);r.setName("Grouped events"),r.setFolded(!0),r.getSubEvents().insertEvents(e,0,e.getEventsCount(),0),o.deleteSelection({deleteInstructions:!1})}else console.error("A new event should have been created")}},o._ensureEventUnfolded=function(e){var t=e();t&&o._eventsTree&&o._eventsTree.unfoldForEvent(t)},o._replaceInEvents=function(e,t){e(t),o._saveChangesToHistory((function(){o._eventsTree&&o._eventsTree.forceEventsUpdate()}))},o._searchInEvents=function(e,t){e(t,(function(){o.forceUpdate((function(){o._eventsTree&&o._eventsTree.forceEventsUpdate()}))}))},o._onEventMoved=function(){o._saveChangesToHistory()},o._renderInstructionEditorDialog=function(e){var t=o.props,n=t.project,r=t.scope,a=t.globalObjectsContainer,i=t.objectsContainer,s=o.state.inlineInstructionEditorAnchorEl?m.a:e?d.a:p.a;return o.state.editedInstruction.instruction?l.createElement(s,{project:n,scope:r,globalObjectsContainer:a,objectsContainer:i,instruction:o.state.editedInstruction.instruction,isCondition:o.state.editedInstruction.isCondition,isNewInstruction:void 0===o.state.editedInstruction.indexInList,anchorEl:o.state.inlineInstructionEditorAnchorEl,open:!0,onCancel:function(){return o.closeInstructionEditor()},onSubmit:function(){var e=o.state.editedInstruction,t=e.instrsList,n=e.instruction,r=e.indexInList;t&&n&&(void 0!==r&&null!==r?t.set(r,n):t.insert(n,t.size()),o.closeInstructionEditor(!0),Object(j.a)(t),o._eventsTree&&o._eventsTree.forceEventsUpdate())},resourceSources:o.props.resourceSources,onChooseResource:o.props.onChooseResource,resourceExternalEditors:o.props.resourceExternalEditors,openInstructionOrExpression:function(e,t){o.closeInstructionEditor(),o.props.openInstructionOrExpression(e,t)},canPasteInstructions:o.state.editedInstruction.isCondition?Object(I.c)():Object(I.b)(),onPasteInstructions:function(){var e=o.state.editedInstruction,t=e.instrsList,n=e.isCondition;t&&o.pasteInstructionsInInstructionsList({instrsList:t,isCondition:n})}}):void 0},o._ensureFocused=function(){if(o._containerDiv&&document){var e=o._containerDiv.current;if(document.activeElement!==e&&e){if(document.activeElement!==document.body&&e.contains(document.activeElement))return;e.focus()}}},o.addNewEvent=Object(F.h)(o.props.authenticatedUser,F.d,o._addNewEvent),o}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.setState({allEventsMetadata:Object(w.a)()})}},{key:"componentDidUpdate",value:function(e,t){this.addNewEvent=Object(F.h)(this.props.authenticatedUser,F.d,this._addNewEvent),this.state.history!==t.history&&this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges()}},{key:"updateToolbar",value:function(){this.props.setToolbar&&this.props.setToolbar(l.createElement(h.a,{allEventsMetadata:this.state.allEventsMetadata,onAddStandardEvent:this._addStandardEvent,onAddSubEvent:this.addSubEvents,canAddSubEvent:Object(C.h)(this.state.selection),onAddCommentEvent:this._addCommentEvent,onAddEvent:this.addNewEvent,canRemove:Object(C.l)(this.state.selection),onRemove:this.deleteSelection,canUndo:Object(y.b)(this.state.history),canRedo:Object(y.a)(this.state.history),undo:this.undo,redo:this.redo,onOpenSettings:this.props.onOpenSettings,onToggleSearchPanel:this._toggleSearchPanel}))}},{key:"closeInstructionEditor",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.state.editedInstruction.instruction;this.setState({editedInstruction:{isCondition:!0,instruction:null,instrsList:null,indexInList:0}},(function(){n&&n.delete(),t&&e._saveChangesToHistory()}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.scope,a=t.events,o=t.onOpenExternalEvents,i=t.onOpenLayout,s=t.globalObjectsContainer,d=t.objectsContainer,p=t.preferences,m=t.resourceSources,h=t.onChooseResource,g=t.resourceExternalEditors,E=t.onCreateEventsFunction;if(!n)return null;var y=Object(A.b)();return l.createElement(R.a,null,(function(t){return l.createElement(k.a,{key:a.ptr,ref:function(t){return e._eventSearcher=t},events:a,globalObjectsContainer:s,objectsContainer:d,selection:e.state.selection,project:n},(function(j){var k=j.eventsSearchResultEvents,T=j.searchFocusOffset,w=j.searchInEvents,S=j.replaceInEvents,_=j.goToPreviousSearchResult,I=j.goToNextSearchResult,A=j.clearSearchResults;return l.createElement("div",{className:"gd-events-sheet",style:U.container,onKeyDown:e._keyboardShortcuts.onKeyDown,onKeyUp:e._keyboardShortcuts.onKeyUp,onDragOver:e._keyboardShortcuts.onDragOver,ref:e._containerDiv,tabIndex:0},l.createElement(u.a,{ref:function(t){return e._eventsTree=t},key:a.ptr,onScroll:e._ensureFocused,events:a,project:n,scope:r,globalObjectsContainer:s,objectsContainer:d,selection:e.state.selection,onInstructionClick:e.selectInstruction,onInstructionDoubleClick:e.openInstructionEditor,onInstructionContextMenu:e.openInstructionContextMenu,onAddInstructionContextMenu:e.openAddInstructionContextMenu,onAddNewInstruction:e.openInstructionEditor,onPasteInstructions:e.pasteInstructionsInInstructionsList,onMoveToInstruction:e.moveSelectionToInstruction,onMoveToInstructionsList:e.moveSelectionToInstructionsList,onParameterClick:e.openParameterEditor,onEventClick:e.selectEvent,onEventContextMenu:e.openEventContextMenu,onAddNewEvent:function(t,n){e.addNewEvent(t,{eventsList:n,indexInList:n.getEventsCount()})},onOpenExternalEvents:o,onOpenLayout:i,searchResults:k,searchFocusOffset:T,onEventMoved:e._onEventMoved,showObjectThumbnails:p.values.eventsSheetShowObjectThumbnails,screenType:y,windowWidth:t,eventsSheetHeight:e._containerDiv.current?e._containerDiv.current.clientHeight:0,fontSize:p.values.eventsSheetZoomLevel}),e.state.showSearchPanel&&l.createElement(x.a,{ref:function(t){return e._searchPanel=t},onSearchInEvents:function(t){return e._searchInEvents(w,t)},onReplaceInEvents:function(t){return e._replaceInEvents(S,t)},resultsCount:k?k.length:null,hasEventSelected:Object(C.h)(e.state.selection),onGoToPreviousSearchResult:function(){return e._ensureEventUnfolded(_)},onCloseSearchPanel:function(){A(),e._closeSearchPanel()},onGoToNextSearchResult:function(){return e._ensureEventUnfolded(I)},searchFocusOffset:T}),l.createElement(b.a,{open:e.state.inlineEditing,anchorEl:e.state.inlineEditingAnchorEl,onRequestClose:function(){e.closeParameterEditor("cancel"===p.values.eventsSheetCancelInlineParameter)},onApply:function(){e.closeParameterEditor(!1)},project:n,scope:r,globalObjectsContainer:s,objectsContainer:d,isCondition:e.state.editedParameter.isCondition,instruction:e.state.editedParameter.instruction,parameterIndex:e.state.editedParameter.parameterIndex,onChange:function(t){var n=e.state.editedParameter,r=n.instruction,a=n.parameterIndex;r&&e.state.inlineEditing&&(r.setParameter(a,t),e.setState({inlineEditingChangesMade:!0}),e._searchPanel&&e._searchPanel.markSearchResultsDirty())},resourceSources:m,onChooseResource:h,resourceExternalEditors:g}),l.createElement(v.a,{ref:function(t){return e.eventContextMenu=t},buildMenuTemplate:e._buildEventContextMenu}),l.createElement(v.a,{ref:function(t){return e.instructionContextMenu=t},buildMenuTemplate:e._buildInstructionContextMenu}),e._renderInstructionEditorDialog(p.values.useNewInstructionEditorDialog||"touch"===y),e.state.analyzedEventsContextResult&&l.createElement(O.a,{onClose:e._closeEventsContextAnalyzer,eventsContextResult:e.state.analyzedEventsContextResult}),e.state.serializedEventsToExtract&&l.createElement(P.a,{project:n,globalObjectsContainer:s,objectsContainer:d,onClose:function(){return e.setState({serializedEventsToExtract:null})},serializedEvents:e.state.serializedEventsToExtract,onCreate:function(t,n){E(t,n),e._replaceSelectionByEventsFunction(t,n),e.setState({serializedEventsToExtract:null})}}),e.state.textEditedEvent&&l.createElement(f.a,{event:e.state.textEditedEvent,onApply:function(){e.closeEventTextDialog(),e._saveChangesToHistory()},onClose:e.closeEventTextDialog}),l.createElement(N.a,{identifier:"edit-instruction-explanation",message:l.createElement(c.Trans,{id:"Double click on a condition or action to edit it."}),touchScreenMessage:l.createElement(c.Trans,{id:"Double tap a condition or action to edit it. Long press to show more options."}),show:Object(C.i)(e.state.selection)}))}))}))}}]),n}(l.Component);t.a=l.forwardRef((function(e,t){l.useImperativeHandle(t,(function(){return{updateToolbar:r}}));var n=l.useRef(null),r=function(){n.current&&n.current.updateToolbar()},a=l.useContext(M.a),o=l.useContext(S.a);return l.createElement(G,Object.assign({ref:n,authenticatedUser:a,preferences:o},e))}))}).call(this,n(8))},,,,,function(e,t,n){"use strict";(function(e){n(15);var r=n(784),a=n(1398),o=n(1399),i=n(1400),s=n(1401),c=n(558),l=n(1421),u=n(1422),d=n(1423),p=n(1438),m=n(1439),f=n(1440),h=n(800),g=n(1441),b=n(1442),v=n(1443),E=n(1444),y=n(1445),C=n(1446),j=n(1447),O=n(1448),x=n(1449),k=n(1450),T=n(1451),w=n(1452),S=n(1453),P=n(1454),_=n(1455),I=n(1456),N=n(1457),A=e.gd,R={default:r.a,mouse:i.a,object:c.a,relationalOperator:a.a,operator:o.a,yesorno:l.a,trueorfalse:u.a,expression:d.a,string:p.a,stringWithSelector:m.a,behavior:f.a,scenevar:h.a,globalvar:g.a,objectvar:b.a,layer:v.a,key:s.a,file:r.a,musicfile:E.a,soundfile:E.a,videoResource:y.a,jsonResource:C.a,bitmapFontResource:j.a,color:O.a,police:r.a,joyaxis:r.a,forceMultiplier:x.a,sceneName:k.a,layerEffectName:T.a,layerEffectParameterName:w.a,objectEffectName:S.a,objectEffectParameterName:P.a,objectPointName:_.a,objectAnimationName:I.a,functionParameterName:N.a},M={default:r.b,forceMultiplier:x.b,globalvar:g.b,scenevar:h.b,objectvar:b.b,key:s.b,mouse:i.b,object:c.b,yesorno:l.b,trueorfalse:u.b,operator:o.b,relationalOperator:a.b},F={mouse:{id:"Mouse button"},object:{id:"Object"},relationalOperator:{id:"Relational operator"},operator:{id:"Operator"},yesorno:{id:"Yes or No"},trueorfalse:{id:"True or False"},expression:{id:"Number"},string:{id:"String"},stringWithSelector:{id:"String"},behavior:{id:"Behavior"},scenevar:{id:"Scene variable"},globalvar:{id:"Global variable"},objectvar:{id:"Object variable"},layer:{id:"Layer"},key:{id:"Keyboard key"},musicfile:{id:"Audio resource"},soundfile:{id:"Audio resource"},videoResource:{id:"Video resource"},bitmapFontResource:{id:"Bitmap font resource"},jsonResource:{id:"JSON resource"},color:{id:"Color"},forceMultiplier:{id:"Instant or permanent force"},sceneName:{id:"Scene name"},layerEffectName:{id:"Layer effect name"},layerEffectParameterName:{id:"Layer effect parameter name"},objectEffectName:{id:"Object effect name"},objectEffectParameterName:{id:"Object effect parameter name"},objectPointName:{id:"Object point name"},objectAnimationName:{id:"Object animation name"},functionParameterName:{id:"Parameter name"}};t.a={components:R,getParameterComponent:function(e){var t=A.ParameterMetadata.isObject(e)?"object":e;return R.hasOwnProperty(t)?R[t]:R.default},renderInlineParameter:function(e){var t=e.parameterMetadata.getType(),n=A.ParameterMetadata.isObject(t)?"object":t;return(M[n]||M.default)(e)},getUserFriendlyTypeName:function(e){var t=A.ParameterMetadata.isObject(e)?"object":e;return F[t]||null}}}).call(this,n(8))},function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return f}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n(171),u=n.n(l),d=n(785),p=n(169),m=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(e){var a;Object(r.a)(this,n);var o=(a=t.call(this,e)).props.parameterMetadata;return a._description=o?o.getDescription():void 0,a._longDescription=o?o.getLongDescription():void 0,a._allowedObjectType=o?o.getExtraInfo():void 0,a}return Object(a.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this;return c.createElement(d.a,{margin:this.props.isInline?"none":"dense",project:this.props.project,value:this.props.value,onChange:this.props.onChange,onRequestClose:this.props.onRequestClose,onApply:this.props.onApply,allowedObjectType:this._allowedObjectType,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,floatingLabelText:this._description,helperMarkdownText:this._longDescription,fullWidth:!0,errorTextIfInvalid:this._allowedObjectType?c.createElement(s.Trans,{id:"The object does not exist or can't be used here."}):c.createElement(s.Trans,{id:"Enter the name of an object."}),openOnFocus:!this.props.value,ref:function(t){return e._field=t}})}}]),n}(c.Component),f=function(e){var t=e.value,n=e.parameterMetadata,r=e.renderObjectThumbnail,a=e.MissingParameterValue;return t||n.isOptional()?c.createElement("span",{title:t,className:u()({[p.p]:!0})},r(t),t):c.createElement(a,null)}},,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var r=n(3),a=n(4),o=n(427),i=n.n(o),s=n(20),c=n.n(s),l=n(145),u=n(144),d=n(1412),p=e.gd,m={},f={},h={},g=l.Texture.from("res/error48.png"),b=function(){function e(){Object(r.a)(this,e)}return Object(a.a)(e,null,[{key:"_initializeTexture",value:function(e,t){"image"===e.getKind()&&(p.asImageResource(e).isSmooth()||(t.baseTexture.scaleMode=l.SCALE_MODES.NEAREST))}},{key:"loadTextures",value:function(t,n,r,a){var o=t.getResourcesManager(),i=l.Loader.shared;i.reset();var s={};n.forEach((function(e){if(o.hasResource(e)){var n=o.getResource(e),r=u.a.getResourceFullUrl(t,e,{isResourceForPixi:!0});i.add(e,r),s[e]=n}}));var c=Object.keys(s).length;if(c){var d=0,p=i.onProgress.add((function(){d++,r(d,c)}));i.load((function(t,n){for(var r in t.onProgress.detach(p),n)if(n.hasOwnProperty(r)){var i=o.getResource(r);if("image"!==i.getKind())continue;h[r]=n[r].texture,e._initializeTexture(i,h[r])}a()}))}else a()}},{key:"getPIXITexture",value:function(t,n){if(h[n])return h[n];if(!t.getResourcesManager().hasResource(n))return g;var r=t.getResourcesManager().getResource(n);return"image"!==r.getKind()?g:(h[n]=l.Texture.from(u.a.getResourceFullUrl(t,n,{isResourceForPixi:!0})),e._initializeTexture(r,h[n]),h[n])}},{key:"getPIXIVideoTexture",value:function(e,t){return h[t]?h[t]:e.getResourcesManager().hasResource(t)?"video"!==e.getResourcesManager().getResource(t).getKind()?g:(h[t]=l.Texture.from(u.a.getResourceFullUrl(e,t,{disableCacheBurst:!0,isResourceForPixi:!0}),{scaleMode:l.SCALE_MODES.LINEAR,resourceOptions:{autoPlay:!1}}),h[t]):g}},{key:"loadFontFamily",value:function(e,t){if(f[t])return Promise.resolve(f[t]);var n=i()(t),r=null;e.getResourcesManager().hasResource(t)?"font"===e.getResourcesManager().getResource(t).getKind()&&(r=u.a.getResourceFullUrl(e,t,{isResourceForPixi:!0})):r=u.a.getFullUrl(e,t,{isResourceForPixi:!0});return r?Object(d.a)(n,'url("'.concat(r,'")'),{}).then((function(e){return f[t]=n,n})):Promise.resolve("Arial")}},{key:"getFontFamily",value:function(e,t){return f[t]?f[t]:i()(t)}},{key:"getBitmapFontData",value:function(e,t){if(m[t])return Promise.resolve(m[t].data);if(!e.getResourcesManager().hasResource(t))return Promise.reject(new Error("Can't find resource called ".concat(t,".")));if("bitmapFont"!==e.getResourcesManager().getResource(t).getKind())return Promise.reject(new Error("The resource called ".concat(t," is not a bitmap font file. Require .fnt or .xml format.")));var n=u.a.getResourceFullUrl(e,t,{isResourceForPixi:!0});return n?c.a.get(n).then((function(e){return m[t]=e,e.data})):Promise.reject(new Error("The resource called ".concat(t," was no found.\nThe default bitmap font will be used.")))}},{key:"getInvalidPIXITexture",value:function(){return g}},{key:"getResourceJsonData",value:function(e,t){if(!e.getResourcesManager().hasResource(t))return Promise.reject(new Error("Can't find resource called ".concat(t,".")));if("json"!==e.getResourcesManager().getResource(t).getKind())return Promise.reject(new Error("The resource called ".concat(t," is not a json file.")));var n=u.a.getResourceFullUrl(e,t,{isResourceForPixi:!0});return c.a.get(n).then((function(e){return e.data}))}}]),e}()}).call(this,n(8))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(42),a=n.n(r),o=(n(127),function(e){if(e&&e.current){var t=a.a.findDOMNode(e.current);if(t instanceof HTMLButtonElement)t.focus();else if(t instanceof HTMLElement){var n=t.getElementsByTagName("button");n&&n.length&&n[0]instanceof HTMLButtonElement&&n[0].focus()}}})},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var r=n(131),a=function(e,t,n){var r=t.getParametersCount();return e.filter((function(e,a){return!(a<n)&&(a<r&&!t.getParameter(a).isCodeOnly())}))},o=function(e,t,n){var r=-1,a=-1,o=e.map((function(e,n){var o=t.getParameter(n);return o.isOptional()||(r=n),e.length>0?(a=n,e):o.getDefaultValue()})),i=Math.max(r,a,0);return o.filter((function(e,r){return n<=r&&r<=i&&!t.getParameter(r).isCodeOnly()}))},i=function(e){var t=Object(r.mapVector)(e.metadata.getParameters(),(function(e){return e.getType()}));return e.scope.objectMetadata?a(t,e.metadata,1):e.scope.behaviorMetadata?a(t,e.metadata,2):a(t,e.metadata,0)},s=function(e,t){var n=e.name||"";if(e.scope.objectMetadata){var r=t[0],a=o(t,e.metadata,1).join(", ");return"".concat(r,".").concat(n,"(").concat(a,")")}if(e.scope.behaviorMetadata){var i=t[0],s=t[1],c=o(t,e.metadata,2).join(", ");return"".concat(i,".").concat(s,"::").concat(n,"(").concat(c,")")}var l=o(t,e.metadata,0).join(", ");return"".concat(n,"(").concat(l,")")}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return O}));var r=n(18),a=n(3),o=n(4),i=n(6),s=n(5),c=n(348),l=n.n(c),u=n(15),d=n.n(u),p=n(127),m=n(797),f=n(171),h=n.n(f),g=n(169),b=n(212),v=n(129),E=n(143),y=n(548),C=n.n(y),j=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(e){var r;return Object(a.a)(this,n),(r=t.call(this,e)).state={autocompletionVariableNames:[]},r}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.updateAutocompletions()}},{key:"updateAutocompletions",value:function(){var e=Object(m.a)(this.props.variablesContainer).map((function(e){var t=e.name;return e.isValidName?t:null})).filter(Boolean),t=this.context.values.useUndefinedVariablesInAutocompletion?C()([].concat(Object(r.a)(e),Object(r.a)(this.props.onComputeAllVariableNames()))):e;this.setState({autocompletionVariableNames:t.map((function(e){return{text:e,value:e}}))})}},{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,r=t.onChange,a=t.isInline,o=t.onOpenDialog,i=t.parameterMetadata,s=t.onRequestClose,c=t.onApply,u=i?i.getDescription():void 0;return d.a.createElement(v.c,{renderTextField:function(){return d.a.createElement(b.a,{margin:e.props.isInline?"none":"dense",floatingLabelText:u,helperMarkdownText:i?i.getLongDescription():void 0,fullWidth:!0,value:n,onChange:r,onRequestClose:s,onApply:c,dataSource:e.state.autocompletionVariableNames,openOnFocus:!a,ref:function(t){return e._field=t}})},renderButton:function(t){return o&&!a?d.a.createElement(p.a,{icon:d.a.createElement(l.a,null),disabled:!e.props.variablesContainer,primary:!0,style:t,onClick:o}):null}})}}]),n}(u.Component);j.contextType=E.a;var O=function(e,t,n){var r=e.value,a=e.parameterMetadata,o=e.MissingParameterValue;return r||a.isOptional()?d.a.createElement("span",{title:n,className:h()({[g.p]:!0})},d.a.createElement("img",{className:h()({[g.i]:!0}),src:t,alt:""}),r):d.a.createElement(o,null)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return c}));var r=n(131),a=n(220),o=n.n(a),i=function(e){var t=e.getCurrentPlatform().getAllPlatformExtensions();return o()(Object(r.mapFor)(0,t.size(),(function(e){var n=t.at(e);return n.getExtensionEffectTypes().toJSArray().map((function(e){return n.getEffectMetadata(e)})).map((function(e){var t=e.getType(),r=e.getProperties(),a=r.keys().toJSArray().map((function(e){var n=r.get(e),a=n.getType().toLowerCase(),o=n.getLabel(),i=n.getDescription(),s=function(){return o},c=function(){return i},l=function(){return e};if("number"===a)return{name:e,valueType:"number",getValue:function(t){return t.getDoubleParameter(e)},setValue:function(t,n){return t.setDoubleParameter(e,n)},getLabel:s,getDescription:c,getExtraDescription:l};if("boolean"===a)return{name:e,valueType:"boolean",getValue:function(t){return t.getBooleanParameter(e)},setValue:function(t,n){return t.setBooleanParameter(e,n)},getLabel:s,getDescription:c,getExtraDescription:l};if("resource"===a){var u=n.getExtraInfo().toJSArray()[0]||"";return{name:e,valueType:"resource",resourceKind:u,getValue:function(t){return t.getStringParameter(e)},setValue:function(t,n){return t.setStringParameter(e,n)},getLabel:s,getDescription:c,getExtraDescription:l}}return"color"===a?{name:e,valueType:"color",getValue:function(t){return t.getStringParameter(e)},setValue:function(t,n){return t.setStringParameter(e,n)},getLabel:s,getDescription:c,getExtraDescription:l}:(console.error("A property with type=".concat(a," could not be mapped to a field for effect ").concat(t,". Ensure that this type is correct.")),null)})).filter(Boolean);return{extension:n,type:t,effectMetadata:e,fullName:e.getFullName(),description:e.getDescription(),isMarkedAsNotWorkingForObjects:e.isMarkedAsNotWorkingForObjects(),parametersSchema:a}}))}))).sort((function(e,t){return e.fullName.localeCompare(t.fullName)}))},s=function(e){return Object(r.mapFor)(0,e.getEffectsCount(),(function(t){return e.getEffectAt(t).getName()}))},c=function(e,t){e.clearParameters();var n=t.getProperties();n.keys().toJSArray().forEach((function(t){var r=n.get(t),a=r.getType().toLowerCase();"number"===a?e.setDoubleParameter(t,parseFloat(r.getValue())||0):"boolean"===a?e.setBooleanParameter(t,"true"===r.getValue()):e.setStringParameter(t,r.getValue())}))}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o}));var r=function(){return{"PhysicsBehavior::PhysicsBehavior":{warning:{id:"A new physics engine (Physics Engine 2.0) is now available. You should prefer using it for new game. For existing games, note that the two behaviors are not compatible, so you should only use one of them with your objects."}}}},a=function(){return{"Video::VideoObject":[{kind:"warning",message:{id:"Most browsers will require the user to have interacted with your game before allowing any video to play. Make sure that the player click/touch the screen at the beginning of the game before starting any video."}},{kind:"warning",message:{id:"For a given video resource, only one video will be played in memory and displayed. If you put this object multiple times on the scene, all the instances will be displaying the exact same video (with the same timing and paused/played/stopped state)."}},{kind:"info",message:{id:"Video format supported can vary according to devices and browsers. For maximum compatibility, use H.264/mp4 file format (and AAC for audio)."}}],"BitmapText::BitmapTextObject":[{kind:"warning",message:{id:"This object is experimental and not yet complete. It might have bugs or incomplete support in GDevelop, be sure to read the wiki by clicking on help button bellow."}},{kind:"info",message:{id:"For a pixel type font, you must disable the Smooth checkbox related to your texture in the game resources to disable anti-aliasing."}},{kind:"info",message:{id:"The font size is stored directly inside the font. If you want to change it, export again your font using an external editor like bmFont. Click on the help button to learn more."}}],"TileMap::TileMap":[{kind:"info",message:{id:"The tilemap must be designed in a separated program, Tiled, that can be downloaded on mapeditor.org. Save your map as a JSON file, then select here the Atlas image that you used and the Tile map JSON file."}}]}},o=function(e){return 0===e.indexOf("PhysicsBehavior::")?{kind:"warning",message:{id:'This action is deprecated and should not be used anymore. Instead, use for all your objects the behavior called "Physics2" and the associated actions (in this case, all objects must be set up to use Physics2, you can\'t mix the behaviors).'}}:e.startsWith("BoundingBox")?{kind:"info",message:{id:"The bounding box is an imaginary rectangle surrounding the object collision mask. Even if the object X and Y positions are not changed, this rectangle can change if the object is rotated or if an animation is being played. Usually you should use actions and conditions related to the object position or center, but the bounding box can be useful to deal with the area of the object."}}:"CompareTimer"===e?{kind:"info",message:{id:'To start a timer, don\'t forget to use the action "Start (or reset) a scene timer" in another event.'}}:"CompareObjectTimer"===e?{kind:"info",message:{id:'To start a timer, don\'t forget to use the action "Start (or reset) an object timer" in another event.'}}:"BitmapText::Scale"===e?{kind:"info",message:{id:"A scale under 1 on a Bitmap text object can downgrade the quality text, prefer to remake a bitmap font smaller in the external bmFont editor."}}:"TextObject::Text::SetFontSize"===e?{kind:"warning",message:{id:"This action will create a new texture and re-render the text each time it is called, which is expensive and can reduce performances. Prefer to avoid changing a lot the character size of a text."}}:"PlayMusicCanal"===e||"PlayMusic"===e?{kind:"warning",message:{id:"Musics will only be played if the user has interacted with the game before (by clicking/touching it or pressing a key on the keyboard). This is due to browser limitations. Make sure to have the user interact with the game before using this action."}}:"P2P::OnEvent"===e?{kind:"info",message:{id:"Read the wiki page for more info about the dataloss mode."}}:"PlatformBehavior::IsObjectOnGivenFloor"===e?{kind:"info",message:{id:"This condition may have unexpected results when the object is on different floors at the same time, due to the fact that the engine only considers the first floor the object comes into contact with."}}:"P2P::OverrideID"===e?{kind:"warning",message:{id:"Overriding the ID may have unwanted consequences. Do not use this feature unless you really know what you are doing."}}:0===e.indexOf("P2P::")?{kind:"warning",message:{id:"It is recommended to use your own custom broker server. Read the wiki page for more info."},identifier:"p2p-broker-recommendation"}:"SystemInfo::IsMobile"===e?{kind:"warning",message:{id:'Note that the distinction between what is a mobile device and what is not is becoming blurry (with devices like iPad pro and other "desktop-class" tablets). If you use this for mobile controls, prefer to check if the device has touchscreen support.'}}:"AdvancedWindow::SetClosable"===e||"AdvancedWindow::EnableWindow"===e||"AdvancedWindow::Show"===e||"AdvancedWindow::SetFocusable"===e||"AdvancedWindow::Focus"===e?{kind:"warning",message:{id:"Be careful with this action, you may have problems exiting the preview if you don't add a way to toggle it back."}}:"GetArgumentAsBoolean"===e?{kind:"info",message:{id:'If the parameter is a string or a number, you probably want to use the expressions "GetArgumentAsString" or "GetArgumentAsNumber", along with the conditions "Compare two strings" or "Compare two numbers".'}}:null}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return p}));var r=n(119),a=n(26),o=n(15),i=n(258),s=n(365),c=n(366),l=e.gd,u=function(e){var t=e.instructionType,n=e.isCondition,r=e.project;return t?n?l.MetadataProvider.getConditionMetadata(r.getCurrentPlatform(),t):l.MetadataProvider.getActionMetadata(r.getCurrentPlatform(),t):null},d=function(e,t){return e.find((function(e){return e.type===t}))},p=function(e){var t=e.instruction,n=e.isCondition,l=(e.project,e.isNewInstruction),u=e.scope,p=e.globalObjectsContainer,m=e.objectsContainer,f=function(e,r){var a=Object(c.a)(Object(i.d)(n,p,m,e),u);t.getType()&&r&&(d(a,t.getType())||t.setType(""));return{chosenObjectName:e,chosenObjectInstructionsInfo:a,chosenObjectInstructionsInfoTree:Object(s.a)(a)}},h=o.useState((function(){if(!l){var e=Object(i.b)(n),r=t.getType(),a=d(e,r);if(a&&(a.scope.objectMetadata||a.scope.behaviorMetadata)){var o=Object(i.g)(a.metadata);if(-1!==o)return f(t.getParameter(o),!1)}}return{chosenObjectName:null,chosenObjectInstructionsInfo:null,chosenObjectInstructionsInfoTree:null}})),g=Object(a.a)(h,2),b=g[0],v=g[1];return[b,{chooseInstruction:function(e){t.setType(e);return v({chosenObjectName:null,chosenObjectInstructionsInfo:null,chosenObjectInstructionsInfoTree:null}),Object(r.a)({instruction:t},{chosenObjectName:null,chosenObjectInstructionsInfo:null,chosenObjectInstructionsInfoTree:null})},chooseObject:function(e){var n=f(e,!0);return v(n),Object(r.a)({instruction:t},n)},chooseObjectInstruction:function(e){if(t.setType(e),b.chosenObjectName){var n=f(b.chosenObjectName,!0);return v(n),Object(r.a)({instruction:t},n)}return Object(r.a)({instruction:t},b)}}]}}).call(this,n(8))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var r=n(258),a=e.gd,o=function(e,t,n,o,i){if(n.setParametersCount(o.getParametersCount()),i){var s=Object(r.g)(o);if(-1!==s){n.setParameter(s,i);var c=s+1;if(c<o.getParametersCount()){var l=o.getParameter(c);if(!a.ParameterMetadata.isBehavior(l.getType()))return;var u=l.getExtraInfo(),d=a.getBehaviorsOfObject(e,t,i,!0).toJSArray().filter((function(n){return!u||a.getTypeOfBehavior(e,t,n,!1)===u}));if(d.length>0){var p=n.getParameter(c);d.some((function(e){return p===e}))||n.setParameter(c,d[0])}}}else console.error('Instruction "'.concat(o.getFullName(),'" is used for an object, but does not have an object as first parameter'))}}}).call(this,n(8))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(26),a=n(13),o=n(15),i=n(732),s=n.n(i),c=n(1642),l=n.n(c),u=function(e,t,n){if(!e)return null;var r=performance.now(),o=e.filter((function(e){var n=e.tags;if(!t)return!0;if(!(t.node.isTagContainerOnly||n.some((function(e){return e===t.node.name}))))return!1;var r,o=Object(a.a)(t.parentNodes);try{var i=function(){var e=r.value;return e.isTagContainerOnly?{v:!0}:n.some((function(t){return t===e.name}))?void 0:{v:!1}};for(o.s();!(r=o.n()).done;){var s=i();if("object"===typeof s)return s.v}}catch(c){o.e(c)}finally{o.f()}return!0})).filter((function(e){var t=e.tags;return 0===n.size||t.some((function(e){return n.has(e)}))})),i=performance.now()-r;return console.info("Filtered items by category/filters in ".concat(i.toFixed(3),"ms.")),o},d=function(e,t,n,a,i){var c=o.useRef(null),d=o.useState(null),p=Object(r.a)(d,2),m=p[0],f=p[1],h=o.useMemo((function(){return e?s()(Object.keys(e).map((function(t){return e[t]}))):null}),[e]);o.useEffect((function(){if(e){var n=performance.now();c.current&&(c.current.terminate(),c.current=null);try{var r=new l.a,a=Object.keys(e);a.forEach((function(n){var a=e[n];r.indexDocument(n,t(a))}));var o=performance.now()-n;console.info("Indexed ".concat(a.length," items in ").concat(o.toFixed(3),"ms.")),c.current=r}catch(i){console.error("Error while indexing items: ",i)}}}),[e,t]);var g=c.current;return o.useEffect((function(){var t=!1;if(n){if(!e||!g)return void console.info("Search for items skipped because items are not ready - will be retried when ready");var r=performance.now();g.search(n).then((function(n){if(t)console.info("Discarding search results as a new search was launched.");else{var o=n.map((function(t){return e[t]})).filter(Boolean),s=performance.now()-r;console.info("Found ".concat(o.length," items in ").concat(s.toFixed(3),"ms.")),f(u(o,a,i))}}))}else f(u(h,a,i));return function(){t=!0}}),[h,e,n,a,i,g]),m}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(18),a=n(15),o=n(2127),i=n(2126),s=n(349),c=n.n(s),l=n(432),u=n.n(l),d=n(158),p=function(e){return e.map((function(e){return e.name})).join(";-/>")},m=function e(t){var n=t.tagsTreeNodes,o=t.onChoose,s=t.parentNodes;return n.length?n.map((function(t){var n=[].concat(Object(r.a)(s),[t]);return a.createElement(i.a,{nodeId:p(n),label:t.name,key:t.name,onLabelClick:function(){return o({node:t,parentNodes:s})},collapseIcon:t.children.length?a.createElement(c.a,null):null,expandIcon:t.children.length?a.createElement(u.a,null):null},a.createElement(e,{tagsTreeNodes:t.children,parentNodes:n,onChoose:o}))})):null},f=a.memo((function(e){var t=e.allItemsLabel,n=e.chosenCategory,s=e.setChosenCategory,c=e.allFilters;return a.createElement(o.a,{selected:n?p([].concat(Object(r.a)(n.parentNodes),[n.node])):"",defaultExpanded:[],onNodeSelect:function(){}},a.createElement(i.a,{nodeId:"",label:t,onLabelClick:function(){return s(null)}}),a.createElement(m,{tagsTreeNodes:c.tagsTree,onChoose:s,parentNodes:[]}))})),h=function(e){var t=e.filtersState,n=e.allFilters,r=e.error,o=e.allItemsLabel;return n?r?null:a.createElement(f,{allItemsLabel:o,chosenCategory:t.chosenCategory,setChosenCategory:t.setChosenCategory,allFilters:n}):a.createElement(d.a,null)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return m}));var r=n(0),a=n.n(r),o=n(1),i=n(26),s=n(15),c=n(275),l=n(277),u=n(600),d=s.createContext({filters:null,authors:null,licenses:null,searchResults:null,fetchAssetsAndFilters:function(){},error:null,searchText:"",setSearchText:function(){},filtersState:{chosenFilters:new Set,addFilter:function(){},removeFilter:function(){},chosenCategory:null,setChosenCategory:function(){}}}),p=function(e){return e.name+"\n"+e.shortDescription+"\n"+e.tags.join(", ")},m=function(e){var t=e.children,n=s.useState(null),r=Object(i.a)(n,2),m=r[0],f=r[1],h=s.useState(null),g=Object(i.a)(h,2),b=g[0],v=g[1],E=s.useState(null),y=Object(i.a)(E,2),C=y[0],j=y[1],O=s.useState(null),x=Object(i.a)(O,2),k=x[0],T=x[1],w=s.useState(null),S=Object(i.a)(w,2),P=S[0],_=S[1],I=s.useRef(!1),N=s.useState(""),A=Object(i.a)(N,2),R=A[0],M=A[1],F=Object(c.b)(),L=s.useCallback((function(){m||I.current||Object(o.a)(a.a.mark((function e(){var t,n,r,o,i,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(null),I.current=!0,e.prev=2,e.next=5,Object(l.d)();case 5:return t=e.sent,n=t.assetShortHeaders,r=t.filters,e.next=10,Object(l.e)();case 10:return o=e.sent,e.next=13,Object(l.f)();case 13:i=e.sent,s={},n.forEach((function(e){s[e.id]=e})),console.info("Loaded ".concat(n.length," assets from the asset store.")),f(s),v(r),j(o),T(i),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(2),console.error("Unable to load the assets from the asset store:",e.t0),_(e.t0);case 27:I.current=!1;case 28:case"end":return e.stop()}}),e,null,[[2,23]])})))()}),[m,I]);s.useEffect((function(){if(!m&&!I.current){var e=setTimeout((function(){console.info("Pre-fetching assets from asset store..."),L()}),6e3);return function(){return clearTimeout(e)}}}),[L,m,I]);var B=F.chosenCategory,D=F.chosenFilters,U=Object(u.a)(m,p,R,B,D),G=s.useMemo((function(){return{searchResults:U,fetchAssetsAndFilters:L,filters:b,authors:C,licenses:k,error:P,searchText:R,setSearchText:M,filtersState:F}}),[U,P,b,C,k,R,F,L]);return s.createElement(d.Provider,{value:G},t)}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var r=null,a=function(){return r||(r=e.CSS.supports("image-rendering: crisp-edges")?"crisp-edges":"pixelated")}}).call(this,n(8))},function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return E}));var r=n(0),a=n.n(r),o=n(1),i=n(26),s=n(115),c=n(15),l=n(128),u=n(124),d=n(117),p=n(125),m=n(2113),f=n(254),h=n(127),g=n(129),b=c.createContext(null),v=function(e){var t=e.progress,n=e.fetchedResources,r=e.onAbandon,a=e.onRetry,o=n&&n.erroredResources.length>0;return c.createElement(l.a,{actions:[a?c.createElement(h.a,{label:c.createElement(s.Trans,{id:"Retry"}),primary:!0,onClick:a,key:"retry"}):null,c.createElement(u.a,{label:r?c.createElement(s.Trans,{id:"Abandon"}):c.createElement(s.Trans,{id:"Please wait..."}),disabled:!r,onClick:r,key:"close"})],cannotBeDismissed:!0,noMargin:!0,open:!0,maxWidth:"sm"},c.createElement(d.b,null,c.createElement(g.a,{expand:!0},c.createElement(p.a,null,o?c.createElement(s.Trans,{id:"There were errors when fetching resources for the project."}):c.createElement(s.Trans,{id:"Resources needed for the project are downloaded..."})),c.createElement(m.a,{variant:"determinate",value:t}),o&&n?c.createElement(f.a,null,c.createElement(f.c,null,c.createElement(f.e,null,c.createElement(f.d,null,"Resource name"),c.createElement(f.d,null,"Error"))),c.createElement(f.b,null,n.erroredResources.map((function(e){var t=e.resourceName,n=e.error;return c.createElement(f.e,{key:t},c.createElement(f.f,null,t),c.createElement(f.f,null,n.toString()))})))):null)))},E=function(){var e=c.useContext(b),t=c.useState(0),n=Object(i.a)(t,2),r=n[0],s=n[1],l=c.useState(!1),u=Object(i.a)(l,2),d=u[0],p=u[1],m=c.useState(null),f=Object(i.a)(m,2),h=f[0],g=f[1],E=c.useState(null),y=Object(i.a)(E,2),C=y[0],j=y[1],O=c.useState(null),x=Object(i.a)(O,2),k=x[0],T=x[1],w=c.useCallback(function(){var t=Object(o.a)(a.a.mark((function t(n){var r,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}throw new Error("No resourceFetcher was defined");case 2:if(0!==(r=e.getResourcesToFetch(n)).length){t.next=5;break}return t.abrupt("return",{someResourcesWereFetched:!1});case 5:return s(0),j(null),T(null),g(null),p(!0),t.next=12,e.fetchResources({project:n,resourceNames:r,onProgress:function(e,t){s(e/t*100)}});case 12:if(o=t.sent,s(100),0!==o.erroredResources.length){t.next=18;break}return p(!1),g(null),t.abrupt("return",{someResourcesWereFetched:!0});case 18:return t.abrupt("return",new Promise((function(e){j((function(){return function(){e(w(n))}})),T((function(){return function(){p(!1),g(null),e({someResourcesWereFetched:!0})}})),g(o),p(!1)})));case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e]);return{ensureResourcesAreFetched:w,renderResourceFetcherDialog:function(){var e=h&&h.erroredResources.length>=0;return d||e?c.createElement(v,{progress:r,fetchedResources:h,onAbandon:k,onRetry:C}):null}}}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r=function(e,t,n,r,a,o){if("isometric"===o){if(t<=0||n<=0)return e[0]=Math.round(e[0]),void(e[1]=Math.round(e[1]));var i=Math.round(2*(e[0]-r)/t),s=Math.round(2*(e[1]-a)/n);if(((i+s)%2+2)%2===1){var c=(e[0]-(i/2*t+r))/t,l=(e[1]-(s/2*n+a))/n;Math.abs(c)>Math.abs(l)?c>0?i++:i--:l>0?s++:s--}e[0]=i/2*t+r,e[1]=s/2*n+a}else e[0]=t<=0?Math.round(e[0]):Math.round((e[0]-r)/t)*t+r,e[1]=n<=0?Math.round(e[1]):Math.round((e[1]-a)/n)*n+a},a=function(e,t,n,a,o,i){return"isometric"===i?r(e,t/2,n/2,a,o,"rectangular"):r(e,t,n,a,o,i)}},,function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r=n(119),a=n(188),o=function(e){return{grid:e.grid||!1,gridType:e.gridType||"rectangular",gridWidth:e.gridWidth||32,gridHeight:e.gridHeight||32,gridOffsetX:e.gridOffsetX||0,gridOffsetY:e.gridOffsetY||0,gridColor:void 0!==e.gridColor?e.gridColor:Object(a.h)(158,180,255),gridAlpha:void 0!==e.gridAlpha?e.gridAlpha:.8,snap:e.snap||!1,zoomFactor:Math.max(e.zoomFactor||1,1e-4),windowMask:e.windowMask||!1}},i=function(e){return Object(r.a)({},e)}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));n(15);var r=e.gd,a=[{kind:"audio",displayName:{id:"Audio"},fileExtensions:["aac","wav","mp3","ogg"],createNewResource:function(){return new r.AudioResource}},{kind:"image",displayName:{id:"Image"},fileExtensions:["png","jpg"],createNewResource:function(){return new r.ImageResource}},{kind:"font",displayName:{id:"Font"},fileExtensions:["ttf","otf"],createNewResource:function(){return new r.FontResource}},{kind:"video",displayName:{id:"Video"},fileExtensions:["mp4"],createNewResource:function(){return new r.VideoResource}},{kind:"json",displayName:{id:"Json"},fileExtensions:["json"],createNewResource:function(){return new r.JsonResource}},{kind:"bitmapFont",displayName:{id:"Bitmap Font"},fileExtensions:["fnt","xml"],createNewResource:function(){return new r.BitmapFontResource}}]}).call(this,n(8))},function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return f}));var r=n(0),a=n.n(r),o=n(1),i=n(26),s=n(15),c=n(275),l=n(242),u=n(600),d=n(1725),p=s.createContext({filters:null,searchResults:null,fetchShowcasedGamesAndFilters:function(){},allShowcasedGames:null,error:null,searchText:"",setSearchText:function(){},filtersState:{chosenFilters:new Set,addFilter:function(){},removeFilter:function(){},chosenCategory:null,setChosenCategory:function(){}}}),m=function(e){return e.title+"\n"+e.author+"\n"+e.description+"\n"+e.tags.join(",")},f=function(e){var t=e.children,n=s.useState(null),r=Object(i.a)(n,2),f=r[0],h=r[1],g=s.useState(null),b=Object(i.a)(g,2),v=b[0],E=b[1],y=s.useState(null),C=Object(i.a)(y,2),j=C[0],O=C[1],x=s.useState(null),k=Object(i.a)(x,2),T=k[0],w=k[1],S=s.useRef(!1),P=s.useState(""),_=Object(i.a)(P,2),I=_[0],N=_[1],A=Object(c.b)(),R=s.useCallback((function(){f||S.current||Object(o.a)(a.a.mark((function e(){var t,n,r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(null),S.current=!0,e.prev=2,e.next=5,Object(l.g)();case 5:t=e.sent,n=t.showcasedGames,r=t.filters,E(Object(d.shuffle)(n)),o={},n.forEach((function(e){o[e.title]=e})),console.info("Loaded ".concat(n.length," games from the games showcase.")),h(o),O(r),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),console.error("Unable to load the games from the games showcase:",e.t0),w(e.t0);case 19:S.current=!1;case 20:case"end":return e.stop()}}),e,null,[[2,15]])})))()}),[f,S]),M=A.chosenCategory,F=A.chosenFilters,L=Object(u.a)(f,m,I,M,F),B=s.useMemo((function(){return{searchResults:L,fetchShowcasedGamesAndFilters:R,allShowcasedGames:v,filters:j,error:T,searchText:I,setSearchText:N,filtersState:A}}),[L,v,T,j,I,A,R]);return s.createElement(p.Provider,{value:B},t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p}));var r=n(0),a=n.n(r),o=n(1),i=n(26),s=n(15),c=n(275),l=n(317),u=n(731),d=s.createContext({filters:null,searchResults:null,fetchExamplesAndFilters:function(){},allExamples:null,error:null,searchText:"",setSearchText:function(){},filtersState:{chosenFilters:new Set,addFilter:function(){},removeFilter:function(){},chosenCategory:null,setChosenCategory:function(){}}}),p=function(e){var t=e.children,n=s.useState(null),r=Object(i.a)(n,2),p=r[0],m=r[1],f=s.useState(null),h=Object(i.a)(f,2),g=h[0],b=h[1],v=s.useState(null),E=Object(i.a)(v,2),y=E[0],C=E[1],j=s.useState(null),O=Object(i.a)(j,2),x=O[0],k=O[1],T=s.useRef(!1),w=s.useState(""),S=Object(i.a)(w,2),P=S[0],_=S[1],I=Object(c.b)(),N=s.useCallback((function(){p||T.current||Object(o.a)(a.a.mark((function e(){var t,n,r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(null),T.current=!0,e.prev=2,e.next=5,Object(l.c)();case 5:t=e.sent,n=t.exampleShortHeaders,r=t.filters,k(n),o={},n.forEach((function(e){o[e.id]=e})),console.info("Loaded ".concat(n.length," examples from the example store.")),m(o),b(r),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),console.error("Unable to load the examples from the example store:",e.t0),C(e.t0);case 19:T.current=!1;case 20:case"end":return e.stop()}}),e,null,[[2,15]])})))()}),[p,T]);s.useEffect((function(){if(!p&&!T.current){var e=setTimeout((function(){console.info("Pre-fetching examples from the example store..."),N()}),5e3);return function(){return clearTimeout(e)}}}),[N,p,T]);var A=I.chosenCategory,R=I.chosenFilters,M=Object(u.a)(p,P,A,R),F=s.useMemo((function(){return{searchResults:M,fetchExamplesAndFilters:N,allExamples:x,filters:g,error:y,searchText:P,setSearchText:_,filtersState:I}}),[M,x,y,g,P,I,N]);return s.createElement(d.Provider,{value:F},t)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return _})),n.d(t,"a",(function(){return I}));var r=n(0),a=n.n(r),o=n(1),i=n(26),s=n(115),c=n(15),l=n(128),u=n(124),d=n(317),p=n(277),m=n(244),f=n(158),h=n(223),g=n(192),b=n(125),v=n(156),E=n(28),y=n(117),C=n(2088),j=n(129),O=n(896),x=n(374),k=n(16),T=n(17),w=n.n(T),S=n(420),P=w()("electron"),_=function(e){k.b.openExternalURL("https://editor.gdevelop-app.com/?project=".concat(e.projectFileUrl))};function I(e){var t=e.isOpening,n=e.exampleShortHeader,r=e.onClose,k=e.onOpen,T=c.useState(null),w=Object(i.a)(T,2),I=w[0],N=w[1],A=c.useState(null),R=Object(i.a)(A,2),M=R[0],F=R[1],L=c.useCallback(Object(o.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(null),e.prev=1,e.next=4,Object(d.a)(n);case 4:t=e.sent,F(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),N(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),[n]);c.useEffect((function(){L()}),[L]);var B=Object(p.b)(Object(E.b)(),n),D=n.previewImageUrls.length>0,U=!t&&B,G=c.useCallback((function(){U&&k()}),[k,U]);return c.createElement(l.a,{actions:[c.createElement(u.a,{key:"close",label:c.createElement(s.Trans,{id:"Back"}),primary:!1,onClick:r,disabled:t}),c.createElement(m.a,{isLoading:t,key:"open"},c.createElement(x.a,{label:B?c.createElement(s.Trans,{id:"Open"}):c.createElement(s.Trans,{id:"Not compatible"}),primary:!0,onClick:G,disabled:!U,buildMenuTemplate:function(e){return[{label:P?e._({id:"Open in the web-app"}):e._({id:"Open in a new tab"}),disabled:!M,click:function(){M&&_(M)}}]}}))],cannotBeDismissed:!1,open:!0,onRequestClose:r,onApply:G},c.createElement(j.a,{expand:!0,noMargin:!0},!B&&c.createElement(v.a,{kind:"error"},c.createElement(s.Trans,{id:"Unfortunately, this example requires a newer version of GDevelop to work. Update GDevelop to be able to open this example."})),c.createElement(y.b,{alignItems:"center",noMargin:!0},D?c.createElement(O.a,{exampleShortHeader:n,size:40}):null,c.createElement(y.a,{expand:!0,noMargin:!D},c.createElement(b.a,{noMargin:!0,size:"title"},n.name))),n.authors&&c.createElement(y.b,null,n.authors.map((function(e){return c.createElement(S.a,{user:e,key:e.id,isClickable:!0})}))),c.createElement(b.a,{noMargin:!0},n.shortDescription),c.createElement(C.a,null),M&&c.createElement(g.a,{source:M.description,isStandaloneText:!0}),!M&&!I&&c.createElement(f.a,null),!M&&I&&c.createElement(h.a,{onRetry:L},c.createElement(s.Trans,{id:"Can't load the example. Verify your internet connection or try again later."}))))}},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){var r=n(0),a=n.n(r),o=n(1),i=n(119),s=n(26),c=n(115),l=n(15),u=(n(1002),n(2215)),d=n(2214),p=n(1996),m=n(1011),f=n(1988),h=n(1107),g=n(1984),b=n(1322),v=n(1324),E=n(1325),y=n(1326),C=n(1985),j=n(16),O=n(30),x=n(1329),k=n(1330),T=n(890),w=n(1997),S=n(920),P=n(762),_=n(877),I=n(889),N=n(880),A=n(861),R=n(1986),M=n(888),F=n(545),L=n(1998),B=n(144),D=n(276),U=n(675),G=n(136),V=n(1999),W=n(901),H=n(1742),z=n(143),Y=n(283),q=n(58),X=n(1744),K=n(1745),J=n(1746),Z=n(1747),Q=n(398),$=n(148),ee=n(1748),te=n(292),ne=n(1749),re=n(1991),ae=n(1750),oe=n(753),ie=n(1751),se=n(1752),ce=n(1753),le=n(604),ue=n(723),de=n(406),pe=n(239),me=n(1754),fe=n(245),he=n(183),ge=e.GD_STARTUP_TIMES||[],be=e.gd,ve={drawerContent:{width:320,overflowX:"hidden",display:"flex",flexDirection:"column"}},Ee=function(e,t,n){var r=n.storageProviderName,a=t.filter((function(e){return e.internalName===r}))[0];if(a)return a;var o=n.storageProviderName;Object(O.a)({message:e._({id:"Unable to open the project because this provider is unknown: {storageProviderName}. Try to open the project again from another location.",values:{storageProviderName:r}}),rawError:new Error("Can't find storage provider called \"".concat(o,'"')),errorId:"unknown-storage-provider"})},ye={previewLayoutName:null,previewExternalLayoutName:null,isPreviewOverriden:!1,overridenPreviewLayoutName:null,overridenPreviewExternalLayoutName:null};t.a=function(e){var t=Object(ee.a)({createDialogOpen:!1,currentProject:null,currentFileMetadata:null,editorTabs:Object(k.l)(),snackMessage:"",snackMessageOpen:!1,updateStatus:{message:"",status:"unknown"},openFromStorageProviderDialogOpen:!1,saveToStorageProviderDialogOpen:!1,eventsFunctionsExtensionsError:null,gdjsDevelopmentWatcherEnabled:!1}),n=Object(s.a)(t,2),r=n[0],Ce=n[1],je=l.useRef(null),Oe=l.useContext(he.a),xe=l.useState(null),ke=Object(s.a)(xe,2),Te=ke[0],we=ke[1],Se=l.useState(null),Pe=Object(s.a)(Se,2),_e=Pe[0],Ie=Pe[1],Ne=l.useRef(null),Ae=Object($.a)(),Re=l.useState(!1),Me=Object(s.a)(Re,2),Fe=Me[0],Le=Me[1],Be=l.useState(!1),De=Object(s.a)(Be,2),Ue=De[0],Ge=De[1],Ve=l.useState(!1),We=Object(s.a)(Ve,2),He=We[0],ze=We[1],Ye=l.useState(!1),qe=Object(s.a)(Ye,2),Xe=qe[0],Ke=qe[1],Je=l.useState(!1),Ze=Object(s.a)(Je,2),Qe=Ze[0],$e=Ze[1],et=l.useState(!1),tt=Object(s.a)(et,2),nt=tt[0],rt=tt[1],at=l.useState(!1),ot=Object(s.a)(at,2),it=ot[0],st=ot[1],ct=l.useState(!1),lt=Object(s.a)(ct,2),ut=lt[0],dt=lt[1],pt=l.useState("profile"),mt=Object(s.a)(pt,2),ft=mt[0],ht=mt[1],gt=l.useState(!1),bt=Object(s.a)(gt,2),vt=bt[0],Et=bt[1],yt=l.useState(!1),Ct=Object(s.a)(yt,2),jt=Ct[0],Ot=Ct[1],xt=l.useState(!1),kt=Object(s.a)(xt,2),Tt=kt[0],wt=kt[1],St=l.useState(!1),Pt=Object(s.a)(St,2),_t=Pt[0],It=Pt[1],Nt=l.useContext(z.a),At=l.useState(!1),Rt=Object(s.a)(At,2),Mt=Rt[0],Ft=Rt[1],Lt=l.useState(ye),Bt=Object(s.a)(Lt,2),Dt=Bt[0],Ut=Bt[1],Gt=l.useRef(null),Vt=l.useContext(D.a),Wt=Ne.current&&Ne.current.getPreviewDebuggerServer(),Ht=Object(ie.a)(Wt),zt=Ht.previewDebuggerIds,Yt=Ht.hotReloadLogs,qt=Ht.clearHotReloadLogs,Xt=!!zt.length,Kt=Object(J.a)(),Jt=Kt.ensureInteractionHappened,Zt=Kt.renderOpenConfirmDialog,Qt=Object(le.b)(),$t=Qt.ensureResourcesAreFetched,en=Qt.renderResourceFetcherDialog,tn=l.useContext(D.a),nn=l.useContext(Q.b),rn=l.useState("examples"),an=Object(s.a)(rn,2),on=an[0],sn=an[1],cn=r.currentProject,ln=r.currentFileMetadata,un=r.updateStatus,dn=r.eventsFunctionsExtensionsError,pn=e.renderExportDialog,mn=e.renderCreateDialog,fn=e.onCreateFromExampleShortHeader,hn=e.onCreateBlank,gn=e.resourceSources,bn=e.renderPreviewLauncher,vn=e.resourceExternalEditors,En=e.getStorageProviderOperations,yn=e.getStorageProvider,Cn=e.integratedEditor,jn=e.initialFileMetadataToOpen,On=e.introDialog,xn=e.i18n,kn=e.renderGDJSDevelopmentWatcher,Tn=e.renderMainMenu;l.useEffect((function(){Cn||Qn(),ge.push(["MainFrameComponentDidMount",performance.now()]),Nn().then((function(){return Ce((function(e){return Object(i.a)(Object(i.a)({},e),{},{gdjsDevelopmentWatcherEnabled:!0})}))})).then(function(){var t=Object(o.a)(a.a.mark((function t(n){var r,o,i,s,c,l,u;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(ge.push(["MainFrameComponentDidMountFinished",performance.now()]),console.info("Startup times:",Object(q.a)()),r=Nt.getAutoOpenMostRecentProject,o=Nt.getRecentProjectFiles,i=Nt.hadProjectOpenedDuringLastSession,!jn){t.next=13;break}return t.next=6,En();case 6:return s=t.sent,t.next=9,Jt(s);case 9:t.sent&&_n(),t.next=28;break;case 13:if(!(r()&&i()&&o()[0])){t.next=27;break}if(c=o()[0],l=Ee(xn,e.storageProviders,c)){t.next=18;break}return t.abrupt("return");case 18:return t.next=20,En(l);case 20:return u=t.sent,t.next=23,Jt(u);case 23:t.sent&&mr(c),t.next=28;break;case 27:On&&Ke(!0);case 28:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(){}))}),[]);var wn=function(e){ht(e),Et(!0)},Sn=l.useCallback((function(e){Ce((function(t){return Object(i.a)(Object(i.a)({},t),{},{snackMessage:e,snackMessageOpen:!0})}))}),[Ce]),Pn=l.useCallback((function(){Ce((function(e){return Object(i.a)(Object(i.a)({},e),{},{snackMessageOpen:!1})}))}),[Ce]),_n=function(){var e=Object(o.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(jn){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Fn(jn);case 4:(t=e.sent)&&ur({currentProject:t.currentProject,editorTabs:t.editorTabs});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),In=l.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.editorTabs,t=Object(k.j)(e);t&&t.editorRef?t.editorRef.updateToolbar():Dn(null)}),[r.editorTabs]);l.useEffect((function(){In()}),[In]);var Nn=function(){var t=e.extensionsLoader,n=e.i18n;return t?t.loadAllExtensions(Object(W.a)(n)).then((function(e){var t=e.filter((function(e){return!e.result.error})),n=e.filter((function(e){return e.result.error&&!e.result.dangerous})),r=e.filter((function(e){return e.result.error&&e.result.dangerous}));console.info("Loaded ".concat(t.length," JS extensions.")),n.length&&console.error("\u26a0\ufe0f Unable to load ".concat(n.length," JS extensions. Please check these errors:"),n),r.length&&console.error("\ud83d\udca3 Dangerous exceptions while loading ".concat(r.length," JS extensions. \ud83d\udd25 Please check these errors as they will CRASH GDevelop:"),r)})):(console.info("No extensions loader specified, skipping extensions loading."),Promise.reject(new Error("No extension loader specified.")))};Object(ce.a)(cn);var An=l.useCallback((function(){return Nt.setHasProjectOpened(!1),Ut(ye),Ce((function(e){return cn?(cn&&(tn.unloadProjectEventsFunctionsExtensions(cn),cn.delete()),Object(i.a)(Object(i.a)({},e),{},{currentProject:null,currentFileMetadata:null,editorTabs:Object(k.i)(e.editorTabs,cn)})):Object(i.a)({},e)})).then((function(){}))}),[cn,tn,Nt,Ce]),Rn=l.useCallback(function(){var e=Object(o.a)(a.a.mark((function e(t,n){var r,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n&&Nt.insertRecentProjectFile({fileMetadata:n,storageProviderName:yn().internalName}),e.next=3,An();case 3:return B.a.burstAllUrlsCache(),Nt.setHasProjectOpened(!0),e.next=7,Ce((function(e){return Object(i.a)(Object(i.a)({},e),{},{currentProject:t,currentFileMetadata:n,createDialogOpen:!1})}));case 7:return r=e.sent,tn.loadProjectEventsFunctionsExtensions(t),n&&t.setProjectFile(n.fileIdentifier),e.next=12,$t(t);case 12:return o=e.sent,o.someResourcesWereFetched&&nn&&nn.triggerUnsavedChanges(),e.abrupt("return",r);case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[nn,Ce,An,Nt,tn,yn,$t]),Mn=l.useCallback((function(e,t){return Object(T.b)((function(){var n=be.ProjectHelper.createNewGDJSProject();return n.unserializeFrom(e),Rn(n,t)}),(function(e){return console.info("Unserialization took ".concat(e," ms"))}))}),[Rn]),Fn=l.useCallback((function(e){return En().then((function(t){var n=t.hasAutoSave,r=t.onGetAutoSave,a=t.onOpen,o=t.getOpenErrorMessage;if(!a)return console.error("Tried to open a file for a storage without onOpen support:",e,t),Promise.resolve();return Le(!0),Object(ue.a)(150).then((function(){return n&&r?n(e,!0).then((function(t){return t&&j.b.showConfirmDialog(xn._({id:"An autosave file (backup made automatically by GDevelop) that is newer than the project file exists. Would you like to load it instead?"}))?r(e):e})):Promise.resolve(e)})).then((function(e){return a(e)})).catch((function(t){return(n&&r?n(e,!1).then((function(t){return t&&j.b.showConfirmDialog(xn._({id:"The project file appears to be malformed, but an autosave file exists (backup made automatically by GDevelop). Would you like to try to load it instead?"}))?r(e):null})):Promise.resolve(null)).then((function(e){if(e)return a(e);throw t}))})).then((function(t){var n=t.content;if(Object(Z.a)(xn,n)){var r=be.Serializer.fromJSObject(n);return Mn(r,e).then((function(e){return r.delete(),Promise.resolve(e)}),(function(e){throw r.delete(),e}))}Le(!1)})).catch((function(e){var t=o?o(e):{id:"Check that the path/URL is correct, that you selected a file that is a game file created with GDevelop and that is was not removed."};return Object(O.a)({message:[xn._({id:"Unable to open the project."}),xn._(t)].join("\n"),errorId:"project-open-error",rawError:e}),Le(!1),Promise.reject(e)}))}))}),[xn,En,Mn]),Ln=l.useCallback((function(){return j.b.quit()}),[]),Bn=l.useCallback((function(){je.current&&ze((function(e){return!e}))}),[ze]),Dn=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];je.current&&t&&je.current.setEditorToolbar(e)},Un=function(e,t){Ut((function(n){return Object(i.a)(Object(i.a)({},n),{},{previewLayoutName:e,previewExternalLayoutName:t})}))},Gn=l.useCallback(Object(o.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(cn){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,En();case 4:if(t=e.sent,!(Nt.values.autosaveOnPreview&&t.onAutoSaveProject&&ln)){e.next=15;break}return e.prev=6,e.next=9,t.onAutoSaveProject(cn,ln);case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(6),console.error("Error while auto-saving the project: ",e.t0),Sn(xn._({id:"There was an error while making an auto-save of the project. Verify that you have permissions to write in the project folder."}));case 15:case"end":return e.stop()}}),e,null,[[6,11]])}))),[xn,Sn,cn,ln,En,Nt.values.autosaveOnPreview]),Vn=l.useCallback((function(e){var t=e.networkPreview,n=e.hotReload,a=e.projectDataOnlyExport,o=e.fullLoadingScreen;if(cn&&0!==cn.getLayoutsCount()){var i=Ne.current;if(i){Ft(!0),Object(k.o)(r.editorTabs);var s=Dt.isPreviewOverriden?Dt.overridenPreviewLayoutName:Dt.previewLayoutName,c=Dt.isPreviewOverriden?Dt.overridenPreviewExternalLayoutName:Dt.previewExternalLayoutName,l=s&&cn.hasLayoutNamed(s)?cn.getLayout(s):cn.getLayoutAt(0),u=c&&cn.hasExternalLayoutNamed(c)?cn.getExternalLayout(c):null;Gn(),Object(de.b)(cn),tn.ensureLoadFinished().then((function(){return i.launchPreview({project:cn,layout:l,externalLayout:u,networkPreview:!!t,hotReload:!!n,projectDataOnlyExport:!!a,fullLoadingScreen:!!o,getIsMenuBarHiddenInPreview:Nt.getIsMenuBarHiddenInPreview,getIsAlwaysOnTopInPreview:Nt.getIsAlwaysOnTopInPreview})})).catch((function(e){console.error("Error caught while launching preview, this should never happen.",e)})).then((function(){Ft(!1)}))}}}),[Gn,cn,tn,Dt,r.editorTabs,Nt.getIsMenuBarHiddenInPreview,Nt.getIsAlwaysOnTopInPreview]),Wn=Object(fe.h)(Oe,fe.f,Vn),Hn=l.useCallback((function(){return Wn({networkPreview:!1})}),[Wn]),zn=l.useCallback((function(){return Wn({networkPreview:!1,hotReload:!0})}),[Wn]),Yn=l.useCallback((function(){return Wn({networkPreview:!0,hotReload:!1})}),[Wn]),qn=l.useMemo((function(){return{hasPreviewsRunning:Xt,launchProjectWithLoadingScreenPreview:function(){return Wn({fullLoadingScreen:!0})},launchProjectDataOnlyPreview:function(){return Wn({hotReload:!0,projectDataOnlyExport:!0})}}}),[Xt,Wn]),Xn=l.useCallback((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.openEventsEditor,a=void 0===n||n,o=t.openSceneEditor,s=void 0===o||o,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.editorTabs,l={label:e,projectItemName:e,renderEditorContainer:I.b,key:"layout "+e},u={label:e+" "+xn._({id:"(Events)"}),projectItemName:e,renderEditorContainer:P.b,key:"layout events "+e,dontFocusTab:s},d=s?Object(k.p)(c,l):c,p=a?Object(k.p)(d,u):d;Ce((function(e){return Object(i.a)(Object(i.a)({},e),{},{editorTabs:p})})),Le(!1),ze(!1)}),[xn,Ce,r.editorTabs]),Kn=l.useCallback((function(e){Ce((function(t){return Object(i.a)(Object(i.a)({},t),{},{editorTabs:Object(k.p)(t.editorTabs,{label:e,projectItemName:e,renderEditorContainer:_.b,key:"external events "+e})})})),ze(!1)}),[Ce]),Jn=l.useCallback((function(e){Ce((function(t){return Object(i.a)(Object(i.a)({},t),{},{editorTabs:Object(k.p)(t.editorTabs,{label:e,projectItemName:e,renderEditorContainer:N.b,key:"external layout "+e})})})),ze(!1)}),[Ce,ze]),Zn=l.useCallback((function(e,t,n){Ce((function(r){return Object(i.a)(Object(i.a)({},r),{},{editorTabs:Object(k.p)(r.editorTabs,{label:e+" "+xn._({id:"(Extension)"}),projectItemName:e,extraEditorProps:{initiallyFocusedFunctionName:t,initiallyFocusedBehaviorName:n},renderEditorContainer:A.b,key:"events functions extension "+e})})})),ze(!1)}),[Ce,ze,xn]),Qn=l.useCallback((function(){Ce((function(e){return Object(i.a)(Object(i.a)({},e),{},{editorTabs:Object(k.p)(e.editorTabs,{label:xn._({id:"Home"}),projectItemName:null,renderEditorContainer:R.a,key:"start page",closable:!1})})}))}),[xn,Ce]),$n=l.useCallback((function(){Ce((function(e){return Object(i.a)(Object(i.a)({},e),{},{editorTabs:Object(k.p)(e.editorTabs,{label:xn._({id:"Debugger"}),projectItemName:null,renderEditorContainer:S.a,key:"debugger"})})}))}),[xn,Ce]),er=Object(fe.h)(Oe,fe.b,$n),tr=l.useCallback((function(){er(),zn()}),[er,zn]),nr=function(e,t){var n=r.currentProject,a=r.editorTabs;if(n){var o=e.getName();if(n.hasEventsFunctionsExtensionNamed(o)){var s=n.getEventsFunctionsExtension(o),c=Object(Y.b)(t),l=Object(k.n)(a,s);l?(l.editor.selectEventsFunctionByName(c.name,c.behaviorName),Ce((function(e){return Object(i.a)(Object(i.a)({},e),{},{editorTabs:Object(k.a)(a,l.tabIndex)})}))):Zn(o,c.name,c.behaviorName)}else console.warn("Extension with name=".concat(o," can not be opened (no editor for this)"))}},rr=function(){nn&&nn.triggerUnsavedChanges(),Ae()},ar=function(e,t){var n=r.currentProject;if(n){var a=!n.hasEventsFunctionsExtensionNamed(e),o=a?n.insertNewEventsFunctionsExtension(e,0):n.getEventsFunctionsExtension(e);a&&(o.setFullName(e),o.setDescription("Originally automatically extracted from events of the project")),o.insertEventsFunction(t,0),tn.loadProjectEventsFunctionsExtensions(n)}},or=l.useCallback((function(e){return function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];sn(e),Ce((function(e){return Object(i.a)(Object(i.a)({},e),{},{createDialogOpen:t})}))}}),[Ce]),ir=l.useMemo((function(){return or("tutorials")}),[or]),sr=l.useMemo((function(){return or("examples")}),[or]),cr=l.useMemo((function(){return or("games-showcase")}),[or]),lr=l.useCallback((function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];Ce((function(t){return Object(i.a)(Object(i.a)({},t),{},{openFromStorageProviderDialogOpen:e})}))}),[Ce]),ur=l.useCallback((function(e){var t=e.currentProject,n=e.editorTabs;t&&(t.getLayoutsCount()<=1?(0===t.getLayoutsCount()&&t.insertNewLayout(xn._({id:"Untitled scene"}),0),Xn(t.getLayoutAt(0).getName(),{openSceneEditor:!0,openEventsEditor:!0},n)):Ce((function(e){return Object(i.a)(Object(i.a)({},e),{},{currentProject:t,editorTabs:n})})).then((function(){Le(!1),ze(!0)})))}),[Xn,Ce,xn]),dr=l.useCallback((function(){En().then((function(e){if(e.onOpenWithPicker)return e.onOpenWithPicker().then((function(e){if(e)return Fn(e).then((function(e){e&&ur({currentProject:e.currentProject,editorTabs:e.editorTabs})}))})).catch((function(t){var n=e.getOpenErrorMessage?e.getOpenErrorMessage(t):{id:"Verify that you have the authorizations for reading the file you're trying to access."};Object(O.a)({message:[xn._({id:"Unable to open the project."}),xn._(n)].join("\n"),errorId:"project-open-with-picker-error",rawError:t})}))}))}),[xn,En,Fn,ur]),pr=l.useCallback((function(){e.storageProviders.filter((function(e){return!e.hiddenInOpenDialog})).length>1?lr():dr()}),[e.storageProviders,lr,dr]),mr=l.useCallback((function(t){var n=t.fileMetadata,r=Ee(xn,e.storageProviders,t);r&&En(r).then((function(){Fn(n).then((function(e){e&&ur({currentProject:e.currentProject,editorTabs:e.editorTabs})})).catch((function(e){}))}))}),[xn,Fn,ur,e.storageProviders,En]),fr=l.useCallback((function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&ze(!1),Ce((function(t){return Object(i.a)(Object(i.a)({},t),{},{saveToStorageProviderDialogOpen:e})}))}),[Ce]),hr=l.useCallback((function(){cn&&(Object(k.q)(r.editorTabs),En().then((function(e){var t=e.onSaveProjectAs;t&&(Ue?console.info("Project is already being saved, not triggering save."):(Ge(!0),t(cn,ln).then((function(e){var t=e.wasSaved,n=e.fileMetadata;t&&(nn&&nn.sealUnsavedChanges(),Sn(xn._({id:"Project properly saved"})),n&&(Nt.insertRecentProjectFile({fileMetadata:n,storageProviderName:yn().internalName}),Ce((function(e){return Object(i.a)(Object(i.a)({},e),{},{currentFileMetadata:n})}))))}),(function(e){Object(O.a)({message:xn._({id:"Unable to save as the project! Please try again by choosing another location."}),rawError:e,errorId:"project-save-as-error"})})).catch((function(){})).then((function(){return Ge(!1)}))))})))}),[xn,Ue,cn,ln,En,nn,Ce,r.editorTabs,Sn,yn,Nt]),gr=l.useCallback((function(){cn&&En().then((function(t){e.storageProviders.filter((function(e){return!e.hiddenInSaveDialog})).length>1||!t.onSaveProjectAs?fr():hr()}))}),[cn,En,fr,e.storageProviders,hr]),br=l.useCallback(Object(o.a)(a.a.mark((function e(){var t,n,o,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(cn){e.next=2;break}return e.abrupt("return");case 2:if(ln){e.next=4;break}return e.abrupt("return",gr());case 4:return e.next=6,En();case 6:if(t=e.sent,n=t.onSaveProject){e.next=10;break}return e.abrupt("return",gr());case 10:if(Object(k.q)(r.editorTabs),Sn(xn._({id:"Saving..."})),!Ue){e.next=15;break}return console.info("Project is already being saved, not triggering save."),e.abrupt("return");case 15:return Ge(!0),e.prev=16,o=performance.now(),e.next=20,n(cn,ln);case 20:i=e.sent,i.wasSaved&&(console.info("Project saved in ".concat(performance.now()-o,"ms.")),nn&&nn.sealUnsavedChanges(),Sn(xn._({id:"Project properly saved"}))),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(16),Object(O.a)({message:xn._({id:"Unable to save as the project! Please try again by choosing another location."}),rawError:e.t0,errorId:"project-save-error"});case 28:Ge(!1);case 29:case"end":return e.stop()}}),e,null,[[16,25]])}))),[Ue,cn,ln,En,Sn,xn,nn,gr,r.editorTabs]),vr=l.useCallback((function(){if(nn&&nn.hasUnsavedChanges){if(!cn)return Promise.resolve();if(!j.b.showConfirmDialog(xn._({id:"Close the project? Any changes that have not been saved will be lost."})))return Promise.resolve()}return An()}),[cn,nn,xn,An]),Er=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r;In(t.editorTabs),e.editorRef&&e.editorRef.forceUpdateEditor()},yr=function(){Object(k.q)(r.editorTabs),Ce((function(e){return Object(i.a)(Object(i.a)({},e),{},{editorTabs:Object(k.b)(e.editorTabs)})}))},Cr=function(e){return new Promise((function(t){we(e);Ie((function(){return t}))}))},jr=function(e){Ce((function(t){return Object(i.a)(Object(i.a)({},t),{},{updateStatus:e})}));var t=Object(U.d)(e),n=Object(U.c)(e);t&&(new window.Notification(t,{body:n}).onclick=function(){return dt(!0)})},Or=function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r,o,s,c,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.project,r=t.storageProvider,o=t.fileMetadata,s=t.projectName,!t.shouldCloseDialog){e.next=4;break}return e.next=4,Ce((function(e){return Object(i.a)(Object(i.a)({},e),{},{createDialogOpen:!1})}));case 4:return e.next=6,En(r);case 6:if(!n){e.next=12;break}return e.next=9,Rn(n,o);case 9:c=e.sent,e.next=16;break;case 12:if(!o){e.next=16;break}return e.next=15,Fn(o);case 15:c=e.sent;case 16:c&&(c.currentProject&&((l=c.currentProject).resetProjectUuid(),s&&l.setName(s)),ur({currentProject:c.currentProject,editorTabs:c.editorTabs}));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(te.d)(Gt.current?Gt.current.launchCommand:function(){}),Object(ne.a)({i18n:xn,project:r.currentProject,previewEnabled:!!r.currentProject&&r.currentProject.getLayoutsCount()>0,onOpenProjectManager:Bn,hasPreviewsRunning:Xt,allowNetworkPreview:!!Ne.current&&Ne.current.canDoNetworkPreview(),onLaunchPreview:Hn,onHotReloadPreview:zn,onLaunchDebugPreview:tr,onLaunchNetworkPreview:Yn,onOpenHomePage:Qn,onCreateProject:sr,onOpenProject:pr,onSaveProject:br,onSaveProjectAs:gr,onCloseApp:Ln,onCloseProject:vr,onExportGame:l.useCallback((function(){return It(!0)}),[]),onOpenLayout:Xn,onOpenExternalEvents:Kn,onOpenExternalLayout:Jn,onOpenEventsFunctionsExtension:Zn,onOpenCommandPalette:Gt.current?Gt.current.open:function(){},onOpenProfile:l.useCallback((function(){return wn("profile")}),[]),onOpenGamesDashboard:l.useCallback((function(){return wn("games-dashboard")}),[])});var xr=Fe||Mt;return l.createElement("div",{className:"main-frame"},!!Tn&&Tn({i18n:xn,project:r.currentProject,onChooseProject:pr,onOpenRecentFile:mr,onSaveProject:br,onSaveProjectAs:gr,onCloseProject:vr,onCloseApp:Ln,onExportProject:function(){return It(!0)},onCreateProject:sr,onOpenProjectManager:function(){return ze(!0)},onOpenHomePage:Qn,onOpenDebugger:er,onOpenAbout:function(){return dt(!0)},onOpenPreferences:function(){return Ot(!0)},onOpenLanguage:function(){return $e(!0)},onOpenProfile:function(){return wn("profile")},onOpenGamesDashboard:function(){return wn("games-dashboard")},setUpdateStatus:jr,recentProjectFiles:Nt.getRecentProjectFiles()}),l.createElement(m.a,{fileMetadata:ln}),l.createElement(u.a,{open:He,PaperProps:{style:ve.drawerContent,className:"safe-area-aware-left-container"},ModalProps:{keepMounted:!0},onClose:Bn},l.createElement(E.a,{title:r.currentProject?r.currentProject.getName():"No project",displayRightCloseButton:!0,onClose:Bn}),cn&&l.createElement(g.a,{project:cn,onOpenExternalEvents:Kn,onOpenLayout:Xn,onOpenExternalLayout:Jn,onOpenEventsFunctionsExtension:Zn,onInstallExtension:function(e){var t=r.currentProject;if(t){var n=e.name;if(t.hasEventsFunctionsExtensionNamed(n)){var a=t.getEventsFunctionsExtension(n);Ce((function(e){return Object(i.a)(Object(i.a)({},e),{},{editorTabs:Object(k.d)(e.editorTabs,a)})}))}}},onDeleteLayout:function(t){var n=r.currentProject,a=e.i18n;n&&(j.b.showConfirmDialog(a._({id:"Are you sure you want to remove this scene? This can't be undone."}))&&Ce((function(e){return Object(i.a)(Object(i.a)({},e),{},{editorTabs:Object(k.g)(e.editorTabs,t)})})).then((function(e){n.getFirstLayout()===t.getName()&&n.setFirstLayout(""),n.removeLayout(t.getName()),rr()})))},onDeleteExternalLayout:function(t){var n=r.currentProject,a=e.i18n;n&&(j.b.showConfirmDialog(a._({id:"Are you sure you want to remove this external layout? This can't be undone."}))&&Ce((function(e){return Object(i.a)(Object(i.a)({},e),{},{editorTabs:Object(k.f)(e.editorTabs,t)})})).then((function(e){e.currentProject&&e.currentProject.removeExternalLayout(t.getName()),rr()})))},onDeleteEventsFunctionsExtension:function(t){var n=r.currentProject,a=e.i18n;n&&(j.b.showConfirmDialog(a._({id:"Are you sure you want to remove this extension? This can't be undone."}))&&Ce((function(e){return Object(i.a)(Object(i.a)({},e),{},{editorTabs:Object(k.d)(e.editorTabs,t)})})).then((function(e){var r=t.getName();tn.unloadProjectEventsFunctionsExtension(n,r),n.removeEventsFunctionsExtension(r),rr(),tn.reloadProjectEventsFunctionsExtensions(n)})))},onDeleteExternalEvents:function(t){var n=e.i18n;r.currentProject&&(j.b.showConfirmDialog(n._({id:"Are you sure you want to remove these external events? This can't be undone."}))&&Ce((function(e){return Object(i.a)(Object(i.a)({},e),{},{editorTabs:Object(k.e)(e.editorTabs,t)})})).then((function(e){e.currentProject&&e.currentProject.removeExternalEvents(t.getName()),rr()})))},onRenameLayout:function(t,n){var a=r.currentProject,o=e.i18n;if(a&&a.hasLayoutNamed(t)&&n!==t)if(""!==n)if(a.hasLayoutNamed(n))Object(O.c)(o._({id:"Another scene with this name already exists."}),{delayToNextTick:!0});else{var s=a.getLayout(t),c=t===a.getFirstLayout();Ce((function(e){return Object(i.a)(Object(i.a)({},e),{},{editorTabs:Object(k.g)(e.editorTabs,s)})})).then((function(e){s.setName(n),c&&a.setFirstLayout(n),rr()}))}else Object(O.c)(o._({id:"This name cannot be empty, please enter a new name."}),{delayToNextTick:!0})},onRenameExternalLayout:function(t,n){var a=r.currentProject,o=e.i18n;if(a&&a.hasExternalLayoutNamed(t)&&n!==t)if(""!==n)if(a.hasExternalLayoutNamed(n))Object(O.c)(o._({id:"Another external layout with this name already exists."}),{delayToNextTick:!0});else{var s=a.getExternalLayout(t);Ce((function(e){return Object(i.a)(Object(i.a)({},e),{},{editorTabs:Object(k.f)(e.editorTabs,s)})})).then((function(e){s.setName(n),rr()}))}else Object(O.c)(o._({id:"This name cannot be empty, please enter a new name."}),{delayToNextTick:!0})},onRenameEventsFunctionsExtension:function(t,n){var a=r.currentProject,o=e.i18n;if(a&&a.hasEventsFunctionsExtensionNamed(t)&&n!==t)if(""!==n)if(Object(oe.a)(n,a))Object(O.c)(o._({id:"Another extension with this name already exists (or you used a reserved extension name). Please choose another name."}),{delayToNextTick:!0});else if(be.Project.validateName(n)){var s=a.getEventsFunctionsExtension(t);Ce((function(e){return Object(i.a)(Object(i.a)({},e),{},{editorTabs:Object(k.d)(e.editorTabs,s)})})).then((function(e){be.WholeProjectRefactorer.renameEventsFunctionsExtension(a,s,t,n),s.setName(n),tn.reloadProjectEventsFunctionsExtensions(a),rr()}))}else Object(O.c)(o._({id:"This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character."}),{delayToNextTick:!0});else Object(O.c)(o._({id:"This name cannot be empty, please enter a new name."}),{delayToNextTick:!0})},onRenameExternalEvents:function(t,n){var a=r.currentProject,o=e.i18n;if(a&&a.hasExternalEventsNamed(t)&&n!==t)if(""!==n)if(a.hasExternalEventsNamed(n))Object(O.c)(o._({id:"Other external events with this name already exist."}),{delayToNextTick:!0});else{var s=a.getExternalEvents(t);Ce((function(e){return Object(i.a)(Object(i.a)({},e),{},{editorTabs:Object(k.e)(e.editorTabs,s)})})).then((function(e){s.setName(n),rr()}))}else Object(O.c)(o._({id:"This name cannot be empty, please enter a new name."}),{delayToNextTick:!0})},onSaveProject:br,onSaveProjectAs:gr,onCloseProject:function(){vr()},onExportProject:function(){return It(!0)},onOpenPreferences:function(){return Ot(!0)},onOpenProfile:function(){return wn("profile")},onOpenGamesDashboard:function(){return wn("games-dashboard")},onOpenResources:function(){!function(){var t=e.i18n;Ce((function(e){return Object(i.a)(Object(i.a)({},e),{},{editorTabs:Object(k.p)(e.editorTabs,{label:t._({id:"Resources"}),projectItemName:null,renderEditorContainer:M.a,key:"resources"})})}))}(),ze(!1)},onOpenPlatformSpecificAssets:function(){return st(!0)},onChangeSubscription:function(){return wt(!0)},eventsFunctionsExtensionsError:dn,onReloadEventsFunctionsExtensions:function(){tn.reloadProjectEventsFunctionsExtensions(cn)},freezeUpdate:!He,unsavedChanges:nn,hotReloadPreviewButtonProps:qn,resourceSources:gn,onChooseResource:Cr,resourceExternalEditors:vn}),!r.currentProject&&l.createElement(G.a,null,l.createElement(c.Trans,{id:"To begin, open or create a new project."}))),l.createElement(p.a,{ref:je,showProjectIcons:!e.integratedEditor,hasProject:!!cn,toggleProjectManager:Bn,exportProject:function(){return It(!0)},requestUpdate:e.requestUpdate,simulateUpdateDownloaded:function(){return jr({status:"update-downloaded",message:"update-downloaded",info:{releaseName:"Fake update"}})},simulateUpdateAvailable:function(){return jr({status:"update-available",message:"Update available"})},onOpenDebugger:tr,hasPreviewsRunning:Xt,onPreviewWithoutHotReload:Hn,onNetworkPreview:Yn,onHotReloadPreview:zn,canDoNetworkPreview:!!Ne.current&&Ne.current.canDoNetworkPreview(),setPreviewOverride:function(e){var t=e.isPreviewOverriden,n=e.overridenPreviewLayoutName,r=e.overridenPreviewExternalLayoutName;Ut((function(e){return Object(i.a)(Object(i.a)({},e),{},{isPreviewOverriden:t,overridenPreviewLayoutName:n,overridenPreviewExternalLayoutName:r})}))},isPreviewEnabled:!!cn&&cn.getLayoutsCount()>0,previewState:Dt}),l.createElement(x.b,{hideLabels:!!e.integratedEditor},Object(k.m)(r.editorTabs).map((function(e,t){var n=Object(k.k)(r.editorTabs)===t;return l.createElement(x.a,{label:e.label,key:e.key,active:n,onClick:function(){return e=t,void Ce((function(t){return Object(i.a)(Object(i.a)({},t),{},{editorTabs:Object(k.a)(t.editorTabs,e)})})).then((function(e){return Er(Object(k.j)(e.editorTabs),e)}));var e},onClose:function(){return function(e){Object(k.q)(r.editorTabs),Ce((function(t){return Object(i.a)(Object(i.a)({},t),{},{editorTabs:Object(k.c)(t.editorTabs,e)})}))}(e)},onCloseOthers:function(){return function(e){Object(k.q)(r.editorTabs),Ce((function(t){return Object(i.a)(Object(i.a)({},t),{},{editorTabs:Object(k.h)(t.editorTabs,e)})}))}(e)},onCloseAll:yr,onActivated:function(){return Er(e)},closable:e.closable})}))),Object(k.m)(r.editorTabs).map((function(t,n){var a=Object(k.k)(r.editorTabs)===n;return l.createElement(x.c,{key:t.key,active:a},l.createElement(ae.a,{active:a},l.createElement(F.a,null,t.renderEditorContainer({isActive:a,extraEditorProps:t.extraEditorProps,project:cn,ref:function(e){return t.editorRef=e},setToolbar:function(e){return Dn(e,a)},onChangeSubscription:function(){return wt(!0)},projectItemName:t.projectItemName,setPreviewedLayout:Un,onOpenExternalEvents:Kn,onOpenEvents:function(e){return Xn(e,{openEventsEditor:!0,openSceneEditor:!1})},previewDebuggerServer:Wt,hotReloadPreviewButtonProps:qn,onOpenLayout:function(e){return Xn(e,{openEventsEditor:!0,openSceneEditor:!1})},resourceSources:e.resourceSources,onChooseResource:Cr,resourceExternalEditors:vn,onCreateEventsFunction:ar,openInstructionOrExpression:nr,unsavedChanges:nn,canOpen:!!e.storageProviders.filter((function(e){return!e.hiddenInOpenDialog})).length,onOpen:function(){return pr()},onOpenRecentFile:mr,onCreateFromExampleShortHeader:fn,onCreateBlank:hn,onOpenProjectAfterCreation:Or,onOpenProjectManager:function(){return ze(!0)},onCloseProject:function(){return vr()},onOpenTutorials:function(){return ir()},onOpenGamesShowcase:function(){return cr()},onOpenExamples:function(){return sr()},onOpenProfile:function(){return wn("profile")},onOpenHelpFinder:function(){return rt(!0)},onOpenLanguageDialog:function(){return $e(!0)},onLoadEventsFunctionsExtensions:function(){return tn.loadProjectEventsFunctionsExtensions(cn)},onDeleteResource:function(e,t){t(!0)},onRenameResource:function(e,t,n){cn&&Object(pe.g)(cn,{[e.getName()]:t}),n(!0)}}))))})),l.createElement(re.a,{ref:Gt}),l.createElement(v.a,{show:xr}),l.createElement(w.a,{open:nt,onClose:function(){return rt(!1)}}),l.createElement(d.a,{open:r.snackMessageOpen,autoHideDuration:3e3,onClose:Pn,ContentProps:{"aria-describedby":"snackbar-message"},message:l.createElement("span",{id:"snackbar-message"},r.snackMessage)}),!!pn&&_t&&pn({onClose:function(){return It(!1)},onChangeSubscription:function(){It(!1),wt(!0)},project:r.currentProject}),!!mn&&r.createDialogOpen&&mn({open:r.createDialogOpen,initialTab:on,onClose:function(){Ce((function(e){return Object(i.a)(Object(i.a)({},e),{},{createDialogOpen:!1})}))},onOpen:Or}),!!On&&Xe&&l.cloneElement(On,{open:!0,onClose:function(){return Ke(!1)}}),!!cn&&it&&l.createElement(b.a,{project:cn,open:!0,onApply:function(){return st(!1)},onClose:function(){return st(!1)},resourceSources:gn,onChooseResource:Cr,resourceExternalEditors:vn}),!!bn&&bn({getIncludeFileHashs:Vt.getIncludeFileHashs,onExport:function(){return It(!0)},onChangeSubscription:function(){return wt(!0)}},(function(e){Ne.current=e})),!!cn&&Te&&_e&&l.createElement(me.a,{project:cn,i18n:xn,resourceSources:gn,onChooseResources:function(e){Ie(null),we(null),_e(e)},onClose:function(){Ie(null),we(null),_e([])},options:Te}),vt&&l.createElement(C.a,{currentProject:cn,initialTab:ft,open:!0,onClose:function(){return Et(!1)},onChangeSubscription:function(){return wt(!0)}}),Tt&&l.createElement(L.a,{onClose:function(){wt(!1)},open:!0}),jt&&l.createElement(f.a,{i18n:e.i18n,onClose:function(){return Ot(!1)}}),Qe&&l.createElement(H.a,{open:!0,onClose:function(e){$e(!1),e&&(be.JsPlatform.get().reloadBuiltinExtensions(),Nn().catch((function(){})))}}),ut&&l.createElement(h.a,{open:!0,onClose:function(){return dt(!1)},updateStatus:un}),r.openFromStorageProviderDialogOpen&&l.createElement(X.a,{onClose:function(){return lr(!1)},storageProviders:e.storageProviders,onChooseProvider:function(t){lr(!1),e.getStorageProviderOperations(t).then((function(){dr()}))}}),r.saveToStorageProviderDialogOpen&&l.createElement(K.a,{onClose:function(){return fr(!1)},storageProviders:e.storageProviders,onChooseProvider:function(t){fr(!1),e.getStorageProviderOperations(t).then((function(){hr()}))}}),Zt(),en(),l.createElement(y.a,{shouldPrompt:!!r.currentProject,i18n:e.i18n,language:e.i18n.language,hasUnsavedChanges:!!nn&&nn.hasUnsavedChanges}),l.createElement(V.a,null),r.gdjsDevelopmentWatcherEnabled&&kn&&kn(),!!Yt.length&&l.createElement(se.a,{logs:Yt,onClose:qt,onLaunchNewPreview:function(){qt(),Hn()}}))}}).call(this,n(8))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return s}));var r=function(e){return"update-available"===e.status?"A new update is available!":""},a=function(e){return"update-available"===e.status?"It will be downloaded and installed automatically (unless you deactivated this in preferences)":""},o=function(e){return"checking-for-update"===e?"Checking for update...":"update-available"===e?"A new update is available!":"update-not-available"===e?"No update available. You're using the latest version!":"error"===e?"Error while checking update":"download-progress"===e?"A new update is being downloaded...":"update-downloaded"===e?"A new update will be installed after you quit and relaunch GDevelop":""},i=function(e){return"update-available"===e?"Update GDevelop to latest version":"Check again for new updates"},s=function(e){return"update-available"===e}},function(e,t,n){"use strict";var r=n(15),a=n.n(r),o=n(677),i=n.n(o),s=n(138),c=n(269),l=n(16);t.a=function(e){var t=e.helpPagePath;return t?a.a.createElement(s.a,{onClick:function(){return l.b.openExternalURL(Object(c.a)(t))},disabled:e.disabled,style:e.style,size:e.size},a.a.createElement(i.a,null)):null}},,,,,,function(e,t,n){"use strict";var r=n(15),a=n.n(r),o=n(662);t.a=a.a.memo((function(e){return a.a.createElement(o.a,e,a.a.createElement("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"}))}))},function(e,t,n){"use strict";var r=n(15),a=n.n(r),o=n(662);t.a=a.a.memo((function(e){return a.a.createElement(o.a,e,a.a.createElement("path",{d:"M19 2h-4.18C14.4.84 13.3 0 12 0c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm7 18H5V4h2v3h10V4h2v16z"}))}))},,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var r=e.gd,a=function(e){var t=new r.MapStringString;for(var n in e)t.set(n,e[n]);return t}}).call(this,n(8))},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n(115),s=n(15),c=n(127),l=n(124),u=n(117),d=n(136),p=n(2007),m=n(2113),f=n(125),h=n(224),g=n(242),b=n(16),v=n(129),E=n(183),y={"cordova-build":{estimatedTimeInSeconds:function(e){return 300},completeDescription:"You can download it on your Android phone and install it."},"electron-build":{estimatedTimeInSeconds:function(e){return 90+130*(e.targets?e.targets.length:0)},completeDescription:""},"web-build":{estimatedTimeInSeconds:function(e){return 5},completeDescription:""}},C=[{displayName:{id:"Download (APK)"},key:"apkKey"},{displayName:{id:"Download (Android App Bundle)"},key:"aabKey"},{displayName:{id:"Windows (zip)"},key:"windowsZipKey"},{displayName:{id:"Windows (exe)"},key:"windowsExeKey"},{displayName:{id:"macOS (zip)"},key:"macosZipKey"},{displayName:{id:"Linux (AppImage)"},key:"linuxAppImageKey"},{displayName:{id:"Open"},key:"s3Key"}];t.a=function(e){var t=e.build,n=e.game,r=e.onGameUpdated,j=e.gameUpdating,O=e.setGameUpdating,x=s.useContext(E.a),k=x.getAuthorizationHeader,T=x.profile,w=y[t.type],S=w.estimatedTimeInSeconds(t),P=Math.abs(Object(p.a)(t.updatedAt,Date.now())),_=S-P,I=_>0,N=!I&&_>=-S,A=!I&&_<-S,R=function(e){var n=Object(h.e)(t,e);n&&b.b.openExternalURL(n)},M=s.useCallback(function(){var e=Object(o.a)(a.a.mark((function e(t){var o,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T&&n&&r&&O){e.next=2;break}return e.abrupt("return");case 2:return o=T.id,e.prev=3,O(!0),e.next=7,Object(g.j)(k,o,n.id,{publicWebBuildId:t});case 7:i=e.sent,r(i),O(!1),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),console.error("Unable to update the game",e.t0),O(!1);case 16:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}(),[n,k,T,r,O]),F=n&&n.publicWebBuildId===t.id;return s.createElement(i.I18n,null,(function(e){var r=e.i18n;return"error"===t.status?s.createElement(v.a,null,s.createElement(u.b,{alignItems:"center",justifyContent:"flex-end"},s.createElement(f.a,null,s.createElement(i.Trans,{id:"Something wrong happened :("})),s.createElement(u.c,null),s.createElement(c.a,{label:s.createElement(i.Trans,{id:"See logs"}),onClick:function(){return R("logsKey")}})),s.createElement(u.b,{alignItems:"center",justifyContent:"flex-end"},s.createElement(d.a,{style:{justifyContent:"flex-end"}},s.createElement(i.Trans,{id:"Check the logs to see if there is an explanation about what went wrong, or try again later."})))):"pending"===t.status?s.createElement(s.Fragment,null,s.createElement(u.b,{alignItems:"center",expand:!0,justifyContent:"center"},(I||N)&&s.createElement(s.Fragment,null,s.createElement(m.a,{style:{flex:1},value:I?(S-_)/S*100:0,variant:I?"determinate":"indeterminate"}),s.createElement(u.c,null)),I&&s.createElement(f.a,null,s.createElement(i.Trans,{id:"~{0} minutes.",values:{0:Math.round(_/60)}})),N&&s.createElement(f.a,null,s.createElement(i.Trans,{id:"Should finish soon."}))),A&&s.createElement(v.a,null,s.createElement(u.b,{justifyContent:"flex-end"},s.createElement(f.a,null,s.createElement(i.Trans,{id:"Something wrong happened :("}))),s.createElement(u.b,{justifyContent:"flex-end"},s.createElement(d.a,{style:{justifyContent:"flex-end"}},s.createElement(i.Trans,{id:"It looks like the build has timed out, please try again."}))))):"complete"===t.status?s.createElement(v.a,null,s.createElement(u.b,{expand:!0,justifyContent:"flex-end"},n&&!!t.s3Key&&!F&&s.createElement(c.a,{label:s.createElement(i.Trans,{id:"Publish this build on Liluo"}),onClick:function(){return M(t.id)},disabled:j}),n&&!!t.s3Key&&F&&s.createElement(l.a,{label:s.createElement(i.Trans,{id:"Unpublish this build from Liluo"}),onClick:function(){return M(null)},disabled:j}),s.createElement(u.c,null),C.filter((function(e){return!!t[e.key]})).map((function(e){return s.createElement(s.Fragment,{key:e.key},s.createElement(c.a,{label:r._(e.displayName),primary:!0,onClick:function(){return R(e.key)}}),s.createElement(u.c,null))})),s.createElement(l.a,{label:s.createElement(i.Trans,{id:"See logs"}),onClick:function(){return R("logsKey")}})),w&&w.completeDescription&&s.createElement(u.b,{expand:!0,justifyContent:"flex-end"},s.createElement(f.a,null,w.completeDescription))):s.createElement(u.b,null,s.createElement(i.Trans,{id:"Unknown status"}))}))}},function(e,t,n){"use strict";var r=n(15),a=n.n(r),o=n(662);t.a=a.a.memo((function(e){return a.a.createElement(o.a,e,a.a.createElement("path",{d:"M12,20L15.46,14H15.45C15.79,13.4 16,12.73 16,12C16,10.8 15.46,9.73 14.62,9H19.41C19.79,9.93 20,10.94 20,12A8,8 0 0,1 12,20M4,12C4,10.54 4.39,9.18 5.07,8L8.54,14H8.55C9.24,15.19 10.5,16 12,16C12.45,16 12.88,15.91 13.29,15.77L10.89,19.91C7,19.37 4,16.04 4,12M15,12A3,3 0 0,1 12,15A3,3 0 0,1 9,12A3,3 0 0,1 12,9A3,3 0 0,1 15,12M12,4C14.96,4 17.54,5.61 18.92,8H12C10.06,8 8.45,9.38 8.08,11.21L5.7,7.08C7.16,5.21 9.44,4 12,4M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"}))}))},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(0),a=n.n(r),o=n(1),i=n(3),s=n(4),c=n(224),l=n(723),u=function(){function e(){var t=this;Object(i.a)(this,e),this.runningWatchers={},this.nextWatcherId=0,this._pollBuild=function(){var e=Object(o.a)(a.a.mark((function e(n,r){var o,i,s,u,d;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=t.nextWatcherId.toString(),t.nextWatcherId++,t.runningWatchers[o]=!0,i=null;case 4:if(t.authenticatedUser){e.next=6;break}return e.abrupt("return");case 6:if(s=t.authenticatedUser,u=s.getAuthorizationHeader,d=s.firebaseUser){e.next=9;break}return e.abrupt("return");case 9:return e.prev=9,console.info("Checking progress of build ".concat(n,"...")),e.next=13,Object(c.d)(u,d.uid,n);case 13:i=e.sent,t.onBuildUpdated&&t.onBuildUpdated(i),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(9),console.warn("Error while watching build progress:",e.t0);case 20:return e.next=22,Object(l.a)(r);case 22:if(t.runningWatchers[o]){e.next=25;break}return console.info("Stopping watch of build ".concat(n,".")),e.abrupt("return");case 25:if(i&&"pending"===i.status){e.next=4;break}case 26:console.info("Watch of build ".concat(n," finished."));case 27:case"end":return e.stop()}}),e,null,[[9,17]])})));return function(t,n){return e.apply(this,arguments)}}()}return Object(s.a)(e,[{key:"start",value:function(e){var t=this,n=e.authenticatedUser,r=e.builds,a=e.onBuildUpdated;this.stop(),this.authenticatedUser=n,this.onBuildUpdated=a,r.forEach((function(e){"pending"===e.status&&((!e.createdAt||e.createdAt<Date.now()-18e5)&&(!e.updatedAt||e.updatedAt<Date.now()-18e5)?console.info("Ignoring a build for polling as it's too old and still pending",e):t._pollBuild(e.id,r.length>1?5e3:1500))}))}},{key:"stop",value:function(){this.runningWatchers={}}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return new Promise((function(t){return setTimeout(t,e)}))}},function(e,t,n){"use strict";var r=n(115),a=n(15),o=n.n(a),i=n(141),s=n(936),c=n(129);t.a=function(e){e.project;var t=e.setName,n=e.name,a=e.setAuthorIds,l=e.authorIds;return o.a.createElement(c.a,{noMargin:!0},o.a.createElement(i.a,{floatingLabelText:o.a.createElement(r.Trans,{id:"Game name"}),fullWidth:!0,type:"text",value:n,onChange:t,autoFocus:!0}),o.a.createElement(s.a,{userIds:l,onChange:a,floatingLabelText:o.a.createElement(r.Trans,{id:"Authors"}),helperText:o.a.createElement(r.Trans,{id:"Select the usernames of the authors of this project. They will be displayed in the selected order, if you publish this game as an example or in the community."})}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(15),a=n(538),o=n(253),i=n.n(o),s=function(e,t){var n=Object(a.a)(),o=Object(r.useRef)({cb:e,delay:t});return Object(r.useEffect)((function(){o.current={cb:e,delay:t}})),Object(r.useCallback)(i()((function(){var e;o.current.delay===t&&n.current&&(e=o.current).cb.apply(e,arguments)}),t,{leading:!1,trailing:!0}),[t,i.a])}},function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));var r=n(119),a=n(15),o=(n(144),n(175)),i=n(203),s=n(170),c=n(346),l=n(313),u={position:"relative",display:"inline-block",width:100,height:100,justifyContent:"center",alignItems:"center",lineHeight:"100px",textAlign:"center"},d={spriteThumbnail:Object(r.a)({},u),spriteThumbnailImage:{position:"relative",maxWidth:100,maxHeight:100,verticalAlign:"middle",pointerEvents:"none"},checkboxContainer:{textAlign:"initial",position:"absolute",width:34,height:64,bottom:0,right:0}};t.a=function(e){var t=e.onContextMenu,n=e.resourcesLoader,u=e.resourceName,p=e.project,m=a.useContext(s.a),f=Object(c.a)(a.useCallback((function(e){t&&t(e.clientX,e.clientY)}),[t])),h=m.imageThumbnail.selectedBorderColor,g=m.imagePreview.borderColor,b=e.selected?h:g,v=Object(r.a)(Object(r.a)({},d.spriteThumbnail),{},{border:"1px solid ".concat(b)},e.style);return a.createElement("div",Object.assign({title:u,style:v,onContextMenu:function(e){e.stopPropagation(),t&&t(e.clientX,e.clientY)}},f),a.createElement(l.a,null),a.createElement(i.a,{style:d.spriteThumbnailImage,alt:u,src:n.getResourceFullUrl(p,u,{})}),e.selectable&&a.createElement("div",{style:d.checkboxContainer},a.createElement(o.a,{checked:!!e.selected,onCheck:function(t,n){return e.onSelect&&e.onSelect(n)}})))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(0),a=n.n(r),o=n(1),i=n(26),s=n(115),c=n(15),l=n(128),u=n(124),d=n(1310),p=n.n(d),m=n(934),f=n(276),h=n(142),g=n(547),b=n(316),v=n(183),E=n(245);function y(e){var t=e.project,n=e.onClose,r=e.onInstallExtension,d=e.onExtensionInstalled,y=c.useState(!1),C=Object(i.a)(y,2),j=C[0],O=C[1],x=c.useState(!1),k=Object(i.a)(x,2),T=k[0],w=k[1],S=c.useContext(f.a),P=c.useContext(v.a),_=Object(E.h)(P,E.e,g.b),I=function(){var e=Object(o.a)(a.a.mark((function e(n,o){var i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(O(!0),e.prev=1,!o){e.next=9;break}return r(o),e.next=6,_(n,t,S,o);case 6:i=e.sent,e.next=12;break;case 9:return e.next=11,Object(g.a)(n,S,t);case 11:i=e.sent;case 12:if(!i){e.next=16;break}return w(!0),d&&d(),e.abrupt("return",!0);case 16:return e.abrupt("return",!1);case 17:return e.prev=17,O(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[1,,17,20]])})));return function(t,n){return e.apply(this,arguments)}}(),N=S.getEventsFunctionsExtensionOpener();return c.createElement(s.I18n,null,(function(e){var r=e.i18n;return c.createElement(l.a,{fullHeight:!0,title:c.createElement(s.Trans,{id:"Search for New Extensions"}),actions:[c.createElement(u.a,{key:"close",label:c.createElement(s.Trans,{id:"Close"}),primary:!0,onClick:n,disabled:j})],secondaryActions:[c.createElement(h.a,{key:"help",helpPagePath:"/extensions/search"}),N?c.createElement(u.a,{icon:c.createElement(p.a,null),key:"import",label:c.createElement(s.Trans,{id:"Import extension"}),onClick:function(){I(r)},disabled:j}):null],cannotBeDismissed:!0,flexBody:!0,open:!0,noMargin:!0,onRequestClose:n},c.createElement(m.a,{isInstalling:j,onInstall:function(){var e=Object(o.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",I(r,t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),project:t,showOnlyWithBehaviors:!1}),c.createElement(b.a,{identifier:"extension-installed-explanation",message:c.createElement(s.Trans,{id:"The extension was added to the project. You can now use it in the list of actions/conditions and, if it's a behavior, in the list of behaviors for an object."}),show:T}))}))}},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(26),a=n(13),o=n(15),i=n(732),s=n.n(i),c=n(1281),l=function(e,t){var n=t.toLowerCase();return e.indices.map((function(r){var a=e.value.slice(r[0],r[1]+1).toLowerCase();if(a===n)return r;var o=a.indexOf(n);return-1!==o?[r[0]+o,r[0]+o+t.length-1]:void 0})).filter(Boolean)},u=function(e,t){return e.matches.map((function(e){return{key:e.key,value:e.value,indices:l(e,t)}}))},d=function(e,t,n){if(!e)return null;var r=performance.now(),o=e.filter((function(e){var n=e.item.tags;if(!t)return!0;if(!(t.node.isTagContainerOnly||n.some((function(e){return e===t.node.name}))))return!1;var r,o=Object(a.a)(t.parentNodes);try{var i=function(){var e=r.value;return e.isTagContainerOnly?{v:!0}:n.some((function(t){return t===e.name}))?void 0:{v:!1}};for(o.s();!(r=o.n()).done;){var s=i();if("object"===typeof s)return s.v}}catch(c){o.e(c)}finally{o.f()}return!0})).filter((function(e){var t=e.item.tags;return 0===n.size||t.some((function(e){return n.has(e)}))})),i=performance.now()-r;return console.info("Filtered items by category/filters in ".concat(i.toFixed(3),"ms.")),o},p=function(e,t,n,a){var i=o.useRef(null),l=o.useState(null),p=Object(r.a)(l,2),m=p[0],f=p[1],h=o.useMemo((function(){return e?s()(Object.keys(e).map((function(t){return{item:e[t],matches:[]}}))):null}),[e]);o.useEffect((function(){if(e){var t=performance.now();i.current&&(i.current=null);try{var n=new c.a(Object.values(e),{keys:[{name:"name",weight:2},{name:"fullName",weight:2},{name:"shortDescription",weight:1}],minMatchCharLength:2,threshold:.35,includeMatches:!0,ignoreLocation:!0,ignoreFieldNorm:!0}),r=performance.now()-t;console.info("Indexed ".concat(Object.keys(e).length," items in ").concat(r.toFixed(3),"ms.")),i.current=n}catch(a){console.error("Error while indexing items: ",a)}}}),[e]);var g=i.current;return o.useEffect((function(){var r=!1;if(t){if(!e||!g)return void console.info("Search for items skipped because items are not ready - will be retried when ready");var o=performance.now(),i=g.search("'".concat(t)),s=performance.now()-o;if(console.info("Found ".concat(i.length," items in ").concat(s.toFixed(3),"ms.")),r)return void console.info("Discarding search results as a new search was launched.");f(d(i.map((function(e){return{item:e.item,matches:u(e,t)}})),n,a))}else f(d(h,n,a));return function(){r=!0}}),[h,e,t,n,a,g]),m}},,,,,,,,,,,function(e,t,n){"use strict";var r=n(15),a=r.createContext({openUserPublicProfile:function(e){}});t.a=a},,function(e,t,n){"use strict";var r=n(15),a=function(e,t,n,a,o){var i=t[0],s=t[1]+1,c=e.slice(n,i),l=e.slice(i,s),u=e.slice(s,a||e.length);return[c,r.createElement("span",{key:"".concat(l).concat(i),style:o},l),u]};t.a=function(e){var t=e.text,n=e.matchesCoordinates,o=e.styleToApply;if(0===n.length)return[t];for(var i=[],s=0;s<n.length;s++){var c=n[s+1]?n[s+1][0]:void 0,l=0===s?0:n[s][0];i.push(a(t,n[s],l,c,o))}return i.map((function(e,t){return r.createElement(r.Fragment,{key:t},e)}))}},function(e,t,n){"use strict";var r=n(26),a=n(115),o=n(15),i=n.n(o),s=n(128),c=n(124),l=n(360),u=n(244),d=n(158),p=n(223),m=n(192),f=n(125),h=n(156),g=n(28),b=n(117),v=n(2088),E=n(129),y=n(361),C=n(420),j=n(127),O=n(16),x=function(e){return e.description.substr(0,e.shortDescription.length)===e.shortDescription?e.description.substr(e.shortDescription.length):e.description};t.a=function(e){var t=e.extensionShortHeader,n=e.isInstalling,o=e.onClose,k=e.onInstall,T=e.onEdit,w=e.alreadyInstalled,S=i.a.useState(null),P=Object(r.a)(S,2),_=P[0],I=P[1],N=i.a.useState(null),A=Object(r.a)(N,2),R=A[0],M=A[1],F=i.a.useCallback((function(){I(null),Object(l.b)(t).then((function(e){M(e)}),(function(e){I(e)}))}),[t]);i.a.useEffect((function(){return F()}),[F]);var L=Object(l.e)(Object(g.b)(),t),B=!n&&L,D=i.a.useCallback((function(){if(B)if(w){if(!O.b.showConfirmDialog("This extension is already in your project, this will install the latest version. You may have to do some adaptations to make sure your game still works. Do you want to continue?"))return;k()}else k()}),[k,B,w]);return i.a.createElement(s.a,{actions:[i.a.createElement(c.a,{key:"close",label:i.a.createElement(a.Trans,{id:"Back"}),primary:!1,onClick:o,disabled:n}),i.a.createElement(u.a,{isLoading:n,key:"install"},i.a.createElement(j.a,{label:L?w?i.a.createElement(a.Trans,{id:"Re-install/update"}):i.a.createElement(a.Trans,{id:"Install in project"}):i.a.createElement(a.Trans,{id:"Not compatible"}),primary:!0,onClick:D,disabled:!B}))],secondaryActions:T?[i.a.createElement(c.a,{key:"edit-extension",label:i.a.createElement(a.Trans,{id:"Open in editor"}),onClick:T})]:void 0,cannotBeDismissed:!1,open:!0,onRequestClose:o},i.a.createElement(E.a,{expand:!0,noMargin:!0},!L&&i.a.createElement(h.a,{kind:"error"},i.a.createElement(a.Trans,{id:"Unfortunately, this extension requires a newer version of GDevelop to work. Update GDevelop to be able to use this extension in your project."})),i.a.createElement(b.b,{alignItems:"center",noMargin:!0},i.a.createElement(y.a,{alt:t.fullName,src:t.previewIconUrl,size:64}),i.a.createElement(b.a,{expand:!0},i.a.createElement(f.a,{noMargin:!0,size:"title"},t.fullName),i.a.createElement(f.a,{noMargin:!0,size:"body2"},i.a.createElement(a.Trans,{id:"Version {0}",values:{0:" "+t.version}})),i.a.createElement(b.b,null,t.authors&&t.authors.map((function(e){return i.a.createElement(C.a,{user:e,key:e.id,isClickable:!0})}))))),i.a.createElement(f.a,{noMargin:!0},t.shortDescription),i.a.createElement(v.a,null),R&&i.a.createElement(m.a,{source:x(R),isStandaloneText:!0}),!R&&!_&&i.a.createElement(d.a,null),!R&&_&&i.a.createElement(p.a,{onRetry:F},i.a.createElement(a.Trans,{id:"Can't load the extension registry. Verify your internet connection or try again later."}))))}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return P}));var r=n(18),a=n(0),o=n.n(a),i=n(1),s=n(277),c=n(167),l=n(176),u=n(220),d=n.n(u),p=n(747),m=n.n(p),f=n(548),h=n.n(f),g=n(360),b=n(131),v=n(688),E=e.gd,y=function(e){var t=e.trim();if(!t)return"UnnamedObject";var n,r=(n=t)?n.replace(/^[^A-Za-z0-9]*|[^A-Za-z0-9]*$/g,"$").replace(/[^A-Za-z0-9]+/g,"$").replace(/([a-z])([A-Z])/g,(function(e,t,n){return t+"$"+n})).toLowerCase().replace(/(\$)(\w?)/g,(function(e,t,n){return n.toUpperCase()})):"";return r[0]>="0"&&r[0]<="9"&&(r="_"+r),r},C=function(e,t,n){var r=t.name;if(!n[r]){var a=e.getResourcesManager(),o=t.file,i=t.origin?t.origin.name:"",s=t.origin?t.origin.identifier:"",u=i&&s?a.getResourceNameWithOrigin(i,s):"",d=a.getResourceNameWithFile(o);if(u)n[r]=u;else if(d)n[r]=d;else{var p=null;if("image"!==t.kind)throw new Error('Resource of kind "'.concat(t.kind,'" is not supported.'));p=new E.ImageResource,Object(l.c)(p,t);var m=Object(c.a)(r,(function(e){return a.hasResource(e)}));p.setName(m),p.setSmooth("nearest"!==e.getScaleMode()),p.setOrigin(i,s),a.addResource(p),p.delete(),n[r]=m}}},j=function(){var e=Object(i.a)(o.a.mark((function e(t){var n,r,a,i,s,u,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.asset,r=t.project,a=t.events,i=t.objectsContainer,s={},u={},d=[],n.objectAssets.forEach((function(e){e.resources.forEach((function(e){}))})),n.objectAssets.forEach((function(e){var t=e.object.type;if(!t)throw new Error("An object has no type specified");var n=y(e.object.name),a=Object(c.a)(n,(function(e){return i.hasObjectNamed(e)})),o=i.insertNewObject(r,t,a,i.getObjectsCount());s[n]=a,Object(l.c)(o,e.object,"unserializeFrom",r),o.setName(a),e.resources.forEach((function(e){C(r,e,u)}));var p=Object(v.a)(u),m=new E.ResourcesRenamer(p);p.delete(),o.exposeResources(m),m.delete(),e.customization.forEach((function(e){if(e.behaviorName){var t=e.behaviorName,n=e.behaviorType,a=E.MetadataProvider.getBehaviorMetadata(E.JsPlatform.get(),n);if(E.MetadataProvider.isBadBehaviorMetadata(a))throw new Error("Behavior with type "+n+" could not be found.");var i=a.get(),s=o.addNewBehavior(r,n,t);e.properties.forEach((function(e){i.updateProperty(s.getContent(),e.name,e.defaultValue)}))}})),d.push(o)})),n.objectAssets.forEach((function(e){var t=e.object.name,n=s[t];e.customization.forEach((function(e){if(e.events){var t=new E.GroupEvent;for(var o in t.setName(n),Object(l.c)(t.getSubEvents(),e.events,"unserializeFrom",r),e.parameters.forEach((function(e){E.EventsRefactorer.replaceStringInEvents(r,i,t.getSubEvents(),e.name,e.defaultValue,!0,!0,!0)})),s){var c=s[o];o!==c&&E.EventsRefactorer.renameObjectInEvents(r.getCurrentPlatform(),r,i,t.getSubEvents(),o,c)}a.insertEvent(t,a.getEventsCount())}}))})),e.abrupt("return",{createdObjects:d});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(e){return m()(d()(e.objectAssets.map((function(e){return e.customization.map((function(e){return e.behaviorName?{behaviorType:e.behaviorType,extensionName:e.extensionName,extensionVersion:e.extensionVersion}:null})).filter(Boolean)}))),(function(e){return e.behaviorType}))},x=function(e,t){var n=Object(b.mapVector)(e.asPlatform(e.JsPlatform.get()).getAllPlatformExtensions(),(function(e){return e.getName()}));return t.filter((function(e){var t=e.extensionName;return!n.includes(t)}))},k=function(e){return m()(d()(e.objectAssets.map((function(e){return d()(e.customization.map((function(e){return e.events?e.extensions:null})).filter(Boolean))}))),(function(e){return e.extensionName}))},T=function(e,t){return t.filter((function(t){var n=t.behaviorType,r=e.MetadataProvider.getBehaviorMetadata(e.JsPlatform.get(),n);return e.MetadataProvider.isBadBehaviorMetadata(r)}))},w=function(){var e=Object(i.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.length){e.next=2;break}return e.abrupt("return",Promise.resolve([]));case 2:return e.next=4,Object(g.c)();case 4:return n=e.sent,e.next=7,Promise.all(h()(t).map((function(e){var t=n.extensionShortHeaders.find((function(t){return t.name===e}));if(!t)throw new Error("Unable to find extension "+e+" in the registry.");return Object(g.a)(t)})));case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return n.forEach((function(e){var n=e.name;if(!n)return Promise.reject(new Error("Malformed extension (missing name)."));var a=t.hasEventsFunctionsExtensionNamed(n)?t.getEventsFunctionsExtension(n):t.insertNewEventsFunctionsExtension(n,0);Object(l.c)(a,e,"unserializeFrom",t),r&&a.setOrigin("gdevelop-extension-store",n)})),e.loadProjectEventsFunctionsExtensions(t)},P=function(){var e=Object(i.a)(o.a.mark((function e(t){var n,a,i,c,l,u,d,p,m,f,h,g;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.assetShortHeader,a=t.eventsFunctionsExtensionsState,i=t.project,c=t.events,l=t.objectsContainer,e.next=3,Object(s.a)(n);case 3:return u=e.sent,d=O(u),p=k(u),m=T(E,d),f=x(E,p),e.next=10,w([].concat(Object(r.a)(m.map((function(e){return e.extensionName}))),Object(r.a)(f.map((function(e){return e.extensionName})))));case 10:return h=e.sent,e.next=13,S(a,i,h);case 13:if(!T(E,d).length){e.next=16;break}throw new Error("These behaviors could not be installed: "+m.map((function(e){var t=e.extensionName,n=e.behaviorType;return"".concat(n," (").concat(t,")")})).join(", "));case 16:if(!x(E,p).length){e.next=19;break}throw new Error("These extensions could not be installed: "+f.map((function(e){return e.extensionName})).join(", "));case 19:return e.next=21,j({project:i,asset:u,events:c,objectsContainer:l});case 21:return g=e.sent,e.abrupt("return",g);case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}).call(this,n(8))},,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return k}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n.n(c),u=n(124),d=n(135),p=n(127),m=n(128),f=n(252),h=n(136),g=n(273),b=n(312),v=n(751),E=n.n(v),y=n(175),C=n(1312),j=n(129),O=n(188),x=e.gd,k=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e))._onApply=function(){a.props.layout.setWindowDefaultTitle(a.state.windowTitle),a.props.layout.setStopSoundsOnStartup(a.state.shouldStopSoundsOnStartup),a.props.layout.setBackgroundColor(a.state.backgroundColor?a.state.backgroundColor.r:0,a.state.backgroundColor?a.state.backgroundColor.g:0,a.state.backgroundColor?a.state.backgroundColor.b:0),a.props.onApply()},a.state=a._loadFrom(e.layout),a}return Object(a.a)(n,[{key:"_loadFrom",value:function(e){return{windowTitle:e.getWindowDefaultTitle(),shouldStopSoundsOnStartup:e.stopSoundsOnStartup(),backgroundColor:{r:e.getBackgroundColorRed(),g:e.getBackgroundColorGreen(),b:e.getBackgroundColorBlue(),a:1}}}},{key:"componentWillReceiveProps",value:function(e){(!this.props.open&&e.open||e.open&&this.props.layout!==e.layout)&&this.setState(this._loadFrom(e.layout))}},{key:"render",value:function(){var e=this,t=this.props.layout,n=[l.a.createElement(u.a,{label:l.a.createElement(s.Trans,{id:"Ok"}),key:"ok",primary:!0,keyboardFocused:!0,onClick:this._onApply})],r=t.getAllBehaviorSharedDataNames().toJSArray().map((function(e){var n=t.getBehaviorSharedData(e),r=n.getTypeName(),a=x.MetadataProvider.getBehaviorMetadata(x.JsPlatform.get(),r);if(x.MetadataProvider.isBadBehaviorMetadata(a))return null;var o=a.getSharedDataInstance();if(Object(C.a)(x,o))return null;var i=o.getProperties(n.getContent()),s=Object(b.a)(i,(function(e){return o.getProperties(e.getContent())}),(function(e,t,n){o.updateProperty(e.getContent(),t,n)}));return!!s.length&&l.a.createElement(g.a,{key:e,schema:s,instances:[n]})})).filter(Boolean);return l.a.createElement(m.a,{title:l.a.createElement(s.Trans,{id:"Scene properties"}),actions:n,secondaryActions:[l.a.createElement(p.a,{key:"edit-scene-variables",label:l.a.createElement(s.Trans,{id:"Edit scene variables"}),fullWidth:!0,onClick:function(){e.props.onEditVariables(),e.props.onClose()}})],open:this.props.open,cannotBeDismissed:!0,onApply:this._onApply,onRequestClose:this.props.onClose,maxWidth:"sm"},l.a.createElement(j.a,{expand:!0,noMargin:!0},l.a.createElement(d.b,{floatingLabelText:l.a.createElement(s.Trans,{id:"Window title"}),fullWidth:!0,type:"text",value:this.state.windowTitle,onChange:function(t,n){return e.setState({windowTitle:n})}}),l.a.createElement(y.a,{checked:this.state.shouldStopSoundsOnStartup,label:l.a.createElement(s.Trans,{id:"Stop music and sounds on startup"}),onCheck:function(t,n){return e.setState({shouldStopSoundsOnStartup:n})}}),l.a.createElement(f.a,{floatingLabelText:l.a.createElement(s.Trans,{id:"Scene background color"}),fullWidth:!0,disableAlpha:!0,color:Object(O.b)(this.state.backgroundColor),onChange:function(t){return e.setState({backgroundColor:Object(O.e)(t)})}}),!E()(r)&&l.a.createElement(h.a,null,l.a.createElement(s.Trans,{id:"Any additional properties will appear here if you add behaviors to objects, like Physics behavior."})),r,this.props.onOpenMoreSettings&&l.a.createElement(p.a,{label:l.a.createElement(s.Trans,{id:"Open advanced settings"}),fullWidth:!0,onClick:function(){e.props.onOpenMoreSettings&&e.props.onOpenMoreSettings(),e.props.onClose()}})))}}]),n}(c.Component)}).call(this,n(8))},,function(e,t,n){"use strict";var r=n(115),a=n(15),o=n(307),i=n(278);t.a=function(e){return a.createElement(o.a,{open:e.open,variablesContainer:e.layout.getVariables(),onCancel:e.onClose,onApply:e.onApply,title:a.createElement(r.Trans,{id:"Scene Variables"}),emptyExplanationMessage:a.createElement(r.Trans,{id:"Scene variables can be used to store any value or text during the game."}),emptyExplanationSecondMessage:a.createElement(r.Trans,{id:"For example, you can have a variable called Score representing the current score of the player."}),helpPagePath:"/all-features/variables/scene-variables",hotReloadPreviewButtonProps:e.hotReloadPreviewButtonProps,onComputeAllVariableNames:function(){return i.a.findAllLayoutVariables(e.project.getCurrentPlatform(),e.project,e.layout)}})}},function(e,t,n){"use strict";function r(e,t){for(var n=t.getCurrentPlatform().getAllPlatformExtensions(),r=0;r<n.size();r++)if(n.at(r).getName()===e)return!0;return t.hasEventsFunctionsExtensionNamed(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(119),a=n(3),o=function e(){var t=this;Object(a.a)(this,e),this.registerCommand=function(e,n){if(t._commands[e])return console.warn("Tried to register command ".concat(e,", but it is already registered."));t._commands[e]=n},this.deregisterCommand=function(e){if(!t._commands[e])return console.warn("Tried to deregister command ".concat(e,", but it is not registered."));delete t._commands[e]},this.getNamedCommand=function(e){var n=t._commands[e];return n?Object(r.a)({name:e},n):null},this.getAllNamedCommands=function(){return Object.keys(t._commands).map((function(e){var n=t._commands[e];return Object(r.a)(Object(r.a)({},n),{},{name:e})}))},this._commands={}}},function(e,t,n){"use strict";var r=n(15);t.a=function(e){var t=Object(r.useRef)(null),n=t.current;if(null!==n)return n;var a=e();return t.current=a,a}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1327),a=n.n(r),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{size:40},n=t.size,r=a()(e.trim().toLowerCase());return"https://www.gravatar.com/avatar/".concat(r,"?s=").concat(n,"&d=retro")}},function(e,t,n){"use strict";var r=n(15),a=n(2121);t.a=function(e){return r.createElement(a.a,Object.assign({color:"primary",variant:"dot"},e))}},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(15),c=n(552),l=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"shouldComponentUpdate",value:function(e){return e.isActive}},{key:"componentDidMount",value:function(){if(this.props.isActive){var e=this.getLayout();this.props.setPreviewedLayout(e?e.getName():null)}}},{key:"componentDidUpdate",value:function(e){if(!e.isActive&&this.props.isActive){var t=this.getLayout();this.props.setPreviewedLayout(t?t.getName():null)}}},{key:"getProject",value:function(){return this.props.project}},{key:"updateToolbar",value:function(){this.editor&&this.editor.updateToolbar()}},{key:"forceUpdateEditor",value:function(){}},{key:"getLayout",value:function(){var e=this.props,t=e.project,n=e.projectItemName;return t&&n&&t.hasLayoutNamed(n)?t.getLayout(n):null}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.projectItemName,a=this.getLayout();return a&&n?s.createElement(c.a,{ref:function(t){return e.editor=t},setToolbar:this.props.setToolbar,onOpenLayout:this.props.onOpenLayout,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,openInstructionOrExpression:this.props.openInstructionOrExpression,onCreateEventsFunction:this.props.onCreateEventsFunction,unsavedChanges:this.props.unsavedChanges,project:n,scope:{layout:a},globalObjectsContainer:n,objectsContainer:a,events:a.getEvents(),onOpenExternalEvents:this.props.onOpenExternalEvents}):s.createElement("div",null,"No layout called ",r," found!")}}]),n}(s.Component),u=function(e){return s.createElement(l,e)}},,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(15),a=n(169);function o(e){var t=e.canDrop;return r.createElement("div",{className:t?a.e:a.b})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(15),c=n(141),l=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._field=null,e}return Object(a.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props.parameterMetadata,n=t?t.getDescription():void 0;return s.createElement(c.a,{margin:this.props.isInline?"none":"dense",commitOnBlur:!0,value:this.props.value,floatingLabelText:n,helperMarkdownText:t?t.getLongDescription():void 0,onChange:function(t){return e.props.onChange(t)},ref:function(t){return e._field=t},fullWidth:!0})}}]),n}(s.Component),u=function(e){var t=e.value,n=e.parameterMetadata,r=e.MissingParameterValue;return t||n.isOptional()?t:s.createElement(r,null)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(179),a=n(3),o=n(4),i=n(6),s=n(5),c=n(18),l=n(15),u=n(226),d=n(212),p=n(210),m=n(227),f=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,a=t.onChange,o=t.onChoose,i=t.project,s=t.globalObjectsContainer,f=t.objectsContainer,h=t.allowedObjectType,g=t.noGroups,b=t.errorTextIfInvalid,v=t.margin,E=t.onRequestClose,y=t.onApply,C=Object(r.a)(t,["value","onChange","onChoose","project","globalObjectsContainer","objectsContainer","allowedObjectType","noGroups","errorTextIfInvalid","margin","onRequestClose","onApply"]),j=function(e){var t=e.project,n=e.globalObjectsContainer,r=e.objectsContainer,a=e.noGroups,o=e.allowedObjectType,i=Object(u.d)(n,r,o||void 0),s=i.allObjectsList.map((function(e){var n=e.object;return{text:n.getName(),value:n.getName(),renderIcon:t?function(){return l.createElement(p.a,{iconSize:24,src:m.a.getThumbnail(t,n)})}:void 0}})),d=a?[]:i.allGroupsList.map((function(e){var t=e.group;return{text:t.getName(),value:t.getName()}}));return[].concat(Object(c.a)(s),[{type:"separator"}],Object(c.a)(d))}({project:i,globalObjectsContainer:s,objectsContainer:f,noGroups:g,allowedObjectType:h}),O=0!==j.filter((function(e){return void 0!==e.text&&n===e.text})).length;return l.createElement(d.a,Object.assign({margin:v,hintText:{id:"Choose an object"},value:n,onChange:a,onChoose:o,onRequestClose:E,onApply:y,dataSource:j,errorText:O?void 0:b,ref:function(t){return e._field=t}},C))}}]),n}(l.Component)},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(247),c=n(145);function l(e){return function(t){Object(o.a)(s,t);var n=Object(i.a)(s);function s(t,a,o,i,l,u){var d;return Object(r.a)(this,s),(d=n.call(this,t,a,o,i,l,u))._pixiObject=new c.Sprite(c.Texture.from(e)),d._pixiContainer.addChild(d._pixiObject),d}return Object(a.a)(s,[{key:"update",value:function(){this._pixiObject.position.x=this._instance.getX(),this._pixiObject.position.y=this._instance.getY(),this._pixiObject.rotation=this._instance.getAngle()*Math.PI/180}}],[{key:"getThumbnail",value:function(t,n,r){return e}}]),s}(s.a)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){return e||(t&&t.isOptional()?t.getDefaultValue():"")}},function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return m})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return h})),n.d(t,"e",(function(){return g}));var r=n(18),a=n(131),o=n(220),i=n.n(o),s=n(258),c=e.gd,l=function(e){return"string"===e||"number|string"===e},u=function(e){return"number"===e||"number|string"===e},d=function(e,t,n){return Object(a.mapVector)(t.keys(),(function(r){var a=t.get(r);if(!a.isShown())return null;for(var o=[],i=0;i<a.getParametersCount();i++)n.objectMetadata&&0===i||n.behaviorMetadata&&i<=1||a.getParameter(i).isCodeOnly()||o.push(a.getParameter(i));var s=a.getGroup();return{type:r,name:r,displayedName:a.getFullName(),fullGroupName:[e,s].filter(Boolean).join("/"),iconFilename:a.getSmallIconFilename(),metadata:a,parameters:o,scope:n,isPrivate:a.isPrivate()}})).filter(Boolean)},p=function(e){var t=c.asPlatform(c.JsPlatform.get()).getAllPlatformExtensions(),n=u(e),o=l(e);return i()(Object(a.mapVector)(t,(function(e){var t=Object(s.f)(e),a={extension:e,objectMetadata:void 0,behaviorMetadata:void 0};return[].concat(Object(r.a)(o?d(t,e.getAllStrExpressions(),a):[]),Object(r.a)(n?d(t,e.getAllExpressions(),a):[]))})))},m=function(e,t){var n=c.MetadataProvider.getExtensionAndObjectMetadata(c.JsPlatform.get(),t),a=n.getExtension(),o={extension:a,objectMetadata:n.getMetadata()},i=[].concat(Object(r.a)(l(e)?d("",a.getAllStrExpressionsForObject(t),o):[]),Object(r.a)(u(e)?d("",a.getAllExpressionsForObject(t),o):[]));if(""!==t){var s=c.MetadataProvider.getExtensionAndObjectMetadata(c.JsPlatform.get(),"").getExtension();i=[].concat(Object(r.a)(i),Object(r.a)(l(e)?d("",s.getAllStrExpressionsForObject(""),o):[]),Object(r.a)(u(e)?d("",s.getAllExpressionsForObject(""),o):[]))}return i},f=function(e,t){var n=c.MetadataProvider.getExtensionAndBehaviorMetadata(c.JsPlatform.get(),t),a=n.getExtension(),o={extension:a,behaviorMetadata:n.getMetadata()};return[].concat(Object(r.a)(l(e)?d("",a.getAllStrExpressionsForBehavior(t),o):[]),Object(r.a)(u(e)?d("",a.getAllExpressionsForBehavior(t),o):[]))},h=function(e){var t=u(e),n=l(e),o=[],i=[],m=p(e),f=c.asPlatform(c.JsPlatform.get()).getAllPlatformExtensions();return Object(a.mapVector)(f,(function(e){var r=Object(s.f)(e);Object(a.mapVector)(e.getExtensionObjectsTypes(),(function(a){var i=e.getObjectMetadata(a),s={extension:e,objectMetadata:i};n&&o.push.apply(o,d(r,e.getAllStrExpressionsForObject(a),s)),t&&o.push.apply(o,d(r,e.getAllExpressionsForObject(a),s))})),Object(a.mapVector)(e.getBehaviorsTypes(),(function(a){var o=e.getBehaviorMetadata(a),s={extension:e,behaviorMetadata:o};n&&i.push.apply(i,d(r,e.getAllStrExpressionsForBehavior(a),s)),t&&i.push.apply(i,d(r,e.getAllExpressionsForBehavior(a),s))}))})),[].concat(Object(r.a)(m),o,i)},g=function(e,t){if(!t)return e;var n=t.toLowerCase();return function(e){if(!t)return e;for(var r=0;r<e.length;++r)if(e[r].type.toLowerCase()===n){var a=e[r];e.splice(r,1),e.unshift(a)}return e}(e.filter((function(e){return-1!==e.type.toLowerCase().indexOf(n)})))}}).call(this,n(8))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){return!t||function(e,t){var n=t.toLowerCase();e=e.toLowerCase();for(var r=0,a=0;a<t.length;a++)n[a]===e[r]&&(r+=1);return r===e.length}(e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(15),a=n(151),o=n(210),i=n(320),s=function(e){var t=e.instructionOrExpressionMetadata,n=e.iconSize,s=e.onClick,c=e.selectedValue;return r.createElement(a.b,{key:Object(i.a)(t),selected:c===Object(i.b)(t.type),primaryText:t.displayedName,secondaryText:t.fullGroupName,leftIcon:r.createElement(o.a,{iconSize:n,src:t.iconFilename}),onClick:s})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(1429),a=n(15),o=n(151),i=n(210),s=n(222),c=n(220),l=n.n(c),u=n(320),d=function e(t){var n=t.instructionTreeNode,c=t.onChoose,d=t.iconSize,p=t.useSubheaders,m=t.selectedValue,f=t.selectedItemRef,h=t.initiallyOpenedPath,g=t.getGroupIconSrc,b=h||[],v=Object(r.a)(b),E=v[0],y=v.slice(1);return l()(Object.keys(n).map((function(t){var r=n[t];if(!r)return null;if("string"===typeof r.type){var l=r,h=Object(u.b)(r.type),b=m===h;return a.createElement(o.b,{key:h,primaryText:t,selected:b,leftIcon:a.createElement(i.a,{iconSize:d,src:l.iconFilename}),onClick:function(){c(l.type,l)},ref:b?f:void 0})}var v=r;if(p)return[a.createElement(s.a,{key:Object(u.f)(t)},t)].concat(e({instructionTreeNode:v,onChoose:c,iconSize:d,useSubheaders:!1,selectedValue:m,selectedItemRef:f,initiallyOpenedPath:y,getGroupIconSrc:g}));var C=E===t,j=g(t);return a.createElement(o.b,{key:t,primaryText:t,autoGenerateNestedIndicator:!0,initiallyOpen:C,leftIcon:j?a.createElement(i.a,{iconSize:d,src:j}):null,renderNestedItems:function(){return e({instructionTreeNode:v,onChoose:c,iconSize:d,selectedValue:m,selectedItemRef:f,initiallyOpenedPath:C?y:void 0,getGroupIconSrc:g})}})})))}},function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return m}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n(131),u=n(136),d={container:{display:"flex",flexDirection:"column",flex:1}},p=function(e){return 0!==Object(l.mapFor)(0,e.getParametersCount(),(function(t){return!e.getParameter(t).isCodeOnly()})).filter((function(e){return e})).length},m=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.expressionMetadata,r=t.parameterValues,a=t.project,o=t.scope,i=t.globalObjectsContainer,m=t.objectsContainer,f=t.parameterRenderingService;if(!f)return console.error("Missing parameterRenderingService for ExpressionParametersEditor"),null;var h=n.getParametersCount(),g={getParametersCount:function(){return h},getParameter:function(e){return r[e]||""}};return c.createElement("div",{style:d.container},Object(l.mapFor)(0,n.getParametersCount(),(function(t){var s=n.getParameter(t),l=f.getParameterComponent(s.getType());return s.isCodeOnly()?null:c.createElement(l,{expressionMetadata:n,expression:g,parameterMetadata:s,parameterIndex:t,value:r[t],onChange:function(n){return e.props.onChangeParameter(t,n)},project:a,scope:o,globalObjectsContainer:i,objectsContainer:m,key:t,parameterRenderingService:f})})),!p(n)&&c.createElement(u.a,null,c.createElement(s.Trans,{id:"There is nothing to configure."})))}}]),n}(c.Component)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d}));var r=n(18),a=n(220),o=n.n(a),i=n(131),s=n(798),c=n.n(s),l=e.gd,u=function(e){for(var t=0;t<e.length;++t)if(-1!==",.\"()[]{}()[],+-<>?^=:!+-/* '".indexOf(e[t]))return!1;return!0},d=function(e){if(!e)return[];return o()(Object(i.mapFor)(0,e.count(),(function(t){return function e(t,n,a,o){var i=a?u(t):o,s={name:t,isValidName:i};return n.getType()===l.Variable.Structure?[s].concat(Object(r.a)(c()(n.getAllChildrenNames().toJSArray(),(function(r){return e(u(r)?"".concat(t,".").concat(r):"".concat(t,"[").concat('"'+r.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"',"]"),n.getChild(r),!1,i)})))):n.getType()===l.Variable.Array?[s].concat(Object(r.a)(c()(new Array(n.getChildrenCount()).fill(""),(function(r,a){return e("".concat(t,"[").concat(a,"]"),n.getAtIndex(a),!1,i)})))):[s]}(e.getNameAt(t),e.getAt(t),!0,!0)})))}}).call(this,n(8))},,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var r=n(131),a=e.gd,o=function(e){return Object(r.mapVector)(e.getParameters(),(function(e){return e.isCodeOnly()||a.ParameterMetadata.isObject(e.getType())||a.ParameterMetadata.isBehavior(e.getType())?null:e})).filter(Boolean)}}).call(this,n(8))},function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n(566),u=n(307),d=n(278),p=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={editorOpen:!1},e}return Object(a.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.scope,a=r.layout,o=function(){return n&&a?d.a.findAllLayoutVariables(n.getCurrentPlatform(),n,a):[]};return c.createElement(c.Fragment,null,c.createElement(l.a,{variablesContainer:a?a.getVariables():null,onComputeAllVariableNames:o,parameterMetadata:this.props.parameterMetadata,value:this.props.value,onChange:this.props.onChange,isInline:this.props.isInline,onRequestClose:this.props.onRequestClose,onApply:this.props.onApply,ref:function(t){return e._field=t},onOpenDialog:function(){return e.setState({editorOpen:!0})},globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,scope:r}),this.state.editorOpen&&a&&c.createElement(u.a,{title:c.createElement(s.Trans,{id:"Scene Variables"}),open:!0,variablesContainer:a.getVariables(),onCancel:function(){return e.setState({editorOpen:!1})},onApply:function(){e.setState({editorOpen:!1}),e._field&&e._field.updateAutocompletions()},emptyExplanationMessage:c.createElement(s.Trans,{id:"Scene variables can be used to store any value or text during the game."}),emptyExplanationSecondMessage:c.createElement(s.Trans,{id:"For example, you can have a variable called Score representing the current score of the player."}),helpPagePath:"/all-features/variables/scene-variables",onComputeAllVariableNames:o}))}}]),n}(c.Component),m=function(e){return Object(l.b)(e,"res/types/scenevar.png","scene variable")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(15),a=n(225),o=function(e){var t={canDrag(e,t){var n=t.getItem(),r=e.canDrag||null;return!r||r(n)},beginDrag:e=>e.beginDrag()};var n={canDrop(e,t){var n=t.getItem();return n&&e.canDrop(n)},drop(e,t){t.didDrop()||e.drop()}};var o=Object(a.DragSource)(e,t,(function(e,t){return{connectDragSource:e.dragSource()}}))(Object(a.DropTarget)(e,n,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver({shallow:!0}),canDrop:t.canDrop()}}))((function(e){return(0,e.children)({connectDragSource:e.connectDragSource,connectDropTarget:e.connectDropTarget,isOver:e.isOver,canDrop:e.canDrop})})));return function(e){return r.createElement(o,e)}}},function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"g",(function(){return m})),n.d(t,"f",(function(){return f}));var r=n(272),a=n(426),o=n(176),i=e.gd,s="EventsAndInstructions",c=function(){if(!r.b.has(s))return!1;var e=r.b.get(s),t=r.a.extractNumberProperty(e,"eventsCount");return null!==t&&t>0},l=function(){if(!r.b.has(s))return!1;var e=r.b.get(s),t=r.a.extractNumberProperty(e,"conditionsCount");return null!==t&&t>0},u=function(){if(!r.b.has(s))return!1;var e=r.b.get(s),t=r.a.extractNumberProperty(e,"actionsCount");return null!==t&&t>0},d=function(e){var t=new i.EventsList,n=new i.InstructionsList,c=new i.InstructionsList;Object(a.d)(e).forEach((function(e){return t.insertEvent(e,t.getEventsCount())})),Object(a.f)(e).forEach((function(e){e.isCondition?c.insert(e.instruction,c.size()):n.insert(e.instruction,n.size())})),r.b.set(s,{eventsList:Object(o.b)(t),eventsCount:t.getEventsCount(),actionsList:Object(o.b)(n),actionsCount:n.size(),conditionsList:Object(o.b)(c),conditionsCount:c.size()}),t.delete(),n.delete(),c.delete()},p=function(e,t){if(!Object(a.h)(t)||!c())return!1;var n=r.b.get(s),l=r.a.extractArrayProperty(n,"eventsList");if(!l)return!1;var u=new i.EventsList;return Object(o.c)(u,l,"unserializeFrom",e),Object(a.c)(t).forEach((function(e){e.eventsList.insertEvents(u,0,u.getEventsCount(),e.indexInList)})),u.delete(),!0},m=function(e,t){if(!Object(a.i)(t)&&!Object(a.j)(t)||!l()&&!u())return!1;var n=r.b.get(s),c=r.a.extractArrayProperty(n,"actionsList"),d=r.a.extractArrayProperty(n,"conditionsList");if(!c||!d)return!1;var p=new i.InstructionsList,m=new i.InstructionsList;return Object(o.c)(p,c,"unserializeFrom",e),Object(o.c)(m,d,"unserializeFrom",e),Object(a.f)(t).forEach((function(e){e.isCondition?e.instrsList.insertInstructions(m,0,m.size(),e.indexInList):e.instrsList.insertInstructions(p,0,p.size(),e.indexInList)})),Object(a.g)(t).forEach((function(e){e.isCondition?e.instrsList.insertInstructions(m,0,m.size(),e.instrsList.size()):e.instrsList.insertInstructions(p,0,p.size(),e.instrsList.size())})),m.delete(),p.delete(),!0},f=function(e,t){if(!l()&&!u())return!1;var n=r.b.get(s),a=r.a.extractArrayProperty(n,"actionsList"),c=r.a.extractArrayProperty(n,"conditionsList");if(a&&c){var d=new i.InstructionsList,p=new i.InstructionsList;return Object(o.c)(d,a,"unserializeFrom",e),Object(o.c)(p,c,"unserializeFrom",e),t.isCondition?t.instrsList.insertInstructions(p,0,p.size(),t.instrsList.size()):t.instrsList.insertInstructions(d,0,d.size(),t.instrsList.size()),p.delete(),d.delete(),!0}}}).call(this,n(8))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(15),a=n(225),o=function(e){var t={canDrop(e,t){var n=t.getItem();return n&&e.canDrop(n)},hover(e,t){e.hover&&e.hover(t)},drop(e,t){t.didDrop()||e.drop(t)}};var n=Object(a.DropTarget)(e,t,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver({shallow:!0}),canDrop:t.canDrop()}}))((function(e){return(0,e.children)({connectDropTarget:e.connectDropTarget,isOver:e.isOver,canDrop:e.canDrop})}));return function(e){return r.createElement(n,e)}}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return s}));var r=n(220),a=n.n(r),o=n(131),i=e.gd,s=function(){var e=i.asPlatform(i.JsPlatform.get()).getAllPlatformExtensions();return a()(Object(o.mapFor)(0,e.size(),(function(t){var n=e.at(t).getAllEvents();return n.keys().toJSArray().map((function(e){var t=n.get(e);return{type:e,fullName:t.getFullName(),description:t.getDescription()}}))})))}}).call(this,n(8))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return M}));var r=n(119),a=n(3),o=n(4),i=n(6),s=n(5),c=n(115),l=n(15),u=n(502),d=n(131),p=n(136),m=n(557),f=n(142),h=n(117),g=n(156),b=n(209),v=n(16),E=n(569),y=n(429),C=n(283),j=n(348),O=n.n(j),x=n(138),k=n(258),T=n(125),w=n(570),S=n(129),P=n(571),_=n(164),I=n(368),N=e.gd,A={emptyContainer:{display:"flex",alignItems:"center",justifyContent:"center"},parametersContainer:{flex:1},icon:{width:24,height:24,marginRight:8,paddingTop:12,flexShrink:0},invertToggle:{marginTop:8},description:{whiteSpace:"pre-wrap"}},R=function(e,t,n){return!e.isCodeOnly()&&t!==n},M=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._firstVisibleField={},e.state={isDirty:!1},e._openExtension=function(t){if(e.state.isDirty&&!v.b.showConfirmDialog(t._({id:"You've made some changes here. Are you sure you want to discard them and open the function?"})))return;var n=e.props,r=n.instruction,a=n.isCondition,o=n.project,i=r.getType();if(!i)return null;var s=a?N.MetadataProvider.getExtensionAndConditionMetadata(o.getCurrentPlatform(),i).getExtension():N.MetadataProvider.getExtensionAndActionMetadata(o.getCurrentPlatform(),i).getExtension();e.props.openInstructionOrExpression(s,i)},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.focusOnMount&&setTimeout((function(){e.focus()}),300)}},{key:"focus",value:function(){var e=this.props,t=e.instruction,n=e.isCondition,r=e.project;0!==this._getVisibleParametersCount(Object(w.a)({instructionType:t.getType(),isCondition:n,project:r}),this.props.objectName)&&this._firstVisibleField&&this._firstVisibleField.focus&&this._firstVisibleField.focus()}},{key:"_getVisibleParametersCount",value:function(e,t){if(!e)return 0;var n=t?Object(k.g)(e):-1;return Object(d.mapFor)(0,e.getParametersCount(),(function(t){if(!e)return!1;var r=e.getParameter(t);return R(r,t,n)})).filter((function(e){return e})).length}},{key:"_renderEmpty",value:function(){return l.createElement("div",{style:Object(r.a)(Object(r.a)({},A.emptyContainer),this.props.style)},l.createElement(p.a,null,this.props.isCondition?l.createElement(c.Trans,{id:"Choose a condition (or an object then a condition) on the left"}):l.createElement(c.Trans,{id:"Choose an action (or an object then an action) on the left"})))}},{key:"render",value:function(){var e=this,t=this.props,n=t.instruction,r=t.project,a=t.globalObjectsContainer,o=t.objectsContainer,i=t.noHelpButton,s=t.objectName,v=t.isCondition,j=t.scope,N=n.getType(),M=Object(w.a)({instructionType:N,isCondition:v,project:r});if(!M)return this._renderEmpty();var F=M.getHelpPath(),L=Object(E.b)(N),B=Object(I.b)(N),D=s?Object(k.g)(M):-1;Object(P.a)(a,o,n,M,s);var U=0;return l.createElement(c.I18n,null,(function(t){var v=t.i18n;return l.createElement(_.a,{autoHideScrollbar:!0},l.createElement(h.a,{expand:!0},l.createElement(h.b,{alignItems:"flex-start"},l.createElement("img",{src:M.getIconFilename(),alt:"",style:A.icon}),l.createElement(T.a,{style:A.description},M.getDescription()),Object(C.d)(M)&&l.createElement(x.a,{onClick:function(){e._openExtension(v)}},l.createElement(O.a,null))),L&&l.createElement(h.b,null,void 0===L.identifier?l.createElement(g.a,{kind:L.kind},v._(L.message)):l.createElement(b.a,{kind:L.kind,identifier:L.identifier},v._(L.message))),B.length?l.createElement(h.b,null,l.createElement(S.a,{expand:!0},B.map((function(e){return l.createElement(y.a,{key:e,tutorialId:e})})))):null,l.createElement(h.c,null),l.createElement("div",{key:N,style:A.parametersContainer},l.createElement(S.a,{noMargin:!0},Object(d.mapFor)(0,M.getParametersCount(),(function(t){var i=M.getParameter(t);if(!R(i,t,D))return null;var s=i.getType(),c=m.a.getParameterComponent(s),u=0===U;return U++,l.createElement(c,{instructionMetadata:M,instruction:n,parameterMetadata:i,parameterIndex:t,value:n.getParameter(t),onChange:function(r){n.getParameter(t)!==r&&(n.setParameter(t,r),e.setState({isDirty:!0}))},project:r,scope:j,globalObjectsContainer:a,objectsContainer:o,key:t,parameterRenderingService:m.a,resourceSources:e.props.resourceSources,onChooseResource:e.props.onChooseResource,resourceExternalEditors:e.props.resourceExternalEditors,ref:function(t){u&&(e._firstVisibleField=t)}})}))),0===e._getVisibleParametersCount(M,s)&&l.createElement(p.a,null,l.createElement(c.Trans,{id:"There is nothing to configure."})),e.props.isCondition&&l.createElement(u.a,{label:l.createElement(c.Trans,{id:"Invert condition"}),labelPosition:"right",toggled:n.isInverted(),style:A.invertToggle,onToggle:function(t,r){n.setInverted(r),e.forceUpdate()}})),l.createElement(h.b,null,!i&&F&&l.createElement(f.a,{helpPagePath:M.getHelpPath(),label:e.props.isCondition?l.createElement(c.Trans,{id:"Help for this condition"}):l.createElement(c.Trans,{id:"Help for this action"})}))))}))}}]),n}(l.Component)}).call(this,n(8))},,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return L}));var r=n(18),a=n(119),o=n(3),i=n(4),s=n(6),c=n(5),l=n(115),u=n(15),d=n(173),p=n.n(d),m=n(2217),f=n(365),h=n(258),g=n(366),b=n(151),v=n(187),E=n(153),y=n(164),C=n(172),j=n(222),O=n(226),x=n(350),k=n(127),T=n(129),w=n(1479),S=n(1480),P=n(794),_=n(795),I=n(136),N=n(306),A=n(320),R=e.gd,M={searchBar:{flexShrink:0}},F=function(e){return R.JsPlatform.get().getInstructionOrExpressionGroupMetadata(e).getIcon()},L=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={searchText:"",selectedObjectTags:[]},e._searchBar=u.createRef(),e._scrollView=u.createRef(),e._selectedItem=u.createRef(),e.freeInstructionsInfo=Object(g.a)(Object(h.c)(e.props.isCondition),e.props.scope),e.freeInstructionsInfoTree=Object(f.a)(e.freeInstructionsInfo),e.initialInstructionTypePath=Object(f.b)(e.freeInstructionsInfoTree,e.props.chosenInstructionType),e.reEnumerateInstructions=function(){e.freeInstructionsInfo=Object(g.a)(Object(h.c)(e.props.isCondition),e.props.scope),e.freeInstructionsInfoTree=Object(f.a)(e.freeInstructionsInfo),e.forceUpdate()},e.allInstructionsInfo=Object(g.a)(Object(h.b)(e.props.isCondition),e.props.scope),e._getAllObjectTags=function(){var t=e.props,n=t.globalObjectsContainer,r=t.objectsContainer,a=new Set;return Object(O.c)(n,r).allObjectsList.forEach((function(e){var t=e.object;Object(N.c)(t.getTags()).forEach((function(e){return a.add(e)}))})),Array.from(a)},e._buildObjectTagsMenuTemplate=function(t){var n=e.state.selectedObjectTags;return Object(N.a)({noTagLabel:t._({id:"No tags - add a tag to an object first"}),getAllTags:e._getAllObjectTags,selectedTags:n,onChange:function(t){e.setState({selectedObjectTags:t})}})},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.focusOnMount&&Object(v.b)()&&this._searchBar.current&&this._searchBar.current.focus(),this._selectedItem.current&&this._scrollView.current&&this._scrollView.current.scrollTo(this._selectedItem.current)}},{key:"render",value:function(){var e=this,t=this.props,n=t.style,o=t.globalObjectsContainer,i=t.objectsContainer,s=t.project,c=t.chosenInstructionType,d=t.onChooseInstruction,f=t.chosenObjectName,g=t.onChooseObject,N=t.isCondition,R=t.currentTab,L=t.onChangeTab,B=t.onSearchStartOrReset,D=t.onClickMore,U=this.state,G=U.searchText,V=U.selectedObjectTags,W=o!==s,H=Object(O.d)(o,i),z=H.allObjectsList,Y=H.allGroupsList,q=Object(O.f)(z,{searchText:G,selectedTags:V}),X=V.length?[]:Object(O.e)(Y,{searchText:G}),K=!!G,J=Object(h.e)(K?this.allInstructionsInfo:this.freeInstructionsInfo,{searchText:G}),Z=K?Object(h.a)(J.slice(0,20)):J,Q=K?this._getAllObjectTags().filter((function(e){return e.includes(G)})):[],$=K?Math.max(J.length-20,0):0,ee=!K||!!q.length||!!X.length||!!Z.length||!!Q.length,te=function(){K&&(q.length>0?g(q[0].object.getName()):X.length>0?g(X[0].group.getName()):Z.length>0&&d(Z[0].type,Z[0]))};return u.createElement(l.I18n,{key:"tags"},(function(t){var o=t.i18n;return u.createElement(E.a,null,(function(t){return u.createElement("div",{style:Object(a.a)({backgroundColor:t.list.itemsBackgroundColor,minHeight:0},n)},u.createElement(v.a,{value:G,onChange:function(t){var n=e.state.searchText;e.setState({searchText:t}),(!n&&t||n&&!t)&&B&&B()},onRequestSearch:te,buildMenuTemplate:function(){return e._buildObjectTagsMenuTemplate(o)},style:M.searchBar,ref:e._searchBar}),!K&&u.createElement(C.b,{value:R,onChange:L},u.createElement(C.a,{label:u.createElement(l.Trans,{id:"Objects"}),value:"objects"}),u.createElement(C.a,{label:N?u.createElement(l.Trans,{id:"Other conditions"}):u.createElement(l.Trans,{id:"Other actions"}),value:"free-instructions"})),u.createElement(y.a,{ref:e._scrollView},!K&&"objects"===R&&u.createElement(x.a,{tags:V,onChange:function(t){return e.setState({selectedObjectTags:t})}}),ee&&u.createElement(b.a,null,(K||"objects"===R)&&u.createElement(u.Fragment,null,q.map((function(e){return Object(S.a)({project:s,objectWithContext:e,iconSize:24,onClick:function(){return g(e.object.getName())},selectedValue:f?Object(A.e)(f):void 0})})),X.length>0&&u.createElement(j.a,null,u.createElement(l.Trans,{id:"Object groups"})),X.map((function(e){return Object(w.a)({groupWithContext:e,iconSize:24,onClick:function(){return g(e.group.getName())},selectedValue:f?Object(A.e)(f):void 0})}))),K&&"objects"===R&&Q.length>0&&u.createElement(j.a,null,u.createElement(l.Trans,{id:"Object tags"})),"objects"===R&&Q.map((function(t){return u.createElement(b.b,{key:t,primaryText:u.createElement(m.a,{label:t}),onClick:function(){e.setState({selectedObjectTags:[].concat(Object(r.a)(e.state.selectedObjectTags),[t]),searchText:""}),e._searchBar.current&&e._searchBar.current.focus()}})})),K&&Z.length>0&&u.createElement(j.a,null,N?u.createElement(l.Trans,{id:"Conditions"}):u.createElement(l.Trans,{id:"Actions"})),K&&Z.map((function(e){return Object(P.a)({instructionOrExpressionMetadata:e,iconSize:24,onClick:function(){return d(e.type,e)},selectedValue:c?Object(A.b)(c):void 0})})),!K&&"free-instructions"===R&&u.createElement(u.Fragment,null,Object(_.a)({instructionTreeNode:e.freeInstructionsInfoTree,onChoose:d,iconSize:24,useSubheaders:!0,selectedValue:c?Object(A.b)(c):void 0,initiallyOpenedPath:e.initialInstructionTypePath,selectedItemRef:e._selectedItem,getGroupIconSrc:F}),D&&u.createElement(T.b,{justifyContent:"center"},u.createElement(k.a,{primary:!0,icon:u.createElement(p.a,null),onClick:D,label:N?u.createElement(l.Trans,{id:"Search for new conditions in extensions"}):u.createElement(l.Trans,{id:"Search for new actions in extensions"})}))),$>0&&u.createElement(b.b,{primaryText:u.createElement(l.Trans,{id:"And {remainingResultsCount} more results.",values:{remainingResultsCount:$}}),disabled:!0,secondaryText:u.createElement(l.Trans,{id:"Refine your search with more specific keyword to see them."})})),!K&&"objects"===R&&!z.length&&u.createElement(I.a,null,W?u.createElement(l.Trans,{id:"There are no objects. Objects will appear if you add some as parameters."}):u.createElement(l.Trans,{id:"There is no object in your game or in this scene. Start by adding an new object in the scene editor, using the objects list."})),!ee&&u.createElement(I.a,null,u.createElement(l.Trans,{id:"Nothing corresponding to your search. Choose an object first or browse the list of actions/conditions."}))))}))}))}}]),n}(u.PureComponent)}).call(this,n(8))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(15),a=n(117),o=function(e){var t=e.getColumns();return r.createElement(a.b,{noMargin:!0,expand:!0},t.map((function(t){return e.columnsRenderer[t]?e.columnsRenderer[t]():null})))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return D}));var r=n(0),a=n.n(r),o=n(1),i=n(26),s=n(115),c=n(15),l=n(128),u=n(142),d=n(124),p=n(222),m=n(210),f=n(172),h=n(151),g=n(322),b=n.n(g),v=n(284),E=n.n(v),y=n(1481),C=n.n(y),j=n(117),O=n(30),x=n(569),k=n(269),T=n(810),w=n(187),S=n(136),P=n(934),_=n(16),I=n(276),N=n(547),A=n(316),R=n(164),M=n(183),F=n(245),L={disabledItem:{opacity:.6}},B=function(e){var t=e.i18n,n=e.behaviorMetadata,r=e.alreadyInstalled,a=e.onClick,o=e.disabled;return c.createElement(h.b,{leftIcon:c.createElement(m.a,{src:n.iconFilename,iconSize:40,isGDevelopIcon:!0}),key:n.type,primaryText:"".concat(n.fullName," ").concat(r?t._({id:"(already added to this object)"}):""),secondaryText:n.description,secondaryTextLines:2,onClick:a,style:o?L.disabledItem:void 0,disabled:o})};function D(e){var t=e.project,n=e.open,r=e.onClose,m=e.onChoose,g=e.objectType,v=e.objectBehaviorsTypes,y=c.useState(!1),L=Object(i.a)(y,2),D=L[0],U=L[1],G=c.useState(""),V=Object(i.a)(G,2),W=V[0],H=V[1],z=c.useState("installed"),Y=Object(i.a)(z,2),q=Y[0],X=Y[1],K=c.useRef(null),J=c.useRef(null),Z=c.useState(!1),Q=Object(i.a)(Z,2),$=Q[0],ee=Q[1],te=c.useState(0),ne=Object(i.a)(te,2),re=ne[0],ae=ne[1],oe=c.useContext(I.a),ie=c.useContext(M.a),se=Object(F.h)(ie,F.e,N.b),ce=t.getCurrentPlatform(),le=c.useMemo((function(){return t&&ce?Object(T.a)(ce,t):[]}),[t,ce,re]),ue=Object(w.b)();if(c.useEffect((function(){setTimeout((function(){ue&&K.current&&K.current.focus()}),20)}),[ue]),!n||!t)return null;var de=Object(x.a)(),pe=Object(T.b)(le,W),me=pe.filter((function(e){var t=e.type;return!de[t]})),fe=pe.filter((function(e){var t=e.type;return!!de[t]})),he=Object(F.h)(ie,F.a,(function(e,t){var n=t.type,r=t.defaultName;return de[n]&&Object(O.b)(e._(de[n].warning)),m(n,r)})),ge=function(e){return v.includes(e.type)},be=function(e){return(""===e.objectType||e.objectType===g)&&!ge(e)},ve=!!W&&!me.length&&!fe.length,Ee=function(){var e=Object(o.a)(a.a.mark((function e(n,r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ee(!0),e.prev=1,e.next=4,se(n,t,oe,r);case 4:if(!e.sent){e.next=10;break}return ae(Date.now()),X("installed"),J.current&&J.current.scrollToBottom(),e.abrupt("return",!0);case 10:return e.abrupt("return",!1);case 11:return e.prev=11,ee(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,,11,14]])})));return function(t,n){return e.apply(this,arguments)}}();return c.createElement(s.I18n,null,(function(e){var n=e.i18n;return c.createElement(l.a,{title:c.createElement(s.Trans,{id:"Add a new behavior to the object"}),actions:[c.createElement(d.a,{key:"close",label:c.createElement(s.Trans,{id:"Close"}),primary:!1,onClick:r})],secondaryActions:[c.createElement(u.a,{helpPagePath:"/behaviors",key:"help"})],open:!0,cannotBeDismissed:!1,flexBody:!0,noMargin:!0,fullHeight:!0},c.createElement(j.a,{expand:!0,noMargin:!0},c.createElement(f.b,{value:q,onChange:X},c.createElement(f.a,{label:c.createElement(s.Trans,{id:"Installed Behaviors"}),value:"installed"}),c.createElement(f.a,{label:c.createElement(s.Trans,{id:"Search New Behaviors"}),value:"search"})),"installed"===q&&c.createElement(c.Fragment,null,c.createElement(w.a,{value:W,onRequestSearch:function(){me.length?he(n,me[0]):D&&fe.length&&he(n,fe[0])},onChange:H,ref:K}),ve&&c.createElement(S.a,null,c.createElement(s.Trans,{id:"No behavior found for your search. Try another search, or search for new behaviors to install."})),c.createElement(R.a,{ref:J},c.createElement(h.a,null,me.map((function(e,t){return c.createElement(B,{i18n:n,key:t,behaviorMetadata:e,alreadyInstalled:ge(e),onClick:function(){return he(n,e)},disabled:!be(e)})})),D&&!!fe.length&&c.createElement(p.a,null,"Deprecated (old, prefer not to use anymore)"),D&&fe.map((function(e,t){return c.createElement(B,{i18n:n,key:t,behaviorMetadata:e,alreadyInstalled:ge(e),onClick:function(){return he(n,e)},disabled:!be(e)})}))),c.createElement(j.b,{justifyContent:"center",alignItems:"center"},D?c.createElement(d.a,{key:"toggle-experimental",icon:c.createElement(E.a,null),primary:!1,onClick:function(){U(!1)},label:c.createElement(s.Trans,{id:"Show deprecated (old) behaviors"})}):c.createElement(d.a,{key:"toggle-experimental",icon:c.createElement(b.a,null),primary:!1,onClick:function(){U(!0)},label:c.createElement(s.Trans,{id:"Show deprecated (old) behaviors"})})),c.createElement(j.b,{justifyContent:"center",alignItems:"center"},c.createElement(d.a,{icon:c.createElement(C.a,null),primary:!1,onClick:function(){return _.b.openExternalURL(Object(k.a)("/behaviors/events-based-behaviors"))},label:c.createElement(s.Trans,{id:"Create your own behavior"})})))),"search"===q&&c.createElement(P.a,{project:t,isInstalling:$,onInstall:function(){var e=Object(o.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ee(n,t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),showOnlyWithBehaviors:!0})),c.createElement(A.a,{identifier:"extension-installed-explanation",message:c.createElement(s.Trans,{id:"The behavior was added to the project. You can now add it to your object."}),show:0!==re}))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var r=n(131),a=n(220),o=n.n(a),i=function(e,t){var n=e.getAllPlatformExtensions();return o()(Object(r.mapFor)(0,n.size(),(function(e){var t=n.at(e);return t.getBehaviorsTypes().toJSArray().map((function(e){return{behaviorType:e,behaviorMetadata:t.getBehaviorMetadata(e)}})).map((function(e){var n=e.behaviorType,r=e.behaviorMetadata;return{extension:t,behaviorMetadata:r,type:n,defaultName:r.getDefaultName(),fullName:r.getFullName(),description:r.getDescription(),iconFilename:r.getIconFilename(),objectType:r.getObjectType()}}))})))},s=function(e,t){if(!t)return e;var n=t.toLowerCase();return e.filter((function(e){return-1!==e.fullName.toLowerCase().indexOf(n)||-1!==e.description.toLowerCase().indexOf(n)}))}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s}));var r=n(167),a=n(16),o=e.gd,i=function(e,t,n,i){if(function(e,t){return e.getAllBehaviorNames().toJSArray().filter((function(n){return e.getBehavior(n).getTypeName()===t})).length}(t,n)&&!a.b.showConfirmDialog("There is already a behavior of this type attached to the object. It's possible to add this behavior again, but it's unusual and may not always be supported properly. Are you sure you want to add this behavior again?"))return!1;var s=Object(r.a)(i,(function(e){return t.hasBehaviorNamed(e)}));return o.WholeProjectRefactorer.addBehaviorAndRequiredBehaviors(e,t,n,s),!0},s=function(e){return e.getAllBehaviorNames().toJSArray().map((function(t){return e.getBehavior(t).getTypeName()}))}}).call(this,n(8))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(3),a=n(4),o=function(){function e(t){var n=this,a=t.isActive,o=t.shortcutCallbacks;Object(r.a)(this,e),this._shiftPressed=!1,this._ctrlPressed=!1,this._altPressed=!1,this._metaPressed=!1,this._updateModifiersFromEvent=function(e){n._metaPressed=e.metaKey,n._altPressed=e.altKey,n._ctrlPressed=e.ctrlKey,n._shiftPressed=e.shiftKey},this._isControlOrCmdPressed=function(){return n._metaPressed||n._ctrlPressed},this.onDragOver=function(e){n._updateModifiersFromEvent(e)},this.onKeyUp=function(e){n._updateModifiersFromEvent(e)},this.onKeyDown=function(e){if(n._updateModifiersFromEvent(e),!n._isActive||n._isActive()){if(!e.target||!e.target.closest('textarea, input, [contenteditable="true"]')){var t=n._shortcutCallbacks,r=t.onDelete,a=t.onMove,o=t.onCopy,i=t.onCut,s=t.onPaste,c=t.onUndo,l=t.onRedo,u=t.onSearch,d=t.onZoomOut,p=t.onZoomIn,m=t.onEscape;a&&(38===e.which?n._shiftPressed?a(0,-5):a(0,-1):40===e.which?n._shiftPressed?a(0,5):a(0,1):37===e.which?n._shiftPressed?a(-5,0):a(-1,0):39===e.which&&(n._shiftPressed?a(5,0):a(1,0))),!r||8!==e.which&&46!==e.which||r(),o&&n._isControlOrCmdPressed()&&67===e.which&&o(),i&&n._isControlOrCmdPressed()&&88===e.which&&i(),s&&n._isControlOrCmdPressed()&&86===e.which&&s(),c&&n._isControlOrCmdPressed()&&90===e.which&&c(),l&&n._isControlOrCmdPressed()&&e.shiftKey&&90===e.which&&l(),l&&n._isControlOrCmdPressed()&&89===e.which&&l(),u&&n._isControlOrCmdPressed()&&70===e.which&&u(),m&&27===e.which&&m(),d&&n._isControlOrCmdPressed()&&189===e.which&&d(e),d&&109===e.which&&d(e),p&&n._isControlOrCmdPressed()&&187===e.which&&p(e),p&&107===e.which&&p(e)}}},this._shortcutCallbacks=o,this._isActive=a}return Object(a.a)(e,[{key:"shouldCloneInstances",value:function(){return this._isControlOrCmdPressed()}},{key:"shouldMultiSelect",value:function(){return this._shiftPressed}}]),e}()},function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return u}));var r=n(18),a=n(176),o=function(e,t){var n=t.historyMaxSize;return{undoHistory:[],current:Object(a.b)(e),redoHistory:[],maxSize:n}},i=function(e){return!!e.redoHistory.length},s=function(e){return!!e.undoHistory.length},c=function(e,t){var n=[].concat(Object(r.a)(e.undoHistory),[e.current]);return n.length>e.maxSize&&n.splice(0,n.length-e.maxSize),{undoHistory:n,current:Object(a.b)(t),redoHistory:[],maxSize:e.maxSize}},l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(!e.undoHistory.length)return e;var o=e.undoHistory[e.undoHistory.length-1];return Object(a.c)(t,o,"unserializeFrom",n),{undoHistory:e.undoHistory.slice(0,-1),current:o,redoHistory:[].concat(Object(r.a)(e.redoHistory),[e.current]),maxSize:e.maxSize}},u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(!e.redoHistory.length)return e;var o=e.redoHistory[e.redoHistory.length-1];return Object(a.c)(t,o,"unserializeFrom",n),{undoHistory:[].concat(Object(r.a)(e.undoHistory),[e.current]),current:o,redoHistory:e.redoHistory.slice(0,-1),maxSize:e.maxSize}}},function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"h",(function(){return m})),n.d(t,"f",(function(){return f})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return g}));var r=n(18),a=n(176),o=n(131),i=n(283),s=n(1492),c=e.gd,l=function(e){var t=e.globalObjectsContainer,n=e.objectsContainer,o=e.serializedEvents,i=e.project,l=e.eventsFunction;l.setName("MyFunction"),l.setFunctionType(c.EventsFunction.Action),Object(a.c)(l.getEvents(),o,"unserializeFrom",i);var u=new c.EventsContextAnalyzer(c.JsPlatform.get(),t,n);u.launch(l.getEvents());var d=u.getEventsContext(),p=d.getReferencedObjectOrGroupNames().toNewVectorString().toJSArray(),m=d.getObjectNames().toNewVectorString().toJSArray(),f=p.filter((function(e){return-1===m.indexOf(e)})).map((function(e){return Object(s.a)(t,n,e)})).filter(Boolean),h=f.filter((function(e){return!p.some((function(t){return e.find(t)}))})),g=h.map((function(e){return e.getName()})),b=m.filter((function(e){return!h.some((function(t){return t.find(e)}))})),v=l.getParameters();v.clear(),[].concat(Object(r.a)(g),Object(r.a)(b)).forEach((function(e){var r=new c.ParameterMetadata;r.setType("objectList"),r.setName(e),r.setExtraInfo(c.getTypeOfObject(t,n,e,!0)),v.push_back(r),d.getBehaviorNamesOfObjectOrGroup(e).toNewVectorString().toJSArray().forEach((function(e){var r=new c.ParameterMetadata;r.setType("behavior"),r.setName(e),r.setExtraInfo(c.getTypeOfBehavior(t,n,e,!1)),v.push_back(r)}))})),f.filter((function(e){return!g.includes(e.getName())})).forEach((function(e){e&&l.getObjectGroups().insert(e,0)})),u.delete()},u=function(e,t){var n=new c.Instruction;return n.setType(Object(i.a)(e,t)),n.setParametersCount(t.getParameters().size()+1+1),Object(o.mapVector)(t.getParameters(),(function(e,t){n.setParameter(1+t,e.getName())})),n},d=function(e){return c.Project.validateName(e)},p=function(e){return c.Project.validateName(e)},m=function(e,t){return!e.hasEventsFunctionsExtensionNamed(t)},f=function(e,t,n){return!e.hasEventsFunctionsExtensionNamed(t)||!e.getEventsFunctionsExtension(t).hasEventsFunctionNamed(n.getName())},h=function(e,t,n){return""!==t&&p(t)&&""!==n.getName()&&d(n.getName())&&f(e,t,n)&&""!==n.getFullName()&&""!==n.getSentence()},g=function(e){return e.getParameters().size()>7}}).call(this,n(8))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return L}));var r=n(119),a=n(3),o=n(4),i=n(6),s=n(5),c=n(115),l=n(15),u=n(117),d=n(154),p=n(155),m=n(131),f=n(127),h=n(138),g=n(136),b=n(186),v=n(347),E=n.n(v),y=n(142),C=n(141),j=n(215),O=n(30),x=n(816),k=n(817),T=n(431),w=n(283),S=n(173),P=n.n(S),_=n(209),I=n(129),N=n(214),A=n(818),R=e.gd,M={parametersContainer:{flex:1}},F=function(e){var t=e.getExtraInfo(),n=[];try{""!==t&&(n=JSON.parse(t)),Array.isArray(n)||(n=[])}catch(r){console.error("Cannot parse parameter extraInfo: ",r)}return n},L=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={longDescriptionShownIndexes:{}},e._addParameter=function(){var t=e.props.eventsFunction.getParameters(),n=new R.ParameterMetadata;n.setType("objectList"),t.push_back(n),n.delete(),e.forceUpdate(),e.props.onParametersUpdated()},e._removeParameter=function(t){var n=e.props.eventsFunction.getParameters();R.removeFromVectorParameterMetadata(n,t),e.forceUpdate(),e.props.onParametersUpdated()},e._addLongDescription=function(t){e.setState((function(e){return{longDescriptionShownIndexes:Object(r.a)(Object(r.a)({},e.longDescriptionShownIndexes),{},{[t]:!0})}}))},e._removeLongDescription=function(t){e.props.eventsFunction.getParameters().at(t).setLongDescription(""),e.setState((function(e){return{longDescriptionShownIndexes:Object(r.a)(Object(r.a)({},e.longDescriptionShownIndexes),{},{[t]:!1})}}))},e._moveParameters=function(t,n){var r=e.props,a=r.eventsFunction,o=r.eventsBasedBehavior,i=a.getParameters();o?e.props.onMoveBehaviorEventsParameter&&e.props.onMoveBehaviorEventsParameter(o,a,t,n,(function(r){r&&(R.swapInVectorParameterMetadata(i,t,n),e.forceUpdate(),e.props.onParametersUpdated())})):e.props.onMoveFreeEventsParameter&&e.props.onMoveFreeEventsParameter(a,t,n,(function(r){r&&(R.swapInVectorParameterMetadata(i,t,n),e.forceUpdate(),e.props.onParametersUpdated())}))},e._setStringSelectorExtraInfo=function(t){return function(n){t.setExtraInfo(JSON.stringify(n)),e.forceUpdate()}},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.eventsFunction,a=t.eventsBasedBehavior,o=t.freezeParameters,i=t.helpPagePath,s=r.getParameters();if(!!a&&Object(T.g)(r.getName()))return l.createElement(g.a,null,l.createElement(c.Trans,{id:'This is a "lifecycle method". It will be called automatically by the game engine and has two parameters: "Object" (the object the behavior is acting on) and "Behavior" (the behavior itself).'}));if(!a&&Object(T.h)(r.getName()))return l.createElement(u.a,null,l.createElement(_.a,{kind:"info",identifier:"lifecycle-events-function-included-only-if-extension-used"},l.createElement(c.Trans,{id:"For the lifecycle functions to be executed, you need the extension to be used in the game, either by having at least one action, condition or expression used, or a behavior of the extension added to an object. Otherwise, the extension won't be included in the game."})),l.createElement(g.a,null,l.createElement(c.Trans,{id:'This is a "lifecycle function". It will be called automatically by the game engine. It has no parameters. Only global objects can be used as the events will be run for all scenes in your game.'})));var v=function(e){return!!o||!!a&&e<2},S=function(e){return!a||e>=2},L=function(t,n){return!!S(n)&&(!!t.getLongDescription()||!!e.state.longDescriptionShownIndexes[n])},B=Object(w.c)(!!a);return l.createElement(c.I18n,null,(function(t){var r=t.i18n;return l.createElement(u.a,{noMargin:!0,expand:!0},l.createElement(u.b,{noMargin:!0},l.createElement("div",{style:M.parametersContainer},Object(m.mapVector)(s,(function(t,a){return l.createElement(l.Fragment,{key:a},l.createElement(j.b,null,l.createElement(j.a,{firstChild:!0},l.createElement(c.Trans,{id:"Parameter #{0}:",values:{0:a+B}})),l.createElement(u.a,{expand:!0,noMargin:!0},l.createElement(C.a,{commitOnBlur:!0,margin:"none",hintText:{id:"Enter the parameter name (mandatory)"},value:t.getName(),onChange:function(n){(function(e,t){return t?!!R.Project.validateName(t)||(Object(O.c)(e._({id:"This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character."}),{delayToNextTick:!0}),!1):(Object(O.c)(e._({id:"The name of a parameter can not be empty. Enter a name for the parameter or you won't be able to use it."}),{delayToNextTick:!0}),!1)})(r,n)&&(t.setName(n),e.forceUpdate(),e.props.onParametersUpdated())},disabled:v(a),fullWidth:!0})),l.createElement(b.a,{element:l.createElement(h.a,null,l.createElement(E.a,null)),buildMenuTemplate:function(n){return[{label:n._({id:"Delete"}),enabled:!v(a),click:function(){return e._removeParameter(a)}},{type:"separator"},{label:n._({id:"Add a Long Description"}),enabled:!v(a),visible:!L(t,a),click:function(){return e._addLongDescription(a)}},{label:n._({id:"Remove the Long Description"}),enabled:!v(a),visible:L(t,a),click:function(){return e._removeLongDescription(a)}},{label:n._({id:"Move up"}),click:function(){return e._moveParameters(a,a-1)},enabled:!v(a)&&a-1>=0&&!v(a-1)},{label:n._({id:"Move down"}),click:function(){return e._moveParameters(a,a+1)},enabled:!v(a)&&a+1<s.size()&&!v(a+1)}]}})),l.createElement(u.b,null,l.createElement(I.a,{expand:!0},l.createElement(I.b,{noMargin:!0},S(a)&&l.createElement(d.a,{floatingLabelText:l.createElement(c.Trans,{id:"Type"}),value:t.getType(),onChange:function(n,r,a){t.setType(a),t.setOptional(!1),t.setDefaultValue(""),e.forceUpdate(),e.props.onParametersUpdated()},disabled:v(a),fullWidth:!0},l.createElement(p.a,{value:"objectList",primaryText:{id:"Objects"}}),l.createElement(p.a,{value:"behavior",primaryText:{id:"Behavior (for the previous object)"}}),l.createElement(p.a,{value:"expression",primaryText:{id:"Number"}}),l.createElement(p.a,{value:"string",primaryText:{id:"String (text)"}}),l.createElement(p.a,{value:"stringWithSelector",primaryText:{id:"String from a list of options (text)"}}),l.createElement(p.a,{value:"key",primaryText:{id:"Keyboard Key (text)"}}),l.createElement(p.a,{value:"mouse",primaryText:{id:"Mouse button (text)"}}),l.createElement(p.a,{value:"color",primaryText:{id:"Color (text)"}}),l.createElement(p.a,{value:"layer",primaryText:{id:"Layer (text)"}}),l.createElement(p.a,{value:"sceneName",primaryText:{id:"Scene name (text)"}}),l.createElement(p.a,{value:"yesorno",primaryText:{id:"Yes or No (boolean)"}}),l.createElement(p.a,{value:"trueorfalse",primaryText:{id:"True or False (boolean)"}}),l.createElement(p.a,{value:"objectPointName",primaryText:{id:"Object point (text)"}}),l.createElement(p.a,{value:"objectAnimationName",primaryText:{id:"Object animation (text)"}})),R.ParameterMetadata.isObject(t.getType())&&l.createElement(x.a,{project:n,value:t.getExtraInfo(),onChange:function(n){t.setExtraInfo(n),e.forceUpdate(),e.props.onParametersUpdated()},disabled:v(a)}),"behavior"===t.getType()&&l.createElement(k.a,{project:n,objectType:Object(N.a)(s,a),value:t.getExtraInfo(),onChange:function(n){t.setExtraInfo(n),e.forceUpdate(),e.props.onParametersUpdated()},disabled:v(a)}),"yesorno"===t.getType()&&l.createElement(d.a,{floatingLabelText:l.createElement(c.Trans,{id:"Default value"}),value:"yes"===t.getDefaultValue()?"yes":"no",onChange:function(n,r,a){t.setOptional(!0),t.setDefaultValue(a),e.forceUpdate(),e.props.onParametersUpdated()},fullWidth:!0},l.createElement(p.a,{value:"yes",primaryText:{id:"Yes"}}),l.createElement(p.a,{value:"no",primaryText:{id:"No"}})),"trueorfalse"===t.getType()&&l.createElement(d.a,{floatingLabelText:l.createElement(c.Trans,{id:"Default value"}),value:"True"===t.getDefaultValue()?"True":"False",onChange:function(n,r,a){t.setOptional(!0),t.setDefaultValue(a),e.forceUpdate(),e.props.onParametersUpdated()},fullWidth:!0},l.createElement(p.a,{value:"True",primaryText:{id:"True"}}),l.createElement(p.a,{value:"False",primaryText:{id:"False"}}))),"stringWithSelector"===t.getType()&&l.createElement(A.a,{extraInfo:F(t),setExtraInfo:e._setStringSelectorExtraInfo(t)}),S(a)&&l.createElement(C.a,{commitOnBlur:!0,floatingLabelText:l.createElement(c.Trans,{id:"Label"}),floatingLabelFixed:!0,value:t.getDescription(),onChange:function(n){t.setDescription(n),e.forceUpdate()},fullWidth:!0,disabled:!1}),L(t,a)&&l.createElement(C.a,{commitOnBlur:!0,floatingLabelText:l.createElement(c.Trans,{id:"Long description"}),floatingLabelFixed:!0,value:t.getLongDescription(),onChange:function(n){t.setLongDescription(n),e.forceUpdate()},multiline:!0,fullWidth:!0,disabled:!1}))))})),0===s.size()?l.createElement(g.a,null,l.createElement(c.Trans,{id:"No parameters for this function."})):null,l.createElement(u.a,null,l.createElement(u.b,{justifyContent:"flex-end",expand:!0},!o&&l.createElement(f.a,{primary:!0,label:l.createElement(c.Trans,{id:"Add a parameter"}),onClick:e._addParameter,icon:l.createElement(P.a,null)}))))),i?l.createElement(u.b,null,l.createElement(y.a,{helpPagePath:i})):l.createElement(u.c,null))}))}}]),n}(l.Component)}).call(this,n(8))},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n(154),u=n(155),d=n(226),p=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={objectMetadata:Object(d.b)(e.props.project)},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.value,r=e.onChange,a=e.floatingLabelText,o=e.allowedObjectTypes,i=this.state.objectMetadata,d=function(e){return!!o&&-1===o.indexOf(e)};return c.createElement(l.a,{floatingLabelText:a||c.createElement(s.Trans,{id:"Object type"}),value:n,onChange:function(e,t,n){r(n)},disabled:t,fullWidth:!0},c.createElement(u.a,{value:"",primaryText:{id:"Any object"},disabled:d("")}),i.map((function(e){return""===e.name?null:c.createElement(u.a,{key:e.name,value:e.name,primaryText:e.fullName,disabled:d(e.name)})})))}}]),n}(c.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n(154),u=n(155),d=n(810),p=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={behaviorMetadata:Object(d.a)(e.props.project.getCurrentPlatform(),e.props.project)},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.objectType,r=e.value,a=e.onChange,o=this.state.behaviorMetadata,i=!!o.find((function(e){return e.type===r}));return c.createElement(l.a,{floatingLabelText:c.createElement(s.Trans,{id:"Behavior type"}),value:r,onChange:function(e,t,n){a(n)},disabled:t,fullWidth:!0},o.map((function(e){return c.createElement(u.a,{key:e.type,value:e.type,primaryText:e.fullName,disabled:""!==e.objectType&&e.objectType!==n})})),!i&&r&&c.createElement(u.a,{value:r,primaryText:r}))}}]),n}(c.Component)},function(e,t,n){"use strict";var r=n(115),a=n(15),o=n(129),i=n(117),s=n(141),c=n(2073),l=n(221),u=n.n(l),d=n(127),p=n(173),m=n.n(p);t.a=function(e){var t=e.extraInfo,n=e.setExtraInfo,l=function(){return n(t)};return a.createElement(o.b,null,a.createElement(i.a,{justifyContent:"flex-end",expand:!0},t.map((function(e,n){return a.createElement(i.b,{key:n,justifyContent:"flex-end",expand:!0},a.createElement(s.a,{commitOnBlur:!0,value:e,onChange:function(e){t[n]=e,l()},fullWidth:!0}),a.createElement(c.a,{tooltip:{id:"Delete option"},onClick:function(){t.splice(n,1),l()}},a.createElement(u.a,null)))})),a.createElement(i.b,{justifyContent:"flex-end",expand:!0},a.createElement(d.a,{primary:!0,onClick:function(){t.push("New Option"),l()},label:a.createElement(r.Trans,{id:"Add a new option"}),icon:a.createElement(m.a,null)}))))}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return k}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n(117),u=n(154),d=n(155),p=n(131),m=n(142),f=n(141),h=n(431),g=n(136),b=n(283),v=n(129),E=n(209),y=n(212),C=e.gd,j=function(e,t,n){var r=n.getSentence();if(!r)return e._({id:"Enter the sentence that will be displayed in the events sheet"});var a=Object(b.c)(!!t),o=Object(p.mapVector)(n.getParameters(),(function(e,t){if(C.ParameterMetadata.isBehavior(e.getType()))return null;var n="_PARAM".concat(t+a,"_");return-1===r.indexOf(n)?n:null})).filter(Boolean);return o.length?e._({id:"The sentence is probably missing this/these parameter(s):"})+o.join(", "):void 0},O=function(e){return e===C.EventsFunction.Condition?{id:"Example: Is flashing?"}:e===C.EventsFunction.Expression?{id:"Example: Life remaining"}:e===C.EventsFunction.StringExpression?{id:"Example: Equipped shield name"}:{id:"Example: Flash the object"}},x=function(e){return e===C.EventsFunction.Condition?{id:"Example: Check if the object is flashing."}:e===C.EventsFunction.Expression?{id:"Example: Life remaining for the player."}:e===C.EventsFunction.StringExpression?{id:"Example: Name of the shield equipped by the player."}:{id:"Example: Make the object flash for 5 seconds."}},k=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.eventsFunction,r=t.freezeEventsFunctionType,a=t.onConfigurationUpdated,o=t.helpPagePath,i=t.renderConfigurationHeader,p=t.eventsBasedBehavior,b=t.getFunctionGroupNames,k=n.getFunctionType();return!!p&&Object(h.g)(n.getName())?c.createElement(g.a,null,c.createElement(s.Trans,{id:'This is a "lifecycle method". It will be called automatically by the game engine for each instance living on the scene having the behavior.'})):!p&&Object(h.h)(n.getName())?c.createElement(l.a,null,c.createElement(E.a,{kind:"info",identifier:"lifecycle-events-function-included-only-if-extension-used"},c.createElement(s.Trans,{id:"For the lifecycle functions to be executed, you need the extension to be used in the game, either by having at least one action, condition or expression used, or a behavior of the extension added to an object. Otherwise, the extension won't be included in the game."})),c.createElement(g.a,null,c.createElement(s.Trans,{id:'This is a "lifecycle function". It will be called automatically by the game engine. It has no parameters. Only global objects can be used as the events will be run for all scenes in your game.'}))):c.createElement(s.I18n,null,(function(t){var h=t.i18n;return c.createElement(v.a,{expand:!0},i?i():null,c.createElement(v.b,{alignItems:"center",noMargin:!0},c.createElement(l.b,{alignItems:"center",noMargin:!0},c.createElement(u.a,{value:k,floatingLabelText:c.createElement(s.Trans,{id:"Function type"}),fullWidth:!0,disabled:!!r,onChange:function(t,r,o){n.setFunctionType(o),a&&a("type"),e.forceUpdate()}},c.createElement(d.a,{value:C.EventsFunction.Action,primaryText:{id:"Action"}}),c.createElement(d.a,{value:C.EventsFunction.Condition,primaryText:{id:"Condition"}}),c.createElement(d.a,{value:C.EventsFunction.Expression,primaryText:{id:"Expression"}}),c.createElement(d.a,{value:C.EventsFunction.StringExpression,primaryText:{id:"String Expression"}}))),c.createElement(f.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Full name displayed in editor"}),hintText:O(k),value:n.getFullName(),onChange:function(t){n.setFullName(t),a&&a(),e.forceUpdate()},fullWidth:!0})),c.createElement(l.b,{noMargin:!0},c.createElement(y.a,{floatingLabelText:c.createElement(s.Trans,{id:"Group name"}),hintText:{id:"Leave it empty to use the default group for this extension."},fullWidth:!0,value:n.getGroup(),onChange:function(t){n.setGroup(t),a&&a(),e.forceUpdate()},dataSource:b?b().map((function(e){return{text:e,value:e}})):[],openOnFocus:!0})),c.createElement(l.b,{noMargin:!0},c.createElement(f.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Description, displayed in editor"}),hintText:x(k),fullWidth:!0,multiline:!0,value:n.getDescription(),onChange:function(t){n.setDescription(t),a&&a(),e.forceUpdate()}})),c.createElement(l.b,{noMargin:!0},k===C.EventsFunction.Action||k===C.EventsFunction.Condition?c.createElement(f.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Sentence in Events Sheet"}),hintText:{id:"Note: write _PARAMx_ for parameters, e.g: Flash _PARAM1_ for 5 seconds"},fullWidth:!0,value:n.getSentence(),onChange:function(t){n.setSentence(t),a&&a(),e.forceUpdate()},errorText:j(h,p,n)}):null),o?c.createElement(l.b,{noMargin:!0},c.createElement(m.a,{helpPagePath:o})):c.createElement(l.c,null))}))}}]),n}(c.Component)}).call(this,n(8))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(15),c=n.n(s),l=n(138),u=n(351),d=n.n(u),p=n(820),m={container:{padding:0,width:32,height:32},icon:{width:16,height:16}},f=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return c.a.createElement(p.MosaicContext.Consumer,null,(function(e){var t=e.mosaicActions;return c.a.createElement(p.MosaicWindowContext.Consumer,null,(function(e){var n=e.mosaicWindowActions;return c.a.createElement(l.a,{onClick:function(){t.remove(n.getPath())},style:m.container},c.a.createElement(d.a,{htmlColor:"white",style:m.icon}))}))}))}}]),n}(s.Component)},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return f}));var r=n(0),a=n.n(r),o=n(1),i=n(3),s=n(4),c=n(6),l=n(5),u=n(15),d=n(1636),p={container:{display:"flex",flex:1}},m=function(e){Object(c.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(i.a)(this,n);for(var r=arguments.length,s=new Array(r),c=0;c<r;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s)))._onBehaviorEdited=Object(o.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.props.onLoadEventsFunctionsExtensions();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.warn("Error while loading events functions extensions - ignoring this in the context of the EventsFunctionsExtensionEditorContainer.",t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])}))),e.previewWillStart=function(){e.props.isActive&&e.props.onLoadEventsFunctionsExtensions()},e}return Object(s.a)(n,[{key:"getProject",value:function(){return this.props.project}},{key:"getLayout",value:function(){return null}},{key:"updateToolbar",value:function(){this.editor&&this.editor.updateToolbar()}},{key:"forceUpdateEditor",value:function(){}},{key:"shouldComponentUpdate",value:function(e){return!(!this.props.isActive&&!e.isActive)}},{key:"componentDidUpdate",value:function(e){e.isActive&&!this.props.isActive&&this.props.onLoadEventsFunctionsExtensions()}},{key:"componentWillUnmount",value:function(){this.props.isActive&&this.props.onLoadEventsFunctionsExtensions()}},{key:"getEventsFunctionsExtension",value:function(){var e=this.props,t=e.project,n=e.projectItemName;return t&&n&&t.hasEventsFunctionsExtensionNamed(n)?t.getEventsFunctionsExtension(n):null}},{key:"selectEventsFunctionByName",value:function(e,t){this.editor&&this.editor.selectEventsFunctionByName(e,t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.projectItemName,a=this.getEventsFunctionsExtension();if(!a||!n)return u.createElement("div",null,"No extension called ",r," found!");var o=this.props.extraEditorProps||{},i=o.initiallyFocusedFunctionName,s=o.initiallyFocusedBehaviorName;return u.createElement("div",{style:p.container},u.createElement(d.a,{key:a.ptr,project:n,eventsFunctionsExtension:a,setToolbar:this.props.setToolbar,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,openInstructionOrExpression:this.props.openInstructionOrExpression,onCreateEventsFunction:this.props.onCreateEventsFunction,initiallyFocusedFunctionName:i,initiallyFocusedBehaviorName:s,onBehaviorEdited:this._onBehaviorEdited,ref:function(t){return e.editor=t},unsavedChanges:this.props.unsavedChanges}))}}]),n}(u.Component),f=function(e){return u.createElement(m,e)}},function(e,t,n){"use strict";var r=n(115),a=n(15),o=n.n(a),i=n(124),s=n(1639),c=n(128),l=n(352),u=n(148);t.a=function(e){var t=e.project,n=e.group,a=e.onApply,d=e.onCancel,p=e.globalObjectsContainer,m=e.objectsContainer,f=Object(u.a)(),h=Object(l.a)({serializableObject:n,onCancel:d});return o.a.createElement(c.a,{onApply:a,key:n.ptr,actions:[o.a.createElement(i.a,{key:"cancel",label:o.a.createElement(r.Trans,{id:"Cancel"}),keyboardFocused:!0,onClick:h}),o.a.createElement(i.a,{key:"apply",label:o.a.createElement(r.Trans,{id:"Apply"}),primary:!0,keyboardFocused:!0,onClick:a})],noMargin:!0,cannotBeDismissed:!0,onRequestClose:h,open:!0,title:"Edit ".concat(n.getName()," group")},o.a.createElement(s.a,{project:t,group:n,globalObjectsContainer:p,objectsContainer:m,onSizeUpdated:f}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return m}));var r=n(0),a=n.n(r),o=n(1),i=n(26),s=n(15),c=n(275),l=n(277),u=n(600),d=s.createContext({filters:null,authors:null,licenses:null,searchResults:null,fetchResourcesAndFilters:function(){},error:null,searchText:"",setSearchText:function(){},filtersState:{chosenFilters:new Set,addFilter:function(){},removeFilter:function(){},chosenCategory:null,setChosenCategory:function(){}}}),p=function(e){return e.name+"\n"+e.tags.join(", ")},m=function(e){var t=e.children,n=s.useState(null),r=Object(i.a)(n,2),m=r[0],f=r[1],h=s.useState(null),g=Object(i.a)(h,2),b=g[0],v=g[1],E=s.useState(null),y=Object(i.a)(E,2),C=y[0],j=y[1],O=s.useState(null),x=Object(i.a)(O,2),k=x[0],T=x[1],w=s.useState(null),S=Object(i.a)(w,2),P=S[0],_=S[1],I=s.useRef(!1),N=s.useState(""),A=Object(i.a)(N,2),R=A[0],M=A[1],F=Object(c.b)(),L=s.useCallback((function(){m||I.current||Object(o.a)(a.a.mark((function e(){var t,n,r,o,i,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(null),I.current=!0,e.prev=2,e.next=5,Object(l.g)();case 5:return t=e.sent,n=t.resources,r=t.filters,e.next=10,Object(l.e)();case 10:return o=e.sent,e.next=13,Object(l.f)();case 13:i=e.sent,s={},n.forEach((function(e){s[e.url]=e})),console.info("Loaded ".concat(n.length," resources from the asset store.")),f(s),v(r),j(o),T(i),e.next=27;break;case 23:e.prev=23,e.t0=e.catch(2),console.error("Unable to load the assets from the asset store:",e.t0),_(e.t0);case 27:I.current=!1;case 28:case"end":return e.stop()}}),e,null,[[2,23]])})))()}),[m,I]),B=F.chosenCategory,D=F.chosenFilters,U=Object(u.a)(m,p,R,B,D),G=s.useMemo((function(){return{searchResults:U,fetchResourcesAndFilters:L,filters:b,authors:C,licenses:k,error:P,searchText:R,setSearchText:M,filtersState:F}}),[U,P,b,C,k,R,F,L]);return s.createElement(d.Provider,{value:G},t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(115),a=n(15),o=n(158),i=n(223),s=n(545),c=n(205),l=n(136),u={container:{flex:1},grid:{overflowX:"hidden"}},d=function(e){var t=e.searchItems,n=e.renderSearchItem,d=e.error,p=e.onRetry,m=e.baseSize;return t?0===t.length?a.createElement(l.a,null,a.createElement(r.Trans,{id:"No results returned for your search. Try something else, browse the categories or create your object from scratch!"})):a.createElement(s.a,null,a.createElement("div",{style:u.container},a.createElement(c.a,null,(function(e){var r=e.width,o=e.height;if(!r||!o)return null;var i=Math.max(Math.floor((r-5)/m),1),s=Math.max(Math.floor(r/i),30),l=Math.max(1,Math.ceil(t.length/i));return a.createElement(c.e,{width:r,height:o,columnCount:i,columnWidth:s,rowHeight:s,rowCount:l,cellRenderer:function(e){var r=e.columnIndex,o=e.key,c=e.rowIndex,l=e.style,u=c*i+r,d=u<t.length?t[u]:null;return a.createElement("div",{key:o,style:l},d?n(d,s):null)},style:u.grid})})))):d?a.createElement(i.a,{onRetry:p},a.createElement(r.Trans,{id:"Can't load the results. Verify your internet connection or retry later."})):a.createElement(o.a,null)}},,,,,function(e,t,n){"use strict";var r=n(15),a=n.n(r),o=n(662);t.a=function(e){return a.a.createElement(o.a,Object.assign({},e,{viewBox:"0 -3 24 24"}),a.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},a.a.createElement("g",{id:"Create",fillRule:"nonzero"},a.a.createElement("polygon",{id:"Shape",fill:"#2B3990",points:"24 8 18 2 18 6 14 6 14 10 18 10 18 14"}),a.a.createElement("g",{id:"Group-2",fill:"#27AAE1"},a.a.createElement("rect",{id:"Rectangle-path",transform:"translate(2.999518, 3.574897) rotate(-45.000000) translate(-2.999518, -3.574897) ",x:"1.58553176",y:"0.746924118",width:"2.82797288",height:"5.65594576"}),a.a.createElement("rect",{id:"Rectangle-path",transform:"translate(10.999518, 11.574897) rotate(-45.000000) translate(-10.999518, -11.574897) ",x:"9.58553176",y:"8.74692412",width:"2.82797288",height:"5.65594576"}),a.a.createElement("rect",{id:"Rectangle-path",transform:"translate(2.999518, 11.574897) rotate(-135.000000) translate(-2.999518, -11.574897) ",x:"1.58553176",y:"8.74692412",width:"2.82797288",height:"5.65594576"}),a.a.createElement("rect",{id:"Rectangle-path",transform:"translate(10.999518, 3.574897) rotate(-135.000000) translate(-10.999518, -3.574897) ",x:"9.58553176",y:"0.746924118",width:"2.82797288",height:"5.65594576"})))))}},function(e,t,n){"use strict";var r=n(15),a=n.n(r),o=n(662);t.a=function(e){return a.a.createElement(o.a,Object.assign({},e,{viewBox:"0 -6 24 24"}),a.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},a.a.createElement("g",{id:"Step"},a.a.createElement("polygon",{id:"Shape",points:"0 3 0 6 3 6 3 9 7.5 4.5 3 0 3 3",fill:"#2b3990"}),a.a.createElement("polygon",{id:"polygon6",points:"16.5 3 16.5 6 19.5 6 19.5 9 24 4.5 19.5 0 19.5 3",fill:"#2b3990"}),a.a.createElement("circle",{id:"path825",cx:"12",cy:"4.5",r:"2.2509",fill:"none",stroke:"#27aae1",strokeWidth:"1.5"}))))}},function(e,t,n){"use strict";var r=n(15),a=n.n(r),o=n(662);t.a=function(e){return a.a.createElement(o.a,Object.assign({},e,{viewBox:"0 -3 24 24"}),a.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},a.a.createElement("g",{id:"Destroy",transform:"translate(0.000000, -1.000000)",fillRule:"nonzero"},a.a.createElement("g",{id:"Group",transform:"translate(0.000000, 1.000000)"},a.a.createElement("polygon",{id:"Shape",fill:"#2B3990",points:"9.92307692 7.07692308 4.38461538 1.53846154 4.38461538 5.23076923 0.692307692 5.23076923 0.692307692 8.92307692 4.38461538 8.92307692 4.38461538 12.6153846"}),a.a.createElement("rect",{id:"Rectangle-path",fill:"#27AAE1",transform:"translate(10.845138, 3.385446) rotate(-45.000000) translate(-10.845138, -3.385446) ",x:"9.53992021",y:"0.77500965",width:"2.6104365",height:"5.22087301"}),a.a.createElement("rect",{id:"Rectangle-path",fill:"#27AAE1",transform:"translate(18.229754, 10.770062) rotate(-45.000000) translate(-18.229754, -10.770062) ",x:"16.9245356",y:"8.15962503",width:"2.6104365",height:"5.22087301"}),a.a.createElement("rect",{id:"Rectangle-path",fill:"#27AAE1",transform:"translate(10.846985, 10.770246) rotate(-135.000000) translate(-10.846985, -10.770246) ",x:"9.54176636",y:"8.15980965",width:"2.6104365",height:"5.22087301"}),a.a.createElement("rect",{id:"Rectangle-path",fill:"#27AAE1",transform:"translate(18.231600, 3.385631) rotate(-135.000000) translate(-18.231600, -3.385631) ",x:"16.9263817",y:"0.775194265",width:"2.6104365",height:"5.22087301"})),a.a.createElement("g",{id:"Group",opacity:"0.1",transform:"translate(2.538462, 0.692308)"},a.a.createElement("rect",{id:"Rectangle-path",fill:"#000000",transform:"translate(7.616400, 11.768538) rotate(135.000000) translate(-7.616400, -11.768538) ",x:"5.98441565",y:"10.4633202",width:"3.2639687",height:"2.6104365"}),a.a.createElement("polygon",{id:"Shape",fill:"#FFFFFF",points:"7.38461538 7.38461538 1.83645766 1.87268753 1.83645766 3.7132995 6.46153846 8.30769231"}),a.a.createElement("rect",{id:"Rectangle-path",fill:"#FFFFFF",transform:"translate(8.308523, 3.693323) rotate(-135.000000) translate(-8.308523, -3.693323) ",x:"5.69808657",y:"2.38810482",width:"5.22087301",height:"2.6104365"}),a.a.createElement("rect",{id:"Rectangle-path",fill:"#FFFFFF",transform:"translate(15.693138, 11.077938) rotate(-135.000000) translate(-15.693138, -11.077938) ",x:"13.082702",y:"9.77272021",width:"5.22087301",height:"2.6104365"}),a.a.createElement("rect",{id:"Rectangle-path",fill:"#FFFFFF",transform:"translate(9.460009, 9.922714) rotate(45.000000) translate(-9.460009, -9.922714) ",x:"8.15479058",y:"8.94333902",width:"2.6104365",height:"1.95875045"}),a.a.createElement("rect",{id:"Rectangle-path",fill:"#FFFFFF",transform:"translate(15.693138, 3.693323) rotate(-135.000000) translate(-15.693138, -3.693323) ",x:"14.3879202",y:"1.08288657",width:"2.6104365",height:"5.22087301"})))))}},function(e,t,n){"use strict";var r=n(15),a=n.n(r),o=n(662);t.a=function(e){return a.a.createElement(o.a,Object.assign({},e,{viewBox:"0 0 23.109 23.124"}),a.a.createElement("g",{id:"Action",transform:"translate(-92.011 -101.74)",fillRule:"nonzero"},a.a.createElement("path",{id:"path1010",d:"m101.01 101.74v2.3203a9.525 9.525 0 0 0-2.0743 0.85473l-1.6459-1.6536-1.9498 1.9523 0.0052 5e-3 -1.7436 1.741 1.635 1.6356a9.398 9.398 0 0 0-0.86765 2.0846h-2.3549v5.2307h2.344a9.525 9.525 0 0 0 0.85731 2.0665l-1.6511 1.6536 3.7042 3.7042 1.6567-1.6562a9.4245 9.4245 0 0 0 2.0846 0.84904v2.3363h5.2178v-2.3518a9.4562 9.4562 0 0 0 2.0557-0.8599l1.6485 1.6485 1.8226-1.8231-5e-3 -5e-3 1.8707-1.8707-1.6588-1.6588a9.5806 9.5806 0 0 0 0.83871-2.0324h2.3228v-5.2306h-2.3125a9.525 9.525 0 0 0-0.84905-2.0608l1.6428-1.6407-3.7042-3.7042-1.6376 1.6382a9.4932 9.4932 0 0 0-2.0397-0.85215v-2.3203z",fill:"#4db0e1"}),a.a.createElement("path",{id:"path8-6-0",d:"m92.093 110.66v5.2308h2.3125a9.525 9.525 0 0 0 0.84931 2.0611l-1.6431 1.6404 3.7042 3.7042 1.6378-1.6378a9.4932 9.4932 0 0 0 2.0399 0.85196v2.3204h5.2123v-2.3204a9.525 9.525 0 0 0 2.0743-0.8546l1.6457 1.6536 1.95-1.9526-16.404-16.264-1.8759 1.8759 1.6589 1.6589a9.5806 9.5806 0 0 0-0.83873 2.032z",fill:"#4db0e1"}),a.a.createElement("path",{id:"path10-3-0",d:"m93.599 106.96 1.6351 1.6351a9.398 9.398 0 0 0-0.86783 2.0849h-2.3548v5.2308h2.3442a9.525 9.525 0 0 0 0.85725 2.0664l-1.651 1.6536 3.7042 3.7042 1.6563-1.6563a9.4245 9.4245 0 0 0 2.0849 0.84931v2.3363h5.2176v-2.3521a9.4562 9.4562 0 0 0 2.0558-0.8599l1.6484 1.6484 1.823-1.823-16.404-16.264z",fill:"#283782",fillOpacity:".2"}),a.a.createElement("path",{id:"path871-7",d:"m106.69 107.2h-3.4025l3.7809 5.9346-3.7809 5.9346h3.4025l3.7809-5.9346z",fill:"#283983"}),a.a.createElement("path",{id:"path873-9",d:"m101.39 107.2h-3.4025l3.7809 5.9346-3.7809 5.9346h3.4025l3.7835-5.9346z",fill:"#283983"})))}},function(e,t,n){"use strict";var r=n(15),a=n.n(r),o=n(662);t.a=function(e){return a.a.createElement(o.a,Object.assign({},e,{viewBox:"0 0 23.109 23.124"}),a.a.createElement("g",{id:"Action",fill:"#283983"},a.a.createElement("path",{id:"path1010",d:"m8.9958 0v2.3203a9.525 9.525 0 0 0-2.0743 0.85473l-1.6459-1.6536-1.9498 1.9523 0.0052 5e-3 -1.7436 1.741 1.635 1.6356a9.398 9.398 0 0 0-0.86765 2.0846h-2.3549v5.2307h2.344a9.525 9.525 0 0 0 0.85731 2.0665l-1.6511 1.6536 3.7042 3.7042 1.6567-1.6562a9.4245 9.4245 0 0 0 2.0846 0.84904v2.3363h5.2178v-2.3518a9.4562 9.4562 0 0 0 2.0557-0.8599l1.6485 1.6485 1.8226-1.8231-0.0052-5e-3 1.8707-1.8707-1.6588-1.6588a9.5806 9.5806 0 0 0 0.83871-2.0324h2.3229v-5.2306h-2.3125a9.525 9.525 0 0 0-0.84904-2.0608l1.6428-1.6407-3.7042-3.7042-1.6376 1.6382a9.4932 9.4932 0 0 0-2.0397-0.85215v-2.3203z",fill:"#4db0e1"}),a.a.createElement("path",{id:"path8-6-0",d:"m0.081856 8.9161v5.2308h2.3125a9.525 9.525 0 0 0 0.84931 2.0611l-1.6431 1.6404 3.7042 3.7042 1.6378-1.6378a9.4932 9.4932 0 0 0 2.0399 0.85196v2.3204h5.2123v-2.3204a9.525 9.525 0 0 0 2.0743-0.8546l1.6457 1.6536 1.95-1.9526-16.404-16.264-1.8759 1.8759 1.6589 1.6589a9.5806 9.5806 0 0 0-0.83873 2.032z",fill:"#4db0e1"}),a.a.createElement("path",{id:"path10-3-0",d:"m1.5875 5.2198 1.6351 1.6351a9.398 9.398 0 0 0-0.86783 2.0849h-2.3548v5.2308h2.3442a9.525 9.525 0 0 0 0.85725 2.0664l-1.651 1.6536 3.7042 3.7042 1.6563-1.6563a9.4245 9.4245 0 0 0 2.0849 0.84931v2.3363h5.2176v-2.3521a9.4562 9.4562 0 0 0 2.0558-0.8599l1.6484 1.6484 1.823-1.823-16.404-16.264z",fill:"#283782",fillOpacity:".2"}),a.a.createElement("path",{id:"path821",d:"m13.081 13.524h-2.7983v-0.37982q0-0.63562 0.2558-1.124 0.2558-0.49609 1.0775-1.2557l0.49609-0.44958q0.44183-0.40308 0.64337-0.75964 0.20929-0.35657 0.20929-0.71313 0-0.5426-0.37207-0.84491-0.37207-0.31006-1.0387-0.31006-0.62787 0-1.3565 0.26355-0.72864 0.2558-1.5193 0.7674v-2.434q0.93793-0.32556 1.7131-0.48059 0.77515-0.15503 1.496-0.15503 1.8914 0 2.8835 0.77515 0.99219 0.7674 0.99219 2.2479 0 0.75964-0.30231 1.3643-0.30231 0.59686-1.0309 1.2867l-0.49609 0.44183q-0.5271 0.48059-0.68988 0.77515-0.16278 0.2868-0.16278 0.63562zm-2.7983 1.1472h2.7983v2.7595h-2.7983z",fill:"#283983"})))}},function(e,t,n){"use strict";var r=n(15),a=n.n(r),o=n(662);t.a=function(e){return a.a.createElement(o.a,Object.assign({},e,{viewBox:"0 0 23.109 23.124"}),a.a.createElement("g",{id:"Expression"},a.a.createElement("path",{id:"path1010",d:"m8.9958 0v2.3203a9.525 9.525 0 0 0-2.0743 0.85473l-1.6459-1.6536-1.9498 1.9523 0.0052 5e-3 -1.7436 1.741 1.635 1.6356a9.398 9.398 0 0 0-0.86765 2.0846h-2.3549v5.2307h2.344a9.525 9.525 0 0 0 0.85731 2.0665l-1.6511 1.6536 3.7042 3.7042 1.6567-1.6562a9.4245 9.4245 0 0 0 2.0846 0.84904v2.3363h5.2178v-2.3518a9.4562 9.4562 0 0 0 2.0557-0.8599l1.6485 1.6485 1.8226-1.8232-0.0052-5e-3 1.8707-1.8707-1.6588-1.6588a9.5806 9.5806 0 0 0 0.83871-2.0324h2.3229v-5.2306h-2.3125a9.525 9.525 0 0 0-0.84904-2.0608l1.6428-1.6407-3.7042-3.7042-1.6376 1.6382a9.4932 9.4932 0 0 0-2.0397-0.85215v-2.3203z",fill:"#4db0e1",strokeWidth:".26458"}),a.a.createElement("path",{id:"path8-6-0",d:"m0.081857 8.9161v5.2308h2.3125a9.525 9.525 0 0 0 0.84931 2.0611l-1.6431 1.6404 3.7042 3.7042 1.6378-1.6378a9.4932 9.4932 0 0 0 2.0399 0.85196v2.3204h5.2123v-2.3204a9.525 9.525 0 0 0 2.0743-0.8546l1.6457 1.6536 1.95-1.9526-16.404-16.264-1.8759 1.8759 1.6589 1.6589a9.5806 9.5806 0 0 0-0.83873 2.032z",fill:"#4db0e1",strokeWidth:".26458"}),a.a.createElement("path",{id:"path10-3-0",d:"m1.5875 5.2198 1.6351 1.6351a9.398 9.398 0 0 0-0.86783 2.0849h-2.3548v5.2308h2.3442a9.525 9.525 0 0 0 0.85725 2.0664l-1.651 1.6536 3.7042 3.7042 1.6563-1.6563a9.4245 9.4245 0 0 0 2.0849 0.84931v2.3363h5.2176v-2.3522a9.4562 9.4562 0 0 0 2.0558-0.85989l1.6484 1.6484 1.823-1.823-16.404-16.264z",fill:"#283782",fillOpacity:".2",strokeWidth:".26458"}),a.a.createElement("g",{id:"text1262",fill:"#283983",strokeWidth:".21798","aria-label":"f(x)"},a.a.createElement("path",{id:"path936",d:"m8.4202 7.2384v1.1256h-0.94835q-0.36401 0-0.5077 0.13411-0.14369 0.12932-0.14369 0.45502v0.37359h1.4656v1.2262h-1.4656v4.1383h-1.7147v-4.1383h-0.85256v-1.2262h0.85256v-0.37359q0-0.87651 0.48854-1.2932 0.48854-0.42149 1.5135-0.42149z"}),a.a.createElement("path",{id:"path938",d:"m10.822 15.984h-1.4225q-0.73282-1.183-1.0825-2.2463-0.34964-1.0681-0.34964-2.117t0.34964-2.1218q0.35443-1.0777 1.0825-2.2511h1.4225q-0.61308 1.1351-0.91961 2.2224-0.30654 1.0825-0.30654 2.141 0 1.0585 0.30175 2.1458 0.30654 1.0873 0.9244 2.2272z"}),a.a.createElement("path",{id:"path940",d:"m12.277 11.947-1.935-2.6199h1.8153l1.0968 1.5902 1.1112-1.5902h1.8153l-1.935 2.6104 2.0308 2.754h-1.8153l-1.207-1.6955-1.1926 1.6955h-1.8153z"}),a.a.createElement("path",{id:"path942",d:"m15.771 15.984q0.61308-1.1399 0.91961-2.2272t0.30654-2.1458q0-1.0585-0.30654-2.141-0.30654-1.0873-0.91961-2.2224h1.4225q0.72803 1.1735 1.0777 2.2511 0.35444 1.0729 0.35444 2.1218t-0.34964 2.117q-0.34964 1.0633-1.0825 2.2463z"}))))}},function(e,t,n){"use strict";var r=n(15),a=n.n(r),o=n(662);t.a=function(e){return a.a.createElement(o.a,Object.assign({},e,{viewBox:"0 -6 24 24"}),a.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},a.a.createElement("g",{id:"Activate",fillRule:"nonzero"},a.a.createElement("rect",{id:"Rectangle-path",fill:"#27AAE1",x:"0",y:"0",width:"24",height:"10.2857143"}),a.a.createElement("rect",{id:"Rectangle-path",fill:"#2B3990",x:"1.71428571",y:"1.71428571",width:"10.2857143",height:"6.85714286"}),a.a.createElement("polygon",{id:"Shape",fill:"#FFFFFF",points:"20.5710245 1.71428571 18.8571429 3.42897546 17.1432612 5.14285714 15.4285714 6.85673883 17.1432612 8.57142857 18.8571429 6.85673883 20.5710245 5.14285714 22.2857143 3.42897546"}),a.a.createElement("polygon",{id:"Shape",fill:"#FFFFFF",points:"18.8567388 3.42857143 17.1428571 5.14326117 15.4289755 3.42857143 13.7142857 5.14326117 15.4289755 6.85714286 18.8567388 6.85714286 20.5714286 5.14326117"}))))}},function(e,t,n){"use strict";var r=n(15),a=n.n(r),o=n(662);t.a=function(e){return a.a.createElement(o.a,Object.assign({},e,{viewBox:"0 -6 24 24"}),a.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},a.a.createElement("g",{id:"Deactivate",fillRule:"nonzero"},a.a.createElement("rect",{id:"Rectangle-path",fill:"#2B3990",x:"0",y:"0",width:"24",height:"10.2857143"}),a.a.createElement("polygon",{id:"Shape",fill:"#FFFFFF",points:"6.85673883 1.71428571 5.14285714 3.42897546 3.42897546 1.71428571 1.71428571 3.42897546 3.42897546 5.14285714 1.71428571 6.85673883 3.42897546 8.57142857 5.14285714 6.85673883 6.85673883 8.57142857 8.57142857 6.85673883 6.85673883 5.14285714 8.57142857 3.42897546"}),a.a.createElement("rect",{id:"Rectangle-path",fill:"#27AAE1",x:"12",y:"1.71428571",width:"10.2857143",height:"6.85714286"}))))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return v}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n.n(c),u=n(552),d=n(127),p=n(315),m=n(878),f=n(125),h=n(117),g={container:{display:"flex",flex:1}},b=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={externalPropertiesDialogOpen:!1},e.saveExternalProperties=function(t){var n=e.getExternalEvents();n&&(n.setAssociatedLayout(t.layoutName),e.setState({externalPropertiesDialogOpen:!1},(function(){return e.updateToolbar()})))},e.openExternalPropertiesDialog=function(){e.setState({externalPropertiesDialogOpen:!0})},e}return Object(a.a)(n,[{key:"shouldComponentUpdate",value:function(e){return e.isActive}},{key:"getProject",value:function(){return this.props.project}},{key:"updateToolbar",value:function(){this.editor&&this.editor.updateToolbar()}},{key:"forceUpdateEditor",value:function(){}},{key:"getExternalEvents",value:function(){var e=this.props,t=e.project,n=e.projectItemName;return t&&n&&t.hasExternalEventsNamed(n)?t.getExternalEvents(n):null}},{key:"getLayout",value:function(){var e=this.props.project;if(!e)return null;var t=this.getAssociatedLayoutName();return t?e.getLayout(t):null}},{key:"getAssociatedLayoutName",value:function(){var e=this.props.project;if(!e)return null;var t=this.getExternalEvents();if(!t)return null;var n=t.getAssociatedLayout();return e.hasLayoutNamed(n)?n:null}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.projectItemName,a=this.getExternalEvents(),o=this.getLayout();return a&&n?l.a.createElement("div",{style:g.container},o&&l.a.createElement(u.a,{ref:function(t){return e.editor=t},setToolbar:this.props.setToolbar,onOpenLayout:this.props.onOpenLayout,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,openInstructionOrExpression:this.props.openInstructionOrExpression,onCreateEventsFunction:this.props.onCreateEventsFunction,unsavedChanges:this.props.unsavedChanges,project:n,scope:{layout:o,externalEvents:a},globalObjectsContainer:n,objectsContainer:o,events:a.getEvents(),onOpenSettings:this.openExternalPropertiesDialog,onOpenExternalEvents:this.props.onOpenExternalEvents}),!o&&l.a.createElement(p.a,null,l.a.createElement(f.a,null,l.a.createElement(s.Trans,{id:"To edit the external events, choose the scene in which it will be included:"})),l.a.createElement(h.b,{justifyContent:"center"},l.a.createElement(d.a,{label:l.a.createElement(s.Trans,{id:"Choose the scene"}),primary:!0,onClick:this.openExternalPropertiesDialog}))),l.a.createElement(m.a,{title:l.a.createElement(s.Trans,{id:"Configure the external events"}),helpTexts:[l.a.createElement(s.Trans,{id:'In order to use these external events, you still need to add a "Link" event in the events sheet of the corresponding scene'})],open:this.state.externalPropertiesDialogOpen,project:n,onChoose:this.saveExternalProperties,layoutName:this.getAssociatedLayoutName(),onClose:function(){return e.setState({externalPropertiesDialogOpen:!1})}})):l.a.createElement("div",null,"No external events called ",r," found!")}}]),n}(l.a.Component),v=function(e){return l.a.createElement(b,e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(26),a=n(115),o=n(15),i=n(124),s=n(2095),c=n(2206),l=n(2129),u=n(128),d=n(131),p=n(125),m=n(193),f=n(117);function h(e){var t=e.open,n=e.onChoose,h=e.layoutName,g=e.onClose,b=e.project,v=e.title,E=e.helpTexts,y=h||"",C=o.useState(y),j=Object(r.a)(C,2),O=j[0],x=j[1],k=o.useCallback((function(){O&&n({layoutName:O})}),[n,O]),T=[o.createElement(i.a,{key:"cancel",label:o.createElement(a.Trans,{id:"Cancel"}),primary:!1,onClick:g}),o.createElement(i.a,{key:"choose",label:o.createElement(a.Trans,{id:"Choose"}),primary:!0,keyboardFocused:!0,onClick:k,disabled:!O})],w=Object(d.mapFor)(0,b.getLayoutsCount(),(function(e){return b.getLayoutAt(e).getName()}));return o.createElement(u.a,{actions:T,open:t,title:v,onRequestClose:g,cannotBeDismissed:!1,maxWidth:"sm",onApply:k},o.createElement(f.a,null,E&&E.map((function(e){return o.createElement(f.b,null,o.createElement(m.a,null,e))})),o.createElement(f.b,null,o.createElement(p.a,null,o.createElement(a.Trans,{id:"Choose the associated scene:"}))),o.createElement(l.a,{"aria-label":"Associated scene",name:"associated-layout",value:O,onChange:function(e){return x(e.target.value)}},w.map((function(e){return o.createElement(s.a,{key:e,value:e,control:o.createElement(c.a,{color:"primary"}),label:e})})))))}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return E}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n(127),u=n(881),d=n(176),p=n(315),m=n(878),f=n(117),h=n(125),g=n(608),b={container:{display:"flex",flex:1}},v=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={externalPropertiesDialogOpen:!1},e.saveExternalProperties=function(t){var n=e.getExternalLayout();n&&(n.setAssociatedLayout(t.layoutName),e.setState({externalPropertiesDialogOpen:!1},(function(){return e.updateToolbar()})))},e.openExternalPropertiesDialog=function(){e.setState({externalPropertiesDialogOpen:!0})},e.saveUiSettings=function(){var t=e.getExternalLayout(),n=e.editor;n&&t&&Object(d.c)(t.getAssociatedEditorSettings(),n.getInstancesEditorSettings())},e}return Object(a.a)(n,[{key:"getProject",value:function(){return this.props.project}},{key:"shouldComponentUpdate",value:function(e){return!(!this.props.isActive&&!e.isActive)}},{key:"componentDidMount",value:function(){if(this.props.isActive){var e=this.props.projectItemName,t=this.getLayout();this.props.setPreviewedLayout(t?t.getName():null,e)}}},{key:"componentDidUpdate",value:function(e){if(!e.isActive&&this.props.isActive){var t=this.props.projectItemName,n=this.getLayout();this.props.setPreviewedLayout(n?n.getName():null,t)}}},{key:"updateToolbar",value:function(){this.editor&&this.editor.updateToolbar()}},{key:"forceUpdateEditor",value:function(){}},{key:"getExternalLayout",value:function(){var e=this.props,t=e.project,n=e.projectItemName;return t&&n&&t.hasExternalLayoutNamed(n)?t.getExternalLayout(n):null}},{key:"getLayout",value:function(){var e=this.props.project;if(!e)return null;var t=this.getAssociatedLayoutName();return t?e.getLayout(t):void 0}},{key:"getAssociatedLayoutName",value:function(){var e=this.props.project;if(!e)return null;var t=this.getExternalLayout();if(!t)return null;var n=t.getAssociatedLayout();return e.hasLayoutNamed(n)?n:null}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.projectItemName,a=t.isActive,o=this.getExternalLayout(),i=this.getLayout();return o&&n?c.createElement("div",{style:b.container},i&&c.createElement(u.a,{setToolbar:this.props.setToolbar,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,unsavedChanges:this.props.unsavedChanges,hotReloadPreviewButtonProps:this.props.hotReloadPreviewButtonProps,ref:function(t){return e.editor=t},project:n,layout:i,initialInstances:o.getInitialInstances(),getInitialInstancesEditorSettings:function(){return Object(g.b)(Object(d.b)(o.getAssociatedEditorSettings()))},onOpenEvents:this.props.onOpenEvents,onOpenMoreSettings:this.openExternalPropertiesDialog,isActive:a}),!i&&c.createElement(p.a,null,c.createElement(h.a,null,c.createElement(s.Trans,{id:"To edit the external layout, choose the scene in which it will be included:"})),c.createElement(f.b,{justifyContent:"center"},c.createElement(l.a,{label:c.createElement(s.Trans,{id:"Choose the scene"}),primary:!0,onClick:this.openExternalPropertiesDialog}))),c.createElement(m.a,{title:c.createElement(s.Trans,{id:"Configure the external layout"}),helpTexts:[c.createElement(s.Trans,{id:'In order to see your objects in the scene, you need to add an action "Create objects from external layout" in your events sheet.'}),c.createElement(s.Trans,{id:"You can also launch a preview from this external layout, but remember that it will still create objects from the scene, as well as trigger its events. Make sure to disable any action loading the external layout before doing so to avoid having duplicate objects!"})],open:this.state.externalPropertiesDialogOpen,project:n,layoutName:this.getAssociatedLayoutName(),onChoose:this.saveExternalProperties,onClose:function(){return e.setState({externalPropertiesDialogOpen:!1})}})):c.createElement("div",null,"No external layout called ",r," found!")}}]),n}(c.Component),E=function(e){return c.createElement(v,e)}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return $}));var r=n(119),a=n(3),o=n(4),i=n(6),s=n(5),c=n(115),l=n(15),u=n(548),d=n.n(u),p=n(926),m=n(935),f=n(227),h=(n(918),n(1661)),g=n(1662),b=n(1989),v=n(1667),E=n(1668),y=n(307),C=n(1669),j=n(862),O=n(447),x=n(1693),k=n(750),T=n(2005),w=n(176),S=n(272),P=n(16),_=n(1694),I=n(323),N=n(316),A=n(379),R=n(30),M=n(1695),F=n(228),L=n(1990),B=n(813),D=n(562),U=n(226),G=n(1696),V=n(858),W=n(306),H=n(146),z=n(752),Y=n(143),q=n(1697),X=n(278),K=e.gd,J={container:{display:"flex",flex:1,position:"relative",overflow:"hidden"}},Z={direction:"row",first:"properties",splitPercentage:23,second:{direction:"row",first:"instances-editor",second:"objects-list",splitPercentage:77}},Q={direction:"row",first:"instances-editor",second:"objects-list",splitPercentage:70},$=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(e){var o;return Object(a.a)(this,n),(o=t.call(this,e)).openObjectsList=function(){o.editorMosaic&&(o.editorMosaic.openEditor("objects-list","end",75,"column")||o.setState({showObjectsListInfoBar:!0}))},o.openProperties=function(){o.editorMosaic&&(o.editorMosaic.openEditor("properties","start",25,"column")||o.setState({showPropertiesInfoBar:!0}))},o.openObjectGroupsList=function(){o.editorMosaic&&o.editorMosaic.openEditor("object-groups-list","end",75,"column")},o.toggleInstancesList=function(){o.editorMosaic&&(o.editorMosaic.openEditor("instances-list","end",75,"row")||o.setState({showInstancesInfoBar:!0}))},o.toggleLayersList=function(){o.editorMosaic&&(o.editorMosaic.openEditor("layers-list","end",75,"row")||o.setState({showLayersInfoBar:!0}))},o.toggleWindowMask=function(){o.setState({instancesEditorSettings:Object(r.a)(Object(r.a)({},o.state.instancesEditorSettings),{},{windowMask:!o.state.instancesEditorSettings.windowMask})})},o.toggleGrid=function(){o.setState({instancesEditorSettings:Object(r.a)(Object(r.a)({},o.state.instancesEditorSettings),{},{grid:!o.state.instancesEditorSettings.grid,snap:!o.state.instancesEditorSettings.grid})})},o.openSetupGrid=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];o.setState({setupGridOpen:e})},o.openSceneProperties=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];o.setState({scenePropertiesDialogOpen:e})},o.openObjectEditor=function(){if(o.instancesSelection.hasSelectedInstances()){var e=o.instancesSelection.getSelectedInstances()[0].getObjectName();o.editObjectByName(e)}},o.editLayerEffects=function(e){o.setState({editedLayer:e,editedLayerInitialTab:"effects"})},o.editLayer=function(e){o.setState({editedLayer:e,editedLayerInitialTab:"properties"})},o.editInstanceVariables=function(e){o.setState({variablesEditedInstance:e})},o.editLayoutVariables=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];o.setState({layoutVariablesDialogOpen:e})},o.editObject=function(e,t){var n=o.props.project;e?o.setState({editedObjectWithContext:{object:e,global:n.hasObjectNamed(e.getName())},editedObjectInitialTab:t||"properties"}):o.setState({editedObjectWithContext:null,editedObjectInitialTab:"properties"})},o.editObjectByName=function(e){var t=o.props,n=t.project,r=t.layout;r.hasObjectNamed(e)?o.editObject(r.getObject(e)):n.hasObjectNamed(e)&&o.editObject(n.getObject(e))},o.editGroup=function(e){o.setState({editedGroup:e})},o.setInstancesEditorSettings=function(e){o.setState({instancesEditorSettings:e})},o.undo=function(){o.instancesSelection.clearSelection(),o.setState({history:Object(B.f)(o.state.history,o.props.initialInstances)},(function(){o.editor&&o.editor.forceRemount(),o.updateToolbar()}))},o.redo=function(){o.instancesSelection.clearSelection(),o.setState({history:Object(B.d)(o.state.history,o.props.initialInstances)},(function(){o.editor&&o.editor.forceRemount(),o.updateToolbar()}))},o._onObjectSelected=function(e){e?o.setState({selectedObjectNames:[e]}):o.setState({selectedObjectNames:[]})},o._createNewObjectAndInstanceUnderCursor=function(){o.editor&&(o.setState({newObjectInstanceSceneCoordinates:o.editor.getLastCursorSceneCoordinates()}),o._objectsList&&o._objectsList.setState({newObjectDialogOpen:!0}))},o._onAddInstanceUnderCursor=function(){if(o.state.selectedObjectNames.length&&o.editor){var e=o.state.selectedObjectNames[0],t=o.editor.getLastCursorSceneCoordinates();o._addInstance(t,e),o.setState({selectedObjectNames:[e]})}},o._addInstance=function(e,t){if(t&&o.editor){var n=o.editor.addInstances(e,[t]);o._onInstancesAdded(n)}},o._onInstancesAdded=function(e){e.forEach((function(e){var t=Object(q.a)(e,o.props.layout,o.props.project);t&&o.setState({additionalWorkInfoBar:t,showAdditionalWorkInfoBar:!0})})),o.setState({history:Object(B.e)(o.state.history,o.props.initialInstances)},(function(){return o.updateToolbar()}))},o._onInstancesSelected=function(e){o.setState({selectedObjectNames:d()(e.map((function(e){return e.getObjectName()})))}),o.forceUpdatePropertiesEditor(),o.updateToolbar()},o._onInstanceDoubleClicked=function(e){o.editObjectByName(e.getObjectName())},o._onInstancesMoved=function(e){o.setState({history:Object(B.e)(o.state.history,o.props.initialInstances)},(function(){return o.forceUpdatePropertiesEditor()}))},o._onInstancesResized=function(e){o.setState({history:Object(B.e)(o.state.history,o.props.initialInstances)},(function(){return o.forceUpdatePropertiesEditor()}))},o._onInstancesRotated=function(e){o.setState({history:Object(B.e)(o.state.history,o.props.initialInstances)},(function(){return o.forceUpdatePropertiesEditor()}))},o._onInstancesModified=function(e){o.forceUpdate()},o._onSelectInstances=function(e,t){o.instancesSelection.selectInstances(e,t),o.editor&&o.editor.centerViewOn(e),o.forceUpdateInstancesList(),o.forceUpdatePropertiesEditor(),o.updateToolbar()},o._addInstanceForNewObject=function(e){var t=o.state.newObjectInstanceSceneCoordinates;t&&(o._addInstance(t,e),o.setState({newObjectInstanceSceneCoordinates:null}))},o._onObjectCreated=function(e){var t=Object(q.b)(e,o.props.layout,o.props.project);t&&o.setState({additionalWorkInfoBar:t,showAdditionalWorkInfoBar:!0}),o._addInstanceForNewObject(e.getName())},o._onRemoveLayer=function(e,t){o.setState({layerRemoveDialogOpen:!0,layerRemoved:e,onCloseLayerRemoveDialog:function(n,r){o.setState({layerRemoveDialogOpen:!1},(function(){n&&(null===r?(o.instancesSelection.unselectInstancesOnLayer(e),o.props.initialInstances.removeAllInstancesOnLayer(e)):o.props.initialInstances.moveInstancesToLayer(e,r)),t(n),o.editor&&o.editor.forceRemount(),o.forceUpdateLayersList(),o.forceUpdatePropertiesEditor(),o.updateToolbar()}))}})},o._onRenameLayer=function(e,t,n){o.props.initialInstances.moveInstancesToLayer(e,t),n(!0)},o._onDeleteObject=function(e,t){var n=e.object,r=e.global,a=o.props,i=a.project,s=a.layout,c=P.b.showConfirmDialog("Do you want to remove all references to this object in groups and events (actions and conditions using the object)?");o.instancesSelection.unselectInstancesOfObject(n.getName()),r?K.WholeProjectRefactorer.globalObjectOrGroupRemoved(i,n.getName(),!1,!!c):K.WholeProjectRefactorer.objectOrGroupRemovedInLayout(i,s,n.getName(),!1,!!c),t(!0),o.forceUpdatePropertiesEditor(),o.updateToolbar()},o._canObjectOrGroupUseNewName=function(e){var t=o.props,n=t.project,r=t.layout;return r.hasObjectNamed(e)||n.hasObjectNamed(e)||r.getObjectGroups().has(e)||n.getObjectGroups().has(e)?(Object(R.c)("Another object or group with this name already exists.",{delayToNextTick:!0}),!1):!!K.Project.validateName(e)||(Object(R.c)("This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character.",{delayToNextTick:!0}),!1)},o._onRenameEditedObject=function(e){var t=o.state.editedObjectWithContext;t&&o._onRenameObject(t,e,(function(){}))},o._onRenameObject=function(e,t,n){var r=e.object,a=e.global,i=o.props,s=i.project,c=i.layout;r.getName()!==t&&(a?K.WholeProjectRefactorer.globalObjectOrGroupRenamed(s,r.getName(),t,!1):K.WholeProjectRefactorer.objectOrGroupRenamedInLayout(s,c,r.getName(),t,!1)),r.setName(t),n(!0)},o._onDeleteGroup=function(e,t){var n=e.group,r=e.global,a=o.props,i=a.project,s=a.layout,c=P.b.showConfirmDialog("Do you want to remove all references to this group in events (actions and conditions using the group)?");r?K.WholeProjectRefactorer.globalObjectOrGroupRemoved(i,n.getName(),!0,!!c):K.WholeProjectRefactorer.objectOrGroupRemovedInLayout(i,s,n.getName(),!0,!!c),t(!0)},o._onRenameGroup=function(e,t,n){var r=e.group,a=e.global,i=o.props,s=i.project,c=i.layout;r.getName()!==t&&(a?K.WholeProjectRefactorer.globalObjectOrGroupRenamed(s,r.getName(),t,!0):K.WholeProjectRefactorer.objectOrGroupRenamedInLayout(s,c,r.getName(),t,!0)),n(!0)},o.deleteSelection=function(){o.instancesSelection.getSelectedInstances().forEach((function(e){e.isLocked()||o.props.initialInstances.removeInstance(e)})),o.instancesSelection.clearSelection(),o.editor&&o.editor.clearHighlightedInstance(),o.setState({selectedObjectNames:[],history:Object(B.e)(o.state.history,o.props.initialInstances)},(function(){o.updateToolbar(),o.forceUpdatePropertiesEditor()}))},o.centerView=function(){o.editor&&o.editor.centerView()},o.setZoomFactor=function(e){o.editor&&o.editor.setZoomFactor(e)},o.zoomIn=function(){o.editor&&o.editor.zoomBy(.1)},o.zoomOut=function(){o.editor&&o.editor.zoomBy(-.1)},o._onContextMenu=function(e,t){o.contextMenu&&o.contextMenu.open(e,t)},o.copySelection=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useLastCursorPosition,n=o.instancesSelection.getSelectedInstances().map((function(e){return Object(w.b)(e)}));if(o.editor){var r=t?o.editor.getLastCursorSceneCoordinates():o.editor.getLastContextMenuSceneCoordinates();S.b.set("Instances",{x:r[0],y:r[1],instances:n})}},o.cutSelection=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o.copySelection(e),o.deleteSelection()},o.paste=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.useLastCursorPosition;if(o.editor){var n=t?o.editor.getLastCursorSceneCoordinates():o.editor.getLastContextMenuSceneCoordinates(),r=S.b.get("Instances"),a=S.a.extractArrayProperty(r,"instances"),i=S.a.extractNumberProperty(r,"x"),s=S.a.extractNumberProperty(r,"y");null!==i&&null!==s&&null!==a&&a.map((function(e){var t=new K.InitialInstance;return Object(w.c)(t,e),t})).forEach((function(e){e.setX(e.getX()-i+n[0]),e.setY(e.getY()-s+n[1]),o.props.initialInstances.insertInitialInstance(e).resetPersistentUuid(),e.delete()}))}},o.updateBehaviorsSharedData=function(){var e=o.props,t=e.layout,n=e.project;t.updateBehaviorsSharedData(n)},o.forceUpdateObjectsList=function(){o._objectsList&&o._objectsList.forceUpdateList()},o.forceUpdateLayersList=function(){o._layersList&&o._layersList.forceUpdate()},o.forceUpdateInstancesList=function(){o._instancesList&&o._instancesList.forceUpdate()},o.forceUpdatePropertiesEditor=function(){o._propertiesEditor&&o._propertiesEditor.forceUpdate()},o.reloadResourcesFor=function(e){var t=o.props.project,n=new K.ResourcesInUseHelper;e.exposeResources(n);var r=n.getAllImages().toNewVectorString().toJSArray();n.delete(),D.a.loadTextures(t,r,(function(){}),(function(){o.editor&&o.editor.resetInstanceRenderersFor(e.getName())}))},o._getAllObjectTags=function(){var e=o.props,t=e.project,n=e.layout,r=new Set;return Object(U.c)(t,n).allObjectsList.forEach((function(e){var t=e.object;Object(W.c)(t.getTags()).forEach((function(e){return r.add(e)}))})),Array.from(r)},o._buildObjectTagsMenuTemplate=function(e){var t=o.state.selectedObjectTags;return Object(W.a)({noTagLabel:e._({id:"No tags - add a tag to an object first"}),getAllTags:o._getAllObjectTags,selectedTags:t,onChange:function(e){o.setState({selectedObjectTags:e})}})},o.instancesSelection=new O.a,o.state={setupGridOpen:!1,scenePropertiesDialogOpen:!1,layersListOpen:!1,layerRemoveDialogOpen:!1,onCloseLayerRemoveDialog:null,layerRemoved:null,editedLayer:null,editedLayerInitialTab:"properties",editedObjectWithContext:null,editedObjectInitialTab:"properties",variablesEditedInstance:null,selectedObjectNames:[],newObjectInstanceSceneCoordinates:null,editedGroup:null,instancesEditorSettings:e.getInitialInstancesEditorSettings(),history:Object(B.c)(e.initialInstances,{historyMaxSize:50}),showObjectsListInfoBar:!1,layoutVariablesDialogOpen:!1,showPropertiesInfoBar:!1,showLayersInfoBar:!1,showInstancesInfoBar:!1,showAdditionalWorkInfoBar:!1,additionalWorkInfoBar:{identifier:"default-additional-work",message:"",touchScreenMessage:""},selectedObjectTags:[]},o}return Object(o.a)(n,[{key:"componentDidUpdate",value:function(e,t){this.state.history!==t.history&&this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges()}},{key:"getInstancesEditorSettings",value:function(){return this.state.instancesEditorSettings}},{key:"updateToolbar",value:function(){var e=this;this.props.setToolbar(l.createElement(T.a,{instancesSelection:this.instancesSelection,openObjectsList:this.openObjectsList,openObjectGroupsList:this.openObjectGroupsList,openProperties:this.openProperties,deleteSelection:this.deleteSelection,toggleInstancesList:this.toggleInstancesList,toggleLayersList:this.toggleLayersList,toggleWindowMask:this.toggleWindowMask,toggleGrid:this.toggleGrid,isGridShown:function(){return!!e.state.instancesEditorSettings.grid},isWindowMaskShown:function(){return!!e.state.instancesEditorSettings.windowMask},openSetupGrid:this.openSetupGrid,setZoomFactor:this.setZoomFactor,centerView:this.centerView,canUndo:Object(B.b)(this.state.history),canRedo:Object(B.a)(this.state.history),undo:this.undo,redo:this.redo,zoomIn:this.zoomIn,zoomOut:this.zoomOut,onOpenSettings:this.openSceneProperties}))}},{key:"componentWillReceiveProps",value:function(e){this.props.layout===e.layout&&this.props.initialInstances===e.initialInstances&&this.props.project===e.project||(this.instancesSelection.clearSelection(),this.openSetupGrid(!1),this.editInstanceVariables(null),this.openSceneProperties(!1))}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.layout,a=t.initialInstances,o=t.resourceSources,i=t.onChooseResource,s=t.resourceExternalEditors,u=t.isActive,d=this.instancesSelection.getSelectedInstances(),O={properties:{type:"secondary",title:{id:"Properties"},renderEditor:function(){return l.createElement(c.I18n,null,(function(t){var a=t.i18n;return l.createElement(h.a,{i18n:a,project:n,layout:r,instances:d,editInstanceVariables:e.editInstanceVariables,onEditObjectByName:e.editObjectByName,onInstancesModified:function(t){return e.forceUpdateInstancesList()},ref:function(t){return e._propertiesEditor=t},unsavedChanges:e.props.unsavedChanges})}))}},"layers-list":{type:"secondary",title:{id:"Layers"},renderEditor:function(){return l.createElement(b.a,{project:n,resourceSources:o,resourceExternalEditors:s,onChooseResource:i,onEditLayerEffects:e.editLayerEffects,onEditLayer:e.editLayer,onRemoveLayer:e._onRemoveLayer,onRenameLayer:e._onRenameLayer,layersContainer:r,unsavedChanges:e.props.unsavedChanges,ref:function(t){return e._layersList=t},hotReloadPreviewButtonProps:e.props.hotReloadPreviewButtonProps})}},"instances-list":{type:"secondary",title:{id:"Instances list"},renderEditor:function(){return l.createElement(g.a,{instances:a,selectedInstances:d,onSelectInstances:e._onSelectInstances,ref:function(t){return e._instancesList=t}})}},"instances-editor":{type:"primary",noTitleBar:!0,renderEditor:function(){return l.createElement(_.a,{project:n,layout:r,initialInstances:a,instancesEditorSettings:e.state.instancesEditorSettings,onChangeInstancesEditorSettings:e.setInstancesEditorSettings,instancesSelection:e.instancesSelection,onDeleteSelection:e.deleteSelection,onInstancesAdded:e._onInstancesAdded,onInstancesSelected:e._onInstancesSelected,onInstanceDoubleClicked:e._onInstanceDoubleClicked,onInstancesMoved:e._onInstancesMoved,onInstancesResized:e._onInstancesResized,onInstancesRotated:e._onInstancesRotated,selectedObjectNames:e.state.selectedObjectNames,onContextMenu:e._onContextMenu,onCopy:function(){return e.copySelection({useLastCursorPosition:!0})},onCut:function(){return e.cutSelection({useLastCursorPosition:!0})},onPaste:function(){return e.paste({useLastCursorPosition:!0})},onUndo:e.undo,onRedo:e.redo,onZoomOut:e.zoomOut,onZoomIn:e.zoomIn,wrappedEditorRef:function(t){e.editor=t},pauseRendering:!u})}},"objects-list":{type:"secondary",title:{id:"Objects"},toolbarControls:[l.createElement(c.I18n,{key:"tags"},(function(t){t.i18n;return l.createElement(G.a,{buildMenuTemplate:function(t){return e._buildObjectTagsMenuTemplate(t)}})})),l.createElement(V.a,{key:"close"})],renderEditor:function(){return l.createElement(p.a,{getThumbnail:f.a.getThumbnail.bind(f.a),project:n,objectsContainer:r,layout:r,events:r.getEvents(),resourceSources:o,resourceExternalEditors:s,onChooseResource:i,selectedObjectNames:e.state.selectedObjectNames,onEditObject:e.props.onEditObject||e.editObject,onDeleteObject:e._onDeleteObject,canRenameObject:e._canObjectOrGroupUseNewName,onObjectCreated:e._onObjectCreated,onObjectSelected:e._onObjectSelected,onRenameObject:e._onRenameObject,onObjectPasted:function(){return e.updateBehaviorsSharedData()},selectedObjectTags:e.state.selectedObjectTags,onChangeSelectedObjectTags:function(t){return e.setState({selectedObjectTags:t})},getAllObjectTags:e._getAllObjectTags,ref:function(t){return e._objectsList=t},unsavedChanges:e.props.unsavedChanges,hotReloadPreviewButtonProps:e.props.hotReloadPreviewButtonProps})}},"object-groups-list":{type:"secondary",title:{id:"Object Groups"},renderEditor:function(){return l.createElement(m.a,{globalObjectGroups:n.getObjectGroups(),objectGroups:r.getObjectGroups(),onEditGroup:e.editGroup,onDeleteGroup:e._onDeleteGroup,onRenameGroup:e._onRenameGroup,canRenameGroup:e._canObjectOrGroupUseNewName,unsavedChanges:e.props.unsavedChanges})}}};return l.createElement("div",{style:J.container},l.createElement(L.a,{project:n,layout:r,onEditObject:this.props.onEditObject||this.editObject,onEditObjectVariables:function(t){e.editObject(t,"variables")},onOpenSceneProperties:this.openSceneProperties,onOpenSceneVariables:this.editLayoutVariables,onEditObjectGroup:this.editGroup,onEditLayerEffects:this.editLayerEffects,onEditLayer:this.editLayer}),l.createElement(H.a,null,(function(t){return l.createElement(Y.a.Consumer,null,(function(n){var r=n.getDefaultEditorMosaicNode,a=n.setDefaultEditorMosaicNode;return l.createElement(I.a,{editors:O,limitToOneSecondaryEditor:"small"===t,initialNodes:"small"===t?r("scene-editor-small")||Q:r("scene-editor")||Z,onPersistNodes:function(e){return a("small"===t?"scene-editor-small":"scene-editor",e)},ref:function(t){return e.editorMosaic=t}})}))})),this.state.editedObjectWithContext&&l.createElement(C.a,{open:!0,object:this.state.editedObjectWithContext.object,initialTab:this.state.editedObjectInitialTab,project:n,resourceSources:o,resourceExternalEditors:s,onChooseResource:i,onComputeAllVariableNames:function(){var t=e.state.editedObjectWithContext;return t?X.a.findAllObjectVariables(n.getCurrentPlatform(),n,r,t.object):[]},onCancel:function(){e.state.editedObjectWithContext&&e.reloadResourcesFor(e.state.editedObjectWithContext.object),e.editObject(null)},canRenameObject:this._canObjectOrGroupUseNewName,onRename:function(t){e._onRenameEditedObject(t)},onApply:function(){e.state.editedObjectWithContext&&e.reloadResourcesFor(e.state.editedObjectWithContext.object),e.editObject(null),e.updateBehaviorsSharedData(),e.forceUpdateObjectsList(),e.props.unsavedChanges&&e.props.unsavedChanges.triggerUnsavedChanges()},hotReloadPreviewButtonProps:this.props.hotReloadPreviewButtonProps,onUpdateBehaviorsSharedData:function(){return e.updateBehaviorsSharedData()}}),!!this.state.editedGroup&&l.createElement(j.a,{project:n,group:this.state.editedGroup,objectsContainer:r,globalObjectsContainer:n,onCancel:function(){return e.editGroup(null)},onApply:function(){return e.editGroup(null)}}),l.createElement(N.a,{identifier:"instance-drag-n-drop-explanation",message:l.createElement(c.Trans,{id:"Drag and Drop the object to the scene or use the right click menu to add an instance of it."}),touchScreenMessage:l.createElement(c.Trans,{id:"Drag and Drop the object icon to the scene or long press to show options to edit the object."}),show:!!this.state.selectedObjectNames.length}),l.createElement(N.a,{identifier:"objects-panel-explanation",message:l.createElement(c.Trans,{id:"Objects panel is already opened: use it to add and edit objects."}),show:!!this.state.showObjectsListInfoBar}),l.createElement(N.a,{identifier:"instance-properties-panel-explanation",message:l.createElement(c.Trans,{id:"Properties panel is already opened. After selecting an instance on the scene, inspect and change its properties from this panel."}),show:!!this.state.showPropertiesInfoBar}),l.createElement(N.a,{identifier:"layers-panel-explanation",message:l.createElement(c.Trans,{id:"Layers panel is already opened. You can add new layers and apply effects on them from this panel."}),show:!!this.state.showLayersInfoBar}),l.createElement(N.a,{identifier:"instances-panel-explanation",message:l.createElement(c.Trans,{id:"Instances panel is already opened. You can search instances in the scene and click one to move the view to it."}),show:!!this.state.showInstancesInfoBar}),this.state.setupGridOpen&&l.createElement(x.a,{instancesEditorSettings:this.state.instancesEditorSettings,onChangeInstancesEditorSettings:this.setInstancesEditorSettings,onCancel:function(){return e.openSetupGrid(!1)},onApply:function(){return e.openSetupGrid(!1)}}),!!this.state.variablesEditedInstance&&l.createElement(y.a,{open:!0,variablesContainer:this.state.variablesEditedInstance&&this.state.variablesEditedInstance.getVariables(),onCancel:function(){return e.editInstanceVariables(null)},onApply:function(){return e.editInstanceVariables(null)},emptyExplanationMessage:l.createElement(c.Trans,{id:"Instance variables will overwrite the default values of the variables of the object."}),helpPagePath:"/all-features/variables/instance-variables",title:l.createElement(c.Trans,{id:"Instance Variables"}),onEditObjectVariables:function(){if(e.instancesSelection.hasSelectedInstances()){var t=e.instancesSelection.getSelectedInstances()[0].getObjectName(),a=Object(F.a)(n,r,t);a&&(e.editObject(a,"variables"),e.editInstanceVariables(null))}},hotReloadPreviewButtonProps:this.props.hotReloadPreviewButtonProps,onComputeAllVariableNames:function(){var t=e.state.variablesEditedInstance;if(!t)return[];var a=Object(F.a)(n,r,t.getObjectName());return a?X.a.findAllObjectVariables(n.getCurrentPlatform(),n,r,a):[]}}),!!this.state.layerRemoveDialogOpen&&l.createElement(v.a,{open:!0,layersContainer:r,layerRemoved:this.state.layerRemoved,onClose:this.state.onCloseLayerRemoveDialog}),!!this.state.editedLayer&&l.createElement(E.a,{project:n,resourceSources:o,onChooseResource:i,resourceExternalEditors:s,layer:this.state.editedLayer,initialInstances:a,initialTab:this.state.editedLayerInitialTab,onClose:function(){return e.setState({editedLayer:null})},hotReloadPreviewButtonProps:this.props.hotReloadPreviewButtonProps}),this.state.scenePropertiesDialogOpen&&l.createElement(k.a,{open:!0,project:n,layout:r,onClose:function(){return e.openSceneProperties(!1)},onApply:function(){return e.openSceneProperties(!1)},onEditVariables:function(){return e.editLayoutVariables(!0)},onOpenMoreSettings:this.props.onOpenMoreSettings}),!!this.state.layoutVariablesDialogOpen&&l.createElement(z.a,{open:!0,project:n,layout:r,onApply:function(){return e.editLayoutVariables(!1)},onClose:function(){return e.editLayoutVariables(!1)},hotReloadPreviewButtonProps:this.props.hotReloadPreviewButtonProps}),l.createElement(c.I18n,null,(function(t){var n=t.i18n;return l.createElement(l.Fragment,null,l.createElement(N.a,{show:e.state.showAdditionalWorkInfoBar,identifier:e.state.additionalWorkInfoBar.identifier,message:n._(e.state.additionalWorkInfoBar.message),touchScreenMessage:n._(e.state.additionalWorkInfoBar.touchScreenMessage)}),l.createElement(A.a,{ref:function(t){return e.contextMenu=t},buildMenuTemplate:function(t){return[{label:e.state.selectedObjectNames.length?t._({id:"Add an Instance of {0}",values:{0:Object(M.a)(e.state.selectedObjectNames[0],7)}}):"",click:function(){return e._onAddInstanceUnderCursor()},visible:e.state.selectedObjectNames.length>0},{label:t._({id:"Insert a New Object"}),click:function(){return e._createNewObjectAndInstanceUnderCursor()},visible:0===e.state.selectedObjectNames.length},{label:e.state.selectedObjectNames.length?t._({id:"Edit Object {0}",values:{0:Object(M.a)(e.state.selectedObjectNames[0],14)}}):"",click:function(){return e.editObjectByName(e.state.selectedObjectNames[0])},visible:e.state.selectedObjectNames.length>0},{type:"separator"},{label:t._({id:"Scene properties"}),click:function(){return e.openSceneProperties(!0)}},{label:t._({id:"Open the scene events"}),click:function(){return e.props.onOpenEvents(r.getName())}},{type:"separator"},{label:t._({id:"Copy"}),click:function(){return e.copySelection()},enabled:e.instancesSelection.hasSelectedInstances(),accelerator:"CmdOrCtrl+C"},{label:t._({id:"Cut"}),click:function(){return e.cutSelection()},enabled:e.instancesSelection.hasSelectedInstances(),accelerator:"CmdOrCtrl+X"},{label:t._({id:"Paste"}),click:function(){return e.paste()},enabled:S.b.has("Instances"),accelerator:"CmdOrCtrl+V"},{type:"separator"},{label:t._({id:"Undo"}),click:e.undo,enabled:Object(B.b)(e.state.history),accelerator:"CmdOrCtrl+Z"},{label:t._({id:"Redo"}),click:e.redo,enabled:Object(B.a)(e.state.history),accelerator:"CmdOrCtrl+Shift+Z"},{label:t._({id:"Delete"}),click:function(){return e.deleteSelection()},enabled:e.instancesSelection.hasSelectedInstances()}]}}))})))}}]),n}(l.Component);$.defaultProps={setToolbar:function(){}}}).call(this,n(8))},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r=n(3),a=(n(289),function(e){if(!e)return!1;var t=e.targetTouches;return t&&t.length>=2}),o=function e(t){var n=this,o=t.canvas,i=t.setZoomFactor,s=t.getZoomFactor,c=t.viewPosition;Object(r.a)(this,e),this._lastPinchCenterX=null,this._lastPinchCenterY=null,this._startPinch=function(){},this._onPinchMove=function(e,t,r){if(null===n._lastPinchCenterX||null===n._lastPinchCenterY)return n._lastPinchCenterX=e,void(n._lastPinchCenterY=t);var a=e-n._lastPinchCenterX,o=t-n._lastPinchCenterY,i=a/n._getZoomFactor(),s=o/n._getZoomFactor();n._viewPosition.scrollBy(-i,-s),n._lastPinchCenterX=e,n._lastPinchCenterY=t,n._setZoomFactor(n._getZoomFactor()*r)},this._endPinch=function(){n._lastPinchCenterX=null,n._lastPinchCenterY=null},this.unmount=function(){n._unregisterCanvasPinchDetector()},this._setZoomFactor=i,this._getZoomFactor=s,this._viewPosition=c,this._unregisterCanvasPinchDetector=function(e){var t=e.canvas,n=e.onPinchStart,r=e.onPinchMove,o=e.onPinchEnd,i=null;function s(){t.addEventListener("touchmove",c)}function c(e){if(a(e)){var t=e.targetTouches,o=t[0].clientX-t[1].clientX,s=t[0].clientY-t[1].clientY,c=Math.sqrt(o*o+s*s);if(!i)return i={p:{distance:c,date:new Date}},void n();var l=new Date;if(!(l-i.p.date<12)){var u={x:(t[0].clientX+t[1].clientX)/2,y:(t[0].clientY+t[1].clientY)/2},d=c/i.p.distance;r(u.x,u.y,d),i.p={distance:c,date:l}}}}function l(e){t.removeEventListener("touchmove",c),i&&(o(),i=null)}return t.addEventListener("touchstart",s),t.addEventListener("touchend",l),function(){t.removeEventListener("touchstart",s),t.removeEventListener("touchmove",c),t.removeEventListener("touchend",l)}}({canvas:o,onPinchStart:this._startPinch,onPinchMove:this._onPinchMove,onPinchEnd:this._endPinch})}},function(e,t,n){"use strict";var r=n(131);t.a=function(e){return Object(r.mapFor)(0,e.getLayersCount(),(function(t){return{value:e.getLayerAt(t).getName(),label:e.getLayerAt(t).getName()||"Base layer"}}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(15),a=n(568),o={flexContainer:{display:"flex",flex:1,position:"relative"}},i=function(e){var t=e.children;return r.createElement(a.a,{bounds:!0},(function(e){var n=e.contentRect,a=e.measureRef;return r.createElement("div",{style:o.flexContainer,ref:a},!!n&&!!n.bounds&&t({width:n.bounds.width,height:n.bounds.height}))}))}},function(e,t,n){"use strict";t.a={handleColumn:{width:24,paddingLeft:8,paddingRight:0},coordinateColumn:{width:48},toolColumn:{width:48,height:32}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n(154),u=n(155),d=n(502),p=n(131),m=n(282),f=n(129),h=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props,t=e.spriteObject,n=e.animationIndex,r=e.directionIndex,a=e.spriteIndex,o=e.sameForAllAnimations,i=e.sameForAllSprites,h=e.chooseAnimation,g=e.chooseDirection,b=e.chooseSprite,v=e.setSameForAllAnimations,E=e.setSameForAllSprites,y=e.setSameForAllAnimationsLabel,C=e.setSameForAllSpritesLabel,j=Object(m.l)(t,n,r,a),O=j.hasValidAnimation,x=j.animation,k=j.hasValidDirection,T=j.direction;return c.createElement(c.Fragment,null,c.createElement(f.b,null,c.createElement(l.a,{fullWidth:!0,floatingLabelText:c.createElement(s.Trans,{id:"Animation"}),value:this.props.animationIndex,onChange:function(e,t,n){return h(parseInt(n,10)||0)}},Object(p.mapFor)(0,t.getAnimationsCount(),(function(e){var n=t.getAnimation(e);return c.createElement(u.a,{key:e,value:e,primaryText:{id:"Animation #{i} {0}",values:{0:n.getName(),i:e}}})}))),O&&x.getDirectionsCount()>1&&c.createElement(l.a,{fullWidth:!0,floatingLabelText:c.createElement(s.Trans,{id:"Direction"}),value:this.props.directionIndex,onChange:function(e,t,n){return g(parseInt(n,10)||0)}},Object(p.mapFor)(0,x.getDirectionsCount(),(function(e){return c.createElement(u.a,{value:e,key:e,primaryText:{id:"Direction #{i}",values:{i:e}}})}))),k&&c.createElement(l.a,{fullWidth:!0,floatingLabelText:c.createElement(s.Trans,{id:"Frame"}),value:this.props.spriteIndex,onChange:function(e,t,n){return b(parseInt(n,10)||0)}},Object(p.mapFor)(0,T.getSpritesCount(),(function(e){return c.createElement(u.a,{value:e,key:e,primaryText:{id:"Frame #{i}",values:{i:e}}})})))),c.createElement(d.a,{label:y,labelPosition:"right",toggled:o,onToggle:function(e,t){return v(t)}}),c.createElement(d.a,{label:C,labelPosition:"right",toggled:i,onToggle:function(e,t){return E(t)}}))}}]),n}(c.Component)},function(e,t,n){"use strict";t.a={coordinateColumn:{width:96},toolColumn:{width:48}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(15),c=n.n(s),l=n(1698),u=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"shouldComponentUpdate",value:function(e){return e.isActive}},{key:"getProject",value:function(){return this.props.project}},{key:"getLayout",value:function(){return null}},{key:"updateToolbar",value:function(){this.editor&&this.editor.updateToolbar()}},{key:"forceUpdateEditor",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.project;return t?c.a.createElement(l.a,{setToolbar:this.props.setToolbar,onDeleteResource:this.props.onDeleteResource,onRenameResource:this.props.onRenameResource,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,ref:function(t){return e.editor=t},project:t}):null}}]),n}(c.a.Component),d=function(e){return c.a.createElement(u,e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return p}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(15),c=n(608),l=n(881),u=n(176),d=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).saveUiSettings=function(){var t=e.getLayout(),n=e.editor;n&&t&&Object(u.c)(t.getAssociatedEditorSettings(),n.getInstancesEditorSettings())},e}return Object(a.a)(n,[{key:"getProject",value:function(){return this.props.project}},{key:"shouldComponentUpdate",value:function(e){return!(!this.props.isActive&&!e.isActive)}},{key:"componentDidMount",value:function(){if(this.props.isActive){var e=this.props.projectItemName;this.props.setPreviewedLayout(e)}}},{key:"componentDidUpdate",value:function(e){if(!e.isActive&&this.props.isActive){var t=this.props.projectItemName;this.props.setPreviewedLayout(t)}}},{key:"updateToolbar",value:function(){this.editor&&this.editor.updateToolbar()}},{key:"forceUpdateEditor",value:function(){this.editor&&this.editor.forceUpdateObjectsList()}},{key:"getLayout",value:function(){var e=this.props,t=e.project,n=e.projectItemName;return t&&n&&t.hasLayoutNamed(n)?t.getLayout(n):null}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.projectItemName,a=t.isActive,o=this.getLayout();return o&&n?s.createElement(l.a,{setToolbar:this.props.setToolbar,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,unsavedChanges:this.props.unsavedChanges,ref:function(t){return e.editor=t},project:n,layout:o,initialInstances:o.getInitialInstances(),getInitialInstancesEditorSettings:function(){return Object(c.b)(Object(u.b)(o.getAssociatedEditorSettings()))},onOpenEvents:this.props.onOpenEvents,isActive:a,hotReloadPreviewButtonProps:this.props.hotReloadPreviewButtonProps}):s.createElement("div",null,"No layout called ",r," found!")}}]),n}(s.Component),p=function(e){return s.createElement(d,e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));var r=function(e,t){var n=performance.now();e(),t(performance.now()-n)},a=function(e,t){var n=performance.now();return e().then((function(e){var r=performance.now();return t(r-n),e}))}},,,,function(e,t,n){"use strict";var r=n(15),a=n.n(r),o=n(662);t.a=a.a.memo((function(e){return a.a.createElement(o.a,e,a.a.createElement("path",{d:"M5.06 3C4.63 3 4.22 3.14 3.84 3.42C3.46 3.7 3.24 4.06 3.14 4.5L2.11 8.91C1.86 10 2.06 10.92 2.69 11.73C2.81 11.85 2.93 11.97 3.04 12.07C3.63 12.64 4.28 13 5.22 13C6.16 13 6.91 12.59 7.47 12.05C8.1 12.67 8.86 13 9.8 13C10.64 13 11.44 12.63 12 12.07C12.68 12.7 13.45 13 14.3 13C15.17 13 15.91 12.67 16.54 12.05C17.11 12.62 17.86 13 18.81 13C19.76 13 20.43 12.65 21 12.06C21.09 11.97 21.18 11.87 21.28 11.77C21.94 10.95 22.14 10 21.89 8.91L20.86 4.5C20.73 4.06 20.5 3.7 20.13 3.42C19.77 3.14 19.38 3 18.94 3M18.89 4.97L19.97 9.38C20.06 9.81 19.97 10.2 19.69 10.55C19.44 10.86 19.13 11 18.75 11C18.44 11 18.17 10.9 17.95 10.66C17.73 10.43 17.61 10.16 17.58 9.84L16.97 5M5.06 5H7.03L6.42 9.84C6.3 10.63 5.91 11 5.25 11C4.84 11 4.53 10.86 4.31 10.55C4.03 10.2 3.94 9.81 4.03 9.38M9.05 5H11V9.7C11 10.05 10.89 10.35 10.64 10.62C10.39 10.88 10.08 11 9.7 11C9.36 11 9.07 10.88 8.84 10.59C8.61 10.3 8.5 10 8.5 9.66V9.5M13 5H14.95L15.5 9.5C15.58 9.92 15.5 10.27 15.21 10.57C14.95 10.87 14.61 11 14.2 11C13.89 11 13.61 10.88 13.36 10.62C13.11 10.35 13 10.05 13 9.7M3 14.03V19C3 20.11 3.89 21 5 21C9.67 21 14.33 21 19 21C20.1 21 21 20.11 21 19V14.05C20.45 14.63 19.75 14.96 19 15C18 15.03 17.25 14.74 16.54 14.05C15.94 14.65 15.14 15 14.3 15C13.4 15 12.6 14.64 12 14.07C11.43 14.64 10.65 15 9.78 15C8.87 15 8.07 14.65 7.47 14.05C6.89 14.64 6.1 15 5.23 15C4.33 15 3.66 14.65 3 14.03Z"}))}))},function(e,t,n){"use strict";var r=n(115),a=n(15),o=n(125),i=n(129);t.a=function(e){var t=e.showcasedGame,n=e.forceColumn,s=void 0!==n&&n,c=t.title,l=t.author,u=s?i.a:i.b;return a.createElement(u,{noMargin:!0,alignItems:"baseline",expand:!0},a.createElement(o.a,{noMargin:!0,displayInlineAsSpan:!0},c),a.createElement(o.a,{noMargin:!0,size:"body2",displayInlineAsSpan:!0},a.createElement(r.Trans,{id:"by {author}",values:{author:l}})))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(119),a=n(15),o=n(203),i={iconBackground:{flex:0,display:"flex",justifyContent:"center"},icon:{background:"linear-gradient(45deg, #FFFFFF33, #FFFFFF)",padding:4,borderRadius:4}},s=function(e){var t=e.exampleShortHeader,n=e.size;return a.createElement("div",{style:i.iconBackground},a.createElement(o.a,{style:Object(r.a)(Object(r.a)({},i.icon),{},{height:n}),src:t.previewImageUrls.find((function(e){return e.endsWith("thumbnail.png")}))||t.previewImageUrls[0],alt:t.name}))}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(15),a=function(e,t){var n=Object(r.useRef)();Object(r.useEffect)((function(){n.current=e})),Object(r.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current&&n.current()}),t);return function(){return clearInterval(e)}}}),[t])}},,function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(e){var t=e;return t?function(e){return t._(e)}:null},a=function(e){var t=e;return t?function(e){return t._(e)}:function(e){return e}}},,function(e,t,n){var r=n(751),a=function(e,t,n){if(!n.runExtensionSanityTests)return{error:!0,message:"Missing runExtensionSanityTests in the extension module exports"};var a=n.runExtensionSanityTests(e,t);return r(a)?{error:!0,message:"One or more tests are failing for the extension (see rawError)",rawError:a}:{error:!1,message:"Tests passed successfully"}};e.exports={runExtensionSanityTests:a,loadExtension:function(e,t,n,r){if(!r.createExtension)return{message:"Extension module found, but no createExtension method is exported",error:!0};var o=null;try{if(!(o=r.createExtension(e,t)))return{message:"createExtension did not return any extension. Did you forget to return the extension created?",error:!0}}catch(s){return{message:"\ud83d\udea8 Exception caught while running createExtension. \ud83d\udca3 Please fix this error as this will make GDevelop crash at some point.",error:!0,dangerous:!0,rawError:s}}try{var i=a(t,o,r);if(i.error)return o.delete(),i}catch(s){return{message:"\ud83d\udea8 Exception caught while running runExtensionSanityTests. \ud83d\udca3 Please fix this error as this will make GDevelop crash at some point.",error:!0,dangerous:!0,rawError:s}}return n.addNewExtension(o),o.delete(),{message:"\u2705 Successfully loaded the extension.",error:!1}}}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(119),a=n(3),o=n(4),i=n(6),s=n(5),c=n(15),l={internalName:"Empty",name:"No storage",createOperations:function(){return{onOpenWithPicker:function(){return Promise.reject("No storage provider set up")},onOpen:function(){return Promise.reject("No storage provider set up")},hasAutoSave:function(){return Promise.resolve(!1)},onSaveProject:function(e){return Promise.reject("No storage provider set up")},onSaveProjectAs:function(e){return Promise.reject("No storage provider set up")},onAutoSaveProject:function(e){return Promise.resolve()}}}},u=function(e,t,n){var r=t.map((function(e){return{currentStorageProvider:e,initialFileMetadataToOpen:e.getFileMetadataFromAppArguments?e.getFileMetadataFromAppArguments(n):null}})).filter((function(e){return!!e.initialFileMetadataToOpen}));return 0===r.length?{currentStorageProvider:e,initialFileMetadataToOpen:null}:(r.length>1&&console.warn("More than one storage provider can understand the app arguments. Selecting the first one."),r[0])},d=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state=Object(r.a)(Object(r.a)({},u(e.props.defaultStorageProvider,e.props.storageProviders,e.props.appArguments)),{},{storageProviderOperations:null,renderDialog:null}),e._setDialog=function(t){e.setState({renderDialog:t})},e._closeDialog=function(){e.setState({renderDialog:null})},e._getStorageProviderOperations=function(t){if((!t||t===e.state.currentStorageProvider)&&e.state.storageProviderOperations)return Promise.resolve(e.state.storageProviderOperations);var n=t||e.state.currentStorageProvider||l,r=n.createOperations({setDialog:e._setDialog,closeDialog:e._closeDialog});return new Promise((function(t){e.setState({currentStorageProvider:n,storageProviderOperations:r},(function(){t(r)}))}))},e._getStorageProvider=function(){return e.state.currentStorageProvider||l},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.storageProviders,r=this.state,a=r.renderDialog,o=r.initialFileMetadataToOpen;return c.createElement(c.Fragment,null,t({storageProviders:n,getStorageProviderOperations:this._getStorageProviderOperations,initialFileMetadataToOpen:o,getStorageProvider:this._getStorageProvider}),a&&a())}}]),n}(c.Component)},,,,,,,,,,,,function(e,t,n){"use strict";var r=n(119),a=n(3),o=n(4),i=n(6),s=n(5),c=n(15),l=n.n(c),u=n(605),d=n.n(u),p=n(43),m=function(){function e(t){var n=this,r=t.onDelete,o=t.onMove,i=t.onCopy,s=t.onCut,c=t.onPaste,l=t.onUndo,u=t.onRedo,d=t.onSearch,m=t.onZoomOut,f=t.onZoomIn;Object(a.a)(this,e),this._isControlPressed=function(){return n.metaPressed||n.rawCtrlPressed},this._onKeyDown=function(e){if(n.isFocused){var t=!1;e.metaKey&&(n.metaPressed=!0),e.altKey&&(n.altPressed=!0),17===e.which&&(n.rawCtrlPressed=!0),16===e.which&&(n.shiftPressed=!0),32===e.which&&(n.spacePressed=!0);if(!e.target||!e.target.closest('textarea, input, [contenteditable="true"]'))return n.onMove&&(38===e.which?n.shiftPressed?n.onMove(0,-5):n.onMove(0,-1):40===e.which?n.shiftPressed?n.onMove(0,5):n.onMove(0,1):37===e.which?n.shiftPressed?n.onMove(-5,0):n.onMove(-1,0):39===e.which&&(n.shiftPressed?n.onMove(5,0):n.onMove(1,0))),8!==e.which&&46!==e.which||(n.onDelete(),t=!0),n._isControlPressed()&&67===e.which&&n.onCopy(),n._isControlPressed()&&88===e.which&&n.onCut(),n._isControlPressed()&&86===e.which&&n.onPaste(),n._isControlPressed()&&90===e.which&&n.onUndo(),n._isControlPressed()&&n.shiftPressed&&90===e.which&&n.onRedo(),n._isControlPressed()&&89===e.which&&n.onRedo(),n._isControlPressed()&&70===e.which&&n.onSearch(),n._isControlPressed()&&189===e.which&&n.onZoomOut(),109===e.which&&n.onZoomOut(),n._isControlPressed()&&187===e.which&&n.onZoomIn(),107===e.which&&n.onZoomIn(),t?(e.preventDefault&&e.preventDefault(),!1):void 0}},this._onKeyUp=function(e){e.metaKey||(n.metaPressed=!1),e.altKey||(n.altPressed=!1),17===e.which&&(n.rawCtrlPressed=!1),16===e.which&&(n.shiftPressed=!1),32===e.which&&(n.spacePressed=!1);var t=!1;if(8!==e.which&&46!==e.which||(t=!0),t)return e.preventDefault&&e.preventDefault(),!1},this._onMouseDown=function(e){n.isFocused&&(Object(p.e)()||(1===e.button?n.mouseMidButtonPressed=!0:n.mouseMidButtonPressed=!1))},this._onMouseUp=function(e){n.isFocused&&(Object(p.e)()||1!==e.button||(n.mouseMidButtonPressed=!1))},this._onKeyPress=function(e){},this._noop=function(){},this.onDelete=r||this._noop,this.onMove=o||this._noop,this.onCopy=i||this._noop,this.onCut=s||this._noop,this.onPaste=c||this._noop,this.onUndo=l||this._noop,this.onRedo=u||this._noop,this.onZoomOut=m||this._noop,this.onZoomIn=f||this._noop,this.onSearch=d||this._noop,this.isFocused=!1,this.shiftPressed=!1,this.rawCtrlPressed=!1,this.metaPressed=!1,this.spacePressed=!1,this.mouseMidButtonPressed=!1,this.mount()}return Object(o.a)(e,[{key:"shouldCloneInstances",value:function(){return this._isControlPressed()}},{key:"shouldMultiSelect",value:function(){return this.shiftPressed}},{key:"shouldFollowAxis",value:function(){return this.shiftPressed}},{key:"shouldNotSnapToGrid",value:function(){return this.altPressed}},{key:"shouldResizeProportionally",value:function(){return this.shiftPressed}},{key:"shouldScrollHorizontally",value:function(){return this.altPressed}},{key:"shouldZoom",value:function(){return Object(p.e)()?this._isControlPressed():!(this._isControlPressed()||this.altPressed||this.shiftPressed)}},{key:"shouldMoveView",value:function(){return this.spacePressed||this.mouseMidButtonPressed}},{key:"focus",value:function(){this.isFocused=!0}},{key:"blur",value:function(){this.isFocused=!1,this.metaPressed=!1,this.altPressed=!1}},{key:"mount",value:function(){"undefined"!==typeof document&&(document.addEventListener("keydown",this._onKeyDown,!0),document.addEventListener("keyup",this._onKeyUp,!0),document.addEventListener("keypress",this._onKeyPress,!0),document.addEventListener("mousedown",this._onMouseDown,!0),document.addEventListener("mouseup",this._onMouseUp,!0))}},{key:"unmount",value:function(){"undefined"!==typeof document&&(document.removeEventListener("keydown",this._onKeyDown,!0),document.removeEventListener("keyup",this._onKeyUp,!0),document.removeEventListener("keypress",this._onKeyPress,!0),document.removeEventListener("mousedown",this._onMouseDown,!0),document.removeEventListener("mouseup",this._onMouseUp,!0))}}]),e}(),f=n(1656),h=n(289),g=n(145),b=n(325),v=function(){function e(t){var n=this,r=t.project,o=t.layout,i=t.instances,s=t.viewPosition,c=t.onInstanceClicked,l=t.onInstanceDoubleClicked,u=t.onOverInstance,d=t.onOutInstance,p=t.onMoveInstance,m=t.onMoveInstanceEnd,f=t.onDownInstance;Object(a.a)(this,e),this.project=r,this.instances=i,this.layout=o,this.viewPosition=s,this.onInstanceClicked=c,this.onInstanceDoubleClicked=l,this.onOverInstance=u,this.onOutInstance=d,this.onMoveInstance=p,this.onMoveInstanceEnd=m,this.onDownInstance=f,this.layersRenderers={},this.pixiContainer=new g.Container,this.temporaryRectangle=new b.a,this.instanceMeasurer={getInstanceAABB:function(e,t){var r=e.getLayer(),a=n.layersRenderers[r];return a?a.getInstanceAABB(e,t):(t.left=e.getX(),t.top=e.getY(),t.right=e.getX(),t.bottom=e.getY(),t)},getUnrotatedInstanceAABB:function(e,t){var r=e.getLayer(),a=n.layersRenderers[r];return a?a.getUnrotatedInstanceAABB(e,t):(t.left=e.getX(),t.top=e.getY(),t.right=e.getX(),t.bottom=e.getY(),t)},getInstanceRect:function(e){var t=n.instanceMeasurer.getInstanceAABB(e,n.temporaryRectangle);return{x:t.left,y:t.top,width:t.width(),height:t.height()}}}}return Object(o.a)(e,[{key:"getPixiContainer",value:function(){return this.pixiContainer}},{key:"getInstanceMeasurer",value:function(){return this.instanceMeasurer}},{key:"render",value:function(){for(var e=0;e<this.layout.getLayersCount();e++){var t=this.layout.getLayerAt(e),n=t.getName(),r=this.layersRenderers[n];r||(this.layersRenderers[n]=r=new f.a({project:this.project,layout:this.layout,instances:this.instances,viewPosition:this.viewPosition,layer:t,onInstanceClicked:this.onInstanceClicked,onInstanceDoubleClicked:this.onInstanceDoubleClicked,onOverInstance:this.onOverInstance,onOutInstance:this.onOutInstance,onMoveInstance:this.onMoveInstance,onMoveInstanceEnd:this.onMoveInstanceEnd,onDownInstance:this.onDownInstance}),this.pixiContainer.addChild(r.getPixiContainer())),r.layer=t,r.wasUsed=!0,r.getPixiContainer().zOrder=e,r.render()}this._updatePixiObjectsZOrder(),this._cleanUnusedLayerRenderers()}},{key:"_updatePixiObjectsZOrder",value:function(){this.pixiContainer.children.sort((function(e,t){return e.zOrder=e.zOrder||0,t.zOrder=t.zOrder||0,e.zOrder-t.zOrder}))}},{key:"resetInstanceRenderersFor",value:function(e){for(var t in this.layersRenderers){if(this.layersRenderers.hasOwnProperty(t))this.layersRenderers[t].resetInstanceRenderersFor(e)}}},{key:"_cleanUnusedLayerRenderers",value:function(){for(var e in this.layersRenderers)if(this.layersRenderers.hasOwnProperty(e)){var t=this.layersRenderers[e];t.wasUsed?t.wasUsed=!1:(this.pixiContainer.removeChild(t.getPixiContainer()),t.delete(),delete this.layersRenderers[e])}}},{key:"delete",value:function(){for(var e in this.layersRenderers)this.layersRenderers.hasOwnProperty(e)&&this.layersRenderers[e].delete();this.pixiContainer.destroy()}}]),e}(),E=n(13);function y(e,t){var n=t.x,r=t.y,a=t.width,o=t.height,i=e(n,r),s=e(n+a,r+o);return{x:i[0],y:i[1],width:s[0]-i[0],height:s[1]-i[1]}}n(447);var C=n(606),j=["TopLeft","BottomLeft","BottomRight","TopRight","Top","Left","Bottom","Right"],O={TopLeft:[0,0],BottomLeft:[0,1],BottomRight:[1,1],TopRight:[1,0],Top:[.5,0],Left:[0,.5],Bottom:[.5,1],Right:[1,.5]},x=function(e){return"Top"!==e&&"Bottom"!==e},k=function(e){return"Left"!==e&&"Right"!==e},T=function(){function e(t){var n=t.instanceMeasurer,r=t.instancesEditorSettings;Object(a.a)(this,e),this._initialSelectionAABB=null,this._unrotatedInstanceAABBs={},this._instanceAABBs={},this._instancePositions={},this.totalDeltaX=0,this.totalDeltaY=0,this._temporaryGrabbingPosition=[0,0],this.instanceMeasurer=n,this.instancesEditorSettings=r}return Object(o.a)(e,[{key:"setInstancesEditorSettings",value:function(e){this.instancesEditorSettings=e}},{key:"_getOrCreateInstanceAABB",value:function(e){var t=this._instanceAABBs[e.ptr];return t||(this._instanceAABBs[e.ptr]=this.instanceMeasurer.getInstanceAABB(e,new b.a))}},{key:"_getOrCreateUnrotatedInstanceAABB",value:function(e){var t=this._unrotatedInstanceAABBs[e.ptr];return t||(this._unrotatedInstanceAABBs[e.ptr]=this.instanceMeasurer.getUnrotatedInstanceAABB(e,new b.a))}},{key:"_getOrCreateInstanceOriginPosition",value:function(e){var t=this._instancePositions[e.ptr];return t||(this._instancePositions[e.ptr]={x:e.getX(),y:e.getY()})}},{key:"_getOrCreateSelectionAABB",value:function(e){var t=this._initialSelectionAABB;if(t)return t;if(!e.length)return null;(t=new b.a).setRectangle(this._getOrCreateInstanceAABB(e[0]));for(var n=1;n<e.length;n++)t.union(this._getOrCreateInstanceAABB(e[n]));return this._initialSelectionAABB=t,t}},{key:"resizeBy",value:function(e,t,n,r,a){this.totalDeltaX+=t,this.totalDeltaY+=n;var o=e.filter((function(e){return!e.isLocked()})),i=this._getOrCreateSelectionAABB(o);if(i){var s=O[r],c=i.left+i.width()*s[0],l=i.top+i.height()*s[1],u=this._temporaryGrabbingPosition;u[0]=c+this.totalDeltaX,u[1]=l+this.totalDeltaY,this.instancesEditorSettings.snap&&this.instancesEditorSettings.grid?Object(C.b)(u,this.instancesEditorSettings.gridWidth,this.instancesEditorSettings.gridHeight,this.instancesEditorSettings.gridOffsetX,this.instancesEditorSettings.gridOffsetY,this.instancesEditorSettings.gridType):(u[0]=Math.round(u[0]),u[1]=Math.round(u[1]));var d=u[0]-c,p=u[1]-l;x(r)||(d=0),k(r)||(p=0);var m="TopLeft"===r||"BottomLeft"===r||"Left"===r?-d:d,f="TopLeft"===r||"TopRight"===r||"Top"===r?-p:p,h=0!==i.width()?(i.width()+m)/i.width():m,g=0!==i.height()?(i.height()+f)/i.height():f,b=function(e){for(var t=0;t<e.length;t++)if(e[t].getAngle()%90!==0)return!0;return!1}(o);(a||b)&&(!k(r)||x(r)&&m*i.height()>f*i.width()?g=h:h=g),h=Math.max(0!==i.width()?1/i.width():1e-5,h),g=Math.max(0!==i.height()?1/i.height():1e-5,g);for(var v=i.right-O[r][0]*i.width(),E=i.bottom-O[r][1]*i.height(),y=0;y<o.length;y++){var j=o[y],T=this._getOrCreateUnrotatedInstanceAABB(j),w=this._getOrCreateInstanceOriginPosition(j),S=0!==T.width()?T.width():1,P=0!==T.height()?T.height():1,_=(j.getAngle()%360+360)%360;if(a||b||90!==_&&270!==_)j.setCustomWidth(h*S),j.setCustomHeight(g*P),j.setHasCustomSize(!0),j.setX((w.x-v)*h+v),j.setY((w.y-E)*g+E);else{j.setCustomWidth(g*S),j.setCustomHeight(h*P),j.setHasCustomSize(!0);var I=(T.centerX()-v)*h+v,N=(T.centerY()-E)*g+E,A=g*(w.x-T.centerX()),R=h*(w.y-T.centerY());j.setX(I+A),j.setY(N+R)}}}}},{key:"endResize",value:function(){this._initialSelectionAABB=null,this._unrotatedInstanceAABBs={},this._instanceAABBs={},this._instancePositions={},this.totalDeltaX=0,this.totalDeltaY=0}}]),e}(),w={TopLeft:"nwse-resize",BottomLeft:"nesw-resize",BottomRight:"nwse-resize",TopRight:"nesw-resize",Top:"ns-resize",Left:"ew-resize",Bottom:"ns-resize",Right:"ew-resize"},S=function(){function e(t){var n=this,r=t.instancesSelection,o=t.instanceMeasurer,i=t.onResize,s=t.onResizeEnd,c=t.onRotate,l=t.onRotateEnd,u=t.toCanvasCoordinates,d=t.screenType;Object(a.a)(this,e),this.pixiContainer=new g.Container,this.rectanglesContainer=new g.Container,this.selectedRectangles=[],this.resizeButtons={},this.rotateButton=new g.Graphics,this.instanceMeasurer=o,this.onResize=i,this.onResizeEnd=s,this.onRotate=c,this.onRotateEnd=l,this.toCanvasCoordinates=u,this.instancesSelection=r,this._screenType=d,this.pixiContainer.addChild(this.rectanglesContainer);var p,m=Object(E.a)(j);try{var f=function(){var e=p.value,t=new g.Graphics;n.resizeButtons[e]=t,n._makeButton(t,(function(t){n.onResize(t.deltaX,t.deltaY,e)}),(function(){n.onResizeEnd()}),w[e])};for(m.s();!(p=m.n()).done;)f()}catch(h){m.e(h)}finally{m.f()}this._makeButton(this.rotateButton,(function(e){n.onRotate(e.deltaX,e.deltaY)}),(function(){n.onRotateEnd()}),'url("res/actions/rotate24.png"),auto')}return Object(o.a)(e,[{key:"setScreenType",value:function(e){this._screenType=e}},{key:"_makeButton",value:function(e,t,n,r){e.interactive=!0,e.buttonMode=!0,e.cursor=r,d.a.panable(e),e.on("panmove",t),e.on("panend",n),this.pixiContainer.addChild(e)}},{key:"getPixiContainer",value:function(){return this.pixiContainer}},{key:"_renderButton",value:function(e,t,n,r,a,o){t.clear(),e?(t.beginFill(16777215),t.lineStyle(1,6842600,1),t.fill.alpha=.9,0===a?t.drawRect(n[0],n[1],r,r):1===a&&t.drawCircle(n[0]+r/2,n[1]+r/2,r/2),t.endFill(),t.hitArea=new g.Rectangle(n[0]-o,n[1]-o,r+2*o,r+2*o)):t.hitArea=new g.Rectangle(0,0,0,0)}},{key:"render",value:function(){for(var e="touch"===this._screenType?{bigButtonSize:14,smallButtonSize:12,buttonPadding:5,hitAreaPadding:12}:{bigButtonSize:10,smallButtonSize:8,buttonPadding:5,hitAreaPadding:5},t=e.bigButtonSize,n=e.smallButtonSize,r=e.buttonPadding,a=e.hitAreaPadding,o=this.instancesSelection.getSelectedInstances(),i=0,s=0,c=0,l=0,u=!1,d=0;d<o.length;d++){if(this.selectedRectangles.length===d){var p=new g.Graphics;p.hitArea=new g.Rectangle(0,0,0,0),this.selectedRectangles.push(p),this.rectanglesContainer.addChild(p)}var m=o[d],f=this.instanceMeasurer.getInstanceRect(m),h=y(this.toCanvasCoordinates,f);this.selectedRectangles[d].clear();var b=m.isLocked()?12343123:6842600;this.selectedRectangles[d].beginFill(b),this.selectedRectangles[d].lineStyle(1,b,1),this.selectedRectangles[d].fill.alpha=.3,this.selectedRectangles[d].alpha=.8,this.selectedRectangles[d].drawRect(h.x,h.y,h.width,h.height),this.selectedRectangles[d].endFill(),m.isLocked()||(u?(f.x<i&&(i=f.x),f.y<s&&(s=f.y),f.x+f.width>c&&(c=f.x+f.width),f.y+f.height>l&&(l=f.y+f.height)):(i=f.x,s=f.y,c=f.x+f.width,l=f.y+f.height,u=!0))}for(;this.selectedRectangles.length>o.length;)this.rectanglesContainer.removeChild(this.selectedRectangles.pop());var v,C=0!==o.filter((function(e){return!e.isLocked()})).length,T=Object(E.a)(j);try{for(T.s();!(v=T.n()).done;){var w=v.value,S=this.resizeButtons[w],P=O[w],_=x(w)&&k(w)?t:n,I=r+_/2,N=this.toCanvasCoordinates(i-I+P[0]*(c-i+2*I),s-I+P[1]*(l-s+2*I));N[0]-=_/2,N[1]-=_/2,this._renderButton(C,S,N,_,0,a)}}catch(R){T.e(R)}finally{T.f()}var A=this.toCanvasCoordinates(i+(c-i)/2,s);A[0]-=n/2,A[1]-=8*r,this._renderButton(C,this.rotateButton,A,n,1,a)}}]),e}(),P=function(){function e(t){var n=t.instanceMeasurer,r=t.toCanvasCoordinates;Object(a.a)(this,e),this.instanceMeasurer=n,this.toCanvasCoordinates=r,this.highlightedInstance=null,this.highlightRectangle=new g.Graphics,this.highlightRectangle.hitArea=new g.Rectangle(0,0,0,0),this.tooltipBackground=new g.Graphics,this.tooltipText=new g.Text("",{fontSize:15,fill:16777215,align:"center"}),this.highlightRectangle.addChild(this.tooltipBackground),this.highlightRectangle.addChild(this.tooltipText)}return Object(o.a)(e,[{key:"setInstance",value:function(e){this.highlightedInstance=e}},{key:"getInstance",value:function(){return this.highlightedInstance}},{key:"getPixiObject",value:function(e){return this.highlightRectangle}},{key:"render",value:function(){if(null!==this.highlightedInstance){var e=y(this.toCanvasCoordinates,this.instanceMeasurer.getInstanceRect(this.highlightedInstance));this.highlightRectangle.visible=!0,this.highlightRectangle.clear(),this.highlightRectangle.beginFill(15658751),this.highlightRectangle.fill.alpha=.1,this.highlightRectangle.alpha=.8,this.highlightRectangle.lineStyle(1,0,1),this.highlightRectangle.drawRect(e.x,e.y,e.width,e.height),this.highlightRectangle.endFill();var t=this.highlightedInstance.getObjectName()+"\nX: "+parseInt(this.highlightedInstance.getX())+"  Y: "+parseInt(this.highlightedInstance.getY())+"\nLayer: "+this.highlightedInstance.getLayer()+"  Z: "+this.highlightedInstance.getZOrder()+"\n";this.tooltipText.text=t,this.tooltipText.x=Math.round(e.x-this.tooltipText.width/2+e.width/2),this.tooltipText.y=Math.round(e.y-this.tooltipText.height);this.tooltipBackground.clear(),this.tooltipBackground.beginFill(0,.8),this.tooltipBackground.drawRoundedRect(this.tooltipText.x-5,this.tooltipText.y-5,this.tooltipText.width+10,this.tooltipText.height-5,4),this.tooltipBackground.endFill()}else this.highlightRectangle.visible=!1}}]),e}(),_=n(1659),I=function(){function e(t){Object(a.a)(this,e),this._instanceAngles={},this._instancePositions={},this._instanceAABBs={},this.totalDeltaX=0,this.totalDeltaY=0,this._fixedPointIsUpToDate=!1,this._fixedPoint=[0,0],this._instanceMeasurer=t}return Object(o.a)(e,[{key:"_getNewAngle",value:function(e,t){var n=180*Math.atan2(this.totalDeltaY,this.totalDeltaX)/Math.PI+90+t;return e?15*Math.round(n/15):n}},{key:"_getOrCreateInstanceAABB",value:function(e){var t=this._instanceAABBs[e.ptr];return t||(this._instanceAABBs[e.ptr]=this._instanceMeasurer.getInstanceAABB(e,new b.a))}},{key:"_getOrCreateInstanceOriginPosition",value:function(e){var t=this._instancePositions[e.ptr];return t||(this._instancePositions[e.ptr]={x:e.getX(),y:e.getY()})}},{key:"_getOrCreateInstanceAngle",value:function(e){var t=this._instanceAngles[e.ptr];return void 0!==t?t:this._instanceAngles[e.ptr]=e.getAngle()}},{key:"rotateBy",value:function(e,t,n,r){var a=e.filter((function(e){return!e.isLocked()}));if(!this._fixedPointIsUpToDate){this._fixedPointIsUpToDate=!0;var o=new b.a;o.setRectangle(this._getOrCreateInstanceAABB(a[0]));for(var i=1;i<a.length;i++)o.union(this._getOrCreateInstanceAABB(a[i]));this._fixedPoint[0]=o.centerX(),this._fixedPoint[1]=o.centerY(),this.totalDeltaY-=o.height()/2}this.totalDeltaX+=t,this.totalDeltaY+=n;for(var s=0;s<a.length;s++){var c=a[s],l=this._getOrCreateInstanceAABB(c),u=this._getOrCreateInstanceAngle(c),d=this._getOrCreateInstanceOriginPosition(c),p=this._getNewAngle(r,u);c.setAngle((p%360+360)%360);var m=(p-u)*Math.PI/180,f=Math.cos(-m),h=Math.sin(-m),g=l.centerX()-this._fixedPoint[0],v=l.centerY()-this._fixedPoint[1];c.setX(this._fixedPoint[0]+(d.x-l.centerX())+f*g+h*v),c.setY(this._fixedPoint[1]+(d.y-l.centerY())-h*g+f*v)}}},{key:"endRotate",value:function(){this._instanceAngles={},this._instancePositions={},this._instanceAABBs={},this.totalDeltaX=0,this.totalDeltaY=0,this._fixedPointIsUpToDate=!1}}]),e}(),N=function(){function e(t){var n=t.instanceMeasurer,r=t.instancesEditorSettings;Object(a.a)(this,e),this._initialSelectionAABB=null,this._startX=0,this._startY=0,this.instanceMeasurer=n,this.instancesEditorSettings=r,this.instancePositions={},this.totalDeltaX=0,this.totalDeltaY=0,this._temporaryPoint=[0,0]}return Object(o.a)(e,[{key:"setInstancesEditorSettings",value:function(e){this.instancesEditorSettings=e}},{key:"_getMoveDeltaX",value:function(e,t,n){return n&&Math.abs(e)<Math.abs(t)?0:e}},{key:"_getMoveDeltaY",value:function(e,t,n){return n&&Math.abs(t)<Math.abs(e)?0:t}},{key:"_getOrCreateSelectionAABB",value:function(e){if(this._initialSelectionAABB)return this._initialSelectionAABB;if(!e.length)return null;var t=new b.a;this.instanceMeasurer.getInstanceAABB(e[0],t);for(var n=new b.a,r=1;r<e.length;r++)this.instanceMeasurer.getInstanceAABB(e[r],n),t.union(n);return this._initialSelectionAABB=t,t}},{key:"startMove",value:function(e,t){this._startX=e,this._startY=t}},{key:"moveBy",value:function(e,t,n,r,a){this.totalDeltaX+=t,this.totalDeltaY+=n;var o=e.filter((function(e){return!e.isLocked()})),i=this._getOrCreateSelectionAABB(o);if(i){var s=this._startX<i.centerX(),c=this._startY<i.centerY(),l=s?i.left:i.right,u=c?i.top:i.bottom,d=this._temporaryPoint;d[0]=l+this.totalDeltaX,d[1]=u+this.totalDeltaY,this.instancesEditorSettings.snap&&this.instancesEditorSettings.grid&&!a?Object(C.a)(d,this.instancesEditorSettings.gridWidth,this.instancesEditorSettings.gridHeight,this.instancesEditorSettings.gridOffsetX,this.instancesEditorSettings.gridOffsetY,this.instancesEditorSettings.gridType):(d[0]=Math.round(d[0]),d[1]=Math.round(d[1]));for(var p=d[0]-l,m=d[1]-u,f=0;f<o.length;f++){var h=o[f],g=this.instancePositions[h.ptr];g||(g=this.instancePositions[h.ptr]={x:h.getX(),y:h.getY()}),h.setX(g.x+this._getMoveDeltaX(p,m,r)),h.setY(g.y+this._getMoveDeltaY(p,m,r))}}}},{key:"endMove",value:function(){this._initialSelectionAABB=null,this.instancePositions={},this.totalDeltaX=0,this.totalDeltaY=0}}]),e}(),A=function(){function e(t){var n=t.viewPosition,r=t.instancesEditorSettings;Object(a.a)(this,e),this.pixiGrid=new g.Graphics,this.viewPosition=n,this.instancesEditorSettings=r,this.pixiGrid.hitArea=new g.Rectangle(0,0,0,0)}return Object(o.a)(e,[{key:"setInstancesEditorSettings",value:function(e){this.instancesEditorSettings=e}},{key:"getPixiObject",value:function(){return this.pixiGrid}},{key:"render",value:function(){var e=this.instancesEditorSettings;if(e.grid){var t=e.gridColor,n=e.gridAlpha;this.pixiGrid.visible=!0,this.pixiGrid.clear(),this.pixiGrid.beginFill(t),this.pixiGrid.lineStyle(1,t,1),this.pixiGrid.alpha=n;var r=this.viewPosition.toSceneCoordinates(0,0),a=this.viewPosition.toSceneCoordinates(this.viewPosition.getWidth(),this.viewPosition.getHeight()),o=(e.gridOffsetX%e.gridWidth+e.gridWidth)%e.gridWidth,i=(e.gridOffsetY%e.gridHeight+e.gridHeight)%e.gridHeight,s=Math.floor((r[0]-o)/e.gridWidth)*e.gridWidth+o,c=Math.floor((r[1]-i)/e.gridHeight)*e.gridHeight+i,l=Math.ceil((a[0]-o)/e.gridWidth)*e.gridWidth+o,u=Math.ceil((a[1]-i)/e.gridHeight)*e.gridHeight+i;if("isometric"===e.gridType){for(var d=Math.round((l-s)/e.gridWidth),p=Math.round((u-c)/e.gridHeight),m=d+p,f=0;f<m;++f){var h=void 0,g=void 0;f<d?(h=s+e.gridWidth/2+f*e.gridWidth,g=c):(h=l,g=c+e.gridHeight/2+(f-d)*e.gridHeight);var b=void 0,v=void 0;f<p?(b=s,v=c+e.gridHeight/2+f*e.gridHeight):(b=s+e.gridWidth/2+(f-p)*e.gridWidth,v=u);var E=this.viewPosition.toCanvasCoordinates(h,g),y=this.viewPosition.toCanvasCoordinates(b,v);this.pixiGrid.moveTo(E[0],E[1]),this.pixiGrid.lineTo(y[0],y[1])}for(var C=0;C<m;++C){var j=void 0,O=void 0;C<p?(j=s,O=c+e.gridHeight/2+(p-1-C)*e.gridHeight):(j=s+e.gridWidth/2+(C-p)*e.gridWidth,O=c);var x=void 0,k=void 0;C<d?(x=s+e.gridWidth/2+C*e.gridWidth,k=u):(x=l,k=c+e.gridHeight/2+(m-1-C)*e.gridHeight);var T=this.viewPosition.toCanvasCoordinates(j,O),w=this.viewPosition.toCanvasCoordinates(x,k);this.pixiGrid.moveTo(T[0],T[1]),this.pixiGrid.lineTo(w[0],w[1])}}else{for(var S=s;S<l;S+=e.gridWidth){var P=this.viewPosition.toCanvasCoordinates(S,c),_=this.viewPosition.toCanvasCoordinates(S,u);this.pixiGrid.moveTo(P[0],P[1]),this.pixiGrid.lineTo(_[0],_[1])}for(var I=c;I<u;I+=e.gridHeight){var N=this.viewPosition.toCanvasCoordinates(s,I),A=this.viewPosition.toCanvasCoordinates(l,I);this.pixiGrid.moveTo(N[0],N[1]),this.pixiGrid.lineTo(A[0],A[1])}}this.pixiGrid.endFill()}else this.pixiGrid.visible=!1}}]),e}(),R=n(188),M=function(){function e(t){var n=t.project,r=t.layout,o=t.toCanvasCoordinates;Object(a.a)(this,e),this.pixiRectangle=new g.Graphics,this.project=n,this.layout=r,this.toCanvasCoordinates=o,this.pixiRectangle.hitArea=new g.Rectangle(0,0,0,0),this.windowRectangle={x:0,y:0,width:this.project.getGameResolutionWidth(),height:this.project.getGameResolutionHeight()}}return Object(o.a)(e,[{key:"getPixiObject",value:function(){return this.pixiRectangle}},{key:"render",value:function(){this.windowRectangle.width=this.project.getGameResolutionWidth(),this.windowRectangle.height=this.project.getGameResolutionHeight();var e=y(this.toCanvasCoordinates,this.windowRectangle);this.pixiRectangle.clear(),this.pixiRectangle.beginFill(0),this.pixiRectangle.lineStyle(1,Object(R.h)(128+this.layout.getBackgroundColorRed()%256,128+this.layout.getBackgroundColorBlue()%256,128+this.layout.getBackgroundColorGreen()%256),1),this.pixiRectangle.alpha=1,this.pixiRectangle.fill.alpha=0,this.pixiRectangle.drawRect(e.x,e.y,e.width,e.height),this.pixiRectangle.endFill()}}]),e}(),F=function(){function e(t){var n=t.project,r=t.viewPosition,o=t.instancesEditorSettings;Object(a.a)(this,e),this.pixiRectangle=new g.Graphics,this.windowRectangle={x:0,y:0,width:0,height:0},this.project=n,this.viewPosition=r,this.instancesEditorSettings=o,this.pixiRectangle.hitArea=new g.Rectangle(0,0,0,0)}return Object(o.a)(e,[{key:"setInstancesEditorSettings",value:function(e){this.instancesEditorSettings=e}},{key:"getPixiObject",value:function(){return this.pixiRectangle}},{key:"render",value:function(){if(this.instancesEditorSettings.windowMask){var e=this.project.getGameResolutionWidth(),t=this.project.getGameResolutionHeight();this.windowRectangle.x=this.viewPosition.getViewX()-e/2,this.windowRectangle.y=this.viewPosition.getViewY()-t/2,this.windowRectangle.width=e,this.windowRectangle.height=t;var n=y(this.viewPosition.toCanvasCoordinates,this.windowRectangle);this.pixiRectangle.visible=!0,this.pixiRectangle.clear(),this.pixiRectangle.beginFill(0),this.pixiRectangle.lineStyle(1,0,1),this.pixiRectangle.alpha=1,this.pixiRectangle.fill.alpha=0,this.pixiRectangle.drawRect(n.x,n.y,n.width,n.height),this.pixiRectangle.endFill()}else this.pixiRectangle.visible=!1}}]),e}(),L=function(){function e(t){var n=t.layout,r=t.pixiRenderer;Object(a.a)(this,e),this.layout=n,this.pixiRenderer=r}return Object(o.a)(e,[{key:"render",value:function(){this.pixiRenderer.backgroundColor=parseInt(parseInt(Object(R.g)(this.layout.getBackgroundColorRed(),this.layout.getBackgroundColorGreen(),this.layout.getBackgroundColorBlue()),16),10)}}]),e}(),B=function(){function e(t){Object(a.a)(this,e),this._lastFrameTime=Date.now(),this._interval=1e3/t,this._forceUpdate=!1}return Object(o.a)(e,[{key:"shouldUpdate",value:function(){var e=Date.now(),t=e-this._lastFrameTime;return!!(t>this._interval||this._forceUpdate)&&(this._lastFrameTime=e-t%this._interval,this._forceUpdate=!1,!0)}},{key:"forceNextUpdate",value:function(){this._forceUpdate=!0}}]),e}(),D=function(){var e=g.Ticker&&g.Ticker.shared;e&&e.stop()},U=function(){setTimeout((function(){var e=g.Ticker&&g.Ticker.shared;e&&e.start()}),50)},G=n(26),V=function(){function e(t){var n=t.getLastCursorSceneCoordinates,r=t.width,o=t.height;Object(a.a)(this,e),this._getLastCursorSceneCoordinates=n,this._statusBarContainer=new g.Container,this._statusBarContainer.alpha=.8,this._statusBarContainer.hitArea=new g.Rectangle(0,0,0,0),this._statusBarBackground=new g.Graphics,this._statusBarText=new g.Text("",{fontSize:15,fill:16777215,align:"left"}),this._statusBarContainer.addChild(this._statusBarBackground),this._statusBarContainer.addChild(this._statusBarText),this.resize(r,o)}return Object(o.a)(e,[{key:"resize",value:function(e,t){this._width=e,this._height=t}},{key:"getPixiObject",value:function(){return this._statusBarContainer}},{key:"render",value:function(){var e=this._getLastCursorSceneCoordinates(),t=Object(G.a)(e,2),n=t[0],r=t[1];this._statusBarText.text="".concat(n.toFixed(0),";").concat(r.toFixed(0)),this._statusBarText.position.x=5,this._statusBarText.position.y=Math.round(this._height-5-this._statusBarText.height),this._statusBarBackground.clear(),this._statusBarBackground.beginFill(0,.8),this._statusBarBackground.drawRoundedRect(-4,this._height-10-this._statusBarText.height,this._statusBarText.width+10+4,this._statusBarText.height+10+4,4),this._statusBarBackground.endFill()}}]),e}(),W=function(){function e(t){var n=t.canvas,r=t.shouldMoveView;Object(a.a)(this,e),this.canvas=n,this.shouldMoveView=r}return Object(o.a)(e,[{key:"render",value:function(){if(this.shouldMoveView())return this.canvas.style.cursor="grab",void("grab"!==this.canvas.style.cursor&&(this.canvas.style.cursor="-webkit-grab"));this.canvas.style.cursor="default"}}]),e}(),H=n(1660),z=n(803),Y=n(926),q=n(882),X=function e(t){var n=this,r=t.canvas,o=t.onLongTouch;Object(a.a)(this,e),this._lastTouchX=0,this._lastTouchY=0,this._onTouchStart=function(e){if(1===e.touches.length){var t=e.touches[0];n._lastTouchX=t.clientX,n._lastTouchY=t.clientY,n._clear(),n._longTouchTimeoutID=setTimeout((function(){n._onLongTouch&&n._onLongTouch({clientX:n._lastTouchX,clientY:n._lastTouchY})}),600)}},this._onTouchMove=function(e){if(1===e.touches.length){var t=e.touches[0];(Math.abs(t.clientX-n._lastTouchX)>10||Math.abs(t.clientY-n._lastTouchY)>10)&&n._clear()}else n._clear()},this._clear=function(){clearTimeout(n._longTouchTimeoutID)},this.unmount=function(){n._canvas.removeEventListener("touchstart",n._onTouchStart),n._canvas.removeEventListener("touchmove",n._onTouchMove),n._canvas.removeEventListener("touchend",n._clear)},this._canvas=r,this._onLongTouch=o,r.addEventListener("touchstart",this._onTouchStart),r.addEventListener("touchmove",this._onTouchMove),r.addEventListener("touchend",this._clear)};n.d(t,"a",(function(){return Z}));var K={canvasArea:{flex:1,position:"absolute",overflow:"hidden"},dropCursor:{cursor:"copy"}},J=Object(z.a)(Y.b),Z=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).lastContextMenuX=0,e.lastContextMenuY=0,e.lastCursorX=0,e.lastCursorY=0,e.fpsLimiter=new B(28),e._unmounted=!1,e._renderingPaused=!1,e.getZoomFactor=function(){return e.props.instancesEditorSettings.zoomFactor},e.setZoomFactor=function(t){e.props.onChangeInstancesEditorSettings(Object(r.a)(Object(r.a)({},e.props.instancesEditorSettings),{},{zoomFactor:Math.max(Math.min(t,10),.01)}))},e.addInstances=function(t,n){return e._instancesAdder.addInstances(t,n)},e._onMouseMove=function(t,n){e.lastCursorX=t,e.lastCursorY=n},e._onBackgroundClicked=function(t,n){e.lastCursorX=t,e.lastCursorY=n,e.pixiRenderer.view.focus(),e.keyboardShortcuts.shouldMoveView()||e.selectionRectangle.startSelectionRectangle(t,n),e.keyboardShortcuts.shouldMultiSelect()||e.keyboardShortcuts.shouldMoveView()||(e.props.instancesSelection.clearSelection(),e.props.onInstancesSelected([]))},e._onPanMove=function(t,n,r,a){if(e.keyboardShortcuts.shouldMoveView()){var o=t/e.getZoomFactor(),i=n/e.getZoomFactor();e.viewPosition.scrollBy(-o,-i),e.props.onViewPositionChanged&&e.props.onViewPositionChanged(e.viewPosition)}else e.selectionRectangle.updateSelectionRectangle(r,a)},e._getLayersVisibility=function(){for(var t=e.props.layout,n={},r=0;r<t.getLayersCount();r++)n[t.getLayerAt(r).getName()]=t.getLayerAt(r).getVisibility();return n},e._onPanEnd=function(){if(e.selectionRectangle.hasStartedSelectionRectangle()){var t=e.selectionRectangle.endSelectionRectangle();e.props.instancesSelection.selectInstances(t,e.keyboardShortcuts.shouldMultiSelect(),e._getLayersVisibility()),t=e.props.instancesSelection.getSelectedInstances(),e.props.onInstancesSelected(t)}},e._onInstanceClicked=function(t){e.pixiRenderer.view.focus()},e._onInstanceDoubleClicked=function(t){e.props.onInstanceDoubleClicked(t)},e._onOverInstance=function(t){e.highlightedInstance.setInstance(t)},e._onDownInstance=function(t,n,r){if(!e.keyboardShortcuts.shouldMoveView()){if(e.keyboardShortcuts.shouldCloneInstances())for(var a=e.props.instancesSelection.getSelectedInstances(),o=0;o<a.length;o++){var i=a[o];e.props.initialInstances.insertInitialInstance(i).resetPersistentUuid()}else e.props.instancesSelection.selectInstance(t,e.keyboardShortcuts.shouldMultiSelect(),e._getLayersVisibility()),e.props.onInstancesSelected&&e.props.onInstancesSelected(e.props.instancesSelection.getSelectedInstances());e.instancesMover.startMove(n,r)}},e._onOutInstance=function(t){t===e.highlightedInstance.getInstance()&&e.highlightedInstance.setInstance(null)},e._onMoveInstance=function(t,n,r){var a=n/e.getZoomFactor(),o=r/e.getZoomFactor();if(e.keyboardShortcuts.shouldMoveView())return e.viewPosition.scrollBy(-a,-o),void(e.props.onViewPositionChanged&&e.props.onViewPositionChanged(e.viewPosition));e.props.instancesSelection.isInstanceSelected(t)||e._onInstanceClicked(t);var i=e.props.instancesSelection.getSelectedInstances();e.instancesMover.moveBy(i,a,o,e.keyboardShortcuts.shouldFollowAxis(),e.keyboardShortcuts.shouldNotSnapToGrid())},e._onMoveInstanceEnd=function(){e.instancesMover.endMove();var t=e.props.instancesSelection.getSelectedInstances();e.props.onInstancesMoved(t)},e._onResize=function(t,n,r){var a=t/e.getZoomFactor(),o=n/e.getZoomFactor(),i=e.props.instancesSelection.getSelectedInstances(),s="touch"===e.props.screenType&&x(r)&&k(r)||e.keyboardShortcuts.shouldResizeProportionally();e.instancesResizer.resizeBy(i,a,o,r,s)},e._onResizeEnd=function(){e.instancesResizer.endResize();var t=e.props.instancesSelection.getSelectedInstances();e.props.onInstancesResized(t)},e._onRotate=function(t,n){var r=t/e.getZoomFactor(),a=n/e.getZoomFactor(),o=e.props.instancesSelection.getSelectedInstances();e.instancesRotator.rotateBy(o,r,a,e.keyboardShortcuts.shouldResizeProportionally())},e._onRotateEnd=function(){e.instancesRotator.endRotate();var t=e.props.instancesSelection.getSelectedInstances();e.props.onInstancesRotated(t)},e.clearHighlightedInstance=function(){e.highlightedInstance.setInstance(null)},e.moveSelection=function(t,n){var r=e.props.instancesSelection.getSelectedInstances().filter((function(e){return!e.isLocked()}));r.forEach((function(e){e.setX(e.getX()+t),e.setY(e.getY()+n)})),e.props.onInstancesMoved(r)},e.getLastContextMenuSceneCoordinates=function(){return e.viewPosition.toSceneCoordinates(e.lastContextMenuX,e.lastContextMenuY)},e.getLastCursorSceneCoordinates=function(){return e.viewPosition.toSceneCoordinates(e.lastCursorX,e.lastCursorY)},e.getViewPosition=function(){return e.viewPosition},e._renderScene=function(){e._unmounted||e._renderingPaused||(e.fpsLimiter.shouldUpdate()&&(e.backgroundColor.render(),e.viewPosition.render(),e.canvasCursor.render(),e.grid.render(),e.instancesRenderer.render(),e.highlightedInstance.render(),e.selectedInstances.render(),e.selectionRectangle.render(),e.windowBorder.render(),e.windowMask.render(),e.statusBar.render(),e.pixiRenderer.render(e.pixiContainer)),e.nextFrame=requestAnimationFrame(e._renderScene))},e.pauseSceneRendering=function(){e.nextFrame&&cancelAnimationFrame(e.nextFrame),e._renderingPaused=!0,D()},e.restartSceneRendering=function(){e._renderingPaused=!1,e._renderScene(),U()},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.canvasArea&&!this.pixiRenderer&&this._initializeCanvasAndRenderer()}},{key:"componentDidUpdate",value:function(){this.canvasArea&&!this.pixiRenderer&&this._initializeCanvasAndRenderer()}},{key:"_initializeCanvasAndRenderer",value:function(){var e=this,t=this.canvasArea;if(t){var n=this.props.project;this.pixiRenderer=g.autoDetectRenderer({width:this.props.width,height:this.props.height,preserveDrawingBuffer:!0,antialias:!1}),t.appendChild(this.pixiRenderer.view),this.longTouchHandler=new X({canvas:this.pixiRenderer.view,onLongTouch:function(t){return e.props.onContextMenu(t.clientX,t.clientY)}}),this.pixiRenderer.view.addEventListener("contextmenu",(function(t){return t.preventDefault(),e.lastContextMenuX=t.offsetX,e.lastContextMenuY=t.offsetY,e.props.onContextMenu&&e.props.onContextMenu(t.clientX,t.clientY),!1})),this.pixiRenderer.view.onwheel=function(t){var n=e.getZoomFactor();if(e.keyboardShortcuts.shouldZoom())e.zoomOnCursorBy(-t.deltaY/5e3);else if(e.keyboardShortcuts.shouldScrollHorizontally()){var r=t.deltaY/(5*n);e.viewPosition.scrollBy(-r,0)}else{var a=t.deltaX/(5*n),o=t.deltaY/(5*n);e.viewPosition.scrollBy(a,o)}e.props.onViewPositionChanged&&e.props.onViewPositionChanged(e.viewPosition),t.preventDefault()},this.pixiRenderer.view.setAttribute("tabIndex",-1),this.pixiRenderer.view.addEventListener("focus",(function(t){e.keyboardShortcuts.focus()})),this.pixiRenderer.view.addEventListener("blur",(function(t){e.keyboardShortcuts.blur()})),this.pixiRenderer.view.addEventListener("mouseover",(function(t){e.keyboardShortcuts.focus()})),this.pixiRenderer.view.addEventListener("mouseout",(function(t){e.keyboardShortcuts.blur()})),this.pixiContainer=new g.Container,this.backgroundArea=new g.Container,this.backgroundArea.hitArea=new g.Rectangle(0,0,this.props.width,this.props.height),d.a.panable(this.backgroundArea),this.backgroundArea.on("mousedown",(function(t){return e._onBackgroundClicked(t.data.global.x,t.data.global.y)})),this.backgroundArea.on("touchstart",(function(t){Object(q.b)(t.data&&t.data.originalEvent)||e._onBackgroundClicked(t.data.global.x,t.data.global.y)})),this.backgroundArea.on("mousemove",(function(t){var n=t.data.global.x||0,r=t.data.global.y||0;e._onMouseMove(n,r)})),this.backgroundArea.on("panmove",(function(t){return e._onPanMove(t.deltaX,t.deltaY,t.data.global.x,t.data.global.y)})),this.backgroundArea.on("panend",(function(t){return e._onPanEnd()})),this.pixiContainer.addChild(this.backgroundArea),this.viewPosition=new h.a({initialViewX:n?n.getGameResolutionWidth()/2:0,initialViewY:n?n.getGameResolutionHeight()/2:0,width:this.props.width,height:this.props.height,instancesEditorSettings:this.props.instancesEditorSettings}),this.pixiContainer.addChild(this.viewPosition.getPixiContainer()),this.grid=new A({viewPosition:this.viewPosition,instancesEditorSettings:this.props.instancesEditorSettings}),this.pixiContainer.addChild(this.grid.getPixiObject()),this.keyboardShortcuts=new m({onDelete:this.props.onDeleteSelection,onMove:this.moveSelection,onCopy:this.props.onCopy,onCut:this.props.onCut,onPaste:this.props.onPaste,onUndo:this.props.onUndo,onRedo:this.props.onRedo,onZoomOut:this.props.onZoomOut,onZoomIn:this.props.onZoomIn}),this.pinchHandler=new q.a({canvas:this.pixiRenderer.view,setZoomFactor:this.setZoomFactor,getZoomFactor:this.getZoomFactor,viewPosition:this.viewPosition}),this.canvasCursor=new W({canvas:t,shouldMoveView:function(){return e.keyboardShortcuts.shouldMoveView()}}),this._instancesAdder=new H.a({instances:this.props.initialInstances,instancesEditorSettings:this.props.instancesEditorSettings}),this._mountEditorComponents(this.props),this._renderScene()}}},{key:"forceRemount",value:function(){this._mountEditorComponents(this.props)}},{key:"_mountEditorComponents",value:function(e){this.highlightedInstance&&this.pixiContainer.removeChild(this.highlightedInstance.getPixiObject()),this.selectedInstances&&this.pixiContainer.removeChild(this.selectedInstances.getPixiContainer()),this.instancesRenderer&&(this.viewPosition.getPixiContainer().removeChild(this.instancesRenderer.getPixiContainer()),this.instancesRenderer.delete()),this.selectionRectangle&&(this.pixiContainer.removeChild(this.selectionRectangle.getPixiObject()),this.selectionRectangle.delete()),this.windowBorder&&this.pixiContainer.removeChild(this.windowBorder.getPixiObject()),this.windowMask&&this.pixiContainer.removeChild(this.windowMask.getPixiObject()),this.statusBar&&this.pixiContainer.removeChild(this.statusBar.getPixiObject()),this.backgroundColor=new L({layout:e.layout,pixiRenderer:this.pixiRenderer}),this.instancesRenderer=new v({project:e.project,layout:e.layout,instances:e.initialInstances,viewPosition:this.viewPosition,onOverInstance:this._onOverInstance,onMoveInstance:this._onMoveInstance,onMoveInstanceEnd:this._onMoveInstanceEnd,onDownInstance:this._onDownInstance,onOutInstance:this._onOutInstance,onInstanceClicked:this._onInstanceClicked,onInstanceDoubleClicked:this._onInstanceDoubleClicked}),this.selectionRectangle=new _.a({instances:e.initialInstances,instanceMeasurer:this.instancesRenderer.getInstanceMeasurer(),toSceneCoordinates:this.viewPosition.toSceneCoordinates}),this.selectedInstances=new S({instancesSelection:this.props.instancesSelection,onResize:this._onResize,onResizeEnd:this._onResizeEnd,onRotate:this._onRotate,onRotateEnd:this._onRotateEnd,instanceMeasurer:this.instancesRenderer.getInstanceMeasurer(),toCanvasCoordinates:this.viewPosition.toCanvasCoordinates,screenType:this.props.screenType}),this.highlightedInstance=new P({instanceMeasurer:this.instancesRenderer.getInstanceMeasurer(),toCanvasCoordinates:this.viewPosition.toCanvasCoordinates}),this.instancesResizer=new T({instanceMeasurer:this.instancesRenderer.getInstanceMeasurer(),instancesEditorSettings:this.props.instancesEditorSettings}),this.instancesRotator=new I(this.instancesRenderer.getInstanceMeasurer()),this.instancesMover=new N({instanceMeasurer:this.instancesRenderer.getInstanceMeasurer(),instancesEditorSettings:this.props.instancesEditorSettings}),this.windowBorder=new M({project:e.project,layout:e.layout,toCanvasCoordinates:this.viewPosition.toCanvasCoordinates}),this.windowMask=new F({project:e.project,viewPosition:this.viewPosition,instancesEditorSettings:this.props.instancesEditorSettings}),this.statusBar=new V({width:this.props.width,height:this.props.height,getLastCursorSceneCoordinates:this.getLastCursorSceneCoordinates}),this.pixiContainer.addChild(this.selectionRectangle.getPixiObject()),this.viewPosition.getPixiContainer().addChild(this.instancesRenderer.getPixiContainer()),this.pixiContainer.addChild(this.windowBorder.getPixiObject()),this.pixiContainer.addChild(this.windowMask.getPixiObject()),this.pixiContainer.addChild(this.selectedInstances.getPixiContainer()),this.pixiContainer.addChild(this.highlightedInstance.getPixiObject()),this.pixiContainer.addChild(this.statusBar.getPixiObject())}},{key:"componentWillUnmount",value:function(){this._unmounted=!0,this.keyboardShortcuts.unmount(),this.selectionRectangle.delete(),this.instancesRenderer.delete(),this._instancesAdder.unmount(),this.pinchHandler.unmount(),this.longTouchHandler.unmount(),this.nextFrame&&cancelAnimationFrame(this.nextFrame),D(),this.pixiRenderer.destroy()}},{key:"componentWillReceiveProps",value:function(e){e.width===this.props.width&&e.height===this.props.height||(this.pixiRenderer.resize(e.width,e.height),this.viewPosition.resize(e.width,e.height),this.statusBar.resize(e.width,e.height),this.backgroundArea.hitArea=new g.Rectangle(0,0,e.width,e.height),this.fpsLimiter.forceNextUpdate(),this._renderScene()),e.instancesEditorSettings!==this.props.instancesEditorSettings&&(this.grid.setInstancesEditorSettings(e.instancesEditorSettings),this.instancesMover.setInstancesEditorSettings(e.instancesEditorSettings),this.instancesResizer.setInstancesEditorSettings(e.instancesEditorSettings),this.windowMask.setInstancesEditorSettings(e.instancesEditorSettings),this.viewPosition.setInstancesEditorSettings(e.instancesEditorSettings),this._instancesAdder.setInstancesEditorSettings(e.instancesEditorSettings)),e.screenType!==this.props.screenType&&this.selectedInstances.setScreenType(this.props.screenType),this.props.layout===e.layout&&this.props.initialInstances===e.initialInstances&&this.props.project===e.project||this._mountEditorComponents(e),e.pauseRendering&&!this.props.pauseRendering&&this.pauseSceneRendering(),!e.pauseRendering&&this.props.pauseRendering&&this.restartSceneRendering()}},{key:"resetInstanceRenderersFor",value:function(e){this.instancesRenderer&&this.instancesRenderer.resetInstanceRenderersFor(e)}},{key:"zoomBy",value:function(e){this.setZoomFactor(this.getZoomFactor()+e)}},{key:"zoomOnCursorBy",value:function(e){var t=this.getLastCursorSceneCoordinates();this.setZoomFactor(this.getZoomFactor()+e);var n=this.getLastCursorSceneCoordinates();this.viewPosition.scrollBy(t[0]-n[0],t[1]-n[1]),this.props.onViewPositionChanged&&this.props.onViewPositionChanged(this.viewPosition)}},{key:"scrollTo",value:function(e,t){this.viewPosition.scrollTo(e,t)}},{key:"centerView",value:function(){var e=this.props.project.getGameResolutionWidth()/2,t=this.props.project.getGameResolutionHeight()/2;this.viewPosition.scrollTo(e,t)}},{key:"centerViewOn",value:function(e){e.length&&(this.viewPosition.scrollToInstance(e[e.length-1]),this.props.onViewPositionChanged&&this.props.onViewPositionChanged(this.viewPosition))}},{key:"render",value:function(){var e=this;return this.props.project?l.a.createElement(J,{canDrop:function(){return!0},hover:function(t){var n=e._instancesAdder,r=e.viewPosition,a=e.canvasArea;if(n&&a&&r){var o=t.getClientOffset(),i=o.x,s=o.y,c=a.getBoundingClientRect(),l=r.toSceneCoordinates(i-c.left,s-c.top);n.createOrUpdateTemporaryInstancesFromObjectNames(l,e.props.selectedObjectNames)}},drop:function(t){var n=e._instancesAdder,r=e.viewPosition,a=e.canvasArea;if(n&&a&&r)if(t.didDrop())n.deleteTemporaryInstances();else{var o=t.getClientOffset(),i=o.x,s=o.y,c=a.getBoundingClientRect(),l=r.toSceneCoordinates(i-c.left,s-c.top),u=n.updateTemporaryInstancePositions(l);n.commitTemporaryInstances(),e.props.onInstancesAdded(u)}}},(function(t){var n=t.connectDropTarget,r=t.isOver;return e._instancesAdder&&!r&&e._instancesAdder.deleteTemporaryInstances(),n(l.a.createElement("div",{ref:function(t){return e.canvasArea=t},style:K.canvasArea}))})):null}}]),n}(c.Component)},function(e,t,n){"use strict";var r=n(3),a=n(4),o=n(6),i=n(5),s=n(18),c=n(15),l=n.n(c),u=n(841),d=n.n(u),p=n(843),m=n.n(p),f=n(225),h=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return this.props.children}}]),n}(c.Component),g=Object(f.DragDropContext)(d()(m.a))(h),b=n(2149),v=n(2201),E=n(2216),y=n(923),C=n(0),j=n.n(C),O=n(119),x=n(1),k=n(417),T=n(539),w=(n(33),n(11),n(115)),S=n(124),P=n(127),_=n(128),I=n(117),N=n(135),A=n(2105),R={progress:{marginLeft:8,verticalAlign:"middle"}},M=function(e){var t=e.children,n=e.isLoading;return c.createElement("span",null,t,n&&c.createElement(A.a,{size:20,style:R.progress}))},F=n(244),L=n(125),B=n(193),D=n(129),U=n(192),G=function(e,t){return!(!t||""!==e)||!!e&&/^[\w|-]+$/.test(e)&&e.length<31},V="Please pick a short username with only alphanumeric characters as well as _ and -",W=function(e){var t=e.value,n=e.onChange,r=e.errorText,a=e.allowEmpty;return c.createElement(N.b,{autoFocus:!0,value:t,floatingLabelText:c.createElement(w.Trans,{id:"Username"}),fullWidth:!0,onChange:n,errorText:(G(t,a)?void 0:V)||r})},H=function(e){if(e)return"auth/invalid-email"===e.code?l.a.createElement(w.Trans,{id:"This email is invalid."}):"auth/user-disabled"===e.code?l.a.createElement(w.Trans,{id:"The user was disabled."}):"auth/user-not-found"===e.code?l.a.createElement(w.Trans,{id:"This user was not found: have you created your account?"}):"auth/email-already-in-use"===e.code?l.a.createElement(w.Trans,{id:"This email was already used for another account."}):"auth/operation-not-allowed"===e.code?l.a.createElement(w.Trans,{id:"Service seems to be unavailable, please try again later."}):"auth/requires-recent-login"===e.code?l.a.createElement(w.Trans,{id:"Please log out and log in again to verify your identify, then change your email."}):void 0},z=function(e){if(e)return"auth/too-many-requests"===e.code?l.a.createElement(w.Trans,{id:"That's a lot of unsuccessful login attempts! Wait a bit before trying again or reset your password."}):"auth/wrong-password"===e.code?l.a.createElement(w.Trans,{id:"The password is invalid."}):"auth/weak-password"===e.code?l.a.createElement(w.Trans,{id:"This password is too weak: please use more letters and digits."}):void 0},Y=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={form:{email:"",password:"",username:""}},e._canCreateAccount=function(){return!e.props.createAccountInProgress&&G(e.state.form.username,!0)},e._onCreateAccount=function(){if(e._canCreateAccount()){var t=e.state.form;e.props.onCreateAccount(t)}},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.onClose,r=t.createAccountInProgress,a=t.onGoToLogin,o=t.error;return l.a.createElement(_.a,{title:l.a.createElement(w.Trans,{id:"Create a new GDevelop account"}),actions:[l.a.createElement(S.a,{label:l.a.createElement(w.Trans,{id:"Back"}),disabled:r,key:"close",primary:!1,onClick:n}),l.a.createElement(F.a,{isLoading:r,key:"create-account"},l.a.createElement(P.a,{label:l.a.createElement(w.Trans,{id:"Create my account"}),primary:!0,disabled:!this._canCreateAccount(),onClick:this._onCreateAccount}))],secondaryActions:[l.a.createElement(S.a,{label:l.a.createElement(w.Trans,{id:"Already have an account?"}),primary:!1,key:"already-have-account",onClick:a})],onApply:this._onCreateAccount,onRequestClose:function(){r||n()},maxWidth:"sm",cannotBeDismissed:!0,open:!0},l.a.createElement(D.a,{noMargin:!0},l.a.createElement(B.a,null,l.a.createElement(U.a,{translatableSource:{id:"By creating an account and using GDevelop, you agree to the [Terms and Conditions](https://gdevelop-app.com/legal/terms-and-conditions). Having an account allows you to export your game on Android or as a Desktop app and it unlocks other services for your project!"}})),l.a.createElement(W,{value:this.state.form.username,onChange:function(t,n){e.setState({form:Object(O.a)(Object(O.a)({},e.state.form),{},{username:n})})},allowEmpty:!0}),l.a.createElement(N.b,{value:this.state.form.email,floatingLabelText:l.a.createElement(w.Trans,{id:"Email"}),errorText:H(o),fullWidth:!0,required:!0,onChange:function(t,n){e.setState({form:Object(O.a)(Object(O.a)({},e.state.form),{},{email:n})})}}),l.a.createElement(N.b,{value:this.state.form.password,floatingLabelText:l.a.createElement(w.Trans,{id:"Password"}),errorText:z(o),type:"password",fullWidth:!0,required:!0,onChange:function(t,n){e.setState({form:Object(O.a)(Object(O.a)({},e.state.form),{},{password:n})})}})))}}]),n}(c.Component),q=n(156),X=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={form:{email:"",password:""}},e._canLogin=function(){return!(e.props.loginInProgress||e.props.forgotPasswordInProgress)},e._onLogin=function(){if(e._canLogin()){var t=e.state.form;e.props.onLogin(t)}},e._onForgotPassword=function(){var t=e.state.form;e.props.onForgotPassword(t)},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.onClose,r=t.onGoToCreateAccount,a=t.loginInProgress,o=t.error,i=t.resetPasswordDialogOpen,s=t.onCloseResetPasswordDialog,c=t.forgotPasswordInProgress,u=[l.a.createElement(S.a,{label:l.a.createElement(w.Trans,{id:"Back"}),disabled:!this._canLogin(),key:"back",primary:!1,onClick:n}),l.a.createElement(F.a,{isLoading:a,key:"login"},l.a.createElement(P.a,{label:l.a.createElement(w.Trans,{id:"Login"}),primary:!0,onClick:this._onLogin,disabled:!this._canLogin()}))];return l.a.createElement(_.a,{title:l.a.createElement(w.Trans,{id:"Login to your GDevelop account"}),actions:u,secondaryActions:[l.a.createElement(M,{isLoading:c,key:"forgot-password"},l.a.createElement(S.a,{label:l.a.createElement(w.Trans,{id:"I forgot my password"}),primary:!1,disabled:a||c,onClick:this._onForgotPassword}))],onApply:this._onLogin,onRequestClose:function(){a||c||n()},maxWidth:"sm",cannotBeDismissed:!0,open:!0},l.a.createElement(D.a,{noMargin:!0},l.a.createElement(q.a,{kind:"info",renderRightButton:function(){return l.a.createElement(S.a,{label:l.a.createElement(w.Trans,{id:"Create my account"}),disabled:a||c,primary:!0,onClick:r})}},l.a.createElement(w.Trans,{id:"Don't have an account yet?"})),l.a.createElement(N.b,{autoFocus:!0,value:this.state.form.email,floatingLabelText:l.a.createElement(w.Trans,{id:"Email"}),errorText:H(o),fullWidth:!0,onChange:function(t,n){e.setState({form:Object(O.a)(Object(O.a)({},e.state.form),{},{email:n})})}}),l.a.createElement(N.b,{value:this.state.form.password,floatingLabelText:l.a.createElement(w.Trans,{id:"Password"}),errorText:z(o),type:"password",fullWidth:!0,onChange:function(t,n){e.setState({form:Object(O.a)(Object(O.a)({},e.state.form),{},{password:n})})}})),l.a.createElement(_.a,{cannotBeDismissed:!0,open:i,title:l.a.createElement(w.Trans,{id:"Reset your password"}),actions:[l.a.createElement(S.a,{label:l.a.createElement(w.Trans,{id:"Close"}),key:"close",onClick:s})]},l.a.createElement(I.a,{noMargin:!0},l.a.createElement(L.a,null,l.a.createElement(w.Trans,{id:"You should have received an email containing instructions to reset and set a new password. Once it's done, you can use your new password in GDevelop."})))))}}]),n}(c.Component),K=n(30),J=n(27),Z=n(183),Q=n(175),$=function(e){if(e)return"auth/username-used"===e.code?"This username is already used, please pick another one.":"auth/malformed-username"===e.code?V:void 0},ee=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={form:{username:e.props.profile.username||"",description:e.props.profile.description||"",getGameStatsEmail:!!e.props.profile.getGameStatsEmail}},e._onEdit=function(){if(e._canEdit()){var t=e.state.form;e.props.onEdit(t)}},e._canEdit=function(){return!e.props.editInProgress&&G(e.state.form.username)},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.onClose,r=t.editInProgress,a=t.error,o=[l.a.createElement(S.a,{label:l.a.createElement(w.Trans,{id:"Back"}),disabled:r,key:"back",primary:!1,onClick:n}),l.a.createElement(F.a,{isLoading:r,key:"edit"},l.a.createElement(P.a,{label:l.a.createElement(w.Trans,{id:"Save"}),primary:!0,onClick:this._onEdit,disabled:!this._canEdit()}))];return l.a.createElement(_.a,{title:l.a.createElement(w.Trans,{id:"Edit your GDevelop profile"}),actions:o,onRequestClose:function(){r||n()},maxWidth:"sm",onApply:this._onEdit,cannotBeDismissed:!0,open:!0},l.a.createElement(D.a,{noMargin:!0},l.a.createElement(W,{value:this.state.form.username,onChange:function(t,n){e.setState({form:Object(O.a)(Object(O.a)({},e.state.form),{},{username:n})})},errorText:$(a)}),l.a.createElement(N.b,{value:this.state.form.description,floatingLabelText:l.a.createElement(w.Trans,{id:"Bio"}),fullWidth:!0,multiline:!0,rows:3,rowsMax:5,hintText:{id:"What are you using GDevelop for?"},onChange:function(t,n){e.setState({form:Object(O.a)(Object(O.a)({},e.state.form),{},{description:n})})}}),l.a.createElement(Q.a,{label:l.a.createElement(w.Trans,{id:"I want to receive weekly stats about my games"}),checked:this.state.form.getGameStatsEmail,onCheck:function(t,n){e.setState({form:Object(O.a)(Object(O.a)({},e.state.form),{},{getGameStatsEmail:n})})}})))}}]),n}(c.Component),te=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={form:{email:e.props.firebaseUser.email}},e._onChangeEmail=function(){if(!e.props.changeEmailInProgress){var t=e.state.form;e.props.onChangeEmail(t)}},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.onClose,r=t.changeEmailInProgress,a=t.error,o=[l.a.createElement(S.a,{label:l.a.createElement(w.Trans,{id:"Back"}),disabled:r,key:"back",primary:!1,onClick:n}),l.a.createElement(F.a,{isLoading:r,key:"change-email"},l.a.createElement(P.a,{label:l.a.createElement(w.Trans,{id:"Save"}),primary:!0,onClick:this._onChangeEmail,disabled:r}))];return l.a.createElement(_.a,{title:l.a.createElement(w.Trans,{id:"Change your email"}),actions:o,onRequestClose:function(){r||n()},onApply:this._onChangeEmail,maxWidth:"sm",cannotBeDismissed:!0,open:!0},l.a.createElement(D.a,{noMargin:!0},l.a.createElement(N.b,{value:this.state.form.email,floatingLabelText:l.a.createElement(w.Trans,{id:"Email"}),errorText:H(a),fullWidth:!0,required:!0,onChange:function(t,n){e.setState({form:Object(O.a)(Object(O.a)({},e.state.form),{},{email:n})})}})))}}]),n}(c.Component),ne=n(900),re=n.n(ne),ae=n(899);function oe(e){var t=e.onClose,n=e.authenticatedUser,r=!!n&&!!n.firebaseUser&&!!n.firebaseUser.emailVerified;return Object(ae.a)((function(){n.onRefreshFirebaseProfile().catch((function(){}))}),r?null:3900),l.a.createElement(_.a,{actions:[r?l.a.createElement(P.a,{label:l.a.createElement(w.Trans,{id:"Done!"}),key:"close",primary:!0,onClick:t}):l.a.createElement(S.a,{label:l.a.createElement(w.Trans,{id:"Cancel and close"}),key:"close",primary:!1,onClick:t})],maxWidth:"sm",cannotBeDismissed:!0,open:!0,noMargin:!0},r?l.a.createElement(I.a,null,l.a.createElement(I.b,{justifyContent:"center",alignItems:"center"},l.a.createElement(re.a,null),l.a.createElement(I.c,null),l.a.createElement(L.a,null,l.a.createElement(w.Trans,{id:"Your email is now verified!"})))):l.a.createElement(I.a,null,l.a.createElement(I.b,{justifyContent:"center",alignItems:"center"},l.a.createElement(A.a,{size:20}),l.a.createElement(I.c,null),l.a.createElement(L.a,null,"Waiting for the email verification...")),l.a.createElement(I.c,null),l.a.createElement(I.b,{justifyContent:"center"},l.a.createElement(B.a,null,l.a.createElement(w.Trans,{id:"Check your inbox and click the link to verify your email address - and come back here when it's done."})))))}var ie=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={authenticatedUser:Z.b,loginDialogOpen:!1,createAccountDialogOpen:!1,loginInProgress:!1,createAccountInProgress:!1,editProfileDialogOpen:!1,editInProgress:!1,authError:null,resetPasswordDialogOpen:!1,emailVerificationPendingDialogOpen:!1,forgotPasswordInProgress:!1,changeEmailDialogOpen:!1,changeEmailInProgress:!1},e._automaticallyUpdateUserProfile=!0,e._reloadFirebaseProfile=Object(x.a)(j.a.mark((function t(){var n,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.authentication,t.prev=1,t.next=4,n.getFirebaseUser();case 4:if(r=t.sent){t.next=8;break}return e.setState((function(e){var t=e.authenticatedUser;return{authenticatedUser:Object(O.a)(Object(O.a)({},t),{},{authenticated:!1,profile:null,usages:null,limits:null,subscription:null})}})),t.abrupt("return",null);case 8:return e.setState((function(e){var t=e.authenticatedUser;return{authenticatedUser:Object(O.a)(Object(O.a)({},t),{},{authenticated:!0,firebaseUser:r})}})),t.abrupt("return",r);case 12:throw t.prev=12,t.t0=t.catch(1),console.error("Unable to fetch the authenticated Firebase user:",t.t0),t.t0;case 16:case"end":return t.stop()}}),t,null,[[1,12]])}))),e._fetchUserProfileWithoutThrowingErrors=Object(x.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e._fetchUserProfile();case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.error("Error while fetching the user profile - but ignoring it.",t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])}))),e._fetchUserProfile=Object(x.a)(j.a.mark((function t(){var n,r,a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.authentication,t.next=3,e._reloadFirebaseProfile();case 3:if(r=t.sent){t.next=6;break}return t.abrupt("return");case 6:return Object(k.g)(n.getAuthorizationHeader,r.uid).then((function(t){return e.setState((function(e){var n=e.authenticatedUser;return{authenticatedUser:Object(O.a)(Object(O.a)({},n),{},{usages:t})}}))}),(function(e){console.error("Error while loading user usages:",e)})),Object(k.f)(n.getAuthorizationHeader,r.uid).then((function(t){return e.setState((function(e){var n=e.authenticatedUser;return{authenticatedUser:Object(O.a)(Object(O.a)({},n),{},{subscription:t})}}))}),(function(e){console.error("Error while loading user subscriptions:",e)})),Object(k.e)(n.getAuthorizationHeader,r.uid).then((function(t){return e.setState((function(e){var n=e.authenticatedUser;return{authenticatedUser:Object(O.a)(Object(O.a)({},n),{},{limits:t})}}))}),(function(e){console.error("Error while loading user limits:",e)})),e._fetchUserBadges(),t.next=12,n.getUserProfile(n.getAuthorizationHeader);case 12:a=t.sent,e.setState((function(e){var t=e.authenticatedUser;return{authenticatedUser:Object(O.a)(Object(O.a)({},t),{},{profile:a})}}));case 14:case"end":return t.stop()}}),t)}))),e._fetchUserBadges=Object(x.a)(j.a.mark((function t(){var n,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.state.authenticatedUser.firebaseUser){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,Object(T.a)(n.uid);case 6:r=t.sent,e.setState((function(e){var t=e.authenticatedUser;return{authenticatedUser:Object(O.a)(Object(O.a)({},t),{},{badges:r})}})),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),console.error("Error while loading user badges:",t.t0);case 13:case"end":return t.stop()}}),t,null,[[3,10]])}))),e._doLogout=function(){e.props.authentication&&e.props.authentication.logout(),e._resetAuthenticatedUser()},e._doLogin=function(){var t=Object(x.a)(j.a.mark((function t(n){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.props.authentication){t.next=3;break}return t.abrupt("return");case 3:return e.setState({loginInProgress:!0}),e._automaticallyUpdateUserProfile=!1,t.prev=5,t.next=8,r.login(n);case 8:return t.next=10,e._fetchUserProfileWithoutThrowingErrors();case 10:e.openLoginDialog(!1),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(5),e.setState({authError:t.t0});case 16:e.setState({loginInProgress:!1}),e._automaticallyUpdateUserProfile=!0;case 18:case"end":return t.stop()}}),t,null,[[5,13]])})));return function(e){return t.apply(this,arguments)}}(),e._doEdit=function(){var t=Object(x.a)(j.a.mark((function t(n){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.props.authentication){t.next=3;break}return t.abrupt("return");case 3:return e.setState({editInProgress:!0}),e._automaticallyUpdateUserProfile=!1,t.prev=5,t.next=8,r.editUserProfile(r.getAuthorizationHeader,n);case 8:return t.next=10,e._fetchUserProfileWithoutThrowingErrors();case 10:e.openEditProfileDialog(!1),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(5),e.setState({authError:t.t0});case 16:e.setState({editInProgress:!1}),e._automaticallyUpdateUserProfile=!0;case 18:case"end":return t.stop()}}),t,null,[[5,13]])})));return function(e){return t.apply(this,arguments)}}(),e._doCreateAccount=function(){var t=Object(x.a)(j.a.mark((function t(n){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.props.authentication){t.next=3;break}return t.abrupt("return");case 3:return e.setState({createAccountInProgress:!0}),e._automaticallyUpdateUserProfile=!1,t.prev=5,t.next=8,r.createFirebaseAccount(n);case 8:return t.prev=8,t.next=11,r.createUser(r.getAuthorizationHeader,n);case 11:t.next=15;break;case 13:t.prev=13,t.t0=t.catch(8);case 15:return t.next=17,e._fetchUserProfileWithoutThrowingErrors();case 17:e.openLoginDialog(!1),Object(J.n)(n.email),t.next=24;break;case 21:t.prev=21,t.t1=t.catch(5),e.setState({authError:t.t1});case 24:e.setState({createAccountInProgress:!1}),e._automaticallyUpdateUserProfile=!0;case 26:case"end":return t.stop()}}),t,null,[[5,21],[8,13]])})));return function(e){return t.apply(this,arguments)}}(),e._doForgotPassword=function(){var t=Object(x.a)(j.a.mark((function t(n){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.props.authentication){t.next=3;break}return t.abrupt("return");case 3:return e.setState({forgotPasswordInProgress:!0}),t.prev=4,t.next=7,r.forgotPassword(n);case 7:e.openResetPassword(!0),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(4),e.setState({authError:t.t0}),Object(K.c)("Unable to send you an email to reset your password. Please double-check that the email address that you've entered is valid.");case 14:e.setState({forgotPasswordInProgress:!1});case 15:case"end":return t.stop()}}),t,null,[[4,10]])})));return function(e){return t.apply(this,arguments)}}(),e._doSendEmailVerification=Object(x.a)(j.a.mark((function t(){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props.authentication){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,n.sendFirebaseEmailVerification();case 5:e.openEmailVerificationPendingDialog(!0);case 6:case"end":return t.stop()}}),t)}))),e._doAcceptGameStatsEmail=Object(x.a)(j.a.mark((function t(){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props.authentication){t.next=3;break}return t.abrupt("return");case 3:return e.setState({editInProgress:!0}),e._automaticallyUpdateUserProfile=!1,t.prev=5,t.next=8,n.acceptGameStatsEmail(n.getAuthorizationHeader);case 8:return t.next=10,e._fetchUserProfileWithoutThrowingErrors();case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(5),e.setState({authError:t.t0});case 15:e.setState({editInProgress:!1}),e._automaticallyUpdateUserProfile=!0;case 17:case"end":return t.stop()}}),t,null,[[5,12]])}))),e._doChangeEmail=function(){var t=Object(x.a)(j.a.mark((function t(n){var r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=e.props.authentication){t.next=3;break}return t.abrupt("return");case 3:return e.setState({changeEmailInProgress:!0}),e._automaticallyUpdateUserProfile=!1,t.prev=5,t.next=8,r.changeEmail(r.getAuthorizationHeader,n);case 8:return t.next=10,e._fetchUserProfileWithoutThrowingErrors();case 10:e.openChangeEmailDialog(!1),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(5),e.setState({authError:t.t0});case 16:e.setState({changeEmailInProgress:!1}),e._automaticallyUpdateUserProfile=!0;case 18:case"end":return t.stop()}}),t,null,[[5,13]])})));return function(e){return t.apply(this,arguments)}}(),e.openEmailVerificationPendingDialog=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.setState({emailVerificationPendingDialogOpen:t})},e.openResetPassword=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.setState({resetPasswordDialogOpen:t,authError:null})},e.openLoginDialog=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.setState({loginDialogOpen:t,createAccountDialogOpen:!1,authError:null})},e.openEditProfileDialog=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.setState({editProfileDialogOpen:t,authError:null})},e.openCreateAccountDialog=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.setState({loginDialogOpen:!1,createAccountDialogOpen:t,authError:null})},e.openChangeEmailDialog=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.setState({changeEmailDialogOpen:t,authError:null})},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=this;this._resetAuthenticatedUser(),this.props.authentication.setOnUserLogoutCallback(this._fetchUserProfileWithoutThrowingErrors),this.props.authentication.setOnUserUpdateCallback((function(){e._automaticallyUpdateUserProfile?(console.info("Fetching user profile as the authenticated user changed..."),e._fetchUserProfileWithoutThrowingErrors()):console.info("The authenticated user changed, but not fetching the user profile again (deactivated).")})),this.props.authentication.getFirebaseUserSync()&&(console.info("Fetching user profile as authenticated user found at startup..."),this._automaticallyUpdateUserProfile=!1,this._fetchUserProfileWithoutThrowingErrors(),this._automaticallyUpdateUserProfile=!0)}},{key:"_resetAuthenticatedUser",value:function(){var e=this;this.setState((function(t){t.authenticatedUser;return{authenticatedUser:Object(O.a)(Object(O.a)({},Z.b),{},{onLogout:e._doLogout,onBadgesChanged:e._fetchUserBadges,onLogin:function(){return e.openLoginDialog(!0)},onEdit:function(){return e.openEditProfileDialog(!0)},onChangeEmail:function(){return e.openChangeEmailDialog(!0)},onCreateAccount:function(){return e.openCreateAccountDialog(!0)},onRefreshUserProfile:e._fetchUserProfile,onRefreshFirebaseProfile:function(){var t=Object(x.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._reloadFirebaseProfile();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),onSendEmailVerification:e._doSendEmailVerification,onAcceptGameStatsEmail:e._doAcceptGameStatsEmail,getAuthorizationHeader:function(){return e.props.authentication.getAuthorizationHeader()}})}}))}},{key:"render",value:function(){var e=this;return c.createElement(c.Fragment,null,c.createElement(Z.a.Provider,{value:this.state.authenticatedUser},this.props.children),this.state.loginDialogOpen&&c.createElement(X,{onClose:function(){return e.openLoginDialog(!1)},onGoToCreateAccount:function(){return e.openCreateAccountDialog(!0)},onLogin:this._doLogin,loginInProgress:this.state.loginInProgress,error:this.state.authError,onForgotPassword:this._doForgotPassword,resetPasswordDialogOpen:this.state.resetPasswordDialogOpen,onCloseResetPasswordDialog:function(){return e.openResetPassword(!1)},forgotPasswordInProgress:this.state.forgotPasswordInProgress}),this.state.authenticatedUser.profile&&this.state.editProfileDialogOpen&&c.createElement(ee,{profile:this.state.authenticatedUser.profile,onClose:function(){return e.openEditProfileDialog(!1)},onEdit:this._doEdit,editInProgress:this.state.editInProgress,error:this.state.authError}),this.state.authenticatedUser.firebaseUser&&this.state.changeEmailDialogOpen&&c.createElement(te,{firebaseUser:this.state.authenticatedUser.firebaseUser,onClose:function(){return e.openChangeEmailDialog(!1)},onChangeEmail:this._doChangeEmail,changeEmailInProgress:this.state.changeEmailInProgress,error:this.state.authError}),this.state.createAccountDialogOpen&&c.createElement(Y,{onClose:function(){return e.openCreateAccountDialog(!1)},onGoToLogin:function(){return e.openLoginDialog(!0)},onCreateAccount:this._doCreateAccount,createAccountInProgress:this.state.createAccountInProgress,error:this.state.authError}),this.state.emailVerificationPendingDialogOpen&&c.createElement(oe,{authenticatedUser:this.state.authenticatedUser,onClose:function(){e.openEmailVerificationPendingDialog(!1),e.state.authenticatedUser.onRefreshFirebaseProfile().catch((function(){}))}}))}}]),n}(c.Component),se=n(26),ce=n(927),le=function(e){var t=e.userId,n=e.onClose,r=l.a.useState(null),a=Object(se.a)(r,2),o=a[0],i=a[1],s=l.a.useState(null),c=Object(se.a)(s,2),u=c[0],d=c[1],p=l.a.useState(null),m=Object(se.a)(p,2),f=m[0],h=m[1],g=l.a.useCallback(Object(x.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return i(null),e.prev=3,e.next=6,Object(T.b)(t);case 6:n=e.sent,i(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),h(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])}))),[t]),b=l.a.useCallback(Object(x.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return d(null),e.prev=3,e.next=6,Object(T.a)(t);case 6:n=e.sent,d(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),h(e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])}))),[t]);l.a.useEffect((function(){g(),b()}),[t,g,b]);return l.a.createElement(_.a,{open:!0,maxWidth:"sm",actions:[l.a.createElement(S.a,{key:"close",label:l.a.createElement(w.Trans,{id:"Close"}),primary:!1,onClick:n})]},l.a.createElement(ce.a,{profile:o,error:f,onRetry:function(){h(null),g(),b()},badges:u}))},ue=n(742),de=function(e){var t=e.children,n=c.useState(null),r=Object(se.a)(n,2),a=r[0],o=r[1],i=c.useCallback((function(e){o(e)}),[o]),s=c.useCallback((function(){o(null)}),[o]),l=c.useMemo((function(){return{openUserPublicProfile:i}}),[i]);return c.createElement(c.Fragment,null,c.createElement(ue.a.Provider,{value:l},t),a&&c.createElement(le,{userId:a,onClose:s}))},pe=n(21),me=n(143),fe=n(17),he=n.n(fe),ge=n(28),be=n(504),ve=he()("electron"),Ee=ve?ve.ipcRenderer:null,ye=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={values:e._loadValuesFromLocalStorage()||me.b.values,setLanguage:e._setLanguage.bind(Object(pe.a)(e)),setThemeName:e._setThemeName.bind(Object(pe.a)(e)),setCodeEditorThemeName:e._setCodeEditorThemeName.bind(Object(pe.a)(e)),setAutoDownloadUpdates:e._setAutoDownloadUpdates.bind(Object(pe.a)(e)),checkUpdates:e._checkUpdates.bind(Object(pe.a)(e)),setAutoDisplayChangelog:e._setAutoDisplayChangelog.bind(Object(pe.a)(e)),showAlertMessage:e._showAlertMessage.bind(Object(pe.a)(e)),showAllAlertMessages:e._showAllAlertMessages.bind(Object(pe.a)(e)),showTutorialHint:e._showTutorialHint.bind(Object(pe.a)(e)),showAllTutorialHints:e._showAllTutorialHints.bind(Object(pe.a)(e)),verifyIfIsNewVersion:e._verifyIfIsNewVersion.bind(Object(pe.a)(e)),setEventsSheetShowObjectThumbnails:e._setEventsSheetShowObjectThumbnails.bind(Object(pe.a)(e)),setAutosaveOnPreview:e._setAutosaveOnPreview.bind(Object(pe.a)(e)),setUseNewInstructionEditorDialog:e._setUseNewInstructionEditorDialog.bind(Object(pe.a)(e)),setUseUndefinedVariablesInAutocompletion:e._setUseUndefinedVariablesInAutocompletion.bind(Object(pe.a)(e)),setUseGDJSDevelopmentWatcher:e._setUseGDJSDevelopmentWatcher.bind(Object(pe.a)(e)),setEventsSheetUseAssignmentOperators:e._setEventsSheetUseAssignmentOperators.bind(Object(pe.a)(e)),setEventsSheetZoomLevel:e._setEventsSheetZoomLevel.bind(Object(pe.a)(e)),setShowEffectParameterNames:e._setShowEffectParameterNames.bind(Object(pe.a)(e)),getLastUsedPath:e._getLastUsedPath.bind(Object(pe.a)(e)),setLastUsedPath:e._setLastUsedPath.bind(Object(pe.a)(e)),getDefaultEditorMosaicNode:e._getDefaultEditorMosaicNode.bind(Object(pe.a)(e)),setDefaultEditorMosaicNode:e._setDefaultEditorMosaicNode.bind(Object(pe.a)(e)),getRecentProjectFiles:e._getRecentProjectFiles.bind(Object(pe.a)(e)),insertRecentProjectFile:e._insertRecentProjectFile.bind(Object(pe.a)(e)),removeRecentProjectFile:e._removeRecentProjectFile.bind(Object(pe.a)(e)),getAutoOpenMostRecentProject:e._getAutoOpenMostRecentProject.bind(Object(pe.a)(e)),setAutoOpenMostRecentProject:e._setAutoOpenMostRecentProject.bind(Object(pe.a)(e)),hadProjectOpenedDuringLastSession:e._hadProjectOpenedDuringLastSession.bind(Object(pe.a)(e)),setHasProjectOpened:e._setHasProjectOpened.bind(Object(pe.a)(e)),setShortcutForCommand:e._setShortcutForCommand.bind(Object(pe.a)(e)),resetShortcutsToDefault:e._resetShortcutsToDefault.bind(Object(pe.a)(e)),getNewObjectDialogDefaultTab:e._getNewObjectDialogDefaultTab.bind(Object(pe.a)(e)),setNewObjectDialogDefaultTab:e._setNewObjectDialogDefaultTab.bind(Object(pe.a)(e)),getIsMenuBarHiddenInPreview:e._getIsMenuBarHiddenInPreview.bind(Object(pe.a)(e)),setIsMenuBarHiddenInPreview:e._setIsMenuBarHiddenInPreview.bind(Object(pe.a)(e)),setBackdropClickBehavior:e._setBackdropClickBehavior.bind(Object(pe.a)(e)),getIsAlwaysOnTopInPreview:e._getIsAlwaysOnTopInPreview.bind(Object(pe.a)(e)),setIsAlwaysOnTopInPreview:e._setIsAlwaysOnTopInPreview.bind(Object(pe.a)(e)),setEventsSheetCancelInlineParameter:e._setEventsSheetCancelInlineParameter.bind(Object(pe.a)(e))},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){return e._checkUpdates()}),1e4)}},{key:"_setLanguage",value:function(e){var t=this;this.setState((function(t){return{values:Object(O.a)(Object(O.a)({},t.values),{},{language:e})}}),(function(){return t._persistValuesToLocalStorage(t.state)}))}},{key:"_setEventsSheetShowObjectThumbnails",value:function(e){var t=this;this.setState((function(t){return{values:Object(O.a)(Object(O.a)({},t.values),{},{eventsSheetShowObjectThumbnails:e})}}),(function(){return t._persistValuesToLocalStorage(t.state)}))}},{key:"_setAutosaveOnPreview",value:function(e){var t=this;this.setState((function(t){return{values:Object(O.a)(Object(O.a)({},t.values),{},{autosaveOnPreview:e})}}),(function(){return t._persistValuesToLocalStorage(t.state)}))}},{key:"_setUseNewInstructionEditorDialog",value:function(e){var t=this;this.setState((function(t){return{values:Object(O.a)(Object(O.a)({},t.values),{},{useNewInstructionEditorDialog:e})}}),(function(){return t._persistValuesToLocalStorage(t.state)}))}},{key:"_setUseUndefinedVariablesInAutocompletion",value:function(e){var t=this;this.setState((function(t){return{values:Object(O.a)(Object(O.a)({},t.values),{},{useUndefinedVariablesInAutocompletion:e})}}),(function(){return t._persistValuesToLocalStorage(t.state)}))}},{key:"_setUseGDJSDevelopmentWatcher",value:function(e){var t=this;this.setState((function(t){return{values:Object(O.a)(Object(O.a)({},t.values),{},{useGDJSDevelopmentWatcher:e})}}),(function(){return t._persistValuesToLocalStorage(t.state)}))}},{key:"_setEventsSheetUseAssignmentOperators",value:function(e){var t=this;this.setState((function(t){return{values:Object(O.a)(Object(O.a)({},t.values),{},{eventsSheetUseAssignmentOperators:e})}}),(function(){return t._persistValuesToLocalStorage(t.state)}))}},{key:"_setEventsSheetZoomLevel",value:function(e){var t=this;this.setState((function(t){return{values:Object(O.a)(Object(O.a)({},t.values),{},{eventsSheetZoomLevel:e})}}),(function(){return t._persistValuesToLocalStorage(t.state)}))}},{key:"_setShowEffectParameterNames",value:function(e){var t=this;this.setState((function(t){return{values:Object(O.a)(Object(O.a)({},t.values),{},{showEffectParameterNames:e})}}),(function(){return t._persistValuesToLocalStorage(t.state)}))}},{key:"_setThemeName",value:function(e){var t=this;this.setState((function(t){return{values:Object(O.a)(Object(O.a)({},t.values),{},{themeName:e})}}),(function(){return t._persistValuesToLocalStorage(t.state)}))}},{key:"_setCodeEditorThemeName",value:function(e){var t=this;this.setState((function(t){return{values:Object(O.a)(Object(O.a)({},t.values),{},{codeEditorThemeName:e})}}),(function(){return t._persistValuesToLocalStorage(t.state)}))}},{key:"_setAutoDownloadUpdates",value:function(e){var t=this;this.setState((function(t){return{values:Object(O.a)(Object(O.a)({},t.values),{},{autoDownloadUpdates:e})}}),(function(){return t._persistValuesToLocalStorage(t.state)}))}},{key:"_setAutoDisplayChangelog",value:function(e){var t=this;this.setState((function(t){return{values:Object(O.a)(Object(O.a)({},t.values),{},{autoDisplayChangelog:e})}}),(function(){return t._persistValuesToLocalStorage(t.state)}))}},{key:"_setEventsSheetCancelInlineParameter",value:function(e){var t=this;this.setState((function(t){return{values:Object(O.a)(Object(O.a)({},t.values),{},{eventsSheetCancelInlineParameter:e})}}),(function(){return t._persistValuesToLocalStorage(t.state)}))}},{key:"_checkUpdates",value:function(e){var t=this.props.disableCheckForUpdates;Ee&&!t&&(e||this.state.values.autoDownloadUpdates?Ee.send("updates-check-and-download"):Ee.send("updates-check"))}},{key:"_verifyIfIsNewVersion",value:function(){var e=this,t=Object(ge.b)(),n=this.state.values.lastLaunchedVersion;return n!==t&&(this.setState((function(e){return{values:Object(O.a)(Object(O.a)({},e.values),{},{lastLaunchedVersion:t})}}),(function(){return e._persistValuesToLocalStorage(e.state)})),void 0!==n)}},{key:"_showAlertMessage",value:function(e,t){var n=this;this.setState((function(n){return{values:Object(O.a)(Object(O.a)({},n.values),{},{hiddenAlertMessages:Object(O.a)(Object(O.a)({},n.values.hiddenAlertMessages),{},{[e]:!t})})}}),(function(){return n._persistValuesToLocalStorage(n.state)}))}},{key:"_showAllAlertMessages",value:function(){var e=this;this.setState((function(e){return{values:Object(O.a)(Object(O.a)({},e.values),{},{hiddenAlertMessages:{}})}}),(function(){return e._persistValuesToLocalStorage(e.state)}))}},{key:"_showTutorialHint",value:function(e,t){var n=this;this.setState((function(n){return{values:Object(O.a)(Object(O.a)({},n.values),{},{hiddenTutorialHints:Object(O.a)(Object(O.a)({},n.values.hiddenTutorialHints),{},{[e]:!t})})}}),(function(){return n._persistValuesToLocalStorage(n.state)}))}},{key:"_showAllTutorialHints",value:function(){var e=this;this.setState((function(e){return{values:Object(O.a)(Object(O.a)({},e.values),{},{hiddenTutorialHints:{}})}}),(function(){return e._persistValuesToLocalStorage(e.state)}))}},{key:"_loadValuesFromLocalStorage",value:function(){try{var e=localStorage.getItem("gd-preferences");if(!e)return null;var t=JSON.parse(e);for(var n in me.b.values)me.b.values.hasOwnProperty(n)&&"undefined"===typeof t[n]&&(t[n]=me.b.values[n]);return t}catch(r){return null}}},{key:"_persistValuesToLocalStorage",value:function(e){try{localStorage.setItem("gd-preferences",JSON.stringify(e.values))}catch(t){console.warn("Unable to persist preferences",t)}return e}},{key:"_getLastUsedPath",value:function(e,t){var n=e.getProjectFile(),r=this.state.values.projectLastUsedPaths[n];return r&&r[t]?r[t]:n?void 0:null}},{key:"_setLastUsedPath",value:function(e,t,n){var r=this,a=e.getProjectFile(),o=this.state.values,i=o.projectLastUsedPaths[a]||{};i[t]=n,this.setState({values:Object(O.a)(Object(O.a)({},o),{},{projectLastUsedPaths:Object(O.a)(Object(O.a)({},o.projectLastUsedPaths),{},{[a]:i})})},(function(){return r._persistValuesToLocalStorage(r.state)}))}},{key:"_getDefaultEditorMosaicNode",value:function(e){return this.state.values.defaultEditorMosaicNodes[e]||null}},{key:"_setDefaultEditorMosaicNode",value:function(e,t){var n=this;this.setState((function(n){return{values:Object(O.a)(Object(O.a)({},n.values),{},{defaultEditorMosaicNodes:Object(O.a)(Object(O.a)({},n.values.defaultEditorMosaicNodes),{},{[e]:t})})}}),(function(){return n._persistValuesToLocalStorage(n.state)}))}},{key:"_getRecentProjectFiles",value:function(){return this.state.values.recentProjectFiles}},{key:"_setRecentProjectFiles",value:function(e){var t=this;this.setState((function(t){return{values:Object(O.a)(Object(O.a)({},t.values),{},{recentProjectFiles:e})}}),(function(){return t._persistValuesToLocalStorage(t.state)}))}},{key:"_insertRecentProjectFile",value:function(e){var t=this._getRecentProjectFiles();this._setRecentProjectFiles([e].concat(Object(s.a)(t.filter((function(t){return JSON.stringify(t)!==JSON.stringify(e)})))).slice(0,20))}},{key:"_removeRecentProjectFile",value:function(e){this._setRecentProjectFiles(Object(s.a)(this._getRecentProjectFiles().filter((function(t){return JSON.stringify(t)!==JSON.stringify(e)}))).slice(0,20))}},{key:"_getAutoOpenMostRecentProject",value:function(){return this.state.values.autoOpenMostRecentProject}},{key:"_setAutoOpenMostRecentProject",value:function(e){var t=this;this.setState((function(t){return{values:Object(O.a)(Object(O.a)({},t.values),{},{autoOpenMostRecentProject:e})}}),(function(){return t._persistValuesToLocalStorage(t.state)}))}},{key:"_hadProjectOpenedDuringLastSession",value:function(){return this.state.values.hasProjectOpened}},{key:"_setHasProjectOpened",value:function(e){var t=this;this.setState((function(t){return{values:Object(O.a)(Object(O.a)({},t.values),{},{hasProjectOpened:e})}}),(function(){return t._persistValuesToLocalStorage(t.state)}))}},{key:"_resetShortcutsToDefault",value:function(){var e=this;this.setState((function(e){return{values:Object(O.a)(Object(O.a)({},e.values),{},{userShortcutMap:{}})}}),(function(){return e._persistValuesToLocalStorage(e.state)}))}},{key:"_setShortcutForCommand",value:function(e,t){var n=this,r=(be.a[e]||"")===t,a=Object(O.a)({},this.state.values.userShortcutMap);r?delete a[e]:a[e]=t,this.setState((function(e){return{values:Object(O.a)(Object(O.a)({},e.values),{},{userShortcutMap:a})}}),(function(){return n._persistValuesToLocalStorage(n.state)}))}},{key:"_getNewObjectDialogDefaultTab",value:function(){return this.state.values.newObjectDialogDefaultTab}},{key:"_setNewObjectDialogDefaultTab",value:function(e){var t=this;this.setState((function(t){return{values:Object(O.a)(Object(O.a)({},t.values),{},{newObjectDialogDefaultTab:e})}}),(function(){return t._persistValuesToLocalStorage(t.state)}))}},{key:"_getIsMenuBarHiddenInPreview",value:function(){return this.state.values.isMenuBarHiddenInPreview}},{key:"_setIsMenuBarHiddenInPreview",value:function(e){var t=this;this.setState((function(t){return{values:Object(O.a)(Object(O.a)({},t.values),{},{isMenuBarHiddenInPreview:e})}}),(function(){return t._persistValuesToLocalStorage(t.state)}))}},{key:"_setBackdropClickBehavior",value:function(e){var t=this;this.setState((function(t){return{values:Object(O.a)(Object(O.a)({},t.values),{},{backdropClickBehavior:e})}}),(function(){return t._persistValuesToLocalStorage(t.state)}))}},{key:"_getIsAlwaysOnTopInPreview",value:function(){return this.state.values.isAlwaysOnTopInPreview}},{key:"_setIsAlwaysOnTopInPreview",value:function(e){var t=this;this.setState((function(t){return{values:Object(O.a)(Object(O.a)({},t.values),{},{isAlwaysOnTopInPreview:e})}}),(function(){return t._persistValuesToLocalStorage(t.state)}))}},{key:"render",value:function(){return c.createElement(me.a.Provider,{value:this.state},this.props.children)}}]),n}(c.Component),Ce=n(1787),je=n(276),Oe=n(283),xe=n(1789),ke=n.n(xe),Te=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._eventsFunctionCodeWriter=e.props.makeEventsFunctionCodeWriter({onWriteFile:e._onWriteFile.bind(Object(pe.a)(e))}),e._includeFileHashs={},e._lastLoadPromise=null,e.state={eventsFunctionsExtensionsError:null,loadProjectEventsFunctionsExtensions:e._loadProjectEventsFunctionsExtensions.bind(Object(pe.a)(e)),unloadProjectEventsFunctionsExtensions:e._unloadProjectEventsFunctionsExtensions.bind(Object(pe.a)(e)),unloadProjectEventsFunctionsExtension:e._unloadProjectEventsFunctionsExtension.bind(Object(pe.a)(e)),reloadProjectEventsFunctionsExtensions:e._reloadProjectEventsFunctionsExtensions.bind(Object(pe.a)(e)),ensureLoadFinished:e._ensureLoadFinished.bind(Object(pe.a)(e)),getEventsFunctionsExtensionWriter:function(){return e.props.eventsFunctionsExtensionWriter},getEventsFunctionsExtensionOpener:function(){return e.props.eventsFunctionsExtensionOpener},getIncludeFileHashs:function(){return e._includeFileHashs}},e}return Object(a.a)(n,[{key:"_onWriteFile",value:function(e){var t=e.includeFile,n=e.content;this._includeFileHashs[t]=ke.a.h32(n,43981).toNumber()}},{key:"_ensureLoadFinished",value:function(){return this._lastLoadPromise?console.info("Waiting on the events functions extensions to finish loading..."):console.info("Events functions extensions are ready."),this._lastLoadPromise?this._lastLoadPromise.then((function(){console.info("Events functions extensions finished loading.")})):Promise.resolve()}},{key:"_loadProjectEventsFunctionsExtensions",value:function(e){var t=this,n=this.props.i18n,r=this._eventsFunctionCodeWriter;if(!e||!r)return Promise.resolve();var a=this._lastLoadPromise||Promise.resolve();return this._lastLoadPromise=a.then((function(){return Object(Oe.e)(e,r,n)})).then((function(){return t.setState({eventsFunctionsExtensionsError:null})})).catch((function(e){t.setState({eventsFunctionsExtensionsError:e}),Object(K.a)({message:n._({id:"An error has occured during functions generation. If GDevelop is installed, verify that nothing is preventing GDevelop from writing on disk. If you're running GDevelop online, verify your internet connection and refresh functions from the Project Manager."}),rawError:e,errorId:"events-functions-extensions-load-error"})})).then((function(){t._lastLoadPromise=null})),this._lastLoadPromise}},{key:"_unloadProjectEventsFunctionsExtensions",value:function(e){Object(Oe.g)(e)}},{key:"_unloadProjectEventsFunctionsExtension",value:function(e,t){Object(Oe.f)(e,t)}},{key:"_reloadProjectEventsFunctionsExtensions",value:function(e){return e&&this._unloadProjectEventsFunctionsExtensions(e),this._loadProjectEventsFunctionsExtensions(e)}},{key:"render",value:function(){return c.createElement(je.a.Provider,{value:this.state},this.props.children)}}]),n}(c.Component),we=n(170),Se=n(398),Pe=n(421),_e=n(266),Ie=n(1797),Ne=n.n(Ie),Ae=n(602),Re=n(863),Me=n(611),Fe=n(542),Le=n(604),Be=n(610),De=n(430);n.d(t,"a",(function(){return Ge}));var Ue=Object(_e.b)({plugins:[].concat(Object(s.a)(Object(v.a)().plugins),[Ne()()])}),Ge=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props,t=e.disableCheckForUpdates,n=e.authentication,r=e.children,a=e.makeEventsFunctionCodeWriter,o=e.eventsFunctionsExtensionWriter,i=e.eventsFunctionsExtensionOpener,s=e.resourceFetcher;return c.createElement(g,null,c.createElement(Se.a,null,c.createElement(ye,{disableCheckForUpdates:t},c.createElement(me.a.Consumer,null,(function(e){var t=e.values,l=Object(y.a)({themeName:t.themeName,language:t.language});return c.createElement(Ce.a,{language:t.language.replace("_","-")},c.createElement(we.a.Provider,{value:l.gdevelopTheme},c.createElement(E.b,{jss:Ue},c.createElement(b.a,{theme:l.muiTheme},c.createElement(ie,{authentication:n},c.createElement(de,null,c.createElement(w.I18n,{update:!0},(function(e){var t=e.i18n;return c.createElement(Te,{i18n:t,makeEventsFunctionCodeWriter:a,eventsFunctionsExtensionWriter:o,eventsFunctionsExtensionOpener:i},c.createElement(Pe.a,null,c.createElement(Ae.b,null,c.createElement(Re.b,null,c.createElement(Me.b,null,c.createElement(Fe.b,null,c.createElement(Be.b,null,c.createElement(De.b,null,c.createElement(Le.a.Provider,{value:s},r({i18n:t}))))))))))}))))))))})))))}}]),n}(c.Component)},function(e,t,n){"use strict";var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n(119),u=n(338),d=n(299),p=n(344),m=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onPlay,n=e.onPause,r=e.canPlay,a=e.canPause,o=e.onOpenProfiler,i=e.canOpenProfiler,s=e.onOpenConsole,l=e.canOpenConsole;return c.createElement(u.b,{lastChild:!0},c.createElement(d.a,{onClick:t,src:"res/ribbon_default/preview64.png",disabled:!r,tooltip:{id:"Play the game"}}),c.createElement(d.a,{onClick:n,src:"res/ribbon_default/pause64.png",disabled:!a,tooltip:{id:"Pause the game"}}),c.createElement(p.a,null),c.createElement(d.a,{onClick:o,src:"res/ribbon_default/profiler32.png",disabled:!i,tooltip:{id:"Open the performance profiler"}}),c.createElement(d.a,{onClick:s,src:"res/ribbon_default/source_cpp32.png",disabled:!l,tooltip:{id:"Open the console"}}))}}]),n}(c.PureComponent),f=n(323),h=n(160),g=n(524),b=n.n(g),v=n(127),E=n(117),y=n(151),C={container:{flex:1,display:"flex"},list:{overflowY:"scroll",flex:1}},j=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"_renderInspectorList",value:function(e,t,n){var r=this;return t(e).map((function(t){if(!t)return null;var a=n.concat(t.key),o=t.getSubInspectors;return c.createElement(y.b,{key:a.join("."),primaryText:t.label,initiallyOpen:!!t.initiallyOpen,onClick:function(){return r.props.onChooseInspector(t,a)},renderNestedItems:o?function(){return r._renderInspectorList(b()(e,t.key,null),o,a)}:void 0})}))}},{key:"render",value:function(){return this.props.gameData?c.createElement(y.a,{style:C.list},this._renderInspectorList(this.props.gameData,this.props.getInspectorDescriptions,[])):null}}]),n}(c.Component),O=n(446),x=n.n(O),k=n(13),T=n(859),w=n.n(T),S=function e(t){if(!t)return null;var n={type:t._type,value:null};return"string"===t._type?n.value=t._str:"number"===t._type?n.value=t._value:"boolean"===t._type?n.value=t._bool:"structure"===t._type?n.value=w()(t._children,e):"array"===t._type&&(n.value=t._childrenArray.map(e)),n},P=function(e,t){var n=t.onCall,r=(t.onEdit,t.variablesContainer);if(r){var a=function(e,t){var n,r=e.shift(),a=["_variables","items",r],o=t._variables.items[r],i=!1,s=Object(k.a)(e);try{for(s.s();!(n=s.n()).done;){var c=n.value;if(!(i=!i))if("structure"===o._type)a.push("_children",c),o=o._children[c];else{if("array"!==o._type)return{path:null,variable:null};a.push("_childrenArray",c),o=o._childrenArray[parseInt(c,10)]}}}catch(l){s.e(l)}finally{s.f()}return{path:a,variable:o}}(e.namespace,r),o=a.path,i=a.variable;if(!o)return console.error("Invalid path passed to the debugger: ",e),!1;if(!i)return console.error("Variable doesn't exist: ",e),!1;if("type"===e.name){if(o.push("castTo"),"string"!==e.new_value&&"number"!==e.new_value&&"boolean"!==e.new_value&&"structure"!==e.new_value&&"array"!==e.new_value)return console.error("Invalid type name: "+e.new_value),!1;e.new_value!==i._type&&n(o,[e.new_value])}else if("value"===e.name){if("string"===i._type&&"string"!==typeof e.new_value)e.new_value=""+e.new_value;else if("number"===i._type&&"number"!==typeof e.new_value){if(e.new_value=parseFloat(e.new_value),isNaN(e.new_value))return console.error("Cannot set variable of type number to NaN!"),!1}else if("boolean"===i._type&&"boolean"!==typeof e.new_value)e.new_value="string"===typeof e.new_value?"false"!==e.new_value.toLowerCase()&&"0"!==e.new_value:!!e.new_value;else if("structure"===i._type||"array"===i._type)return console.error("Cannot set the value of a collection."),!1;o.push("setValue"),n(o,[e.new_value])}return!0}},_=function(e){return c.createElement(x.a,{collapsed:!1,name:!1,src:e.variablesContainer?(t=e.variablesContainer,t&&t._variables&&t._variables.items?w()(t._variables.items,S):null):null,enableClipboard:!1,displayDataTypes:!1,displayObjectSize:!1,onEdit:function(t){return P(t,e)},groupArraysAfterLength:50,theme:"monokai",validationMessage:"Invalid value"});var t},I=n(125),N=function(e){return c.createElement(c.Fragment,null,c.createElement(I.a,null,c.createElement(s.Trans,{id:"General:"})),c.createElement(x.a,{collapsed:!1,name:!1,src:(t=e.runtimeObject,t?{"X position":t.x,"Y position":t.y,Angle:t.angle,Layer:t.layer,"Z order":t.zOrder,"Is hidden?":t.hidden}:null),enableClipboard:!1,displayDataTypes:!1,displayObjectSize:!1,onEdit:function(t){return function(e,t){var n=t.onCall;t.onEdit;if("X position"===e.name)n(["setX"],[parseFloat(e.new_value)]);else if("Y position"===e.name)n(["setY"],[parseFloat(e.new_value)]);else if("Angle"===e.name)n(["setAngle"],[parseFloat(e.new_value)]);else if("Layer"===e.name)n(["setLayer"],[e.new_value]);else if("Z order"===e.name)n(["setZOrder"],[parseFloat(e.new_value)]);else{if("Is hidden?"!==e.name)return!1;n(["hide"],[!!e.new_value])}return!0}(t,e)},groupArraysAfterLength:50,theme:"monokai"}),c.createElement(I.a,null,c.createElement(s.Trans,{id:"Instance variables:"})),c.createElement(_,{variablesContainer:e.runtimeObject?e.runtimeObject._variables:null,onEdit:function(t,n){return e.onEdit(["_variables"].concat(t),n)},onCall:function(t,n){return e.onCall(["_variables"].concat(t),n)}}));var t},A=n(129),R=n(212),M=function(e){return e?{"Camera rotation (in deg)":e._cameraRotation,"Camera zoom":e._zoomFactor,"Layer is hidden":!!e._hidden,"Camera X position":e._cameraX,"Camera Y position":e._cameraY,"Time scale":e._timeScale}:null},F=function(e){return e?{"Time scale":e._timeManager?e._timeManager._timeScale:null,Layers:e._layers&&e._layers.items?w()(e._layers.items,M):null}:null},L=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={newObjectName:""},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.runtimeScene,r=t.onCall;return n?c.createElement(c.Fragment,null,c.createElement(I.a,null,c.createElement(s.Trans,{id:"Layers:"})),c.createElement(x.a,{collapsed:!1,name:!1,src:F(n),enableClipboard:!1,displayDataTypes:!1,displayObjectSize:!1,onEdit:function(t){return function(e,t){var n=t.onCall;t.onEdit;if(0===e.namespace.length&&"Time scale"===e.name)n(["_timeManager","setTimeScale"],[parseFloat(e.new_value)]);else{if(!(e.namespace.length>=2))return!1;"Layers"===e.namespace[0]&&("Camera rotation (in deg)"===e.name?n(["_layers","items",e.namespace[1],"setCameraRotation"],[parseFloat(e.new_value)]):"Camera zoom"===e.name?n(["_layers","items",e.namespace[1],"setCameraZoom"],[parseFloat(e.new_value)]):"Layer is hidden"===e.name?n(["_layers","items",e.namespace[1],"show"],[!e.new_value]):"Camera X position"===e.name?n(["_layers","items",e.namespace[1],"setCameraX"],[parseFloat(e.new_value)]):"Camera Y position"===e.name?n(["_layers","items",e.namespace[1],"setCameraY"],[parseFloat(e.new_value)]):"Time scale"===e.name&&n(["_layers","items",e.namespace[1],"setTimeScale"],[parseFloat(e.new_value)]))}return!0}(t,e.props)},groupArraysAfterLength:50,theme:"monokai"}),c.createElement(I.a,null,c.createElement(s.Trans,{id:"Create a new instance on the scene (will be at position 0;0):"})),n._objects&&n._objects.items&&c.createElement(A.c,{noFloatingLabelText:!0,renderTextField:function(){return c.createElement(R.a,{hintText:{id:"Enter the name of the object"},value:e.state.newObjectName,onChange:function(t){e.setState({newObjectName:t})},dataSource:Object.keys(n._objects.items).map((function(e){return{text:e,value:e}})),openOnFocus:!0,fullWidth:!0})},renderButton:function(t){return c.createElement(v.a,{style:t,label:c.createElement(s.Trans,{id:"Create"}),primary:!0,onClick:function(){r(["createObject"],[e.state.newObjectName])}})}})):null}}]),n}(c.Component),B=function(e){return[{label:"Global variables",key:"_variables",renderInspector:function(e,t){var n=t.onCall,r=t.onEdit;return c.createElement(_,{variablesContainer:e,onCall:n,onEdit:r})}},{label:"Scenes",key:["_sceneStack","_stack"],renderInspector:function(){return null},initiallyOpen:!0,getSubInspectors:function(e){return e?e.map((function(e,t){return{label:e._name,key:t,renderInspector:function(e,t){var n=t.onCall,r=t.onEdit;return c.createElement(L,{runtimeScene:e,onCall:n,onEdit:r})},initiallyOpen:!0,getSubInspectors:function(e){return[{label:"Scene variables",key:"_variables",renderInspector:function(e,t){var n=t.onCall,r=t.onEdit;return c.createElement(_,{variablesContainer:e,onCall:n,onEdit:r})}},{label:"Instances",key:"_instances",renderInspector:function(){return null},initiallyOpen:!0,getSubInspectors:function(e){return e&&e.items?Object.keys(e.items).map((function(t){return e.items[t]&&void 0!==typeof e.items[t].length?{label:"".concat(t," (").concat(e.items[t].length,")"),key:["items",t],renderInspector:function(){return null},getSubInspectors:function(e){return e?e.filter((function(e){return!!e})).map((function(e,t){return{label:"#".concat(e.id),key:t,renderInspector:function(e,t){var n=t.onCall,r=t.onEdit;return c.createElement(N,{runtimeObject:e,onCall:n,onEdit:r})}}})):[]}}:null})):[]}}]}}})):[]}}]},D=n(136),U=function(e){var t=e.gameData,n=e.onEdit;return c.createElement(c.Fragment,null,c.createElement(D.a,null,c.createElement(s.Trans,{id:"You are in raw mode. You can edit the fields, but be aware that this can lead to unexpected results or even crash the debugged game!"})),c.createElement(x.a,{collapsed:1,name:!1,src:t,onEdit:function(e){return n(e.namespace.concat(e.name),e.new_value)},groupArraysAfterLength:50,theme:"monokai"}))},G=n(175),V=n(860),W=n.n(V),H=n(1635),z=n.n(H),Y=n(142),q=n(18),X=n(205),K=n(153),J=n(798),Z=n.n(J),Q=n(138),$=n(349),ee=n.n($),te=n(432),ne=n.n(te),re={indent:{display:"flex",alignItems:"center"}},ae=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={collapsedPaths:{}},e._convertToDataRows=function(t,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i=e.props.profilerMeasures,s=n&&r.time&&0!==n.time?r.time/n.time*100:100,c=i&&r.time&&0!==i.time?r.time/i.time*100:100,l=e._isSectionCollapsed(o);return[{name:t,time:r.time?"".concat(r.time.toFixed(2),"ms"):"?",parentPercent:"".concat(s.toFixed(2),"%"),totalPercent:"".concat(c.toFixed(2),"%"),depth:a,hasSubsections:!!Object.keys(r.subsections).length,path:o,isCollapsed:l}].concat(Object(q.a)(l?[]:Z()(r.subsections,(function(t,n){return e._convertToDataRows(n,r,t,a+1,"".concat(o,">").concat(a,".").concat(n))}))))},e._isSectionCollapsed=function(t){return e.state.collapsedPaths[t]},e._toggleSection=function(t){e.setState((function(e){return{collapsedPaths:Object(l.a)(Object(l.a)({},e.collapsedPaths),{},{[t]:!e.collapsedPaths[t]})}}))},e._rowClassName=function(e){var t=e.index;return t<0?"tableHeaderRow":t%2===0?"tableEvenRow":"tableOddRow"},e._renderSectionNameCell=function(t){var n=t.rowData;return c.createElement("div",{style:re.indent},c.createElement("div",{style:{width:8*n.depth}}),n.hasSubsections?c.createElement(Q.a,{onClick:function(){return e._toggleSection(n.path)}},n.isCollapsed?c.createElement(ne.a,null):c.createElement(ee.a,null)):c.createElement("div",{style:{width:24}}),n.name)},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.props.profilerMeasures;if(!t)return null;var n=this._convertToDataRows("All",null,t);return c.createElement(K.a,null,(function(t){return c.createElement(X.a,null,(function(r){var a=r.height,o=r.width;return c.createElement(X.h,{headerHeight:30,height:a,className:"gd-table ".concat(t.tableRootClassName),headerClassName:"tableHeaderColumn",rowCount:n.length,rowGetter:function(e){var t=e.index;return n[t]},rowHeight:35,onRowClick:function(){},rowClassName:e._rowClassName,width:o},c.createElement(X.d,{label:c.createElement(s.Trans,{id:"Section name"}),dataKey:"name",width:.4*o,className:"tableColumn",cellRenderer:e._renderSectionNameCell}),c.createElement(X.d,{label:c.createElement(s.Trans,{id:"Time (ms)"}),dataKey:"time",width:.2*o,className:"tableColumn"}),c.createElement(X.d,{label:c.createElement(s.Trans,{id:"% of parent"}),dataKey:"parentPercent",width:.2*o,className:"tableColumn"}),c.createElement(X.d,{label:c.createElement(s.Trans,{id:"% of total"}),dataKey:"totalPercent",width:.2*o,className:"tableColumn"}))}))}))}}]),n}(c.Component),oe=n(2113),ie={tableContainer:{flex:1}},se=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onStart,n=e.onStop,r=e.profilerOutput,a=e.profilingInProgress;return c.createElement(h.a,null,c.createElement(E.b,{alignItems:"center",justifyContent:"center"},!a&&r&&c.createElement(I.a,null,c.createElement(s.Trans,{id:"Last run collected on {0} frames.",values:{0:r.stats.framesCount}})),!a&&r&&c.createElement(v.a,{label:c.createElement(s.Trans,{id:"Restart"}),onClick:t}),!a&&!r&&c.createElement(v.a,{label:c.createElement(s.Trans,{id:"Start profiling"}),onClick:t}),a&&c.createElement(v.a,{label:c.createElement(s.Trans,{id:"Stop profiling"}),onClick:n})),a&&c.createElement(E.b,{alignItems:"center"},c.createElement(oe.a,{style:{flex:1},variant:"indeterminate"})),c.createElement("div",{style:ie.tableContainer},r&&c.createElement(ae,{profilerMeasures:r.framesAverageMeasures}),!r&&c.createElement(D.a,null,c.createElement(s.Trans,{id:"Start profiling and then stop it after a few seconds to see the results."}))))}}]),n}(c.Component),ce=n(26),le=n(148),ue=n(2217),de=n(128),pe=n(215),me=n(124),fe=n(670),he=n.n(fe),ge=n(305),be=n.n(ge),ve=n(671),Ee=n.n(ve),ye=n(1633),Ce=n.n(ye),je=n(1634),Oe=n.n(je),xe=n(322),ke=n.n(xe),Te=n(284),we=n.n(Te),Se=n(505),Pe=n.n(Se),_e=n(599),Ie=n.n(_e),Ne=n(1632),Ae=n.n(Ne),Re=function(){function e(){Object(r.a)(this,e),this.logs=[],this.groups=new Set,this._onNewLog=new Set,this._onNewGroup=new Set,this._pendingLogs=[],this._pendingCommit=!1}return Object(a.a)(e,[{key:"_commitLogs",value:function(){var e;(e=this.logs).unshift.apply(e,Object(q.a)(this._pendingLogs)),this._pendingLogs.length=0,this._pendingCommit=!1,this._onNewLog.forEach((function(e){return e()}))}},{key:"addLog",value:function(e){this._pendingLogs.unshift(e),this.groups.has(e.group)||(this.groups.add(e.group),this._onNewGroup.forEach((function(e){return e()}))),this._pendingCommit||(setTimeout(this._commitLogs.bind(this),200),this._pendingCommit=!0)}},{key:"on",value:function(e,t){"group"===e&&this._onNewGroup.add(t),"log"===e&&this._onNewLog.add(t)}},{key:"off",value:function(e,t){"group"===e&&this._onNewGroup.delete(t),"log"===e&&this._onNewLog.delete(t)}}]),e}(),Me={userSelect:"text",cursor:"text",wordBreak:"break-word"},Fe={list:{overflowX:"hidden",overflowY:"scroll"},tag:{marginRight:2},consoleTextArea:Object(l.a)(Object(l.a)({},Me),{},{width:"100%",backgroundColor:"#292929",borderRadius:"4px",border:"1px solid slategray",color:"white",fontFamily:"'Courier New', monospace",fontSize:11,padding:3})},Le=function(e){var t=e.icon,n=e.label;return c.createElement(ue.a,{icon:t,style:Fe.tag,size:"small",label:c.createElement("span",{style:Me},n)})},Be={info:c.createElement(he.a,{color:"primary",fontSize:"small"}),warning:c.createElement(be.a,{color:"secondary",fontSize:"small"}),error:c.createElement(Ee.a,{color:"error",fontSize:"small"})},De=function(e){var t=e.logsManager,n=Object(le.a)(),r=t.logs,a=t.groups;c.useEffect((function(){var e=function(){n()};return t.on("log",e),function(){t.off("log",e)}}),[n,t]);var o=c.useRef(0),i=c.useMemo((function(){return new X.c({defaultHeight:45,minHeight:25,fixedWidth:!0,keyMapper:function(e){return r.length-e}})}),[r]),u=c.useState(!1),d=Object(ce.a)(u,2),p=d[0],m=d[1],f=c.useState(!0),h=Object(ce.a)(f,2),g=h[0],b=h[1],v=c.useState(!1),y=Object(ce.a)(v,2),C=y[0],j=y[1],O=c.useRef(new Set).current;c.useEffect((function(){if(C){var e=function(){return n()};return t.on("group",e),function(){t.off("group",e)}}}),[C,n,t]);var x=r.filter((function(e){var t=e.internal;return!(p&&t)})).filter((function(e){var t=e.group;return!O.has(t)}));return c.createElement(E.a,{noMargin:!0,noOverflowParent:!0,expand:!0},c.createElement(E.b,{noMargin:!0,expand:!0},c.createElement(X.a,null,(function(e){var t=e.width,n=e.height;return t&&n?(o.current!==t&&(i.clearAll(),o.current=t),c.createElement(X.f,{deferredMeasurementCache:i,height:n,width:t,style:Fe.list,rowCount:x.length,rowHeight:i.rowHeight,rowRenderer:function(e){var t=e.index,n=e.key,r=e.parent,a=e.style;return c.createElement(X.b,{cache:i,columnIndex:0,key:n,parent:r,rowIndex:t},(function(e){var r=e.registerChild;return c.createElement("div",{key:n,style:Object(l.a)(Object(l.a)({},a),{},{padding:2,display:"flex",alignItems:"flex-start"}),ref:r},c.createElement(E.a,{noMargin:!0},Be[x[t].type]||Be.info),c.createElement(E.c,null),c.createElement(E.a,{noMargin:!0,expand:!0},c.createElement(E.b,{noMargin:!0},c.createElement("div",{style:Fe.consoleTextArea},x[t].message)),g&&c.createElement(c.Fragment,null,c.createElement(E.c,null),c.createElement(E.b,{noMargin:!0},x[t].group?c.createElement(Le,{icon:c.createElement(Ae.a,null),label:c.createElement(s.Trans,{id:"Group: {0}",values:{0:x[t].group}})}):null,c.createElement(Le,{icon:c.createElement(Ie.a,null),label:c.createElement(s.Trans,{id:"Timestamp: {0}",values:{0:Math.round(1e3*x[t].timestamp)/1e6+"s"}})})))))}))}})):null}))),c.createElement(pe.b,null,c.createElement(E.b,{justifyContent:"space-between",alignItems:"center",noMargin:!0},c.createElement(G.a,{label:g?c.createElement(s.Trans,{id:"Hide details"}):c.createElement(s.Trans,{id:"Show details"}),checkedIcon:c.createElement(Ce.a,null),uncheckedIcon:c.createElement(Oe.a,null),checked:g,onCheck:function(e,t){return b(t),void i.clearAll()}}),c.createElement(G.a,{label:c.createElement(s.Trans,{id:"Show internal"}),checkedIcon:c.createElement(ke.a,null),uncheckedIcon:c.createElement(we.a,null),checked:!p,onCheck:function(e,t){return m(!t)}}),c.createElement(Q.a,{tooltip:{id:"Filter the logs by group"},onClick:function(){return j(!0)},edge:"start",size:"small"},c.createElement(Pe.a,null)))),C&&c.createElement(de.a,{open:!0,title:c.createElement(s.Trans,{id:"Select log groups to display"}),onRequestClose:function(){return j(!1)},actions:[c.createElement(me.a,{key:"close",label:c.createElement(s.Trans,{id:"Close"}),primary:!1,onClick:function(){return j(!1)}})],onApply:function(){return j(!1)}},c.createElement(E.a,null,function(){var e,t=[],r=Object(k.a)(a.values());try{var o=function(){var r=e.value;t.push(c.createElement(E.b,{key:r},c.createElement(G.a,{label:r,checked:!O.has(r),onCheck:function(e,t){t?O.delete(r):O.add(r),n()}})))};for(r.s();!(e=r.n()).done;)o()}catch(i){r.e(i)}finally{r.f()}return t}())))},Ue=n(143),Ge=n(164),Ve={direction:"column",first:{direction:"row",first:"inspectors",second:"selected-inspector",splitPercentage:25},second:{direction:"row",first:"profiler",second:"console",splitPercentage:25},splitPercentage:65},We=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={selectedInspector:null,selectedInspectorFullPath:[],rawMode:!1},e._editors=null,e.openProfiler=function(){e._editors&&e._editors.openEditor("profiler","end",75,"row")},e.openConsole=function(){e._editors&&e._editors.openEditor("console","start",40,"row")},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.gameData,r=t.onRefresh,a=t.onCall,o=t.onEdit,i=t.onStartProfiler,l=t.onStopProfiler,u=t.profilerOutput,d=t.profilingInProgress,p=t.logsManager,m=this.state,g=m.selectedInspector,y=m.selectedInspectorFullPath,C=m.rawMode,O={inspectors:{type:"primary",title:{id:"Inspectors"},toolbarControls:[],renderEditor:function(){return c.createElement(h.a,null,c.createElement(E.a,{expand:!0,noMargin:!0,useFullHeight:!0},c.createElement(E.b,{justifyContent:"center"},c.createElement(v.a,{label:c.createElement(s.Trans,{id:"Refresh"}),onClick:r,primary:!0})),c.createElement(j,{gameData:n,getInspectorDescriptions:B,onChooseInspector:function(t,n){return e.setState({selectedInspector:t,selectedInspectorFullPath:n})}})))}},"selected-inspector":{type:"primary",noTitleBar:!0,renderEditor:function(){return c.createElement(h.a,null,c.createElement(Ge.a,null,c.createElement(E.a,null,g?C?c.createElement(U,{gameData:b()(n,y,null),onEdit:function(e,t){return o(y.concat(e),t)}}):g.renderInspector(b()(n,y,null),{onCall:function(e,t){return a(y.concat(e),t)},onEdit:function(e,t){return o(y.concat(e),t)}})||c.createElement(D.a,null,c.createElement(s.Trans,{id:"No inspector, choose another element in the list or toggle the raw data view."})):c.createElement(D.a,null,n?c.createElement(s.Trans,{id:"Choose an element to inspect in the list"}):c.createElement(s.Trans,{id:"Pause the game (from the toolbar) or hit refresh (on the left) to inspect the game"})))),c.createElement(pe.b,null,c.createElement(E.b,{justifyContent:"space-between",alignItems:"center",noMargin:!0},c.createElement(Y.a,{helpPagePath:"/interface/debugger"}),c.createElement("div",null,c.createElement(G.a,{checkedIcon:c.createElement(W.a,null),uncheckedIcon:c.createElement(z.a,null),checked:C,onCheck:function(t,n){return e.setState({rawMode:n})}})))))}},profiler:{type:"secondary",title:{id:"Profiler"},renderEditor:function(){return c.createElement(se,{onStart:i,onStop:l,profilerOutput:u,profilingInProgress:d})}},console:{type:"secondary",title:{id:"Console"},renderEditor:function(){return c.createElement(h.a,null,c.createElement(De,{logsManager:p||[]}))}}};return c.createElement(Ue.a.Consumer,null,(function(t){var n=t.getDefaultEditorMosaicNode,r=t.setDefaultEditorMosaicNode;return c.createElement(f.a,{ref:function(t){return e._editors=t},editors:O,initialNodes:n("debugger")||Ve,onPersistNodes:function(e){return r("debugger",e)}})}))}}]),n}(c.Component),He=n(154),ze=n(155),Ye=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=!!this.props.debuggerIds.length;return c.createElement(He.a,{fullWidth:!0,value:t?this.props.selectedId:0,onChange:function(t,n,r){return e.props.onChooseDebugger(parseInt(r,10)||0)},disabled:!t},this.props.debuggerIds.map((function(e){return c.createElement(ze.a,{value:e,key:e,primaryText:{id:"Game preview #{id}",values:{id:e}}})})),!t&&c.createElement(ze.a,{value:0,primaryText:{id:"No preview running. Run a preview and you will be able to inspect it with the debugger"}}))}}]),n}(c.Component),qe=n(158),Xe=n(315),Ke=function(e){var t=e.group,n=e.message;return"JavaScript"===t&&(n.includes("Electron Security Warning")||n.includes("Warning: This is a browser-targeted Firebase bundle"))},Je=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={debuggerServerState:e.props.previewDebuggerServer.getServerState(),debuggerServerError:null,debuggerIds:e.props.previewDebuggerServer.getExistingDebuggerIds(),unregisterDebuggerServerCallbacks:null,debuggerGameData:{},profilerOutputs:{},profilingInProgress:{},selectedId:0,logs:{}},e._debuggerContents={},e._debuggerLogs=new Map,e._registerServerCallbacks=function(){var t=e.props.previewDebuggerServer,n=e.state.unregisterDebuggerServerCallbacks;if(!n||"started"!==t.getServerState()){n&&n();var r=t.registerCallbacks({onErrorReceived:function(t){e.setState({debuggerServerError:t},(function(){return e.updateToolbar()}))},onConnectionClosed:function(t){var n=t.id,r=t.debuggerIds;e._debuggerLogs.delete(n),e.setState((function(e){var t=e.selectedId,a=e.debuggerGameData,o=e.profilerOutputs,i=e.profilingInProgress;return a[n]&&delete a[n],o[n]&&delete o[n],i[n]&&delete i[n],{debuggerIds:r,selectedId:t!==n?t:r.length?r[r.length-1]:t,debuggerGameData:a,profilerOutputs:o,profilingInProgress:i}}),(function(){return e.updateToolbar()}))},onConnectionOpened:function(t){var n=t.id,r=t.debuggerIds;e.setState({debuggerIds:r,selectedId:n},(function(){return e.updateToolbar()}))},onServerStateChanged:function(){e.setState({debuggerServerState:t.getServerState()},(function(){return e.updateToolbar()}))},onHandleParsedMessage:function(t){var n=t.id,r=t.parsedMessage;e._handleMessage(n,r)}});e.setState({unregisterDebuggerServerCallbacks:r})}},e._handleMessage=function(t,n){if("dump"===n.command)e.setState({debuggerGameData:Object(l.a)(Object(l.a)({},e.state.debuggerGameData),{},{[t]:n.payload})});else if("profiler.output"===n.command)e.setState({profilerOutputs:Object(l.a)(Object(l.a)({},e.state.profilerOutputs),{},{[t]:n.payload})});else if("profiler.started"===n.command)e.setState((function(e){return{profilingInProgress:Object(l.a)(Object(l.a)({},e.profilingInProgress),{},{[t]:!0})}}));else if("profiler.stopped"===n.command)e.setState((function(e){return{profilingInProgress:Object(l.a)(Object(l.a)({},e.profilingInProgress),{},{[t]:!1})}}));else if("hotReloader.logs"===n.command);else if("console.log"===n.command){if(Ke(n.payload))return;e._getLogsManager(t).addLog(n.payload)}else console.warn("Unknown command received from debugger client:",n.command)},e._play=function(t){e.props.previewDebuggerServer.sendMessage(t,{command:"play"})},e._pause=function(t){e.props.previewDebuggerServer.sendMessage(t,{command:"pause"})},e._refresh=function(t){e.props.previewDebuggerServer.sendMessage(t,{command:"refresh"})},e._edit=function(t,n,r){return e.props.previewDebuggerServer.sendMessage(t,{command:"set",path:n,newValue:r}),setTimeout((function(){return e._refresh(t)}),100),!0},e._call=function(t,n,r){return e.props.previewDebuggerServer.sendMessage(t,{command:"call",path:n,args:r}),setTimeout((function(){return e._refresh(t)}),100),!0},e._startProfiler=function(t){e.props.previewDebuggerServer.sendMessage(t,{command:"profiler.start"})},e._stopProfiler=function(t){e.props.previewDebuggerServer.sendMessage(t,{command:"profiler.stop"})},e._hasSelectedDebugger=function(){var t=e.state,n=t.selectedId;return-1!==t.debuggerIds.indexOf(n)},e}return Object(a.a)(n,[{key:"updateToolbar",value:function(){var e=this;this.props.setToolbar(c.createElement(m,{onPlay:function(){return e._play(e.state.selectedId)},onPause:function(){return e._pause(e.state.selectedId)},canPlay:this._hasSelectedDebugger(),canPause:this._hasSelectedDebugger(),canOpenProfiler:this._hasSelectedDebugger(),onOpenProfiler:function(){e._debuggerContents[e.state.selectedId]&&e._debuggerContents[e.state.selectedId].openProfiler()},canOpenConsole:this._hasSelectedDebugger(),onOpenConsole:function(){e._debuggerContents[e.state.selectedId]&&e._debuggerContents[e.state.selectedId].openConsole()}}))}},{key:"componentDidMount",value:function(){this._registerServerCallbacks()}},{key:"componentWillUnmount",value:function(){this.state.unregisterDebuggerServerCallbacks&&this.state.unregisterDebuggerServerCallbacks()}},{key:"_getLogsManager",value:function(e){var t=this._debuggerLogs.get(e);return t||(t=new Re,this._debuggerLogs.set(e,t)),t}},{key:"render",value:function(){var e=this,t=this.state,n=t.debuggerServerError,r=t.debuggerServerState,a=t.selectedId,o=t.debuggerIds,i=t.debuggerGameData,l=t.profilerOutputs,u=t.profilingInProgress;return c.createElement(h.a,null,"stopped"===r&&!n&&c.createElement(Xe.a,null,c.createElement(qe.a,null),c.createElement(I.a,null,c.createElement(s.Trans,{id:"Debugger is starting..."}))),"stopped"===r&&n&&c.createElement(Xe.a,null,c.createElement(I.a,null,c.createElement(s.Trans,{id:"Unable to start the debugger server! Make sure that you are authorized to run servers on this computer."}))),"started"===r&&c.createElement(E.a,{expand:!0,noMargin:!0},c.createElement(Ye,{selectedId:a,debuggerIds:o,onChooseDebugger:function(t){return e.setState({selectedId:t},(function(){return e.updateToolbar()}))}}),this._hasSelectedDebugger()&&c.createElement(We,{ref:function(t){return e._debuggerContents[a]=t},gameData:i[a],onPlay:function(){return e._play(a)},onPause:function(){return e._pause(a)},onRefresh:function(){return e._refresh(a)},onEdit:function(t,n){return e._edit(a,t,n)},onCall:function(t,n){return e._call(a,t,n)},onStartProfiler:function(){return e._startProfiler(a)},onStopProfiler:function(){return e._stopProfiler(a)},profilerOutput:l[a],profilingInProgress:u[a],logsManager:this._getLogsManager(a)}),!this._hasSelectedDebugger()&&c.createElement(D.a,null,c.createElement(s.Trans,{id:"Run a preview and you will be able to inspect it with the debugger."}))))}}]),n}(c.Component),Ze=n(541);n.d(t,"a",(function(){return $e}));var Qe=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={subscriptionChecked:!1},e}return Object(a.a)(n,[{key:"shouldComponentUpdate",value:function(e){return this.props.isActive||e.isActive}},{key:"getProject",value:function(){return this.props.project}},{key:"getLayout",value:function(){return null}},{key:"updateToolbar",value:function(){this.editor&&this.editor.updateToolbar()}},{key:"forceUpdateEditor",value:function(){}},{key:"componentWillReceiveProps",value:function(){this._checkHasSubscription()}},{key:"componentDidMount",value:function(){this._checkHasSubscription()}},{key:"_checkHasSubscription",value:function(){this._subscriptionChecker&&this.props.isActive&&!this.state.subscriptionChecked&&(this._subscriptionChecker.checkHasSubscription(),this.setState({subscriptionChecked:!0}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.previewDebuggerServer;return n&&r?c.createElement(c.Fragment,null,c.createElement(Je,{project:n,setToolbar:this.props.setToolbar,previewDebuggerServer:r,ref:function(t){return e.editor=t}}),c.createElement(Ze.a,{ref:function(t){return e._subscriptionChecker=t},onChangeSubscription:function(){e.props.onChangeSubscription&&e.props.onChangeSubscription()},id:"Debugger",title:c.createElement(s.Trans,{id:"Debugger"}),mode:"try"})):null}}]),n}(c.Component),$e=function(e){return c.createElement(Qe,e)}},function(e,t,n){"use strict";var r={name:"Tomorrow-Night",themeName:"tomorrow-night",themeData:{base:"vs-dark",inherit:!0,rules:[{foreground:"969896",token:"comment"},{foreground:"ced1cf",token:"keyword.operator.class"},{foreground:"ced1cf",token:"constant.other"},{foreground:"ced1cf",token:"source.php.embedded.line"},{foreground:"cc6666",token:"variable"},{foreground:"cc6666",token:"support.other.variable"},{foreground:"cc6666",token:"string.other.link"},{foreground:"cc6666",token:"string.regexp"},{foreground:"cc6666",token:"entity.name.tag"},{foreground:"cc6666",token:"entity.other.attribute-name"},{foreground:"cc6666",token:"meta.tag"},{foreground:"cc6666",token:"declaration.tag"},{foreground:"de935f",token:"constant.numeric"},{foreground:"de935f",token:"constant.language"},{foreground:"de935f",token:"support.constant"},{foreground:"de935f",token:"constant.character"},{foreground:"de935f",token:"variable.parameter"},{foreground:"de935f",token:"punctuation.section.embedded"},{foreground:"de935f",token:"keyword.other.unit"},{foreground:"f0c674",token:"entity.name.class"},{foreground:"f0c674",token:"entity.name.type.class"},{foreground:"f0c674",token:"support.type"},{foreground:"f0c674",token:"support.class"},{foreground:"b5bd68",token:"string"},{foreground:"b5bd68",token:"constant.other.symbol"},{foreground:"b5bd68",token:"entity.other.inherited-class"},{foreground:"b5bd68",token:"markup.heading"},{foreground:"8abeb7",token:"keyword.operator"},{foreground:"8abeb7",token:"constant.other.color"},{foreground:"81a2be",token:"entity.name.function"},{foreground:"81a2be",token:"meta.function-call"},{foreground:"81a2be",token:"support.function"},{foreground:"81a2be",token:"keyword.other.special-method"},{foreground:"81a2be",token:"meta.block-level"},{foreground:"b294bb",token:"keyword"},{foreground:"b294bb",token:"storage"},{foreground:"b294bb",token:"storage.type"},{foreground:"b294bb",token:"entity.name.tag.css"},{foreground:"ced2cf",background:"df5f5f",token:"invalid"},{foreground:"ced2cf",background:"82a3bf",token:"meta.separator"},{foreground:"ced2cf",background:"b798bf",token:"invalid.deprecated"}],colors:{"editor.foreground":"#C5C8C6","editor.background":"#1D1F21","editor.selectionBackground":"#373B41","editor.lineHighlightBackground":"#282A2E","editorCursor.foreground":"#AEAFAD","editorWhitespace.foreground":"#4B4E55"}}},a={name:"Monokai",themeName:"monokai",themeData:{base:"vs-dark",inherit:!0,rules:[{foreground:"75715e",token:"comment"},{foreground:"e6db74",token:"string"},{foreground:"ae81ff",token:"constant.numeric"},{foreground:"ae81ff",token:"constant.language"},{foreground:"ae81ff",token:"constant.character"},{foreground:"ae81ff",token:"constant.other"},{foreground:"f92672",token:"keyword"},{foreground:"f92672",token:"storage"},{foreground:"66d9ef",fontStyle:"italic",token:"storage.type"},{foreground:"a6e22e",fontStyle:"underline",token:"entity.name.class"},{foreground:"a6e22e",fontStyle:"italic underline",token:"entity.other.inherited-class"},{foreground:"a6e22e",token:"entity.name.function"},{foreground:"fd971f",fontStyle:"italic",token:"variable.parameter"},{foreground:"f92672",token:"entity.name.tag"},{foreground:"a6e22e",token:"entity.other.attribute-name"},{foreground:"66d9ef",token:"support.function"},{foreground:"66d9ef",token:"support.constant"},{foreground:"66d9ef",fontStyle:"italic",token:"support.type"},{foreground:"66d9ef",fontStyle:"italic",token:"support.class"},{foreground:"f8f8f0",background:"f92672",token:"invalid"},{foreground:"f8f8f0",background:"ae81ff",token:"invalid.deprecated"},{foreground:"cfcfc2",token:"meta.structure.dictionary.json string.quoted.double.json"},{foreground:"75715e",token:"meta.diff"},{foreground:"75715e",token:"meta.diff.header"},{foreground:"f92672",token:"markup.deleted"},{foreground:"a6e22e",token:"markup.inserted"},{foreground:"e6db74",token:"markup.changed"},{foreground:"ae81ff",token:"constant.numeric.line-number.find-in-files - match"},{foreground:"e6db74",token:"entity.name.filename.find-in-files"}],colors:{"editor.foreground":"#F8F8F2","editor.background":"#272822","editor.selectionBackground":"#49483E","editor.lineHighlightBackground":"#3E3D32","editorCursor.foreground":"#F8F8F0","editorWhitespace.foreground":"#3B3A32","editorIndentGuide.activeBackground":"#9D550F","editor.selectionHighlightBorder":"#222218"}}},o={name:"Tomorrow",themeName:"tomorrow",themeData:{base:"vs",inherit:!0,rules:[{foreground:"8e908c",token:"comment"},{foreground:"666969",token:"keyword.operator.class"},{foreground:"666969",token:"constant.other"},{foreground:"666969",token:"source.php.embedded.line"},{foreground:"c82829",token:"variable"},{foreground:"c82829",token:"support.other.variable"},{foreground:"c82829",token:"string.other.link"},{foreground:"c82829",token:"string.regexp"},{foreground:"c82829",token:"entity.name.tag"},{foreground:"c82829",token:"entity.other.attribute-name"},{foreground:"c82829",token:"meta.tag"},{foreground:"c82829",token:"declaration.tag"},{foreground:"f5871f",token:"constant.numeric"},{foreground:"f5871f",token:"constant.language"},{foreground:"f5871f",token:"support.constant"},{foreground:"f5871f",token:"constant.character"},{foreground:"f5871f",token:"variable.parameter"},{foreground:"f5871f",token:"punctuation.section.embedded"},{foreground:"f5871f",token:"keyword.other.unit"},{foreground:"c99e00",token:"entity.name.class"},{foreground:"c99e00",token:"entity.name.type.class"},{foreground:"c99e00",token:"support.type"},{foreground:"c99e00",token:"support.class"},{foreground:"718c00",token:"string"},{foreground:"718c00",token:"constant.other.symbol"},{foreground:"718c00",token:"entity.other.inherited-class"},{foreground:"718c00",token:"markup.heading"},{foreground:"3e999f",token:"keyword.operator"},{foreground:"3e999f",token:"constant.other.color"},{foreground:"4271ae",token:"entity.name.function"},{foreground:"4271ae",token:"meta.function-call"},{foreground:"4271ae",token:"support.function"},{foreground:"4271ae",token:"keyword.other.special-method"},{foreground:"4271ae",token:"meta.block-level"},{foreground:"8959a8",token:"keyword"},{foreground:"8959a8",token:"storage"},{foreground:"8959a8",token:"storage.type"},{foreground:"ffffff",background:"c82829",token:"invalid"},{foreground:"ffffff",background:"4271ae",token:"meta.separator"},{foreground:"ffffff",background:"8959a8",token:"invalid.deprecated"}],colors:{"editor.foreground":"#4D4D4C","editor.background":"#FFFFFF","editor.selectionBackground":"#D6D6D6","editor.lineHighlightBackground":"#EFEFEF","editorCursor.foreground":"#AEAFAD","editorWhitespace.foreground":"#D1D1D1"}}},i={name:"Solarized-Dark",themeName:"solarized-dark",themeData:{base:"vs-dark",inherit:!0,rules:[{foreground:"657b83",fontStyle:"italic",token:"comment"},{foreground:"2aa198",token:"string"},{foreground:"d30102",token:"string.regexp"},{foreground:"d33682",token:"constant.numeric"},{foreground:"268bd2",token:"variable.language"},{foreground:"268bd2",token:"variable.other"},{foreground:"859900",token:"keyword"},{foreground:"93a1a1",fontStyle:"bold",token:"storage"},{foreground:"cb4b16",token:"entity.name.class"},{foreground:"cb4b16",token:"entity.name.type.class"},{foreground:"268bd2",token:"entity.name.function"},{foreground:"859900",token:"punctuation.definition.variable"},{foreground:"d30102",token:"punctuation.section.embedded.begin"},{foreground:"d30102",token:"punctuation.section.embedded.end"},{foreground:"b58900",token:"constant.language"},{foreground:"b58900",token:"meta.preprocessor"},{foreground:"cb4b16",token:"support.function.construct"},{foreground:"cb4b16",token:"keyword.other.new"},{foreground:"cb4b16",token:"constant.character"},{foreground:"cb4b16",token:"constant.other"},{foreground:"6c71c4",token:"entity.other.inherited-class"},{foreground:"268bd2",fontStyle:"bold",token:"entity.name.tag"},{foreground:"657b83",token:"punctuation.definition.tag"},{foreground:"93a1a1",token:"entity.other.attribute-name"},{foreground:"268bd2",token:"support.function"},{foreground:"d30102",token:"punctuation.separator.continuation"},{foreground:"859900",token:"support.type"},{foreground:"859900",token:"support.class"},{foreground:"cb4b16",token:"support.type.exception"}],colors:{"editor.foreground":"#93A1A1","editor.background":"#002B36","editor.selectionBackground":"#073642","editor.lineHighlightBackground":"#073642","editorCursor.foreground":"#D30102","editorWhitespace.foreground":"#93A1A1"}}},s={name:"Solarized-Light",themeName:"solarized-light",themeData:{base:"vs",inherit:!0,rules:[{foreground:"93a1a1",token:"comment"},{foreground:"2aa198",token:"string"},{foreground:"d30102",token:"string.regexp"},{foreground:"d33682",token:"constant.numeric"},{foreground:"268bd2",token:"variable.language"},{foreground:"268bd2",token:"variable.other"},{foreground:"859900",token:"keyword"},{foreground:"073642",fontStyle:"bold",token:"storage"},{foreground:"268bd2",token:"entity.name.class"},{foreground:"268bd2",token:"entity.name.type.class"},{foreground:"268bd2",token:"entity.name.function"},{foreground:"859900",token:"punctuation.definition.variable"},{foreground:"d30102",token:"punctuation.section.embedded.begin"},{foreground:"d30102",token:"punctuation.section.embedded.end"},{foreground:"b58900",token:"constant.language"},{foreground:"b58900",token:"meta.preprocessor"},{foreground:"d30102",token:"support.function.construct"},{foreground:"d30102",token:"keyword.other.new"},{foreground:"cb4b16",token:"constant.character"},{foreground:"cb4b16",token:"constant.other"},{foreground:"268bd2",fontStyle:"bold",token:"entity.name.tag"},{foreground:"93a1a1",token:"punctuation.definition.tag.begin"},{foreground:"93a1a1",token:"punctuation.definition.tag.end"},{foreground:"93a1a1",token:"entity.other.attribute-name"},{foreground:"268bd2",token:"support.function"},{foreground:"d30102",token:"punctuation.separator.continuation"},{foreground:"859900",token:"support.type"},{foreground:"859900",token:"support.class"},{foreground:"cb4b16",token:"support.type.exception"}],colors:{"editor.foreground":"#586E75","editor.background":"#FDF6E3","editor.selectionBackground":"#073642","editor.lineHighlightBackground":"#EEE8D5","editorCursor.foreground":"#000000","editorWhitespace.foreground":"#93A1A1"}}},c={name:"Vibrant Ink",themeName:"vibrant-ink",themeData:{base:"vs-dark",inherit:!0,rules:[{foreground:"ffffff",background:"0f0f0f",token:"text"},{background:"000000",token:"source.ruby.rails.embedded.html"},{foreground:"ffffff",background:"101010",token:"text.html.ruby"},{foreground:"ccff33",background:"000000",token:"invalid"},{foreground:"ccff33",background:"000000",token:"invalid.deprecated"},{foreground:"99cc99",token:"constant.numeric"},{foreground:"ffffff",background:"000000",token:"source"},{foreground:"9933cc",token:"comment"},{foreground:"339999",token:"constant"},{foreground:"ff6600",token:"keyword"},{foreground:"edf8f9",token:"keyword.preprocessor"},{foreground:"ffffff",token:"keyword.preprocessor directive"},{foreground:"ffcc00",token:"entity.name.function"},{foreground:"ffcc00",token:"storage.type.function.js"},{fontStyle:"italic",token:"variable.parameter"},{foreground:"772cb7",background:"070707",token:"source comment.block"},{foreground:"ffffff",token:"variable.other"},{foreground:"ffcc00",token:"support.function"},{foreground:"66ff00",token:"string"},{foreground:"aaaaaa",token:"string constant.character.escape"},{foreground:"000000",background:"cccc33",token:"string.interpolated"},{foreground:"44b4cc",token:"string.regexp"},{foreground:"cccc33",token:"string.literal"},{foreground:"555555",token:"string.interpolated constant.character.escape"},{fontStyle:"underline",token:"entity.name.class"},{fontStyle:"underline",token:"support.class.js"},{fontStyle:"italic underline",token:"entity.other.inherited-class"},{foreground:"ff6600",token:"meta.tag.inline.any.html"},{foreground:"ff6600",token:"meta.tag.block.any.html"},{foreground:"99cc99",fontStyle:"italic",token:"entity.other.attribute-name"},{foreground:"dde93d",token:"keyword.other"},{foreground:"ff6600",token:"meta.selector.css"},{foreground:"ff6600",token:"entity.other.attribute-name.pseudo-class.css"},{foreground:"ff6600",token:"entity.name.tag.wildcard.css"},{foreground:"ff6600",token:"entity.other.attribute-name.id.css"},{foreground:"ff6600",token:"entity.other.attribute-name.class.css"},{foreground:"999966",token:"support.type.property-name.css"},{foreground:"ffffff",token:"keyword.other.unit.css"},{foreground:"ffffff",token:"constant.other.rgb-value.css"},{foreground:"ffffff",token:"constant.numeric.css"},{foreground:"ffffff",token:"support.function.event-handler.js"},{foreground:"ffffff",token:"keyword.operator.js"},{foreground:"cccc66",token:"keyword.control.js"},{foreground:"ffffff",token:"support.class.prototype.js"},{foreground:"ff6600",token:"object.property.function.prototype.js"}],colors:{"editor.foreground":"#FFFFFF","editor.background":"#0F0F0F","editor.selectionBackground":"#6699CC","editor.lineHighlightBackground":"#333333","editorCursor.foreground":"#FFFFFF","editorWhitespace.foreground":"#404040"}}},l={name:"GitHub",themeName:"github",themeData:{base:"vs",inherit:!0,rules:[{foreground:"999988",fontStyle:"italic",token:"comment"},{foreground:"999999",fontStyle:"bold",token:"comment.block.preprocessor"},{foreground:"999999",fontStyle:"bold italic",token:"comment.documentation"},{foreground:"999999",fontStyle:"bold italic",token:"comment.block.documentation"},{foreground:"a61717",background:"e3d2d2",token:"invalid.illegal"},{fontStyle:"bold",token:"keyword"},{fontStyle:"bold",token:"storage"},{fontStyle:"bold",token:"keyword.operator"},{fontStyle:"bold",token:"constant.language"},{fontStyle:"bold",token:"support.constant"},{foreground:"445588",fontStyle:"bold",token:"storage.type"},{foreground:"445588",fontStyle:"bold",token:"support.type"},{foreground:"008080",token:"entity.other.attribute-name"},{foreground:"0086b3",token:"variable.other"},{foreground:"999999",token:"variable.language"},{foreground:"445588",fontStyle:"bold",token:"entity.name.type"},{foreground:"445588",fontStyle:"bold",token:"entity.other.inherited-class"},{foreground:"445588",fontStyle:"bold",token:"support.class"},{foreground:"008080",token:"variable.other.constant"},{foreground:"800080",token:"constant.character.entity"},{foreground:"990000",token:"entity.name.exception"},{foreground:"990000",token:"entity.name.function"},{foreground:"990000",token:"support.function"},{foreground:"990000",token:"keyword.other.name-of-parameter"},{foreground:"555555",token:"entity.name.section"},{foreground:"000080",token:"entity.name.tag"},{foreground:"008080",token:"variable.parameter"},{foreground:"008080",token:"support.variable"},{foreground:"009999",token:"constant.numeric"},{foreground:"009999",token:"constant.other"},{foreground:"dd1144",token:"string - string source"},{foreground:"dd1144",token:"constant.character"},{foreground:"009926",token:"string.regexp"},{foreground:"990073",token:"constant.other.symbol"},{fontStyle:"bold",token:"punctuation"},{foreground:"000000",background:"ffdddd",token:"markup.deleted"},{fontStyle:"italic",token:"markup.italic"},{foreground:"aa0000",token:"markup.error"},{foreground:"999999",token:"markup.heading.1"},{foreground:"000000",background:"ddffdd",token:"markup.inserted"},{foreground:"888888",token:"markup.output"},{foreground:"888888",token:"markup.raw"},{foreground:"555555",token:"markup.prompt"},{fontStyle:"bold",token:"markup.bold"},{foreground:"aaaaaa",token:"markup.heading"},{foreground:"aa0000",token:"markup.traceback"},{fontStyle:"underline",token:"markup.underline"},{foreground:"999999",background:"eaf2f5",token:"meta.diff.range"},{foreground:"999999",background:"eaf2f5",token:"meta.diff.index"},{foreground:"999999",background:"eaf2f5",token:"meta.separator"},{foreground:"999999",background:"ffdddd",token:"meta.diff.header.from-file"},{foreground:"999999",background:"ddffdd",token:"meta.diff.header.to-file"},{foreground:"4183c4",token:"meta.link"}],colors:{"editor.foreground":"#000000","editor.background":"#F8F8FF","editor.selectionBackground":"#B4D5FE","editor.lineHighlightBackground":"#FFFEEB","editorCursor.foreground":"#666666","editorWhitespace.foreground":"#BBBBBB"}}},u={name:"Nord-Dark",themeName:"nord-dark",themeData:{base:"vs-dark",inherit:!0,rules:[{foreground:"616e88",token:"comment"},{foreground:"616e88",fontStyle:"bold",token:"comment.block.preprocessor"},{foreground:"81a1c1",token:"comment.block.documentation"},{foreground:"d8dee9",background:"bf616a",token:"invalid.illegal"},{foreground:"81a1c1",token:"keyword"},{foreground:"81a1c1",token:"storage"},{foreground:"81a1c1",token:"keyword.operator"},{foreground:"81a1c1",token:"constant.language"},{foreground:"81a1c1",token:"support.constant"},{foreground:"8fbcbb",token:"storage.type"},{foreground:"8fBcbb",token:"entity.other.attribute-name"},{foreground:"d8dee9",token:"variable.other"},{foreground:"d8dee9",token:"variable.language"},{foreground:"8fbcbb",token:"entity.name.type"},{foreground:"8fbcbb",fontStyle:"bold",token:"entity.other.inherited-class"},{foreground:"8fbcbb",token:"support.class"},{foreground:"8fbcbb",token:"variable.other.constant"},{foreground:"88c0d0",token:"entity.name.function"},{foreground:"88c0d0",token:"support.function"},{foreground:"88c0d0",token:"entity.name.section"},{foreground:"5e81ac",token:"entity.name.tag"},{foreground:"d8dee9",token:"variable.parameter"},{foreground:"d8dee9",token:"support.variable"},{foreground:"b48ead",token:"constant.numeric"},{foreground:"b48ead",token:"constant.other"},{foreground:"a3be8c",token:"string - string source"},{foreground:"ebcb8b",token:"constant.character"},{foreground:"ebcb8b",token:"string.regexp"},{foreground:"d8dee9",fontStyle:"bold",token:"constant.other.symbol"},{fontground:"eceff4",token:"punctuation"},{foreground:"bf616a",token:"markup.deleted"},{fontStyle:"italic",token:"markup.italic"},{foreground:"88c0d0",token:"markup.heading"},{foreground:"a3be8c",token:"markup.inserted"},{fontStyle:"bold",token:"markup.bold"},{fontStyle:"underline",token:"markup.underline"},{foreground:"8fbcbb",token:"meta.diff.range"},{foreground:"8fbcbb",token:"meta.diff.header.from-file"}],colors:{"editorActiveLineNumber.foreground":"#d8dee9","editorCursor.foreground":"#d8dee9","editorHint.border":"#ebcb8b","editorHint.foreground":"#ebcb8b","editorIndentGuide.background":"#434c5e","editorIndentGuide.activeBackground":"#4c566a","editorLineNumber.foreground":"#4c566a","editorLineNumber.activeForeground":"#d8dee9","editorWhitespace.foreground":"#4c566a","editorWidget.background":"#2e3440","editorWidget.border":"#3b4252","editor.background":"#2e3440","editor.foreground":"#d8dee9","editor.hoverHighlightBackground":"#3b4252","editor.findMatchBackground":"#88c0d0","editor.findMatchHighlightBackground":"#88c0d0","editor.findRangeHighlightBackground":"#88c0d0","editor.lineHighlightBackground":"#3b4252","editor.lineHighlightBorder":"#3b4252","editor.inactiveSelectionBackground":"#434c5e","editor.selectionBackground":"#434c5e","editor.selectionHighlightBackground":"#434c5e","editor.rangeHighlightBackground":"#434c5e","editor.wordHighlightBackground":"#81a1c1","editor.wordHighlightStrongBackground":"#81a1c1","editorError.foreground":"#bf616a","editorError.border":"#bf616a","editorWarning.foreground":"#ebcb8b","editorWarning.border":"#ebcb8b","editorBracketMatch.background":"#2e3440","editorBracketMatch.border":"#88c0d0","editorCodeLens.foreground":"#4c566a","editorGroup.background":"#2e3440","editorGroup.border":"#3b4252","editorGroup.dropBackground":"#3b4252","editorGroupHeader.noTabsBackground":"#2e3440","editorGroupHeader.tabsBackground":"#2e3440","editorGroupHeader.tabsBorder":"#3b4252","editorGutter.background":"#2e3440","editorGutter.modifiedBackground":"#ebcb8b","editorGutter.addedBackground":"#a3be8c","editorGutter.deletedBackground":"#bf616a","editorHoverWidget.background":"#3b4252","editorHoverWidget.border":"#3b4252","editorLink.activeForeground":"#88c0d0","editorMarkerNavigation.background":"#5e81ac","editorMarkerNavigationError.background":"#bf616a","editorMarkerNavigationWarning.background":"#ebcb8b","editorOverviewRuler.border":"#3b4252","editorOverviewRuler.currentContentForeground":"#3b4252","editorOverviewRuler.incomingContentForeground":"#3b4252","editorOverviewRuler.findMatchForeground":"#88c0d0","editorOverviewRuler.rangeHighlightForeground":"#88c0d0","editorOverviewRuler.selectionHighlightForeground":"#88c0d0","editorOverviewRuler.wordHighlightForeground":"#88c0d0","editorOverviewRuler.wordHighlightStrongForeground":"#88c0d0","editorOverviewRuler.modifiedForeground":"#ebcb8b","editorOverviewRuler.addedForeground":"#a3be8c","editorOverviewRuler.deletedForeground":"#bf616a","editorOverviewRuler.errorForeground":"#bf616a","editorOverviewRuler.warningForeground":"#ebcb8b","editorOverviewRuler.infoForeground":"#81a1c1","editorRuler.foreground":"#434c5e","editorSuggestWidget.background":"#2e3440","editorSuggestWidget.border":"#3b4252","editorSuggestWidget.foreground":"#d8dee9","editorSuggestWidget.highlightForeground":"#88c0d0","editorSuggestWidget.selectedBackground":"#434c5e"}}},d={name:"One-Dark",themeName:"one-dark",themeData:{base:"vs-dark",inherit:!0,rules:[{foreground:"abb2bf",token:"text"},{foreground:"abb2bf",token:"source"},{foreground:"adb7c9",token:"variable.parameter.function"},{foreground:"5f697a",fontStyle:" italic",token:"comment"},{foreground:"5f697a",fontStyle:" italic",token:"punctuation.definition.comment"},{foreground:"adb7c9",token:"none"},{foreground:"adb7c9",token:"keyword.operator"},{foreground:"cd74e8",token:"keyword"},{foreground:"eb6772",token:"variable"},{foreground:"5cb3fa",token:"entity.name.function"},{foreground:"5cb3fa",token:"meta.require"},{foreground:"5cb3fa",token:"support.function.any-method"},{foreground:"f0c678",token:"support.class"},{foreground:"f0c678",token:"entity.name.class"},{foreground:"f0c678",token:"entity.name.type.class"},{foreground:"adb7c9",token:"meta.class"},{foreground:"5cb3fa",token:"keyword.other.special-method"},{foreground:"cd74e8",token:"storage"},{foreground:"5ebfcc",token:"support.function"},{foreground:"9acc76",token:"string"},{foreground:"9acc76",token:"constant.other.symbol"},{foreground:"9acc76",token:"entity.other.inherited-class"},{foreground:"db9d63",token:"constant.numeric"},{foreground:"db9d63",token:"none"},{foreground:"db9d63",token:"none"},{foreground:"db9d63",token:"constant"},{foreground:"eb6772",token:"entity.name.tag"},{foreground:"db9d63",token:"entity.other.attribute-name"},{foreground:"db9d63",token:"entity.other.attribute-name.id"},{foreground:"db9d63",token:"punctuation.definition.entity"},{foreground:"cd74e8",token:"meta.selector"},{foreground:"db9d63",token:"none"},{foreground:"5cb3fa",token:"markup.heading punctuation.definition.heading"},{foreground:"5cb3fa",token:"entity.name.section"},{foreground:"db9d63",token:"keyword.other.unit"},{foreground:"f0c678",token:"markup.bold"},{foreground:"f0c678",token:"punctuation.definition.bold"},{foreground:"cd74e8",token:"markup.italic"},{foreground:"cd74e8",token:"punctuation.definition.italic"},{foreground:"9acc76",token:"markup.raw.inline"},{foreground:"eb6772",token:"string.other.link"},{foreground:"eb6772",token:"punctuation.definition.string.end.markdown"},{foreground:"db9d63",token:"meta.link"},{foreground:"eb6772",token:"markup.list"},{foreground:"db9d63",token:"markup.quote"},{foreground:"adb7c9",background:"515151",token:"meta.separator"},{foreground:"9acc76",token:"markup.inserted"},{foreground:"eb6772",token:"markup.deleted"},{foreground:"cd74e8",token:"markup.changed"},{foreground:"5ebfcc",token:"constant.other.color"},{foreground:"5ebfcc",token:"string.regexp"},{foreground:"5ebfcc",token:"constant.character.escape"},{foreground:"c94e42",token:"punctuation.section.embedded"},{foreground:"c94e42",token:"variable.interpolation"},{foreground:"ffffff",background:"e05252",token:"invalid.illegal"},{foreground:"2d2d2d",background:"f99157",token:"invalid.broken"},{foreground:"2c323d",background:"d27b53",token:"invalid.deprecated"},{foreground:"2c323d",background:"747369",token:"invalid.unimplemented"},{foreground:"eb6772",token:"source.json meta.structure.dictionary.json string.quoted.double.json"},{foreground:"9acc76",token:"source.json meta.structure.dictionary.json meta.structure.dictionary.value.json string.quoted.double.json"},{foreground:"eb6772",token:"source.json meta.structure.dictionary.json meta.structure.dictionary.value.json meta.structure.dictionary.json string.quoted.double.json"},{foreground:"9acc76",token:"source.json meta.structure.dictionary.json meta.structure.dictionary.value.json meta.structure.dictionary.json meta.structure.dictionary.value.json string.quoted.double.json"},{foreground:"cd74e8",token:"text.html.laravel-blade source.php.embedded.line.html entity.name.tag.laravel-blade"},{foreground:"cd74e8",token:"text.html.laravel-blade source.php.embedded.line.html support.constant.laravel-blade"},{foreground:"db9d63",token:"source.python meta.function.python meta.function.parameters.python variable.parameter.function.python"},{foreground:"5ebfcc",token:"source.python meta.function-call.python support.type.python"},{foreground:"cd74e8",token:"source.python keyword.operator.logical.python"},{foreground:"f0c678",token:"source.python meta.class.python punctuation.definition.inheritance.begin.python"},{foreground:"f0c678",token:"source.python meta.class.python punctuation.definition.inheritance.end.python"},{foreground:"db9d63",token:"source.python meta.function-call.python meta.function-call.arguments.python variable.parameter.function.python"},{foreground:"db9d63",token:"text.html.basic source.php.embedded.block.html support.constant.std.php"},{foreground:"f0c678",token:"text.html.basic source.php.embedded.block.html meta.namespace.php entity.name.type.namespace.php"},{foreground:"db9d63",token:"source.js meta.function.js support.constant.js"},{foreground:"cd74e8",token:"text.html.basic` source.php.embedded.block.html constant.other.php"},{foreground:"db9d63",token:"text.html.basic source.php.embedded.block.html support.other.namespace.php"},{foreground:"adb7c9",token:"text.tex.latex meta.function.environment.math.latex string.other.math.block.environment.latex meta.definition.label.latex variable.parameter.definition.label.latex"},{foreground:"cd74e8",fontStyle:" italic",token:"text.tex.latex meta.function.emph.latex markup.italic.emph.latex"},{foreground:"adb7c9",token:"source.js variable.other.readwrite.js"},{foreground:"adb7c9",token:"source.js meta.function-call.with-arguments.js variable.function.js"},{foreground:"adb7c9",token:"source.js meta.group.braces.round meta.group.braces.curly meta.function-call.method.without-arguments.js variable.function.js"},{foreground:"adb7c9",token:"source.js meta.group.braces.round meta.group.braces.curly variable.other.object.js"},{foreground:"adb7c9",token:"source.js meta.group.braces.round meta.group.braces.curly constant.other.object.key.js string.unquoted.label.js"},{foreground:"adb7c9",token:"source.js meta.group.braces.round meta.group.braces.curly constant.other.object.key.js punctuation.separator.key-value.js"},{foreground:"adb7c9",token:"source.js meta.group.braces.round meta.group.braces.curly meta.function-call.method.with-arguments.js variable.function.js"},{foreground:"adb7c9",token:"source.js meta.function-call.method.with-arguments.js variable.function.js"},{foreground:"adb7c9",token:"source.js meta.function-call.method.without-arguments.js variable.function.js"}],colors:{"editor.foreground":"#6c7079","editor.background":"#2B303B","editor.selectionBackground":"#bbccf51b","editor.inactiveSelectionBackground":"#bbccf51b","editor.lineHighlightBackground":"#8cc2fc0b","editorCursor.foreground":"#528bff","editorWhitespace.foreground":"#747369","editorIndentGuide.background":"#464c55","editorIndentGuide.activeBackground":"#464c55","editor.selectionHighlightBorder":"#bbccf51b"}}};n.d(t,"a",(function(){return m}));var p=[{name:"Visual Studio",themeName:"vs"},{name:"Visual Studio Dark",themeName:"vs-dark"},l,a,i,s,o,r,c,u,d],m=function(){return p}},function(e,t,n){"use strict";var r=n(18),a=n(0),o=n.n(a),i=n(1),s=n(26),c=n(115),l=n(15),u=n.n(l),d=n(128),p=n(142),m=n(124),f=n(930),h=n(148),g=function(e){var t=e.authenticatedUser,n=e.game,r=e.open,a=e.onClose,o=e.onGameUpdated,i=Object(h.a)();return r?u.a.createElement(d.a,{title:u.a.createElement(c.Trans,{id:"Your game builds"}),onRequestClose:a,actions:[u.a.createElement(m.a,{label:u.a.createElement(c.Trans,{id:"Close"}),key:"close",primary:!1,onClick:a})],secondaryActions:[u.a.createElement(p.a,{key:"help",helpPagePath:"/publishing"})],cannotBeDismissed:!1,open:r,noMargin:!0},u.a.createElement(f.a,{onBuildsUpdated:i,authenticatedUser:t,game:n,onGameUpdated:o})):null},b=n(183),v=n(119),E=n(3),y=n(4),C=n(6),j=n(5),O=n(127),x=n(27),k=n(117),T=n(30),w=n(535),S=n(158),P=n(125),_=function(e){var t=e.subscription,n=e.limit,r=e.onChangeSubscription;if(!n)return l.createElement(S.a,null);var a=t&&!!t.planId,o=t&&!t.planId;return l.createElement(k.a,{noMargin:!0},l.createElement(P.a,null,l.createElement(c.Trans,{id:"You have {0} remaining builds for today (out of {1}).",values:{0:Math.max(n.max-n.current,0),1:n.max}})),a&&n.limitReached&&l.createElement(P.a,null,l.createElement(c.Trans,{id:"Need more power? You can upgrade to a new plan to increase the limit!"})),a&&n.limitReached&&l.createElement(k.b,{justifyContent:"center",alignItems:"center"},l.createElement(O.a,{label:l.createElement(c.Trans,{id:"Upgrade my account"}),onClick:r,primary:!0})),o&&l.createElement(P.a,null,l.createElement(c.Trans,{id:"You don't have a subscription. Get one to increase the limits!"})),o&&l.createElement(k.b,{justifyContent:"center",alignItems:"center"},l.createElement(O.a,{label:l.createElement(c.Trans,{id:"Get a subscription"}),onClick:r,primary:!0})))},I=n(406),N=n(722),A=n(2221),R=n(2137),M=n(2210),F=n(2138),L=n(2105),B=n(2113),D=n(716),U=n(136),G=n(156),V={stepper:{flex:1},linearProgress:{flex:1}},W=function(e){var t=e.exportStep,n=e.build,r=e.stepMaxProgress,a=e.stepCurrentProgress,o=e.errored,i=e.hasBuildStep,s=e.showSeeAllMyBuildsExplanation,u=l.useCallback((function(){return"register"===t||"export"===t||"resources-download"===t?0:"compress"===t||"upload"===t?1:"waiting-for-build"===t||"build"===t?2:"done"===t?i?2:1:-1}),[t,i]);return l.createElement(A.a,{activeStep:u(),orientation:"vertical",style:V.stepper},l.createElement(R.a,null,l.createElement(M.a,null,l.createElement(c.Trans,{id:"Game export"})),l.createElement(F.a,null,o?l.createElement(G.a,{kind:"error"},l.createElement(c.Trans,{id:"Can't properly export the game."})," ",l.createElement(c.Trans,{id:"Please check your internet connection or try again later."})):"resources-download"===t?l.createElement(k.a,{expand:!0,noMargin:!0},l.createElement(P.a,null,l.createElement(c.Trans,{id:"Downloading game resources..."})),l.createElement(k.b,{expand:!0},l.createElement(B.a,{style:V.linearProgress,value:r>0?a/r*100:0,variant:"determinate"}))):l.createElement(k.a,{expand:!0,noMargin:!0},l.createElement(P.a,null,l.createElement(c.Trans,{id:"Export in progress..."})),l.createElement(k.b,{expand:!0},l.createElement(B.a,{style:V.linearProgress}))))),i&&l.createElement(R.a,null,l.createElement(M.a,null,l.createElement(c.Trans,{id:"Upload to build service"})),l.createElement(F.a,null,o?l.createElement(G.a,{kind:"error"},l.createElement(c.Trans,{id:"Can't upload your game to the build service."})," ",l.createElement(c.Trans,{id:"Please check your internet connection or try again later."})):"compress"===t?l.createElement(k.b,{alignItems:"center"},l.createElement(L.a,{size:20}),l.createElement(k.c,null),l.createElement(P.a,null,l.createElement(c.Trans,{id:"Compressing before upload..."}))):l.createElement(k.b,{alignItems:"center",expand:!0},l.createElement(B.a,{style:V.linearProgress,value:r>0?a/r*100:0,variant:"determinate"})))),i&&l.createElement(R.a,null,l.createElement(M.a,null,l.createElement(c.Trans,{id:"Build and download"})),l.createElement(F.a,null,o&&l.createElement(G.a,{kind:"error"},l.createElement(c.Trans,{id:"Build could not start or errored. Please check your internet connection or try again later."})),!n&&!o&&l.createElement(P.a,null,l.createElement(c.Trans,{id:"Build is starting..."})),n&&l.createElement(D.a,{build:n}),s&&l.createElement(U.a,null,l.createElement(c.Trans,{id:"If you close this window while the build is being done, you can see its progress and download the game later by clicking on See All My Builds below."})))),!i&&l.createElement(R.a,null,l.createElement(M.a,null,l.createElement(c.Trans,{id:"Done"})),l.createElement(F.a,null)))},H=n(242),z=n(534),Y=n(209),q=n(245),X=function(e){Object(C.a)(n,e);var t=Object(j.a)(n);function n(e){var r;return Object(E.a)(this,n),(r=t.call(this,e)).state={exportStep:"",build:null,compressionOutput:null,stepCurrentProgress:0,stepMaxProgress:0,doneFooterOpen:!1,errored:!1,exportState:r.props.exportPipeline.getInitialExportState(r.props.project)},r.buildsWatcher=new N.a,r._setupAchievementHook=function(){r.props.exportPipeline.name.includes("web")?r.launchWholeExport=Object(q.h)(r.props.authenticatedUser,q.g,r._launchWholeExport):r.launchWholeExport=r._launchWholeExport},r._updateStepProgress=function(e,t){return r.setState({stepCurrentProgress:e,stepMaxProgress:t})},r._startBuildWatch=function(e){r.state.build&&r.buildsWatcher.start({authenticatedUser:e,builds:[r.state.build],onBuildUpdated:function(t){r.setState({build:t}),"pending"!==t.status&&e.onRefreshUserProfile()}})},r.tryUpdateAuthors=Object(i.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=r.props.authenticatedUser.profile)){e.next=11;break}return n=Object(H.b)(r.props.project.getAuthorIds()),e.prev=3,e.next=6,Object(H.i)(r.props.authenticatedUser.getAuthorizationHeader,t.id,r.props.project.getProjectUuid(),n);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[3,8]])}))),r.registerAndUpdateGame=Object(i.a)(o.a.mark((function e(){var t,n,a,i,s,c,l,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.props.authenticatedUser.profile,n=r.props.authenticatedUser.getAuthorizationHeader,a=r.props.project.getProjectUuid(),i=r.props.project.getAuthor()||"Unspecified publisher",s=r.props.project.getName()||"Untitled game",!t){e.next=25;break}return c=t.id,e.prev=7,e.next=10,Object(H.c)(n,c,a);case 10:return e.next=12,Object(H.j)(n,c,a,{authorName:i,gameName:s});case 12:l=e.sent,r.tryUpdateAuthors(),r.props.onGameUpdated(l),e.next=25;break;case 17:if(e.prev=17,e.t0=e.catch(7),404!==e.t0.response.status){e.next=25;break}return e.next=22,Object(H.h)(n,c,{gameId:a,authorName:i,gameName:s});case 22:u=e.sent,r.tryUpdateAuthors(),r.props.onGameUpdated(u);case 25:case"end":return e.stop()}}),e,null,[[7,17]])}))),r._launchWholeExport=Object(i.a)(o.a.mark((function e(){var t,n,a,i,s,c,l,u,d,p,m,f,h,g,b,v,E;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=function(e){return e},n=r.props,a=n.project,i=n.exportPipeline,s=n.authenticatedUser,Object(x.f)(i.name),Object(I.a)(t,Object(I.c)(t,a))){e.next=5;break}return e.abrupt("return");case 5:return c=function(){switch(r.state.exportStep){case"export":return t("Error while exporting the game.");case"resources-download":return t("Error while downloading the game resources. Check your internet connection and that all resources of the game are valid in the Resources editor.");case"compress":return t("Error while compressing the game.");case"upload":return t("Error while uploading the game. Check your internet connection or try again later.");case"waiting-for-build":return t("Error while building the game. Check the logs of the build for more details.");case"build":return t("Error while building of the game. Check the logs of the build for more details.");default:return t("Error while building the game. Try again later. Your internet connection may be slow or one of your resources may be corrupted.")}},l=function(e){r.state.errored||(r.setState({errored:!0}),Object(T.a)({message:c()+(e.message?"\n\n".concat(e.message):""),rawError:{exportStep:r.state.exportStep,rawError:e},errorId:"export-error"}))},u=function(e){return r.setState({exportStep:e})},e.prev=8,u("register"),e.next=12,r.registerAndUpdateGame();case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(8),console.warn("Error while registering the game - ignoring it.");case 17:return e.prev=17,d={project:a,updateStepProgress:r._updateStepProgress,exportState:r.state.exportState},u("export"),r.setState({stepCurrentProgress:0,stepMaxProgress:0,errored:!1,build:null}),e.next=23,i.prepareExporter(d);case 23:return p=e.sent,e.next=26,i.launchExport(d,p);case 26:return m=e.sent,u("resources-download"),e.next=30,i.launchResourcesDownload(d,m);case 30:return f=e.sent,u("compress"),e.next=34,i.launchCompression(d,f);case 34:if(h=e.sent,g=i.launchUpload,b=i.launchOnlineBuild,!g||!b){e.next=47;break}return u("upload"),e.next=40,g(d,h);case 40:return v=e.sent,u("waiting-for-build"),e.next=44,b(r.state.exportState,s,v,r.props.project.getProjectUuid());case 44:E=e.sent,u("build"),r.setState({build:E},(function(){r._startBuildWatch(s)}));case 47:u("done"),r.setState({compressionOutput:h,doneFooterOpen:!0}),e.next=55;break;case 51:e.prev=51,e.t1=e.catch(17),console.error("An error happened during export:",e.t1),l(e.t1);case 55:case"end":return e.stop()}}),e,null,[[8,14],[17,51]])}))),r._closeDoneFooter=function(){return r.setState({doneFooterOpen:!1})},r._updateExportState=function(e){r.setState((function(t){return Object(v.a)(Object(v.a)({},t),{},{exportState:e(t.exportState)})}))},r._setupAchievementHook(),r}return Object(y.a)(n,[{key:"componentWillUnmount",value:function(){this.buildsWatcher.stop()}}]),Object(y.a)(n,[{key:"componentDidUpdate",value:function(e,t){this._setupAchievementHook(),t.exportStep===this.state.exportStep&&t.errored===this.state.errored||this.props.setIsNavigationDisabled(this.props.exportPipeline.isNavigationDisabled(this.state.exportStep,this.state.errored))}},{key:"render",value:function(){var e=this.state,t=e.exportStep,n=e.compressionOutput,r=e.build,a=e.stepMaxProgress,o=e.stepCurrentProgress,i=e.errored,s=e.doneFooterOpen,l=e.exportState,d=this.props,p=d.project,m=d.authenticatedUser,f=d.exportPipeline;if(!p)return null;var h=function(e){return e.limits&&f.onlineBuildType?e.limits[f.onlineBuildType]:null};return u.a.createElement(k.a,{noMargin:!0},!!f.packageNameWarningType&&-1!==p.getPackageName().indexOf("com.example")&&u.a.createElement(k.b,null,u.a.createElement(Y.a,{identifier:"project-should-have-unique-package-name",kind:"warning"},u.a.createElement(c.I18n,null,(function(e){return e.i18n._("mobile"===f.packageNameWarningType?{id:"The package name begins with com.example, make sure you replace it with an unique one to be able to publish your game on app stores."}:{id:"The package name begins with com.example, make sure you replace it with an unique one, else installing your game might overwrite other games."})})))),u.a.createElement(k.b,null,f.renderHeader({project:p,exportState:l,updateExportState:this._updateExportState})),(!f.onlineBuildType||m.authenticated)&&u.a.createElement(k.b,{justifyContent:"center"},u.a.createElement(O.a,{label:f.renderLaunchButtonLabel(),primary:!0,onClick:this.launchWholeExport,disabled:!function(e){var n=h(e);return(!n||!n.limitReached)&&f.canLaunchBuild(l,i,t)}(m)})),u.a.createElement(k.c,null),!!f.onlineBuildType&&!m.authenticated&&u.a.createElement(w.a,{onLogin:m.onLogin,onCreateAccount:m.onCreateAccount,message:u.a.createElement(c.Trans,{id:"Create an account or login first to publish your game."}),justifyContent:"center"}),m.authenticated&&(f.renderCustomStepsProgress?f.renderCustomStepsProgress(r,i,t):u.a.createElement(k.b,{expand:!0},u.a.createElement(W,{exportStep:t,hasBuildStep:!!f.onlineBuildType,build:r,stepMaxProgress:a,stepCurrentProgress:o,errored:i}))),!!f.limitedBuilds&&m.authenticated&&u.a.createElement(_,{subscription:m.subscription,limit:h(m),onChangeSubscription:this.props.onChangeSubscription}),s&&f.renderDoneFooter&&f.renderDoneFooter({compressionOutput:n,exportState:l,onClose:this._closeDoneFooter}),s&&u.a.createElement(k.b,{justifyContent:"center"},u.a.createElement(z.a,{project:p,hideIfSubscribed:!0,hideLoader:!0})))}}]),n}(l.Component);var K=function(){var e=l.useState("undefined"===typeof navigator||"boolean"!==typeof navigator.onLine||navigator.onLine),t=Object(s.a)(e,2),n=t[0],r=t[1],a=function(){return r(!0)},o=function(){return r(!1)};return l.useEffect((function(){return window.addEventListener("online",a),window.addEventListener("offline",o),function(){window.removeEventListener("online",a),window.removeEventListener("offline",o)}}),[]),n},J=n(172),Z=n(129),Q=n(146),$=n(170),ee=function(){var e=Object(Q.b)(),t=u.a.useContext($.a);return"small"!==e&&u.a.createElement(k.a,{justifyContent:"center",noMargin:!0},u.a.createElement("span",{style:{height:"calc(100% - 30px)",borderLeftStyle:"solid",borderLeftWidth:1,borderColor:t.toolbar.separatorColor}}))},te=n(719),ne=n.n(te),re=n(717),ae=n(718),oe=n.n(ae),ie=n(1755),se=n.n(ie),ce={titleContainer:{display:"flex",flex:2,alignItems:"center",minHeight:"100px"},iconsContainer:{marginTop:10,marginBottom:10},icon:{height:48,width:48},contentContainer:{flex:5}},le=function(e){var t=e.onlineWebExporter,n=e.setChosenExporterKey,r=e.setChosenExporterSection,a=(e.cantExportBecauseOffline,e.project),o=e.onChangeSubscription,i=e.authenticatedUser,s=e.isNavigationDisabled,u=e.setIsNavigationDisabled,d=e.onGameUpdated;return l.createElement(Z.b,null,l.createElement(Z.a,{alignItems:"center",expand:!0},l.createElement("div",{style:ce.titleContainer},l.createElement(k.b,null,l.createElement(P.a,{size:"title"},l.createElement(c.Trans,{id:"Share with friends"})))),l.createElement(k.b,{expand:!0},l.createElement(se.a,{style:ce.icon})),l.createElement("div",{style:ce.contentContainer},l.createElement(X,{exportPipeline:t.exportPipeline,project:a,onChangeSubscription:o,authenticatedUser:i,setIsNavigationDisabled:u,onGameUpdated:d}))),l.createElement(ee,null),l.createElement(Z.a,{alignItems:"center",expand:!0},l.createElement("div",{style:ce.titleContainer},l.createElement(k.b,null,l.createElement(P.a,{size:"title"},l.createElement(c.Trans,{id:"Publish your game"})))),l.createElement(k.b,{expand:!0},l.createElement("div",{style:ce.iconsContainer},l.createElement(re.a,{style:ce.icon}),l.createElement(oe.a,{style:ce.icon}),l.createElement(ne.a,{style:ce.icon}))),l.createElement("div",{style:ce.contentContainer},l.createElement(k.a,{alignItems:"center"},l.createElement(k.b,null,l.createElement(P.a,{align:"center"},l.createElement(c.Trans,{id:"Export your game to mobile, desktop and web platforms."}))),l.createElement(O.a,{label:l.createElement(c.Trans,{id:"Publish on stores"}),onClick:function(){r("automated"),n("webexport")},primary:!0,disabled:s}),l.createElement(k.c,null),l.createElement(m.a,{label:l.createElement(c.Trans,{id:"Build manually"}),primary:!0,onClick:function(){r("manual"),n("webexport")},disabled:s})))))},ue={icon:{width:40,height:40},disabledItem:{opacity:.6},content:{padding:8}};t.a=function(e){var t=e.project,n=e.onClose,a=e.allExportersRequireOnline,u=e.onChangeSubscription,f=e.automatedExporters,h=e.manualExporters,v=e.onlineWebExporter,E=l.useState("home"),y=Object(s.a)(E,2),C=y[0],j=y[1],O=l.useState(!1),x=Object(s.a)(O,2),k=x[0],T=x[1],w=l.useState(!1),S=Object(s.a)(w,2),P=S[0],_=S[1],I=l.useState("onlinewebexport"),N=Object(s.a)(I,2),A=N[0],R=N[1],M=l.useState(null),F=Object(s.a)(M,2),L=F[0],B=F[1],D=l.useContext(b.a),U=l.useContext(b.a),V=U.getAuthorizationHeader,W=U.profile,z=K(),Y=!!a&&!z,q=l.useCallback(Object(i.a)(o.a.mark((function e(){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(W&&t){e.next=2;break}return e.abrupt("return");case 2:return n=W.id,e.prev=3,e.next=6,Object(H.c)(V,n,t.getProjectUuid());case 6:r=e.sent,B(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.error("Unable to load the game",e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])}))),[t,V,W]);if(l.useEffect((function(){L||q()}),[q,L]),!t)return null;var Z=[].concat(Object(r.a)(f),Object(r.a)(h),[v]).find((function(e){return e.key===A}));return Z&&Z.exportPipeline?l.createElement(d.a,{title:"automated"===C?l.createElement(c.Trans,{id:"Publish your game"}):"manual"===C?l.createElement(c.Trans,{id:"Build manually"}):null,onRequestClose:n,cannotBeDismissed:!1,actions:["home"!==C&&l.createElement(m.a,{label:l.createElement(c.Trans,{id:"Back"}),key:"back",primary:!1,onClick:function(){j("home"),R("onlinewebexport")},disabled:P}),l.createElement(m.a,{label:l.createElement(c.Trans,{id:"Close"}),key:"close",primary:!1,onClick:n,disabled:P})],secondaryActions:[l.createElement(p.a,{key:"help",helpPagePath:Z.helpPage}),l.createElement(m.a,{key:"builds",label:l.createElement(c.Trans,{id:"See this game builds"}),onClick:function(){return T(!0)},disabled:P||!L})],open:!0,noMargin:!0},Y&&l.createElement(G.a,{kind:"error"},l.createElement(c.Trans,{id:"You must be online and have a proper internet connection to export your game."})),"home"===C&&l.createElement(le,{cantExportBecauseOffline:Y,onlineWebExporter:v,setChosenExporterKey:R,setChosenExporterSection:j,project:t,onChangeSubscription:u,authenticatedUser:D,isNavigationDisabled:P,setIsNavigationDisabled:_,onGameUpdated:B}),"automated"===C&&l.createElement(J.b,{value:A,onChange:R},f.map((function(e){return l.createElement(J.a,{label:e.tabName,value:e.key,key:e.key,disabled:P})}))),"manual"===C&&l.createElement(J.b,{value:A,onChange:R},h.map((function(e){return l.createElement(J.a,{label:e.tabName,value:e.key,key:e.key,disabled:P})}))),"home"!==C&&l.createElement("div",{style:ue.content},l.createElement(X,{exportPipeline:Z.exportPipeline,project:t,onChangeSubscription:u,authenticatedUser:D,key:A,setIsNavigationDisabled:_,onGameUpdated:B})),L&&l.createElement(g,{open:k,onClose:function(){return T(!1)},authenticatedUser:D,game:L,onGameUpdated:B})):null}},function(e,t,n){"use strict";var r=n(119),a=n(1983),o=new Set(["he_IL","ar_SA","az_AZ","ms_MY","fa_IR","ur_PK"]);var i=function(e){var t=new Map,n=new WeakMap;return function(r){var a=function(e){return"object"===typeof e?n:t}(r),o=a.get(r);if(o)return o;var i=e(r);return a.set(r,i),i}},s=n(489),c=n(339),l=n(1091),u=(n(1092),Object(c.a)(l,"DarkTheme","dark")),d=n(1093),p=(n(1094),Object(c.a)(d,"NordTheme","dark","hue-rotate(-15deg) saturate(57%) brightness(120%)")),m=n(1095),f=(n(1096),Object(c.a)(m,"SolarizedDarkTheme","dark","hue-rotate(-15deg) saturate(70%) brightness(90%)")),h=n(1097),g=(n(1098),Object(c.a)(h,"OneDarkTheme","dark","hue-rotate(-10deg) saturate(50%)")),b={"GDevelop default":s.a,Dark:u,Nord:p,"Solarized Dark":f,"One Dark":g};n(1099),n(1100),n(1101),n(1102),n(1103),n(1104),n(1105);n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return E}));var v=b;function E(e){var t=e.themeName,n=e.language,r=v[t];r||(console.warn("Theme '".concat(t,"' is unavailable; '").concat("GDevelop default","' is used")),r=v["GDevelop default"]);var a,i=(a=n,!o.has(a)),s=r,c=s.gdevelopTheme,l=s.muiThemeOptions;return{gdevelopTheme:c,muiTheme:i?y(l):C(l)}}var y=i((function(e){return Object(a.a)(e)})),C=i((function(e){return Object(a.a)(e,{overrides:O})})),j={direction:"rtl"},O={MuiTypography:{root:j},MuiInput:{root:j},MuiTab:{root:j},MuiButton:{label:j},MuiSvgIcon:{root:{order:100}},MuiFormControlLabel:{root:j},MuiTextField:{root:j}};Object(r.a)(Object(r.a)({},s.a),{},{muiThemeOptions:y(s.a.muiThemeOptions)})},function(e,t,n){"use strict";var r=n(115),a=n(15),o=n.n(a),i=n(1726),s=n.n(i),c=n(607),l=n.n(c),u=n(806),d=n.n(u),p=n(860),m=n.n(p),f=n(27),h=n(16),g=n(129),b=n(117),v=n(127),E=n(662),y=o.a.memo((function(e){return o.a.createElement(E.a,e,o.a.createElement("path",{d:"M3,20.5V3.5C3,2.91 3.34,2.39 3.84,2.15L13.69,12L3.84,21.85C3.34,21.6 3,21.09 3,20.5M16.81,15.12L6.05,21.34L14.54,12.85L16.81,15.12M20.16,10.81C20.5,11.08 20.75,11.5 20.75,12C20.75,12.5 20.53,12.9 20.18,13.18L17.89,14.5L15.39,12L17.89,9.5L20.16,10.81M6.05,2.66L16.81,8.88L14.54,11.15L6.05,2.66Z"}))})),C=o.a.memo((function(e){return o.a.createElement(E.a,e,o.a.createElement("path",{d:"M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22C7.4,22 3.55,18.92 2.36,14.73L6.19,16.31C6.45,17.6 7.6,18.58 8.97,18.58C10.53,18.58 11.8,17.31 11.8,15.75V15.62L15.2,13.19H15.28C17.36,13.19 19.05,11.5 19.05,9.42C19.05,7.34 17.36,5.65 15.28,5.65C13.2,5.65 11.5,7.34 11.5,9.42V9.47L9.13,12.93L8.97,12.92C8.38,12.92 7.83,13.1 7.38,13.41L2,11.2C2.43,6.05 6.73,2 12,2M8.28,17.17C9.08,17.5 10,17.13 10.33,16.33C10.66,15.53 10.28,14.62 9.5,14.29L8.22,13.76C8.71,13.58 9.26,13.57 9.78,13.79C10.31,14 10.72,14.41 10.93,14.94C11.15,15.46 11.15,16.04 10.93,16.56C10.5,17.64 9.23,18.16 8.15,17.71C7.65,17.5 7.27,17.12 7.06,16.67L8.28,17.17M17.8,9.42C17.8,10.81 16.67,11.94 15.28,11.94C13.9,11.94 12.77,10.81 12.77,9.42A2.5,2.5 0 0,1 15.28,6.91C16.67,6.91 17.8,8.04 17.8,9.42M13.4,9.42C13.4,10.46 14.24,11.31 15.29,11.31C16.33,11.31 17.17,10.46 17.17,9.42C17.17,8.38 16.33,7.53 15.29,7.53C14.24,7.53 13.4,8.38 13.4,9.42Z"}))})),j=o.a.memo((function(e){return o.a.createElement(E.a,e,o.a.createElement("path",{d:"M22.46,6C21.69,6.35 20.86,6.58 20,6.69C20.88,6.16 21.56,5.32 21.88,4.31C21.05,4.81 20.13,5.16 19.16,5.36C18.37,4.5 17.26,4 16,4C13.65,4 11.73,5.92 11.73,8.29C11.73,8.63 11.77,8.96 11.84,9.27C8.28,9.09 5.11,7.38 3,4.79C2.63,5.42 2.42,6.16 2.42,6.94C2.42,8.43 3.17,9.75 4.33,10.5C3.62,10.5 2.96,10.3 2.38,10C2.38,10 2.38,10 2.38,10.03C2.38,12.11 3.86,13.85 5.82,14.24C5.46,14.34 5.08,14.39 4.69,14.39C4.42,14.39 4.15,14.36 3.89,14.31C4.43,16 6,17.26 7.89,17.29C6.43,18.45 4.58,19.13 2.56,19.13C2.22,19.13 1.88,19.11 1.54,19.07C3.44,20.29 5.7,21 8.12,21C16,21 20.33,14.46 20.33,8.79C20.33,8.6 20.33,8.42 20.32,8.23C21.16,7.63 21.88,6.87 22.46,6Z"}))})),O=o.a.memo((function(e){return o.a.createElement(E.a,e,o.a.createElement("path",{d:"M7.8,2H16.2C19.4,2 22,4.6 22,7.8V16.2A5.8,5.8 0 0,1 16.2,22H7.8C4.6,22 2,19.4 2,16.2V7.8A5.8,5.8 0 0,1 7.8,2M7.6,4A3.6,3.6 0 0,0 4,7.6V16.4C4,18.39 5.61,20 7.6,20H16.4A3.6,3.6 0 0,0 20,16.4V7.6C20,5.61 18.39,4 16.4,4H7.6M17.25,5.5A1.25,1.25 0 0,1 18.5,6.75A1.25,1.25 0 0,1 17.25,8A1.25,1.25 0 0,1 16,6.75A1.25,1.25 0 0,1 17.25,5.5M12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9Z"}))})),x=o.a.memo((function(e){return o.a.createElement(E.a,e,o.a.createElement("path",{d:"M11.64 5.93H13.07V10.21H11.64M15.57 5.93H17V10.21H15.57M7 2L3.43 5.57V18.43H7.71V22L11.29 18.43H14.14L20.57 12V2M19.14 11.29L16.29 14.14H13.43L10.93 16.64V14.14H7.71V3.43H19.14Z"}))})),k=n(894),T=o.a.memo((function(e){return o.a.createElement(E.a,e,o.a.createElement("path",{d:"M2,3H11V12H2V3M11,22H2V13H11V22M21,3V12H12V3H21M21,22H12V13H21V22Z"}))})),w=o.a.memo((function(e){return o.a.createElement(E.a,e,o.a.createElement("path",{d:"M18.71,19.5C17.88,20.74 17,21.95 15.66,21.97C14.32,22 13.89,21.18 12.37,21.18C10.84,21.18 10.37,21.95 9.1,22C7.79,22.05 6.8,20.68 5.96,19.47C4.25,17 2.94,12.45 4.7,9.39C5.57,7.87 7.13,6.91 8.82,6.88C10.1,6.86 11.32,7.75 12.11,7.75C12.89,7.75 14.37,6.68 15.92,6.84C16.57,6.87 18.39,7.1 19.56,8.82C19.47,8.88 17.39,10.1 17.41,12.63C17.44,15.65 20.06,16.66 20.09,16.67C20.06,16.74 19.67,18.11 18.71,19.5M13,3.5C13.73,2.67 14.94,2.04 15.94,2C16.07,3.17 15.6,4.35 14.9,5.19C14.21,6.04 13.07,6.7 11.95,6.61C11.8,5.46 12.36,4.26 13,3.5Z"}))})),S=n(146),P=function(e){var t=e.link,n=e.showcasedGame,o=t.url,i=t.type;return a.createElement(v.a,Object.assign({key:i+"-"+o,primary:!0},function(e,t){switch(t){case"":return{icon:a.createElement(l.a,null),label:a.createElement(r.Trans,{id:"Play or download"})};case"learn-more":return{icon:null,label:a.createElement(r.Trans,{id:"Learn more"})};case"download-win-mac-linux":case"download":return{icon:a.createElement(s.a,null),label:a.createElement(r.Trans,{id:"Download"})};case"play":return{icon:a.createElement(l.a,null),label:a.createElement(r.Trans,{id:"Play"})};case"App Store":return{icon:a.createElement(w,null),label:"iOS"};case"Play Store":return{icon:a.createElement(y,null),label:"Android"};case"Steam":return{icon:a.createElement(C,null),label:"Steam"};case"Trailer":return{icon:a.createElement(d.a,null),label:a.createElement(r.Trans,{id:"Trailer"})};case"itch.io":return{icon:a.createElement(k.a,null),label:"itch.io"};case"Game Jolt":return{icon:a.createElement(m.a,null),label:"Game Jolt"};case"Twitter":return{icon:a.createElement(j,null),label:"Twitter"};case"Microsoft Store":return{icon:a.createElement(T,null),label:"Microsoft Store"};case"Instagram":return{icon:a.createElement(O,null),label:"Instagram"};case"Twitch":return{icon:a.createElement(x,null),label:"Twitch"};default:return{icon:null,label:t}}}(0,i),{onClick:function(){Object(f.m)(n.title,i),h.b.openExternalURL(function(e){return e.startsWith("/")?"https://gdevelop-app.com"+e:e}(o))}}))},_=function(e,t){return t?a.createElement(g.a,{justifyContent:"flex-end",noMargin:!0},e):a.createElement(g.b,{justifyContent:"flex-end",noColumnMargin:!0},e)};t.a=function(e){var t=e.showcasedGame,n=e.forceColumn,r=void 0!==n&&n,o=t.links,i=Object(S.b)(),s=o.slice(0,3),c=o.slice(3);return a.createElement(a.Fragment,null,_(s.map((function(e,n){return a.createElement(P,{key:n,link:e,showcasedGame:t})})),r),c.length>0&&a.createElement(a.Fragment,null,("small"===i||r)&&a.createElement(b.c,null),_(c.map((function(e,n){return a.createElement(P,{key:n,link:e,showcasedGame:t})})),r)))}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(119),i=n(1),s=n(26),c=n(115),l=n(15),u=n(1756),d=n.n(u),p=n(187),m=n(117),f=n(611),h=n(419),g=n(317),b=n(277),v=n(2204),E=n(125),y=n(374),C=n(28),j=n(896),O=n(17),x=n.n(O),k=n(30),T=n(612),w=n(420),S=n(744),P=n(170),_=x()("electron"),I={container:{display:"flex",overflow:"hidden",padding:8},button:{textAlign:"left",flex:1}},N=function(e){var t=e.exampleShortHeader,n=e.matches,r=e.isOpening,o=e.onChoose,s=e.onOpen,u=e.onHeightComputed,d=l.useRef(null);l.useLayoutEffect((function(){d.current&&u(d.current.getBoundingClientRect().height)}));var p=l.useContext(P.a),f=Object(b.b)(Object(C.b)(),t),h=l.useCallback(function(){var e=Object(i.a)(a.a.mark((function e(n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(g.a)(t);case 3:r=e.sent,Object(T.b)(r),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Object(k.a)({message:n._({id:"Unable to fetch the example."})+" "+n._({id:"Verify your internet connection or try again later."}),rawError:e.t0,errorId:"example-load-error"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),[t]),O=function(e){var r=t[e];if(!n)return r;var a=n.filter((function(t){return t.key===e}));return 0===a.length?r:l.createElement(S.a,{text:r,matchesCoordinates:a[0].indices,styleToApply:p.text.highlighted})};return l.createElement("div",{style:I.container,ref:d},l.createElement(m.b,{noMargin:!0,expand:!0},l.createElement(v.a,{style:I.button,onClick:o,focusRipple:!0},!!t.previewImageUrls.length&&l.createElement(j.a,{exampleShortHeader:t,size:64}),l.createElement(m.a,{expand:!0},l.createElement(E.a,{noMargin:!0},O("name")," "),t.authors&&l.createElement(m.b,null,t.authors.map((function(e){return l.createElement(w.a,{user:e,key:e.id})}))),l.createElement(E.a,{noMargin:!0,size:"body2"},O("shortDescription")))),l.createElement(m.a,{justifyContent:"center"},l.createElement(y.a,{primary:!0,label:l.createElement(c.Trans,{id:"Open"}),disabled:r||!f,onClick:function(){return s()},buildMenuTemplate:function(e){return[{label:e._({id:"Open details"}),click:o},{label:_?e._({id:"Open in the web-app"}):e._({id:"Open in a new tab"}),click:function(){h(e)}}]}}))))},A=n(146),R={searchBar:{flexShrink:0}},M=function(e){return e.name},F=function(e){var t=e.isOpening,n=e.onOpen,r=e.focusOnMount,a=l.useState(null),o=Object(s.a)(a,2),i=o[0],c=o[1],u=l.useContext(f.a),d=u.filters,g=u.searchResults,b=u.error,v=u.fetchExamplesAndFilters,E=u.filtersState,y=u.searchText,C=u.setSearchText,j=Object(p.b)(),O=l.useRef(null);l.useEffect((function(){v()}),[v]),l.useEffect((function(){r&&j&&O.current&&O.current.focus()}),[j,r]);var x=l.useMemo((function(){return{add:E.addFilter,remove:E.removeFilter,chosenTags:E.chosenFilters}}),[E]),k=function(e){if(!g)return[];var t=g.find((function(t){return t.item.id===e.id}));return t?t.matches:[]};return l.createElement(l.Fragment,null,l.createElement(A.a,null,(function(e){return l.createElement(m.a,{expand:!0,noMargin:!0,useFullHeight:!0},l.createElement(p.a,{value:y,onChange:C,onRequestSearch:function(){},style:R.searchBar,tagsHandler:x,tags:d&&d.defaultTags,ref:O}),l.createElement(m.b,{expand:!0,overflow:"hidden"},l.createElement(h.a,{onRetry:v,error:b,searchItems:g&&g.map((function(e){return e.item})),getSearchItemUniqueId:M,renderSearchItem:function(e,r){return l.createElement(N,{isOpening:t,onHeightComputed:r,exampleShortHeader:e,matches:k(e),onChoose:function(){c(e)},onOpen:function(){n(e)}})}})))})),!!i&&l.createElement(T.a,{isOpening:t,exampleShortHeader:i,onOpen:function(){n(i)},onClose:function(){return c(null)}}))},L=n(128),B=n(124),D=n(172),U=n(430),G=n(2114),V=n(192),W=n(203),H=n(129),z=n(27),Y=n(16),q={thumbnailImageWithDescription:{objectFit:"contain",verticalAlign:"middle",backgroundColor:"black",width:200},smallScreenThumbnailImage:{objectFit:"contain",verticalAlign:"middle",backgroundColor:"black",maxHeight:150},card:{flex:1},container:{display:"flex",textAlign:"left",overflow:"hidden",padding:8}},X=function(e){var t=e.tutorial,n=e.onHeightComputed,r=l.useState(!1),a=Object(s.a)(r,2),i=a[0],c=a[1],u=l.useRef(null),d=l.useRef(!0),p=l.useCallback((function(){i||d.current||c(!0),u.current&&!d.current&&n(u.current.getBoundingClientRect().height)}),[n,i]);l.useLayoutEffect(p);var f=Object(A.b)();return l.createElement(v.a,{onClick:function(){Object(z.r)(t.id),Y.b.openExternalURL(t.link)},focusRipple:!0},l.createElement("div",{style:Object(o.a)(Object(o.a)({},q.container),{},{visibility:i?void 0:"hidden",animation:i?"fadein 0.5s":void 0}),ref:u},l.createElement(G.a,{style:q.card},l.createElement(H.b,{noMargin:!0},l.createElement(W.a,{style:"small"===f?q.smallScreenThumbnailImage:q.thumbnailImageWithDescription,src:t.thumbnailUrl,alt:t.title,onError:function(){d.current=!1,p()},onLoad:function(){d.current=!1,p()}}),l.createElement(m.b,{expand:!0},l.createElement(m.a,{expand:!0},l.createElement(H.b,{noMargin:!0,alignItems:"baseline",expand:!0},l.createElement(E.a,{noMargin:!0,displayInlineAsSpan:!0},t.title)),l.createElement(E.a,{size:"body2",displayInlineAsSpan:!0},l.createElement(V.a,{source:t.description,allowParagraphs:!0})),l.createElement(m.c,null)))))))},K=function(e){var t=l.useContext(U.a),n=t.tutorials,r=t.error,a=t.fetchTutorials;return l.useEffect((function(){a()}),[a]),l.createElement(A.a,null,(function(e){return l.createElement(m.a,{expand:!0,noMargin:!0,useFullHeight:!0},l.createElement(m.b,{expand:!0,overflow:"hidden"},l.createElement(h.a,{onRetry:a,error:r,searchItems:n,getSearchItemUniqueId:function(e){return e.id},renderSearchItem:function(e,t){return l.createElement(X,{onHeightComputed:t,tutorial:e})}})))}))},J=n(160),Z=n(164),Q=n(610),$=n(350),ee=n(895),te=n(924),ne={thumbnailImageWithDescription:{objectFit:"contain",verticalAlign:"middle",backgroundColor:"black",width:200},thumbnailImageWithoutDescription:{objectFit:"cover",verticalAlign:"middle",backgroundColor:"black",width:200,maxHeight:120},smallScreenThumbnailImage:{objectFit:"contain",verticalAlign:"middle",backgroundColor:"black",maxHeight:150},card:{flex:1},container:{display:"flex",textAlign:"left",overflow:"hidden",padding:8}},re=function(e){var t=e.showcasedGame,n=e.onHeightComputed,r=l.useState(!1),a=Object(s.a)(r,2),i=a[0],c=a[1],u=l.useRef(null),d=l.useRef(!0),p=l.useCallback((function(){i||d.current||c(!0),u.current&&!d.current&&n(u.current.getBoundingClientRect().height)}),[n,i]);l.useLayoutEffect(p);var f=Object(A.b)(),h=!!t.description;return l.createElement("div",{style:Object(o.a)(Object(o.a)({},ne.container),{},{visibility:i?void 0:"hidden",animation:i?"fadein 0.5s":void 0}),ref:u},l.createElement(G.a,{style:ne.card},l.createElement(H.b,{noMargin:!0},l.createElement(W.a,{style:"small"===f?ne.smallScreenThumbnailImage:h?ne.thumbnailImageWithDescription:ne.thumbnailImageWithoutDescription,src:t.thumbnailUrl,alt:t.title,onError:function(){d.current=!1,p()},onLoad:function(){d.current=!1,p()}}),l.createElement(m.b,{expand:!0},l.createElement(m.a,{expand:!0},l.createElement(ee.a,{showcasedGame:t}),t.genres.length?l.createElement($.a,{tags:t.genres}):null,l.createElement(E.a,{size:"body2",displayInlineAsSpan:!0},l.createElement(V.a,{source:t.description,allowParagraphs:!0})),l.createElement(m.c,null),l.createElement(te.a,{showcasedGame:t}))))))},ae=n(222),oe=n(601),ie={searchBar:{flexShrink:0}},se=function(e){return e.title},ce=function(e){var t=l.useContext(Q.a),n=t.filters,r=t.searchResults,a=t.error,o=t.fetchShowcasedGamesAndFilters,i=t.filtersState,s=t.searchText,u=t.setSearchText;return l.useEffect((function(){o()}),[o]),l.createElement(A.a,null,(function(e){return l.createElement(m.a,{expand:!0,noMargin:!0,useFullHeight:!0},l.createElement(p.a,{value:s,onChange:u,onRequestSearch:function(){},style:ie.searchBar}),l.createElement(m.b,{expand:!0,overflow:"hidden"},l.createElement(J.a,{noFullHeight:!0,noExpand:!0,width:"small"===e?150:250},l.createElement(Z.a,null,l.createElement(ae.a,null,l.createElement(c.Trans,{id:"Categories"})),l.createElement(oe.a,{allItemsLabel:l.createElement(c.Trans,{id:"All games"}),allFilters:n,filtersState:i,error:a}))),l.createElement(h.a,{onRetry:o,error:a,searchItems:r,getSearchItemUniqueId:se,renderSearchItem:function(e,t){return l.createElement(re,{onHeightComputed:t,showcasedGame:e})}})))}))},le=n(928),ue=n(127);t.a=function(e){var t=e.open,n=e.onClose,r=e.onOpen,u=e.onCreateFromExampleShortHeader,p=e.onCreateBlank,f=e.initialTab,h=l.useState(f),g=Object(s.a)(h,2),b=g[0],v=g[1],E=l.useState(!1),y=Object(s.a)(E,2),C=y[0],j=y[1],O=l.useState(null),x=Object(s.a)(O,2),k=x[0],T=x[1],w=l.useState(!1),S=Object(s.a)(w,2),P=S[0],_=S[1],I=l.useMemo((function(){return[l.createElement(ue.a,{key:"create-blank",label:l.createElement(c.Trans,{id:"Create a blank project"}),primary:!1,onClick:function(){return _(!0)}}),l.createElement(B.a,{key:"close",label:l.createElement(c.Trans,{id:"Close"}),primary:!1,onClick:n})]}),[n,_]),N=l.useMemo((function(){return"games-showcase"===b?[l.createElement(B.a,{key:"submit-game-showcase",onClick:function(){Y.b.openExternalURL("https://docs.google.com/forms/d/e/1FAIpQLSfjiOnkbODuPifSGuzxYY61vB5kyMWdTZSSqkJsv3H6ePRTQA/viewform?usp=sf_link")},primary:!0,icon:l.createElement(d.a,null),label:l.createElement(c.Trans,{id:"Submit your game to the showcase"})})]:"examples"===b?[l.createElement(B.a,{key:"submit-example",onClick:function(){Y.b.openExternalURL("https://github.com/GDevelopApp/GDevelop-examples/issues/new/choose")},primary:!0,icon:l.createElement(d.a,null),label:l.createElement(c.Trans,{id:"Submit your project as an example"})})]:void 0}),[b]);if(!t)return null;var A=function(){var e=Object(i.a)(a.a.mark((function e(t,n){var i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j(!0),e.prev=1,!k){e.next=8;break}return e.next=5,u({i18n:t,exampleShortHeader:k,settings:n});case 5:i=e.sent,e.next=11;break;case 8:return e.next=10,p({i18n:t,settings:n});case 10:i=e.sent;case 11:if(i){e.next=13;break}return e.abrupt("return");case 13:_(!1),T(null),r(Object(o.a)({},i));case 16:return e.prev=16,j(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,,16,19]])})));return function(t,n){return e.apply(this,arguments)}}();return l.createElement(c.I18n,null,(function(e){var r=e.i18n;return l.createElement(l.Fragment,null,l.createElement(L.a,{title:l.createElement(c.Trans,{id:"Create a new project"}),actions:I,secondaryActions:N,cannotBeDismissed:!1,onRequestClose:n,open:t,noMargin:!0,fullHeight:!0,flexBody:!0},l.createElement(m.a,{expand:!0,noMargin:!0},l.createElement(D.b,{value:b,onChange:function(e){v(e)}},l.createElement(D.a,{label:l.createElement(c.Trans,{id:"Examples"}),value:"examples"}),l.createElement(D.a,{label:l.createElement(c.Trans,{id:"Tutorials"}),value:"tutorials"}),l.createElement(D.a,{label:l.createElement(c.Trans,{id:"Games showcase"}),value:"games-showcase"})),"examples"===b&&l.createElement(m.a,{noMargin:!0,expand:!0,useFullHeight:!0},l.createElement(F,{focusOnMount:!0,isOpening:C,onOpen:function(){var e=Object(i.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:T(t),_(!0);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),"tutorials"===b&&l.createElement(K,null),"games-showcase"===b&&l.createElement(ce,null))),P&&l.createElement(le.a,{open:!0,isOpening:C,onClose:function(){return _(!1)},onCreate:function(e){return A(r,e)}}))}))}},function(e,t,n){"use strict";var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n.n(c),u=n(205),d=n(465),p=n(160),m=n(187),f=n(0),h=n.n(f),g=n(1),b=n(18),v=n(26),E=n(128),y=n(124),C=n(210),j=n(222),O=n(151),x=n(226),k=n(142),T=n(117),w=n(316),S=n(172),P=n(164),_=n(864),I=n(275),N=n(602),A=n(119),R=n(277),M=n(603),F=n(2204),L=n(125),B=n(203),D=n(313),U={previewContainer:{display:"flex",justifyContent:"center",alignItems:"center"},previewImage:{position:"relative",objectFit:"contain",verticalAlign:"middle",pointerEvents:"none"},previewImagePixelated:{width:"100%",imageRendering:Object(M.a)(),padding:15},icon:{color:"#fff"},cardContainer:{overflow:"hidden",position:"relative"},titleContainer:{position:"absolute",bottom:0,left:0,right:0,height:48,color:"#fff",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",backgroundColor:"rgb(0,0,0,0.5)"},title:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},G=function(e){var t=e.assetShortHeader,n=e.onOpenDetails,r=e.size;return c.createElement(F.a,{onClick:n,focusRipple:!0},c.createElement("div",{style:Object(A.a)(Object(A.a)({},U.cardContainer),{},{width:r,height:r})},c.createElement("div",{style:Object(A.a)(Object(A.a)({},U.previewContainer),{},{width:r,height:r})},c.createElement(D.a,null),c.createElement(B.a,{key:t.previewImageUrls[0],style:Object(A.a)(Object(A.a)({maxWidth:108,maxHeight:108},U.previewImage),Object(R.c)(t)?U.previewImagePixelated:void 0),src:t.previewImageUrls[0],alt:t.name})),c.createElement("div",{style:U.titleContainer},c.createElement(L.a,{noMargin:!0,style:U.title},t.name),c.createElement(L.a,{noMargin:!0,style:U.title,size:"body2"},t.shortDescription))))},V=n(146),W=n(601),H={searchBar:{flexShrink:0}},z=function(e){e.project,e.objectsContainer,e.events;var t=e.onOpenDetails,n=e.focusOnMount,r=c.useContext(N.a),a=r.filters,o=r.searchResults,i=r.error,l=r.fetchAssetsAndFilters,u=r.filtersState,d=r.searchText,f=r.setSearchText;c.useEffect((function(){l()}),[l]);var h=c.useRef(null),g=Object(m.b)();return c.useEffect((function(){n&&g&&h.current&&h.current.focus()}),[g,n]),c.createElement(V.a,null,(function(e){return c.createElement(T.a,{expand:!0,noMargin:!0,useFullHeight:!0},c.createElement(m.a,{value:d,onChange:f,onRequestSearch:function(){},style:H.searchBar,ref:h}),c.createElement(T.b,{expand:!0,overflow:"hidden"},c.createElement(p.a,{noFullHeight:!0,noExpand:!0,width:"small"===e?150:250},c.createElement(P.a,null,c.createElement(j.a,null,c.createElement(s.Trans,{id:"Categories"})),c.createElement(W.a,{allItemsLabel:c.createElement(s.Trans,{id:"All assets"}),allFilters:a,filtersState:u,error:i}),c.createElement(j.a,null,c.createElement(s.Trans,{id:"Filters"})),c.createElement(I.a,{allFilters:a,filtersState:u,error:i}))),c.createElement(_.a,{baseSize:128,onRetry:l,error:i,searchItems:o,renderSearchItem:function(e,n){return c.createElement(G,{size:n,onOpenDetails:function(){return t(e)},assetShortHeader:e})}})))}))},Y=n(276),q=n(746),X=n(2217),K=n(127),J=n(244),Z=n(158),Q=n(223),$=n(173),ee=n.n($),te=n(129),ne=n(2130),re=n(16),ae={previewImagePixelated:{width:"100%",imageRendering:Object(M.a)(),padding:15},previewBackground:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",padding:10},verticalPreviewBackground:{width:250},horizontalPreviewBackground:{height:170},chip:{marginBottom:2,marginRight:2},previewImage:{position:"relative",maxWidth:"100%",maxHeight:"100%",verticalAlign:"middle",pointerEvents:"none",objectFit:"contain"}},oe=function(e){e.project,e.layout,e.objectsContainer,e.resourceSources,e.onChooseResource,e.resourceExternalEditors;var t=e.assetShortHeader,n=e.onAdd,r=e.onClose,a=e.canInstall,o=e.isBeingInstalled,i=c.useContext(N.a),l=i.authors,u=i.licenses,d=c.useState(null),p=Object(v.a)(d,2),m=p[0],f=p[1],b=c.useState(null),C=Object(v.a)(b,2),j=C[0],O=C[1],x=c.useCallback((function(){Object(g.a)(h.a.mark((function e(){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(R.a)(t);case 3:n=e.sent,f(n),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("Error while loading asset:",e.t0),O(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[t]);c.useEffect((function(){x()}),[x]);var k=a&&!o&&!!m,w=c.useCallback((function(){k&&n()}),[n,k]),S=m&&l?m.authors.map((function(e){return l.find((function(t){return t.name===e}))})).filter(Boolean):[],P=m&&u?u.find((function(e){return e.name===m.license})):null;return c.createElement(E.a,{open:!0,title:c.createElement(s.Trans,{id:"Add an object from the store"}),onRequestClose:r,actions:[c.createElement(y.a,{key:"back",label:c.createElement(s.Trans,{id:"Back"}),onClick:r}),c.createElement(J.a,{isLoading:o||!m&&!j,key:"install"},c.createElement(K.a,{primary:!0,icon:c.createElement(ee.a,null),label:c.createElement(s.Trans,{id:"Add to the game"}),onClick:w,disabled:!k}))],onApply:w},c.createElement(T.a,{expand:!0,noMargin:!0},c.createElement(te.b,{noMargin:!0},c.createElement(V.a,null,(function(e){return c.createElement("div",{style:Object(A.a)(Object(A.a)({},ae.previewBackground),"small"===e?ae.horizontalPreviewBackground:ae.verticalPreviewBackground)},c.createElement(D.a,null),c.createElement(B.a,{style:Object(A.a)(Object(A.a)({},ae.previewImage),Object(R.c)(t)?ae.previewImagePixelated:void 0),src:t.previewImageUrls[0],alt:t.name}))})),c.createElement(T.a,{expand:!0},c.createElement("div",null,c.createElement(L.a,{size:"title",displayInlineAsSpan:!0},t.name)," ",t.shortDescription&&c.createElement(c.Fragment,null,"-"," ",c.createElement(L.a,{size:"body",displayInlineAsSpan:!0},t.shortDescription))),c.createElement("span",null,t.tags.map((function(e){return c.createElement(X.a,{size:"small",style:ae.chip,label:e,key:e})}))),m?c.createElement(c.Fragment,null,c.createElement(L.a,{size:"body"},c.createElement(s.Trans,{id:"By:"})," ",!!S&&S.map((function(e){return c.createElement(ne.a,{key:e.name,component:"button",onClick:function(){re.b.openExternalURL(e.website)}},e.name)}))),c.createElement(L.a,{size:"body"},!!P&&c.createElement(s.Trans,{id:"License: <0>{0}</0>",values:{0:P.name},components:[c.createElement(ne.a,{component:"button",onClick:function(){re.b.openExternalURL(P.website)}})]})),c.createElement(L.a,{size:"body"},m.description)):j?c.createElement(Q.a,{onRetry:x},c.createElement(s.Trans,{id:"Error while loading the asset. Verify your internet connection or try again later."})):c.createElement(Z.a,null)))))},ie=n(27),se=n(30),ce=n(604),le=n(143),ue=function(e){var t=e.objectMetadata,n=e.onClick;return""===t.name?null:c.createElement(O.b,{leftIcon:c.createElement(C.a,{src:t.iconFilename,iconSize:40,isGDevelopIcon:!0}),key:t.name,primaryText:t.fullName,secondaryText:t.description,secondaryTextLines:2,onClick:n})};function de(e){var t=e.project,n=e.layout,r=e.objectsContainer,a=e.resourceSources,o=e.onChooseResource,i=e.resourceExternalEditors,l=e.events,u=e.onClose,d=e.onCreateNewObject,p=e.onObjectAddedFromAsset,m=c.useContext(le.a),f=m.setNewObjectDialogDefaultTab,C=m.getNewObjectDialogDefaultTab,_=c.useState(!1),I=Object(v.a)(_,2),N=I[0],A=I[1],R=c.useState(null),M=Object(v.a)(R,2),F=M[0],L=M[1],B=c.useState(C()),D=Object(v.a)(B,2),U=D[0],G=D[1],V=c.useMemo((function(){return Object(x.b)(t)}),[t]),W=c.useMemo((function(){var e={};return V.forEach((function(t){var n=t.categoryFullName;e[n]=[].concat(Object(b.a)(e[n]||[]),[t])})),e}),[V]),H=Object(ce.b)();c.useEffect((function(){return f(U)}),[f,U]);var X=c.useState(null),K=Object(v.a)(X,2),J=K[0],Z=K[1],Q=c.useContext(Y.a),$=c.useCallback((function(e){Z(e),Object(g.a)(h.a.mark((function n(){var a;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(q.b)({assetShortHeader:e,eventsFunctionsExtensionsState:Q,project:t,objectsContainer:r,events:l});case 3:return a=n.sent,Object(ie.b)({id:e.id,name:e.name}),console.log("Asset successfully installed."),a.createdObjects.forEach((function(e){p(e)})),n.next=9,H.ensureResourcesAreFetched(t);case 9:L(null),A(!0),n.next=17;break;case 13:n.prev=13,n.t0=n.catch(0),console.error("Error while installing the asset:",n.t0),Object(se.a)({message:'There was an error while installing the asset "'.concat(e.name,'". Verify your internet connection or try again later.'),rawError:n.t0,errorId:"install-asset-error"});case 17:Z(null);case 18:case"end":return n.stop()}}),n,null,[[0,13]])})))()}),[H,Q,t,r,l,p]);return c.createElement(E.a,{title:c.createElement(s.Trans,{id:"Add a new object"}),secondaryActions:[c.createElement(k.a,{helpPagePath:"/objects",key:"help"})],actions:[c.createElement(y.a,{key:"close",label:c.createElement(s.Trans,{id:"Close"}),primary:!1,onClick:u})],onRequestClose:u,cannotBeDismissed:!1,open:!0,flexBody:!0,noMargin:!0,fullHeight:!0},c.createElement(T.a,{noMargin:!0,expand:!0},c.createElement(S.b,{value:U,onChange:G},c.createElement(S.a,{label:c.createElement(s.Trans,{id:"Search Asset Store"}),value:"asset-store"}),c.createElement(S.a,{label:c.createElement(s.Trans,{id:"New object from scratch"}),value:"new-object"})),"asset-store"===U&&c.createElement(z,{focusOnMount:!0,project:t,objectsContainer:r,events:l,onOpenDetails:function(e){L(e),Object(ie.c)({id:e.id,name:e.name})}}),"new-object"===U&&c.createElement(P.a,null,c.createElement(O.a,null,Object.keys(W).map((function(e){var t=W[e];return c.createElement(c.Fragment,{key:e},c.createElement(j.a,null,e),t.map((function(e){return c.createElement(ue,{key:e.name,objectMetadata:e,onClick:function(){Object(ie.k)(e.name),d(e.name)}})})))}))))),null!==F?c.createElement(oe,{project:t,layout:n,objectsContainer:r,resourceSources:a,onChooseResource:o,resourceExternalEditors:i,assetShortHeader:F,onAdd:function(){return $(F)},onClose:function(){return L(null)},canInstall:!J,isBeingInstalled:!!J&&J.id===F.id}):null,H.renderResourceFetcherDialog(),c.createElement(w.a,{identifier:"asset-installed-explanation",message:c.createElement(s.Trans,{id:"The object was added to the list of objects. You can now use it on the scene, in events, and customize it."}),show:N}))}var pe=n(167),me=n(272),fe=n(176),he=n(350),ge=n(135),be=n(306),ve=n(163),Ee=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={tagsString:e.props.tagsString},e._tagsField=c.createRef(),e._canEdit=function(){var t=e.state.tagsString,n=Object(be.c)(t);return!!e.props.tagsString||!!n.length},e._onEdit=function(t){e._canEdit()&&e.props.onEdit(t)},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e._tagsField&&e._tagsField.current&&e._tagsField.current.focus()}),10)}},{key:"render",value:function(){var e=this,t=this.props,n=t.onCancel,r=t.onEdit,a=this.state.tagsString,o=Object(be.c)(a);return c.createElement(E.a,{actions:[c.createElement(y.a,{key:"close",label:c.createElement(s.Trans,{id:"Cancel"}),primary:!1,onClick:n}),c.createElement(y.a,{key:"add",label:this.props.tagsString&&!o.length?c.createElement(s.Trans,{id:"Remove all tags"}):c.createElement(s.Trans,{id:"Add/update {0} tag(s)",values:{0:o.length}}),primary:!0,onClick:function(){return e._onEdit(o)},disabled:!this._canEdit()})],cannotBeDismissed:!1,open:!0,onApply:function(){return e._onEdit(o)},onRequestClose:n},c.createElement(ge.b,{fullWidth:!0,value:a,onChange:function(t,n){return e.setState({tagsString:n})},floatingLabelText:"Tag(s) (comma-separated)",hintText:{id:"For example: player, spaceship, inventory..."},onKeyPress:function(e){Object(ve.f)(e)&&r(o)},ref:this._tagsField}))}}]),n}(c.Component),ye=n(238);n.d(t,"b",(function(){return je})),n.d(t,"a",(function(){return Te}));var Ce={listContainer:{flex:1}},je="GD_OBJECT_WITH_CONTEXT",Oe=function(e){return e.object.getName()},xe=function(e){return e.global},ke=function(e){var t="";if(me.b.has("Object")){var n=me.b.get("Object");t=me.a.extractStringProperty(n,"name")||""}return e?"Paste "+t+" as a Global Object":"Paste "+t},Te=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._displayedObjectWithContextsList=[],e.state={newObjectDialogOpen:!1,renamedObjectWithContext:null,searchText:"",tagEditedObject:null},e.addObject=function(t){var n=e.props,r=n.project,a=n.objectsContainer,o=n.onEditObject,i=n.onObjectCreated,s=n.onObjectSelected,c=Object(pe.a)("NewObject",(function(e){return a.hasObjectNamed(e)||r.hasObjectNamed(e)})),l=a.insertNewObject(r,t,c,a.getObjectsCount());l.setTags(Object(be.b)(e.props.selectedObjectTags)),e.setState({newObjectDialogOpen:!1},(function(){o&&(o(l),i(l),s(c))}))},e._onObjectAddedFromAsset=function(t){var n=e.props.onObjectCreated;t.setTags(Object(be.b)(e.props.selectedObjectTags)),n(t)},e.onAddNewObject=function(){e.setState({newObjectDialogOpen:!0})},e._deleteObject=function(t){var n=t.object,r=t.global,a=e.props,o=a.project,i=a.objectsContainer;re.b.showConfirmDialog("Are you sure you want to remove this object? This can't be undone.")&&e.props.onDeleteObject(t,(function(t){t&&(r?o.removeObject(n.getName()):i.removeObject(n.getName()),e._onObjectModified(!1))}))},e._copyObject=function(e){var t=e.object;me.b.set("Object",{type:t.getType(),name:t.getName(),object:Object(fe.b)(t)})},e._cutObject=function(t){e._copyObject(t),e._deleteObject(t)},e._duplicateObject=function(t){e._copyObject(t),e._pasteAndRename(t)},e._pasteAndRename=function(t){e._editName(e._paste(t))},e._paste=function(t){if(!me.b.has("Object"))return null;var n=t.object,r=t.global,a=me.b.get("Object"),o=me.a.extractObjectProperty(a,"object"),i=me.a.extractStringProperty(a,"name"),s=me.a.extractStringProperty(a,"type");if(i&&s&&o){var c=e.props,l=c.project,u=c.objectsContainer,d=c.onObjectPasted,p=Object(pe.a)(i,(function(e){return u.hasObjectNamed(e)||l.hasObjectNamed(e)}),""),m=r?l.insertNewObject(l,s,p,l.getObjectPosition(n.getName())):u.insertNewObject(l,s,p,u.getObjectPosition(n.getName()));return Object(fe.c)(m,o,"unserializeFrom",l),m.setName(p),e._onObjectModified(!1),d&&d(m),{object:m,global:r}}},e._editName=function(t){e.setState({renamedObjectWithContext:t},(function(){e.sortableList&&e.sortableList.forceUpdateGrid()}))},e._rename=function(t,n){var r=t.object;e.setState({renamedObjectWithContext:null}),Oe(t)!==n&&e.props.canRenameObject(n)&&e.props.onRenameObject(t,n,(function(t){t&&(r.setName(n),e._onObjectModified(!1))}))},e._canMoveSelectionTo=function(t){return e._displayedObjectWithContextsList.filter((function(t){return-1!==e.props.selectedObjectNames.indexOf(t.object.getName())})).filter((function(e){return e.global===t.global})).length>0},e._moveSelectionTo=function(t){var n=e.props,r=n.project,a=n.objectsContainer,o=t.global?r:a;e._displayedObjectWithContextsList.filter((function(t){return-1!==e.props.selectedObjectNames.indexOf(t.object.getName())})).forEach((function(e){if(e.global===t.global){var n=o.getObjectPosition(e.object.getName()),r=o.getObjectPosition(t.object.getName());r>n&&(r-=1),o.moveObject(n,r)}})),e._onObjectModified(!0)},e._setAsGlobalObject=function(t){var n=t.object,r=e.props,a=r.project,o=r.objectsContainer,i=n.getName();o.hasObjectNamed(i)&&(a.hasObjectNamed(i)?Object(se.c)("A global object with this name already exists. Please change the object name before setting it as a global object",{delayToNextTick:!0}):re.b.showConfirmDialog("This object will be loaded and available in all the scenes. This is only recommended for objects that you reuse a lot and can't be undone. Make this object global?")&&(o.moveObjectToAnotherContainer(i,a,a.getObjectsCount()),e._onObjectModified(!0)))},e.forceUpdateList=function(){e.forceUpdate(),e.sortableList&&e.sortableList.forceUpdateGrid()},e._openEditTagDialog=function(t){e.setState({tagEditedObject:t})},e._changeObjectTags=function(t,n){t.setTags(Object(be.b)(n)),e._onObjectModified(!0)},e._selectObject=function(t){e.props.onObjectSelected(t?t.object.getName():"")},e._getObjectThumbnail=function(t){return e.props.getThumbnail(e.props.project,t.object)},e._renderObjectMenuTemplate=function(t){return function(n,r){var a=n.object;return[{label:t._({id:"Edit object"}),click:function(){return e.props.onEditObject(a)}},{label:t._({id:"Edit object variables"}),click:function(){return e.props.onEditObject(a,"variables")}},{label:t._({id:"Edit behaviors"}),click:function(){return e.props.onEditObject(a,"behaviors")}},{label:t._({id:"Edit effects"}),click:function(){return e.props.onEditObject(a,"effects")}},{type:"separator"},{label:t._({id:"Tags"}),submenu:Object(be.a)({noTagLabel:"No tags",getAllTags:e.props.getAllObjectTags,selectedTags:Object(be.c)(a.getTags()),onChange:function(t){e._changeObjectTags(a,t)},editTagsLabel:"Add/edit tags...",onEditTags:function(){return e._openEditTagDialog(a)}})},{label:t._({id:"Rename"}),click:function(){return e._editName(n)}},{label:t._({id:"Set as a global object"}),enabled:!xe(n),click:function(){return e._setAsGlobalObject(n)}},{label:t._({id:"Delete"}),click:function(){return e._deleteObject(n)}},{type:"separator"},{label:t._({id:"Add a new object..."}),click:function(){return e.onAddNewObject()}},{type:"separator"},{label:t._({id:"Copy"}),click:function(){return e._copyObject(n)}},{label:t._({id:"Cut"}),click:function(){return e._cutObject(n)}},{label:ke(n.global),enabled:me.b.has("Object"),click:function(){return e._paste(n)}},{label:t._({id:"Duplicate"}),click:function(){return e._duplicateObject(n)}}]}},e._onObjectModified=function(t){e.props.unsavedChanges&&e.props.unsavedChanges.triggerUnsavedChanges(),t?e.forceUpdateList():e.forceUpdate()},e}return Object(a.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return this.state.newObjectDialogOpen!==t.newObjectDialogOpen||this.state.renamedObjectWithContext!==t.renamedObjectWithContext||this.state.searchText!==t.searchText||this.state.tagEditedObject!==t.tagEditedObject||(this.props.selectedObjectNames!==e.selectedObjectNames||this.props.selectedObjectTags!==e.selectedObjectTags||(this.props.project!==e.project||this.props.objectsContainer!==e.objectsContainer))}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.layout,a=t.objectsContainer,o=t.resourceSources,i=t.onChooseResource,c=t.resourceExternalEditors,f=t.selectedObjectTags,h=t.events,g=this.state,b=g.searchText,v=g.tagEditedObject,E=Object(x.c)(n,a);this._displayedObjectWithContextsList=Object(x.f)(E.allObjectsList,{searchText:b,selectedTags:f});var y=this._displayedObjectWithContextsList.filter((function(t){return-1!==e.props.selectedObjectNames.indexOf(t.object.getName())})),C=this._displayedObjectWithContextsList.find(Object(x.g)(this.state.renamedObjectWithContext)),j=n.ptr+";"+a.ptr;return l.a.createElement(p.a,{maxWidth:!0},l.a.createElement(he.a,{tags:this.props.selectedObjectTags,onChange:this.props.onChangeSelectedObjectTags}),l.a.createElement("div",{style:Ce.listContainer},l.a.createElement(u.a,null,(function(t){var n=t.height,r=t.width;return l.a.createElement(s.I18n,null,(function(t){var a=t.i18n;return l.a.createElement(d.a,{key:j,ref:function(t){return e.sortableList=t},fullList:e._displayedObjectWithContextsList,width:r,height:n,getItemName:Oe,getItemThumbnail:e._getObjectThumbnail,isItemBold:xe,onEditItem:function(t){return e.props.onEditObject(t.object)},onAddNewItem:e.onAddNewObject,addNewItemLabel:l.a.createElement(s.Trans,{id:"Add a new object"}),selectedItems:y,onItemSelected:e._selectObject,renamedItem:C,onRename:e._rename,buildMenuTemplate:e._renderObjectMenuTemplate(a),onMoveSelectionToItem:e._moveSelectionTo,canMoveSelectionToItem:e._canMoveSelectionTo,scaleUpItemIconWhenSelected:"touch"===Object(ye.b)(),reactDndType:je})}))}))),l.a.createElement(m.a,{value:b,onRequestSearch:function(){},onChange:function(t){return e.setState({searchText:t})}}),this.state.newObjectDialogOpen&&l.a.createElement(de,{onClose:function(){return e.setState({newObjectDialogOpen:!1})},onCreateNewObject:this.addObject,onObjectAddedFromAsset:this._onObjectAddedFromAsset,project:n,layout:r,objectsContainer:a,events:h,resourceSources:o,onChooseResource:i,resourceExternalEditors:c}),v&&l.a.createElement(Ee,{tagsString:v.getTags(),onEdit:function(t){e._changeObjectTags(v,t),e._openEditTagDialog(null)},onCancel:function(){return e._openEditTagDialog(null)}}))}}]),n}(l.a.Component)},function(e,t,n){"use strict";var r=n(15),a=n.n(r),o=n(2218),i=n(117),s=n(129),c=n(158),l=n(756),u=n(125),d=n(135),p=n(115),m=n(223),f=n(127),h=n(119),g=n(0),b=n.n(g),v=n(1),E=n(26),y=n(156),C=n(245),j=n(2122),O=n(758),x=n.n(O),k=n(757),T=n(164),w={achievementsContainer:{maxHeight:250},lockedAchievement:{opacity:.4},unlockedAchievement:{}},S=function(e){var t=e.badges,n=e.achievements,a=e.displayUnclaimedAchievements,o=e.displayNotifications,s=r.useState([]),c=Object(E.a)(s,2),l=c[0],d=c[1];return r.useEffect((function(){var e=t.reduce((function(e,t){return e[t.achievementId]=t,e}),{}),r=n.reduce((function(t,n){var r=e[n.id],o=!!r;return(o||!o&&a)&&t.push(Object(h.a)(Object(h.a)({},n),{},{seen:o?r.seen:void 0,unlockedAt:o?Object(j.a)(r.unlockedAt):null})),t}),[]);r.sort(C.i),d(r)}),[t,n,a]),r.createElement(i.a,{noMargin:!0},r.createElement(p.I18n,null,(function(e){var t=e.i18n;return r.createElement(T.a,{style:w.achievementsContainer},l.map((function(e){return r.createElement(i.b,{key:e.id,justifyContent:"space-between"},r.createElement(i.a,{justifyContent:"center",alignItems:"flex-start"},r.createElement(k.a,{invisible:!(o&&!1===e.seen)},r.createElement(u.a,{noMargin:!0,style:e.unlockedAt?w.unlockedAchievement:w.lockedAchievement},e.name)),a&&r.createElement(u.a,{noMargin:!0,style:e.unlockedAt?w.unlockedAchievement:w.lockedAchievement,size:"body2"},e.description)),r.createElement(i.a,null,e.unlockedAt?r.createElement(u.a,null,t.date(e.unlockedAt)):r.createElement(x.a,{style:w.lockedAchievement})))})))})))},P=n(662),_=a.a.memo((function(e){return a.a.createElement(P.a,Object.assign({},e,{viewBox:"0 0 528.9 511.62"}),a.a.createElement("g",{id:"Calque_2","data-name":"Calque 2"},a.a.createElement("g",{id:"Calque_4","data-name":"Calque 4"},a.a.createElement("path",{d:"M144 60.33S80.75-18.31 35.82 21s-17.56 93.4-17.56 93.4 32.3 82.85 35.81 109.53S77 279.4 77 279.4s16.42 21.77 52.94 13.35 66-34.41 66-34.41ZM385 60.33S448.14-18.31 493.08 21s17.55 93.39 17.55 93.39-32.29 82.85-35.81 109.53-22.9 55.47-22.9 55.47-16.42 21.78-52.92 13.36-66-34.41-66-34.41Z",style:{fill:"none",stroke:"currentColor",strokeWidth:"20px",strokeMiterlimit:10}}),a.a.createElement("path",{d:"M395.53 429.67H352s-46.34-34.41-44.94-61.09C455.92 297 434.85 63.14 434.85 63.14H88.1S67 297 215.89 368.58c1.41 26.68-44.89 61.09-44.89 61.09h-43.58v24.57h-23.87v56.88h315.86v-56.88h-23.88Z",style:{fill:"inherit",strokeMiterlimit:10}}))))})),I=n(146),N={summary:{textAlign:"center"},leftContainer:{flex:1,margin:"20px"},rightContainer:{flex:2}},A=function(e){var t=e.badges,n=e.displayUnclaimedAchievements,o=e.displayNotifications,l=Object(r.useState)(null),d=Object(E.a)(l,2),m=d[0],f=d[1],g=Object(r.useState)(!1),j=Object(E.a)(g,2),O=j[0],x=j[1],k=Object(I.b)(),T=Object(r.useCallback)(Object(v.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,x(!1),e.next=4,Object(C.j)();case 4:t=e.sent,f(t),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error when fetching achievements: ".concat(e.t0)),x(!0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])}))),[]);return Object(r.useEffect)((function(){T()}),[T]),a.a.createElement(s.b,null,O?a.a.createElement(i.b,null,a.a.createElement(y.a,{kind:"error"},a.a.createElement(p.Trans,{id:"Unable to display your achievements for now."})," ",a.a.createElement(p.Trans,{id:"Please check your internet connection or try again later."}))):t&&m?a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{style:N.leftContainer},a.a.createElement("div",{style:Object(h.a)(Object(h.a)({},N.summary),{},{padding:"small"===k?"0 20":"20"})},a.a.createElement(_,{color:"primary",fontSize:"large"}),a.a.createElement(u.a,{size:"title"},a.a.createElement(p.Trans,{id:"{0}/{1} achievements",values:{0:t.length,1:m.length}}),0===t.length&&a.a.createElement(a.a.Fragment,null," ",a.a.createElement(p.Trans,{id:"(yet!)"}))))),t.length>0&&a.a.createElement("div",{style:N.rightContainer},t&&m&&a.a.createElement(S,{badges:t,achievements:m,displayUnclaimedAchievements:n,displayNotifications:o}))):a.a.createElement(c.a,null))};t.a=function(e){var t=e.profile,n=e.isAuthenticatedUserProfile,a=e.error,h=e.onRetry,g=e.onChangeEmail,b=e.onEditProfile,v=e.badges;return t?r.createElement(p.I18n,null,(function(e){var a=e.i18n;return r.createElement(i.a,null,r.createElement(i.b,{alignItems:"center"},r.createElement(o.a,{src:Object(l.a)(t.email||"",{size:40})}),r.createElement(i.c,null),r.createElement(u.a,{size:"title",style:{opacity:t.username?1:.5}},t.username||(n?a._({id:"Edit your profile to pick a username!"}):a._({id:"No username"})))),n&&t.email&&r.createElement(i.b,null,r.createElement(d.b,{value:t.email,readOnly:!0,fullWidth:!0,floatingLabelText:r.createElement(p.Trans,{id:"Email"}),floatingLabelFixed:!0})),r.createElement(i.b,null,r.createElement(d.b,{value:t.description||"",readOnly:!0,fullWidth:!0,multiline:!0,floatingLabelText:r.createElement(p.Trans,{id:"Bio"}),floatingLabelFixed:!0,hintText:n?{id:"No bio defined. Edit your profile to tell us what you are using GDevelop for!"}:{id:"No bio defined."},rows:3,rowsMax:5})),n&&r.createElement(s.b,{justifyContent:"flex-end",noColumnMargin:!0},r.createElement(f.a,{label:r.createElement(p.Trans,{id:"Change my email"}),onClick:g}),r.createElement(f.a,{label:r.createElement(p.Trans,{id:"Edit my profile"}),primary:!0,onClick:b})),r.createElement(A,{badges:v,displayUnclaimedAchievements:!!n,displayNotifications:!!n}))})):a?r.createElement(m.a,{onRetry:h},r.createElement(p.Trans,{id:"Unable to load the profile, please verify your internet connection or try again later."})):r.createElement(c.a,null)}},function(e,t,n){"use strict";var r=n(26),a=n(115),o=n(672),i=n.n(o),s=n(15),c=n(128),l=n(124),u=n(127),d=n(117),p=n(453),m=n(135),f=n(1727),h=n.n(f),g=n(1735),b=n.n(g),v=["abandoned","abashed","aberrant","abhorrent","abiding","abject","ablaze","able","abounding","abrasive","abrupt","absent","absorbed","absorbing","abstracted","absurd","abundant","acceptable","accessible","accidental","accurate","acidic","acoustic","acrid","actionable","active","actual","adamant","adaptable","adept","adhesive","adjoining","adorable","adroit","adventurous","affable","affectionate","afraid","aggressive","agile","agonizing","agreeable","airy","alert","alive","alleged","alluring","aloof","amazing","ambiguous","ambitious","amiable","ample","amused","amusing","ancient","angry","animated","annoyed","annoying","anxious","apathetic","apt","aquatic","ardent","aromatic","arrogant","ashamed","aspiring","assorted","astonishing","astute","attractive","august","auspicious","automatic","available","average","avid","aware","awesome","awful","axiomatic","bad","balmy","barbarous","bashful","bawdy","beautiful","befitting","belligerent","beneficial","benevolent","bent","berserk","best","better","bewildered","big","billowing","billowy","bitter","bizarre","blessed","bloody","blue","blushing","boiling","bold","boorish","bored","boring","boss","bouncy","boundless","brainy","brash","brave","brawny","breakable","breezy","brief","bright","brisk","broad","broken","bumpy","burly","bustling","busy","cagey","calculating","callous","calm","can","canny","capable","capricious","cared","careful","careless","caring","casual","cautious","ceaseless","celestial","certain","changeable","charming","cheap","cheerful","chemical","chic","chief","childlike","chilly","chivalrous","choice","chosen","chubby","chummy","chunky","civic","civil","clammy","classy","clean","clear","clever","cloistered","close","closed","cloudy","clumsy","cluttered","cogent","coherent","cold","colorful","colossal","combative","comfortable","common","complete","complex","composed","concerned","condemned","confused","conscious","cooing","cool","cooperative","coordinated","cosmic","courageous","cowardly","cozy","crabby","craven","crazy","creepy","crooked","crowded","cruel","cuddly","cultured","cumbersome","curious","curly","curved","curvy","cut","cute","cynical","daffy","daily","dainty","damaged","damaging","damp","dandy","dangerous","dapper","daring","dark","dashing","dazzling","dead","deadpan","deafening","dear","debonair","decent","decisive","decorous","deep","deeply","defeated","defective","defiant","deft","delicate","delicious","delightful","delirious","deluxe","demonic","dependent","deranged","descriptive","deserted","detailed","determined","devilish","devout","didactic","different","difficult","diligent","direct","direful","dirty","disagreeable","disastrous","discreet","disgusted","disgusting","disillusioned","dispensable","distinct","disturbed","divergent","divine","dizzy","domineering","doted","doting","doubtful","drab","draconian","dramatic","dreamy","dreary","driven","dry","dull","dusty","dynamic","dysfunctional","eager","early","earsplitting","earthy","easy","eatable","economic","educated","efficacious","efficient","eight","elastic","elated","electric","elegant","elfin","elite","embarrassed","eminent","empty","enchanted","enchanting","encouraging","end","endurable","energetic","energized","enigmatic","enormous","entertaining","enthusiastic","envious","equable","equal","erect","erratic","ethereal","evanescent","evasive","even","evil","exact","excellent","excited","exciting","exclusive","exotic","expensive","expert","exuberant","exultant","fabulous","faded","faint","fair","faithful","fallacious","false","famed","familiar","famous","fanatical","fancy","fantastic","far","fascinated","fast","faulty","fearful","fearless","feigned","fertile","festive","few","fierce","fiery","filthy","fine","finicky","first","fit","fixed","flagrant","flaky","flashy","flat","flawless","fleet","flimsy","flippant","flowery","flowing","fluent","fluffy","fluttering","flying","foamy","fond","foolish","for","foregoing","forgetful","forlorn","fortunate","fragile","frail","frank","frantic","free","freezing","frequent","fresh","fretful","friendly","frightened","frightening","full","fumbling","fun","functional","funny","furry","furtive","fuscia","future","futuristic","fuzzy","gabby","gainful","gamy","gaping","garrulous","gas","gaudy","general","genial","gentle","giant","giddy","gifted","gigantic","giving","glad","glamorous","gleaming","glib","glistening","glorious","glossy","gnarly","godly","gold","golden","good","goodly","goofy","gorgeous","graceful","grand","grandiose","grateful","gratis","gray","greasy","great","greedy","green","grey","grieving","groovy","grotesque","grouchy","grubby","gruesome","grumpy","guarded","guided","guiltless","gullible","gusty","gutsy","guttural","habitual","half","hallowed","haloed","halting","handsome","handsomely","handy","hanging","hapless","happy","hard","hardy","harmonious","harsh","heady","healthy","heartbreaking","hearty","heavenly","heavy","hellish","helpful","helpless","heroic","hesitant","hideous","high","highfalutin","hilarious","hip","hissing","historical","holistic","hollow","holy","homely","honest","honorable","horrible","hospitable","hot","huge","hulking","human","humane","humble","humdrum","humorous","hungry","hunky","hurried","hurt","hushed","husky","hypnotic","hysterical","icky","icy","ideal","ignorant","ill","illegal","illustrious","imaginary","immense","imminent","immune","impartial","imperfect","impolite","important","imported","impossible","incandescent","incompetent","inconclusive","incredible","indigo","industrious","inexpensive","infamous","innate","innocent","inquisitive","insidious","instinctive","intelligent","interesting","internal","invincible","irate","irritating","itchy","jaded","jagged","jazzed","jazzy","jealous","jittery","jolly","jovial","joyful","joyous","jubilant","judicious","juicy","jumbled","jumpy","just","kaput","keen","khaki","kind","kindhearted","kindly","kingly","knotty","knowing","knowledgeable","known","labored","lackadaisical","lacking","lame","lamentable","languid","large","last","late","laughable","lavish","lawful","lazy","lean","legal","legit","lethal","level","lewd","light","like","likeable","likely","limber","limitless","limping","literate","little","lively","living","lonely","long","longing","loose","lopsided","loud","lousy","loutish","loved","lovely","loving","low","lowly","loyal","lucid","lucky","ludicrous","lumpy","lush","luxuriant","lying","lyrical","macabre","macho","maddening","madly","magenta","magical","magnificent","main","majestic","major","makeshift","malicious","mammoth","maniacal","many","marked","married","marvelous","massive","material","materialistic","max","maxed","mean","measly","meaty","medical","meek","mellow","melodic","melted","merciful","mere","merry","messy","mighty","military","milky","mindless","miniature","minor","mint","mirthful","miscreant","misty","mixed","moaning","modern","modest","moldy","momentous","money","moonlit","moral","motionless","mountainous","moving","mucho","muddled","mundane","murky","mushy","mute","mutual","mysterious","naive","nappy","narrow","nasty","native","natural","naughty","nauseating","near","neat","nebulous","necessary","needed","needless","needy","neighborly","nervous","new","next","nice","nifty","nimble","nippy","noble","noiseless","noisy","nonchalant","nondescript","nonstop","normal","nostalgic","nosy","noted","novel","noxious","null","numberless","numero","numerous","nutritious","nutty","oafish","obedient","obeisant","obnoxious","obscene","obsequious","observant","obsolete","obtainable","oceanic","odd","offbeat","okay","omniscient","onerous","open","opposite","optimal","orange","ordinary","organic","ossified","outgoing","outrageous","outstanding","oval","overconfident","overjoyed","overrated","overt","overwrought","pacific","painful","painstaking","pale","paltry","panicky","panoramic","parallel","parched","parsimonious","past","pastoral","pathetic","peaceful","peachy","penitent","peppy","perfect","periodic","permissible","perpetual","petite","phobic","physical","picayune","pink","piquant","pithy","placid","plain","plant","plastic","plausible","pleasant","plucky","plum","poetic","pointless","poised","polite","political","posh","possessive","possible","potent","powerful","precious","premium","present","pretty","previous","pricey","prickly","prime","primo","private","prized","pro","probable","productive","profuse","prompt","proper","protective","proud","psychedelic","psychotic","public","puffy","pumped","punchy","puny","pure","purple","purring","pushy","puzzled","puzzling","quack","quaint","quarrelsome","questionable","quick","quickest","quiet","quirky","quixotic","quizzical","rabid","rad","radioactive","ragged","rainy","rambunctious","rampant","rapid","rare","raspy","ratty","reach","ready","real","rebel","receptive","recondite","red","redundant","reflective","regal","regular","relieved","remarkable","reminiscent","repulsive","resilient","resolute","resonant","responsible","rhetorical","rich","right","righteous","rightful","rigid","ripe","ritzy","roasted","robust","romantic","roomy","rooted","rosy","rotten","rough","round","royal","ruddy","rude","rugged","rural","rustic","ruthless","sable","sad","safe","salty","same","sassy","satisfying","saucy","savory","savvy","scandalous","scarce","scared","scary","scattered","scenic","scientific","scintillating","scrawny","screeching","second","secret","secretive","sedate","seemly","selective","selfish","sensitive","separate","serene","serious","shaggy","shaky","shallow","sharp","shiny","shivering","shocking","short","showy","shrewd","shrill","shut","shy","sick","silent","silky","silly","simple","simplistic","sincere","skillful","skinny","sleek","sleepy","slick","slim","slimy","slippery","sloppy","slow","small","smart","smelly","smiley","smiling","smoggy","smooth","snappy","snazzy","sneaky","snobbish","snotty","snowy","snugly","social","soft","soggy","sole","solid","solitary","somber","sophisticated","sordid","sore","sound","sour","spacial","sparkling","special","spectacular","spicy","spiffy","spiky","spiritual","spiteful","splendid","spooky","spotless","spotted","spotty","spry","spurious","squalid","square","squealing","squeamish","stable","staking","stale","standing","star","stark","statuesque","steadfast","steady","steep","stereotyped","sticky","stiff","stimulating","stingy","stoic","stormy","straight","strange","striped","strong","stunning","stupendous","sturdy","suave","subdued","subsequent","substantial","subtle","successful","succinct","sudden","sulky","sunny","sunset","super","superb","superficial","supreme","sure","swank","swanky","sweet","swell","sweltering","swift","symptomatic","synonymous","taboo","tacit","tacky","talented","tall","tame","tan","tangible","tangy","tart","tasteful","tasteless","tasty","tawdry","teal","tearful","tedious","teeny","telling","temporary","tender","tense","tenuous","terrible","terrific","tested","testy","thankful","therapeutic","thin","thinkable","third","thoughtful","thoughtless","threatening","thriving","thundering","tidy","timely","tiny","tired","tiresome","toothsome","top","tops","torpid","tough","touted","towering","tranquil","trashy","tremendous","tricky","trim","trite","tropical","troubled","truculent","true","trusty","truthful","try","typical","ubiquitous","ultra","unable","unaccountable","unadvised","unarmed","unbecoming","unbiased","uncovered","understood","undisturbed","unequal","unequaled","uneven","unhealthy","uninterested","unique","united","unkempt","unknown","unnatural","unruly","unsightly","unsuitable","untidy","unused","unusual","unwavering","unwieldy","unwritten","upbeat","uplifting","uppity","upset","uptight","urbane","usable","used","useful","utmost","utopian","utter","uttermost","vacuous","vagabond","vague","valid","valuable","various","vast","vengeful","venomous","verdant","versed","vestal","viable","victorious","vigorous","violent","violet","vital","vivacious","vivid","vocal","vogue","voiceless","volatile","voracious","wacky","waggish","waiting","wakeful","wandering","wanted","wanting","warlike","warm","wary","wasteful","watery","weak","wealthy","weary","wet","whimsical","whispering","whole","wholesale","wicked","wide","wiggly","wild","willing","windy","winged","wired","wiry","wise","wistful","witty","woebegone","wonderful","wooden","woozy","workable","worried","worthy","wrathful","wretched","wrong","wry","yielding","young","youthful","yummy","zany","zealous","zesty","zippy","zonked"],E=["account","achiever","acoustics","act","action","activity","actor","addition","adjustment","advertisement","advice","aftermath","afternoon","afterthought","agreement","air","airplane","airport","alarm","amount","amusement","anger","angle","animal","ants","apparatus","apparel","appliance","approval","arch","argument","arithmetic","arm","army","art","attack","attraction","authority","back","badge","bag","bait","balance","ball","base","baseball","basin","basket","basketball","bat","bath","battle","bead","bear","bed","bedroom","beds","bee","beef","beginner","behavior","belief","believe","bell","bells","berry","bike","bikes","bird","birds","birth","birthday","bit","bite","blade","blood","blow","board","boat","bomb","bone","book","books","boot","border","bottle","boundary","box","brake","branch","brass","breath","brick","bridge","bubble","bucket","building","bulb","burst","bushes","business","butter","button","cabbage","cable","cactus","cake","cakes","calculator","calendar","camera","camp","can","cannon","canvas","cap","caption","car","card","care","carpenter","carriage","cars","cart","cast","cat","cats","cattle","cause","cave","celery","cellar","cemetery","cent","chalk","chance","change","channel","cheese","cherries","cherry","chess","chicken","chickens","chin","church","circle","clam","class","cloth","clover","club","coach","coal","coast","coat","cobweb","coil","collar","color","committee","company","comparison","competition","condition","connection","control","cook","copper","corn","cough","country","cover","cow","cows","crack","cracker","crate","crayon","cream","creator","creature","credit","crib","crime","crook","crow","crowd","crown","cub","cup","current","curtain","curve","cushion","day","death","debt","decision","deer","degree","design","desire","desk","destruction","detail","development","digestion","dime","dinner","dinosaurs","direction","dirt","discovery","discussion","distance","distribution","division","dock","doctor","dog","dogs","doll","dolls","donkey","door","downtown","drain","drawer","dress","drink","driving","drop","duck","ducks","dust","ear","earth","earthquake","edge","education","effect","egg","eggnog","eggs","elbow","end","engine","error","event","example","exchange","existence","expansion","experience","expert","eye","eyes","face","fact","fairies","fall","fang","farm","fear","feeling","field","finger","fire","fish","flag","flame","flavor","flesh","flight","flock","floor","flower","flowers","fly","fog","fold","food","foot","force","fork","form","fowl","frame","friction","friend","friends","frog","frogs","front","fruit","fuel","furniture","gate","geese","ghost","giants","giraffe","glass","glove","gold","government","governor","grade","grain","grape","grass","grip","ground","group","growth","guide","guitar","gun","hair","haircut","hall","hammer","hand","hands","harbor","harmony","hat","head","health","heat","hill","history","hobbies","hole","holiday","home","honey","hook","hope","horn","horse","horses","hose","hospital","hot","hour","house","houses","humor","hydrant","ice","icicle","idea","impulse","income","increase","industry","ink","insect","instrument","insurance","interest","invention","iron","island","jail","jam","jar","jeans","jelly","jellyfish","jewel","join","judge","juice","jump","kettle","key","kick","kiss","kittens","kitty","knee","knife","knot","knowledge","laborer","lace","ladybug","lake","lamp","land","language","laugh","leather","leg","legs","letter","letters","lettuce","level","library","limit","line","linen","lip","liquid","loaf","lock","locket","look","loss","love","low","lumber","lunch","lunchroom","machine","magic","maid","mailbox","marble","mark","market","mask","mass","match","meal","measure","meat","meeting","memory","metal","mice","middle","milk","mind","mine","minister","mint","minute","mist","mitten","money","month","moon","morning","mother","motion","mountain","mouth","move","muscle","name","nation","neck","need","needle","nerve","nest","night","noise","north","nose","note","notebook","number","nut","oatmeal","observation","ocean","offer","office","oil","orange","oranges","order","oven","page","pail","pan","pancake","paper","parcel","part","partner","party","passenger","payment","peace","pear","pen","pencil","person","pest","pet","pets","pickle","picture","pie","pies","pig","pigs","pin","pipe","pizzas","place","plane","planes","plant","plantation","plants","plastic","plate","play","playground","pleasure","plot","plough","pocket","point","poison","pollution","popcorn","porter","position","pot","potato","powder","power","price","produce","profit","property","prose","protest","pull","pump","punishment","purpose","push","quarter","quartz","question","quicksand","quiet","quill","quilt","quince","quiver","rabbit","rabbits","rail","railway","rain","rainstorm","rake","range","rat","rate","ray","reaction","reading","reason","receipt","recess","record","regret","relation","religion","representative","request","respect","rest","reward","rhythm","rice","riddle","rifle","ring","rings","river","road","robin","rock","rod","roll","roof","room","root","rose","route","rub","rule","run","sack","sail","salt","sand","scale","scarecrow","scarf","scene","scent","school","science","scissors","screw","sea","seashore","seat","secretary","seed","selection","self","sense","servant","shade","shake","shame","shape","sheep","sheet","shelf","ship","shirt","shock","shoe","shoes","shop","show","side","sidewalk","sign","silk","silver","sink","size","skate","skin","skirt","sky","sleep","sleet","slip","slope","smash","smell","smile","smoke","snail","snails","snake","snakes","sneeze","snow","soap","society","sock","soda","sofa","song","songs","sort","sound","soup","space","spade","spark","spiders","sponge","spoon","spot","spring","spy","square","squirrel","stage","stamp","star","start","statement","station","steam","steel","stem","step","stew","stick","sticks","stitch","stocking","stomach","stone","stop","store","story","stove","stranger","straw","stream","street","stretch","string","structure","substance","sugar","suggestion","suit","summer","sun","support","surprise","sweater","swim","swing","system","table","tail","talk","tank","taste","tax","teaching","team","teeth","temper","tendency","tent","territory","test","texture","theory","thing","things","thought","thread","thrill","throat","throne","thumb","thunder","ticket","tiger","time","tin","title","toad","toe","toes","tomatoes","tongue","tooth","toothbrush","toothpaste","top","touch","town","toy","toys","trade","trail","train","trains","tramp","transport","tray","treatment","tree","trees","trick","trip","trouble","trousers","truck","trucks","tub","turkey","turn","twig","twist","umbrella","underwear","unit","use","vacation","value","van","vase","vegetable","veil","vein","verse","vessel","vest","view","visitor","voice","volcano","volleyball","voyage","walk","wall","war","wash","waste","watch","water","wave","waves","wax","way","wealth","weather","week","weight","wheel","whip","whistle","wilderness","wind","window","wine","wing","winter","wire","wish","wood","wool","word","work","worm","wound","wren","wrench","wrist","writer","writing","yak","yam","yard","yarn","year","yoke","zebra","zephyr","zinc","zipper","zoo"],y=function(){return"".concat(h()(b()(v))," ").concat(h()(b()(E)))},C=n(17),j=n.n(C),O=n(167),x=j()("path"),k=j()("fs-extra"),T=function(e){return function(e){if(!x)return e;var t=Object(O.a)("My project",(function(t){try{k.accessSync(x.join(e,t))}catch(n){return!1}return!0}));return x.join(e,t)}(x.join(e.getPath("documents"),"GDevelop projects"))},w=j()("electron"),S=w?w.remote.app:null;t.a=function(e){var t=e.open,n=e.isOpening,o=e.onClose,f=e.onCreate,h=s.useState(null),g=Object(r.a)(h,2),b=g[0],v=g[1],E=s.useState((function(){return y()})),C=Object(r.a)(E,2),j=C[0],O=C[1],x=s.useState((function(){return S?T(S):""})),k=Object(r.a)(x,2),w=k[0],P=k[1],_=s.useCallback((function(){n||(v(null),j?f({projectName:j,outputPath:S?w:void 0}):v(s.createElement(a.Trans,{id:"Please enter a name for your project."})))}),[f,j,w,n]),I=s.useCallback((function(e,t){b&&v(null),O(t)}),[O,b]);return s.createElement(c.a,{title:s.createElement(a.Trans,{id:"New Project"}),maxWidth:"sm",open:t,onApply:_,onRequestClose:o,actions:[s.createElement(l.a,{disabled:n,key:"cancel",label:s.createElement(a.Trans,{id:"Cancel"}),onClick:o}),s.createElement(u.a,{primary:!0,disabled:n,key:"create",label:s.createElement(a.Trans,{id:"Create project"}),onClick:_})]},s.createElement(d.a,{noMargin:!0},s.createElement(m.b,{type:"text",errorText:b,disabled:n,value:j,onChange:I,floatingLabelText:s.createElement(a.Trans,{id:"Project name"}),endAdornment:s.createElement(i.a,{onClick:function(){return O(y())}})}),S&&s.createElement(s.Fragment,null,s.createElement(d.c,null),s.createElement(p.a,{fullWidth:!0,value:w,onChange:P,type:"create-game"}))))}},function(e,t,n){"use strict";var r=n(3),a=n(4),o=n(6),i=n(5),s=n(15),c=n(20),l=n.n(c),u=n(19),d=n(115),p=n(136),m=n(158),f=n(192),h=n(117),g=n(16),b=n(156),v=n(124),E=n(127),y=function(e){var t=e.releases,n=e.error,r=e.currentReleaseName,a=function(){return g.b.openExternalURL("https://github.com/4ian/GDevelop/releases")};if(n)return s.createElement(h.a,null,s.createElement(h.b,null,s.createElement(b.a,{kind:"warning"},s.createElement(d.Trans,{id:"Please double check online the changes to make sure that you are aware of anything new in this version that would require you to adapt your project."}))),s.createElement(h.b,null,s.createElement(p.a,null,s.createElement(d.Trans,{id:"Unable to load the information about the latest GDevelop releases. Verify your internet connection or retry later."}))),s.createElement(h.b,{justifyContent:"center"},s.createElement(E.a,{label:s.createElement(d.Trans,{id:"See the releases notes online"}),onClick:a})));if(!t)return s.createElement(m.a,null);var o=function(e,t){return e.find((function(e){return e.name===t}))}(t,r),i=!!o&&-1!==(o.description||"").toLowerCase().indexOf("breaking change");return s.createElement(h.a,null,i&&s.createElement(b.a,{kind:"warning"},"This version of GDevelop has a breaking change. Please make sure to read the changes below to understand if any change or adaptation must be made to your project."),t.map((function(e){return e.name?s.createElement(f.a,{key:e.name,source:"# Version "+e.name+"\n---\n"+(e.description||"Changes and new features description will be available soon."),isStandaloneText:!0}):null})),s.createElement(h.b,{justifyContent:"center"},s.createElement(v.a,{label:s.createElement(d.Trans,{id:"See all the releases notes"}),onClick:a})))},C=n(28);n.d(t,"a",(function(){return j}));var j=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={releases:null,error:null},e._onUpdated=function(){e.props.onUpdated&&e.props.onUpdated()},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){var e=this;l.a.get("".concat(u.h.baseUrl,"/release"),{params:{last:4}}).then((function(e){return e.data})).then((function(t){return e.setState({releases:t,error:null},e._onUpdated)})).catch((function(t){return e.setState({error:t},e._onUpdated)}))}},{key:"render",value:function(){var e=this.state,t=e.releases,n=e.error;return s.createElement(y,{releases:t,error:n,currentReleaseName:Object(C.b)()})}}]),n}(s.Component)},function(e,t,n){"use strict";var r=n(3),a=n(4),o=n(6),i=n(5),s=n(15),c=n.n(s),l=n(26),u=n(115),d=n(117),p=n(136),m=n(158),f=n(125),h=n(129),g=n(2222),b=n(2199),v=n(2114),E=n(2115),y=n(2116),C=n(716),j=n(717),O=n(718),x=n.n(O),k=n(719),T=n.n(k),w={icon:{height:30,width:30,marginRight:5}},S=function(e){switch(e){case"cordova-build":return s.createElement(u.Trans,{id:"Android Build"});case"electron-build":return s.createElement(u.Trans,{id:"Windows/macOS/Linux Build"});case"web-build":return s.createElement(u.Trans,{id:"Web Build"});default:return e}},P=function(e){switch(e){case"cordova-build":return s.createElement(x.a,{style:w.icon});case"electron-build":return s.createElement(T.a,{style:w.icon});case"web-build":default:return s.createElement(j.a,{style:w.icon})}},_=function(e){var t=e.build,n=e.game,r=e.onGameUpdated,a=e.gameUpdating,o=e.setGameUpdating,i=t&&"web-build"!==t.type&&Object(g.a)(Date.now(),t.updatedAt)>6;return s.createElement(v.a,null,s.createElement(E.a,{title:t.id,subheader:s.createElement(d.b,{alignItems:"center",noMargin:!0},P(t.type),s.createElement(u.Trans,{id:"{0} - {1}",values:{0:S(t.type),1:Object(b.a)(t.updatedAt,"yyyy-MM-dd HH:mm:ss")}}))}),s.createElement(y.a,null,s.createElement(d.b,{expand:!0,noMargin:!0,justifyContent:"flex-end"},!i&&s.createElement(C.a,{build:t,game:n,onGameUpdated:r,gameUpdating:a,setGameUpdating:o}),i&&s.createElement(p.a,null,s.createElement(u.Trans,{id:"This build is old and the generated games can't be downloaded anymore."})))))},I=n(223),N=function(e){var t=e.builds,n=e.authenticatedUser,r=e.error,a=e.loadBuilds,o=e.game,i=e.onGameUpdated,c=s.useState(!1),g=Object(l.a)(c,2),b=g[0],v=g[1];return s.createElement(d.a,{noMargin:!0,expand:!0},s.createElement(d.b,null,s.createElement(d.a,null,s.createElement(p.a,null,s.createElement(u.Trans,{id:"This is the list of builds that you've done for this game. Note that builds for mobile and desktop are available for 7 days, after which they are removed."})))),s.createElement(d.b,null,!n.authenticated&&s.createElement(p.a,null,s.createElement(u.Trans,{id:"You need to login first to see your builds."})),n.authenticated&&!t&&!r&&s.createElement(m.a,null),n.authenticated&&r&&s.createElement(I.a,{onRetry:a},s.createElement(f.a,null,r.message)),n.authenticated&&t&&0===t.length&&s.createElement(p.a,null,s.createElement(u.Trans,{id:"You don't have any builds for this game."})),n.authenticated&&t&&0!==t.length&&s.createElement(h.a,{expand:!0},t.map((function(e){return s.createElement(_,{build:e,key:e.id,game:o,onGameUpdated:i,gameUpdating:b,setGameUpdating:v})})))))},A=n(224),R=n(722);n.d(t,"a",(function(){return M}));var M=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={builds:null,error:null},e.buildsWatcher=new R.a,e._startBuildsWatcher=function(){e.state.builds&&e.buildsWatcher.start({authenticatedUser:e.props.authenticatedUser,builds:e.state.builds,onBuildUpdated:function(t){e.state.builds&&e.setState({builds:e.state.builds.map((function(e){return t.id===e.id?t:e}))})}})},e._refreshBuilds=function(){var t=e.props.authenticatedUser,n=t.getAuthorizationHeader,r=t.firebaseUser;if(r){var a=e.props.game.id;e.setState({builds:null,error:null}),Object(A.g)(n,r.uid,a).then((function(t){e.setState({builds:t},(function(){e._startBuildsWatcher(),e.props.onBuildsUpdated&&e.props.onBuildsUpdated()}))}),(function(){e.setState({error:new Error("There was an issue getting the game builds, verify your internet connection or try again later.")})}))}},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){this._refreshBuilds()}},{key:"componentWillUnmount",value:function(){this.buildsWatcher.stop()}},{key:"render",value:function(){return c.a.createElement(N,{builds:this.state.builds,authenticatedUser:this.props.authenticatedUser,error:this.state.error,loadBuilds:this._refreshBuilds,game:this.props.game,onGameUpdated:this.props.onGameUpdated})}}]),n}(s.Component)},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n(26),s=n(115),c=n(15),l=n.n(c),u=n(2117),d=n(2199),p=n(124),m=n(117),f=n(242),h=n(128),g=n(172),b=n(141),v=n(129),E=n(125),y=n(20),C=n.n(y),j=n(19),O=function(){var e=Object(o.a)(a.a.mark((function e(t,n,r,o){var i,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:return i=e.sent,e.next=5,C.a.get("".concat(j.a.baseUrl,"/game-metrics"),{params:{userId:n,gameId:r,dayIsoDate:o},headers:{Authorization:i},validateStatus:function(e){return e>=200&&e<300||404===e}});case 5:if(404!==(s=e.sent).status){e.next=8;break}return e.abrupt("return",null);case 8:return e.abrupt("return",s.data);case 9:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),x=n(183),k=n(223),T=n(154),w=n(155),S=n(2217),P=n(2105),_=n(254),I=n(930),N=n(156),A=n(2008),R=n(127),M=n(16),F=n(142),L=n(158),B=n(724),D=n(406);var U=function(e){var t=e.project,n=e.game,r=e.open,a=e.onClose,o=e.onApply,c=n.authors.map((function(e){return e.id})),u=l.a.useState(n.gameName),d=Object(i.a)(u,2),m=d[0],f=d[1],g=l.a.useState(c),b=Object(i.a)(g,2),v=b[0],E=b[1];if(!r)return null;var y=[l.a.createElement(p.a,{label:l.a.createElement(s.Trans,{id:"Back"}),key:"back",primary:!1,onClick:a}),l.a.createElement(R.a,{label:l.a.createElement(s.Trans,{id:"Save"}),primary:!0,onClick:function(){(function(e,t){var n=function(e){return e},r=t.name,a=t.authorIds;e.setName(r);var o=e.getAuthorIds();return o.clear(),a.forEach((function(e){return o.push_back(e)})),Object(D.a)(n,Object(D.c)(n,e))})(t,{name:m,authorIds:v})&&o()},key:"save"})];return l.a.createElement(h.a,{title:l.a.createElement(s.Trans,{id:"Game info"}),onRequestClose:a,actions:y,cannotBeDismissed:!1,open:r},l.a.createElement(B.a,{name:m,setName:f,project:t,authorIds:v,setAuthorIds:E}))};n.d(t,"a",(function(){return G}));var G=function(e){var t=e.game,n=e.project,r=e.initialTab,l=e.onClose,y=e.onGameUpdated,C=e.onGameDeleted,j=c.useContext(x.a),B=j.getAuthorizationHeader,D=j.profile,G=c.useState(r),V=Object(i.a)(G,2),W=V[0],H=V[1],z=c.useState(null),Y=Object(i.a)(z,2),q=Y[0],X=Y[1],K=c.useState(null),J=Object(i.a)(K,2),Z=J[0],Q=J[1],$=c.useState(!1),ee=Object(i.a)($,2),te=ee[0],ne=ee[1],re=Object(u.a)(Object(A.a)(new Date,1),{representation:"date"}),ae=c.useState(re),oe=Object(i.a)(ae,2),ie=oe[0],se=oe[1],ce=c.useContext(x.a),le=c.useState(null),ue=Object(i.a)(le,2),de=ue[0],pe=ue[1],me=c.useState(null),fe=Object(i.a)(me,2),he=fe[0],ge=fe[1],be=c.useState(!1),ve=Object(i.a)(be,2),Ee=ve[0],ye=ve[1],Ce=c.useCallback(Object(o.a)(a.a.mark((function e(){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D){e.next=2;break}return e.abrupt("return");case 2:return n=D.id,ne(!0),Q(null),e.prev=5,e.next=8,O(B,n,t.id,ie);case 8:r=e.sent,X(r),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(5),console.error("Unable to load game rolling metrics:",e.t0),Q(e.t0);case 16:ne(!1);case 17:case"end":return e.stop()}}),e,null,[[5,12]])}))),[B,D,t,ie]);c.useEffect((function(){Ce()}),[Ce]);var je=c.useCallback(Object(o.a)(a.a.mark((function e(){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ge(null),e.prev=1,e.next=4,Object(f.f)(t.id);case 4:n=e.sent,pe(n),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Unable to load the game:",e.t0),ge(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])}))),[t]);c.useEffect((function(){je()}),[je]);var Oe=function(){var e=Object(o.a)(a.a.mark((function e(){var t,r,o,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&D){e.next=2;break}return e.abrupt("return");case 2:return t=D.id,e.prev=3,pe(null),r=n.getProjectUuid(),e.next=8,Object(f.j)(B,t,r,{authorName:n.getAuthor()||"Unspecified publisher",gameName:n.getName()||"Untitle game"});case 8:return o=e.sent,i=Object(f.b)(n.getAuthorIds()),e.next=12,Object(f.i)(B,t,r,i);case 12:y(o),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),console.error("Unable to update the game:",e.t0);case 18:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(){return e.apply(this,arguments)}}(),xe=function(){var e=Object(o.a)(a.a.mark((function e(){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D){e.next=2;break}return e.abrupt("return");case 2:return n=D.id,e.prev=3,e.next=6,Object(f.a)(B,n,t.id);case 6:C(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.error("Unable to delete the game:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(){return e.apply(this,arguments)}}(),ke=de&&de.authors?de.authors.map((function(e){return e.username})).filter(Boolean):[],Te=!!n&&n.getProjectUuid()===t.id;return c.createElement(h.a,{title:c.createElement("span",null,t.gameName," - ",c.createElement(s.Trans,{id:"Dashboard"})),open:!0,noMargin:!0,onRequestClose:l,maxWidth:"md",actions:[c.createElement(p.a,{label:c.createElement(s.Trans,{id:"Close"}),onClick:l,key:"close"})],secondaryActions:[c.createElement(F.a,{key:"help",helpPagePath:"/interface/games-dashboard"})]},c.createElement(g.b,{value:W,onChange:H},c.createElement(g.a,{label:c.createElement(s.Trans,{id:"Details"}),value:"details"}),c.createElement(g.a,{label:c.createElement(s.Trans,{id:"Builds"}),value:"builds"}),c.createElement(g.a,{label:c.createElement(s.Trans,{id:"Analytics"}),value:"analytics"})),c.createElement(m.b,null,"details"===W?he?c.createElement(k.a,{onRetry:je},c.createElement(s.Trans,{id:"There was an issue getting the game details."})," ",c.createElement(s.Trans,{id:"Verify your internet connection or try again later."})):de?c.createElement(v.a,{expand:!0},!Te&&c.createElement(N.a,{kind:"info"},c.createElement(s.Trans,{id:"In order to update these details you have to open the game's project."})),c.createElement(m.b,{alignItems:"center"},c.createElement(m.b,{expand:!0,justifyContent:"flex-start",alignItems:"center"},ke&&c.createElement(c.Fragment,null,c.createElement(E.a,null,c.createElement(s.Trans,{id:"Authors:"})),c.createElement(m.b,null,ke.map((function(e,t){return c.createElement(c.Fragment,{key:e},c.createElement(m.c,null),c.createElement(S.a,{size:"small",label:e,color:0===t?"primary":"default"}))}))))),c.createElement(m.b,{expand:!0,justifyContent:"flex-end"},c.createElement(E.a,null,c.createElement(s.Trans,{id:"Created on {0}",values:{0:Object(d.a)(1e3*t.createdAt,"yyyy-MM-dd")}})))),c.createElement(b.a,{fullWidth:!0,disabled:!0,value:de.gameName,onChange:function(){},floatingLabelText:c.createElement(s.Trans,{id:"Game name"})}),c.createElement(m.b,{noMargin:!0,justifyContent:"flex-end"},c.createElement(p.a,{onClick:function(){M.b.showConfirmDialog("Are you sure you want to unregister this game? You won't get access to analytics and metrics, unless you register it again.")&&xe()},label:c.createElement(s.Trans,{id:"Unregister this game"})}),c.createElement(m.c,null),c.createElement(R.a,{primary:!0,onClick:function(){return ye(!0)},label:c.createElement(s.Trans,{id:"Edit game details"}),disabled:!Te}))):c.createElement(L.a,null):null,"builds"===W?c.createElement(I.a,{game:t,authenticatedUser:ce,onGameUpdated:y}):null,"analytics"===W?Z?c.createElement(k.a,{onRetry:function(){Ce()}},c.createElement(s.Trans,{id:"There was an issue getting the game analytics."})," ",c.createElement(s.Trans,{id:"Verify your internet connection or try again later."})):c.createElement(v.a,{expand:!0},c.createElement(m.b,{noMargin:!0},c.createElement(T.a,{fullWidth:!0,floatingLabelText:c.createElement(s.Trans,{id:"Day"}),value:ie,onChange:function(e,t,n){se(n)}},Array(5).fill("").map((function(e,t){var n=Object(u.a)(Object(A.a)(new Date,t+2),{representation:"date"});return c.createElement(w.a,{key:n,value:n,primaryText:n})})).reverse(),c.createElement(w.a,{value:re,primaryText:{id:"Yesterday"}}),c.createElement(w.a,{value:Object(u.a)(new Date,{representation:"date"}),primaryText:{id:"Today (so far, in real time)"}}))),te||q?null:c.createElement(N.a,{kind:"warning"},c.createElement(s.Trans,{id:"There were no players or stored metrics for this day. Be sure to publish your game and get players to try it to see the collected anonymous analytics."})),c.createElement(m.b,{noMargin:!0,alignItems:"center"},c.createElement(E.a,{size:"title"},c.createElement(s.Trans,{id:"Main metrics"})),c.createElement(m.c,null),te&&c.createElement(P.a,{size:20})),c.createElement(_.a,null,c.createElement(_.b,null,c.createElement(_.e,null,c.createElement(_.f,null,c.createElement(s.Trans,{id:"Players count"})),c.createElement(_.f,null,q&&q.players?q.players.d0Players:"-")),c.createElement(_.e,null,c.createElement(_.f,null,c.createElement(s.Trans,{id:"Sessions count"})),c.createElement(_.f,null,q&&q.sessions?q.sessions.d0Sessions:"-")),c.createElement(_.e,null,c.createElement(_.f,null,c.createElement(s.Trans,{id:"New players count"})),c.createElement(_.f,null,q&&q.players?q.players.d0NewPlayers:"-")))),!q||q.retention&&q.players?null:c.createElement(N.a,{kind:"info"},"Upgrade your account with a subscription to unlock all the metrics for your game."),c.createElement(m.b,{noMargin:!0,alignItems:"center"},c.createElement(E.a,{size:"title"},c.createElement(s.Trans,{id:"Retention of players"})),c.createElement(m.c,null),te&&c.createElement(P.a,{size:20})),c.createElement(_.a,null,c.createElement(_.b,null,[1,2,3,4,5,6,7].map((function(e){return c.createElement(_.e,{key:e},c.createElement(_.f,null,c.createElement(s.Trans,{id:"Day {dayIndex} retained players",values:{dayIndex:e}})),c.createElement(_.f,null,q&&q.retention&&null!=q.retention["d".concat(e,"RetainedPlayers")]?q.retention["d".concat(e,"RetainedPlayers")]:"-"))}))))):null),de&&n&&c.createElement(U,{open:Ee,project:n,game:de,onApply:function(){ye(!1),Oe()},onClose:function(){return ye(!1)}}))}},,function(e,t,n){"use strict";var r=n(115),a=n(15),o=n(187),i=n(117),s=n(160),c=n(164),l=n(275),u=n(863),d=n(864),p=n(119),m=n(2204),f=n(125),h=n(865),g=n.n(h),b=n(866),v=n.n(b),E=n(867),y=n.n(E),C=n(127),j=n(203),O=n(313),x={previewContainer:{display:"flex",position:"relative",justifyContent:"center",alignItems:"center"},previewImage:{position:"relative",objectFit:"contain",verticalAlign:"middle",pointerEvents:"none"},previewIcon:{width:40,height:40},cardContainer:{overflow:"hidden",position:"relative"},titleContainer:{position:"absolute",bottom:0,left:0,right:0,height:48,color:"#fff",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",backgroundColor:"rgb(0,0,0,0.5)"},title:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},icon:{width:32,height:32},audioElement:{width:128,height:40}},k=function(e){var t=e.resource,n=e.onChoose,r=e.size,o=e.imageStyle;return a.createElement(m.a,{onClick:n,focusRipple:!0},a.createElement("div",{style:Object(p.a)(Object(p.a)({},x.cardContainer),{},{width:r,height:r})},a.createElement("div",{style:Object(p.a)(Object(p.a)({},x.previewContainer),{},{width:r,height:r})},a.createElement(O.a,null),a.createElement(j.a,{key:t.url,style:Object(p.a)(Object(p.a)({},x.previewImage),{},{maxWidth:108,maxHeight:108},o),src:t.url,alt:t.name})),a.createElement("div",{style:x.titleContainer},a.createElement(f.a,{noMargin:!0,style:x.title},t.name),a.createElement(f.a,{noMargin:!0,style:x.title,size:"body2"},t.license))))},T=function(e){var t=e.resource,n=(e.onChoose,e.size),r=e.children;return a.createElement("div",{style:Object(p.a)(Object(p.a)({},x.cardContainer),{},{width:n,height:n})},a.createElement(i.a,null,r),a.createElement("div",{style:x.titleContainer},a.createElement(f.a,{noMargin:!0,style:x.title},t.name),a.createElement(f.a,{noMargin:!0,style:x.title,size:"body2"},t.license)))},w=function(e){var t=e.resource,n=e.onChoose,o=e.size;switch(t.type){case"image":return a.createElement(k,{resource:t,onChoose:n,size:o});case"svg":return a.createElement(k,{resource:t,onChoose:n,size:o,imageStyle:x.previewIcon});case"audio":return a.createElement(T,{onChoose:n,resource:t,size:o},a.createElement(i.b,{justifyContent:"center"},a.createElement("audio",{controls:!0,src:t.url,style:x.audioElement},"Audio preview is unsupported.")),a.createElement(i.b,{justifyContent:"center"},a.createElement(C.a,{onClick:n,label:a.createElement(r.Trans,{id:"Choose"})})));case"json":return a.createElement(T,{onChoose:n,resource:t,size:o},a.createElement(i.b,{justifyContent:"center"},a.createElement(g.a,{style:x.icon})),a.createElement(i.b,{justifyContent:"center"},a.createElement(C.a,{onClick:n,label:a.createElement(r.Trans,{id:"Choose"})})));case"video":return a.createElement(T,{onChoose:n,resource:t,size:o},a.createElement(i.b,{justifyContent:"center"},a.createElement(v.a,{style:x.icon})),a.createElement(i.b,{justifyContent:"center"},a.createElement(C.a,{onClick:n,label:a.createElement(r.Trans,{id:"Choose"})})));case"font":return a.createElement(T,{onChoose:n,resource:t,size:o},a.createElement(i.b,{justifyContent:"center"},a.createElement(y.a,{style:x.icon})),a.createElement(i.b,{justifyContent:"center"},a.createElement(C.a,{onClick:n,label:a.createElement(r.Trans,{id:"Choose"})})));default:return null}},S=n(222),P=n(601);n.d(t,"a",(function(){return I}));var _={searchBar:{flexShrink:0}},I=function(e){var t=e.onChoose,n=e.resourceKind,p=a.useContext(u.a),m=p.filters,f=p.searchResults,h=p.error,g=p.fetchResourcesAndFilters,b=p.filtersState,v=p.searchText,E=p.setSearchText;a.useEffect((function(){g()}),[g]);var y=f?f.filter((function(e){return e.type===n})):null;return a.createElement(i.a,{expand:!0,noMargin:!0,useFullHeight:!0},a.createElement(o.a,{value:v,onChange:E,onRequestSearch:function(){},style:_.searchBar}),a.createElement(i.b,{expand:!0,overflow:"hidden"},a.createElement(s.a,{noFullHeight:!0,noExpand:!0,width:250},a.createElement(c.a,null,a.createElement(S.a,null,a.createElement(r.Trans,{id:"Categories"})),a.createElement(P.a,{allItemsLabel:a.createElement(r.Trans,{id:"All assets"}),allFilters:m,filtersState:b,error:h}),a.createElement(S.a,null,a.createElement(r.Trans,{id:"Filters"})),a.createElement(l.a,{allFilters:m,filtersState:b,error:h}))),a.createElement(d.a,{baseSize:128,onRetry:g,error:h,searchItems:y,renderSearchItem:function(e,n){return a.createElement(w,{size:n,resource:e,onChoose:function(){return t(e)}})}})))}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n(26),s=n(15),c=n(187),l=n(117),u=n(542),d=n(419),p=n(115),m=n(2204),f=n(125),h=n(361),g=n(420),b=n(744),v=n(170),E={button:{width:"100%"},container:{display:"flex",textAlign:"left",overflow:"hidden",padding:8,width:"100%"}},y=function(e){var t=e.project,n=e.extensionShortHeader,r=e.matches,a=e.onChoose,o=e.onHeightComputed,i=t.hasEventsFunctionsExtensionNamed(n.name),c=s.useRef(null);s.useLayoutEffect((function(){c.current&&o(c.current.getBoundingClientRect().height)}));var u=s.useContext(v.a),d=function(e){var t=n[e];if(!r)return t;var a=r.filter((function(t){return t.key===e}));return 0===a.length?t:s.createElement(b.a,{text:t,matchesCoordinates:a[0].indices,styleToApply:u.text.highlighted})};return s.createElement(m.a,{onClick:a,focusRipple:!0,style:E.button},s.createElement("div",{style:E.container,ref:c},s.createElement(l.b,null,s.createElement(h.a,{alt:n.fullName,src:n.previewIconUrl,size:64}),s.createElement(l.a,{expand:!0},s.createElement(f.a,{noMargin:!0},d("fullName")," ",i&&s.createElement(p.Trans,{id:"(already installed)"})),n.authors&&s.createElement(l.b,null,n.authors.map((function(e){return s.createElement(g.a,{user:e,key:e.id})}))),s.createElement(f.a,{noMargin:!0,size:"body2"},d("shortDescription"))))))},C=n(146),j=n(745);n.d(t,"a",(function(){return k}));var O={searchBar:{flexShrink:0}},x=function(e){return e.name},k=function(e){var t=e.isInstalling,n=e.project,r=e.onInstall,p=e.showOnlyWithBehaviors,m=s.useState(null),f=Object(i.a)(m,2),h=f[0],g=f[1],b=s.useContext(u.a),v=b.filters,E=b.searchResults,k=b.error,T=b.fetchExtensionsAndFilters,w=b.filtersState,S=b.searchText,P=b.setSearchText;s.useEffect((function(){T()}),[T]);var _=E?E.filter((function(e){var t=e.item;return!p||t.eventsBasedBehaviorsCount>0})):null,I=s.useMemo((function(){return{add:w.addFilter,remove:w.removeFilter,chosenTags:w.chosenFilters}}),[w]),N=function(e){if(!E)return[];var t=E.find((function(t){return t.item.name===e.name}));return t?t.matches:[]};return s.createElement(s.Fragment,null,s.createElement(C.a,null,(function(e){return s.createElement(l.a,{expand:!0,noMargin:!0,useFullHeight:!0},s.createElement(c.a,{value:S,onChange:P,onRequestSearch:function(){},style:O.searchBar,tagsHandler:I,tags:v&&v.allTags}),s.createElement(d.a,{onRetry:T,error:k,searchItems:_&&_.map((function(e){return e.item})),getSearchItemUniqueId:x,renderSearchItem:function(e,t){return s.createElement(y,{key:e.name,project:n,onHeightComputed:t,extensionShortHeader:e,matches:N(e),onChoose:function(){g(e)}})}}))})),!!h&&s.createElement(j.a,{isInstalling:t,extensionShortHeader:h,alreadyInstalled:n.hasEventsFunctionsExtensionNamed(h.name),onInstall:Object(o.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(h);case 2:e.sent&&g(null);case 4:case"end":return e.stop()}}),e)}))),onClose:function(){return g(null)}}))}},function(e,t,n){"use strict";var r=n(18),a=n(3),o=n(4),i=n(6),s=n(5),c=n(179),l=n(115),u=n(15),d=n.n(u),p=n(205),m=n(160),f=n(187),h=n(119),g=n(151),b=n(135),v=n(153),E=n(163),y={groupName:{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},textField:{top:b.c}},C=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"componentDidUpdate",value:function(e){var t=this;!e.editingName&&this.props.editingName&&setTimeout((function(){t.textField&&t.textField.focus()}),100)}},{key:"render",value:function(){var e=this,t=this.props,n=t.group,r=t.style,a=t.isGlobalGroup,o=n.getName(),i=this.props.editingName?d.a.createElement(b.b,{id:"rename-object-field",margin:"none",ref:function(t){return e.textField=t},defaultValue:o,onBlur:function(t){return e.props.onRename(t.currentTarget.value)},onKeyPress:function(t){Object(E.f)(t)&&e.textField&&e.textField.blur()},fullWidth:!0,style:y.textField}):d.a.createElement("div",{style:Object(h.a)(Object(h.a)({},y.groupName),{},{fontStyle:a?"italic":void 0,fontWeight:a?"bold":"normal"})},o);return d.a.createElement(v.a,null,(function(t){return d.a.createElement(l.I18n,null,(function(a){a.i18n;return d.a.createElement(g.b,{style:Object(h.a)({borderBottom:"1px solid ".concat(t.listItem.separatorColor)},r),primaryText:i,displayMenuButton:!0,buildMenuTemplate:function(t){return[{label:t._({id:"Edit group"}),click:function(){return e.props.onEdit(n)}},{label:t._({id:"Set as Global group"}),enabled:!e.props.isGlobalGroup,click:function(){return e.props.onSetAsGlobalGroup()},visible:!1!==e.props.canSetAsGlobalGroup},{label:t._({id:"Rename"}),enabled:!!e.props.onEdit,click:function(){return e.props.onEditName()}},{label:t._({id:"Delete"}),enabled:!!e.props.onEdit,click:function(){return e.props.onDelete()}}]},onClick:function(){e.props.editingName||e.props.onEdit(n)}})}))}))}}]),n}(d.a.Component),j=n(167),O=n(30),x=n(506),k=n(251),T=n(226),w=n(16);n.d(t,"a",(function(){return A}));var S={listContainer:{flex:1}},P=Object(k.SortableElement)((function(e){var t=e.style,n=Object(c.a)(e,["style"]);return d.a.createElement("div",{style:t},d.a.createElement(C,n))})),_=Object(k.SortableElement)((function(e){var t=e.style,n=Object(c.a)(e,["style"]);return d.a.createElement("div",{style:t},d.a.createElement(x.a,n))})),I=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"forceUpdateGrid",value:function(){this.list&&this.list.forceUpdateGrid()}},{key:"render",value:function(){var e=this,t=this.props,n=t.height,r=t.width,a=t.fullList;return d.a.createElement(p.f,{ref:function(t){return e.list=t},height:n,rowCount:a.length,rowHeight:g.d,rowRenderer:function(t){var n=t.index,r=t.key,o=t.style,i=a[n];if("add-groups-row"===i.key)return d.a.createElement(_,{index:a.length,key:r,style:o,disabled:!0,onClick:e.props.onAddGroup,primaryText:d.a.createElement(l.Trans,{id:"Click to add a group"})});var s=e.props.renamedGroupWithScope&&e.props.renamedGroupWithScope.group===i.group&&e.props.renamedGroupWithScope.global===i.global;return d.a.createElement(P,{index:n,key:i.group.ptr,group:i.group,style:o,onEdit:e.props.onEditGroup?function(){return e.props.onEditGroup(i.group)}:void 0,onEditName:function(){return e.props.onEditName(i)},onDelete:function(){return e.props.onDelete(i)},onRename:function(t){return e.props.onRename(i,t)},editingName:s,isGlobalGroup:i.global,canSetAsGlobalGroup:e.props.canSetAsGlobalGroup,onSetAsGlobalGroup:i.global?void 0:function(){return e.props.onSetAsGlobalGroup(i)}})},width:r})}}]),n}(u.Component),N=Object(k.SortableContainer)(I,{withRef:!0}),A=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).objectGroupsList=[],e.globalObjectGroupsList=[],e.state={renamedGroupWithScope:null,searchText:""},e.addGroup=function(){var t=e.props,n=t.globalObjectGroups,r=t.objectGroups,a=Object(j.a)("Group",(function(e){return r.has(e)||n.has(e)}));r.insertNew(a,r.count()),e._onObjectGroupModified(),e.props.onGroupAdded&&e.props.onGroupAdded()},e._onDelete=function(t){var n=t.group,r=t.global,a=e.props,o=a.globalObjectGroups,i=a.objectGroups;w.b.showConfirmDialog("Are you sure you want to remove this group? This can't be undone.")&&e.props.onDeleteGroup(t,(function(t){t&&(r?o.remove(n.getName()):i.remove(n.getName()),e._onObjectGroupModified(),e.props.onGroupRemoved&&e.props.onGroupRemoved())}))},e._onEditName=function(t){e.setState({renamedGroupWithScope:t},(function(){return e.sortableList.getWrappedInstance().forceUpdateGrid()}))},e._onRename=function(t,n){var r=t.group,a=e.props,o=a.globalObjectGroups,i=a.objectGroups;e.setState({renamedGroupWithScope:null}),r.getName()!==n&&(i.has(n)||o.has(n)?Object(O.c)("Another object with this name already exists",{delayToNextTick:!0}):e.props.canRenameGroup(n)&&e.props.onRenameGroup(t,n,(function(t){t&&(r.setName(n),e._onObjectGroupModified(),e.props.onGroupRenamed&&e.props.onGroupRenamed())})))},e._onMove=function(t,n){var r=e.props,a=r.globalObjectGroups,o=r.objectGroups;if(t<e.objectGroupsList.length)o.move(t,Math.min(n,e.objectGroupsList.length-1));else{var i=t-e.objectGroupsList.length,s=n-e.objectGroupsList.length;a.move(i,Math.min(s,e.globalObjectGroupsList.length-1))}e._onObjectGroupModified(),e.sortableList.getWrappedInstance().forceUpdateGrid()},e._setAsGlobalGroup=function(t){var n=t.group,r=e.props,a=r.globalObjectGroups,o=r.objectGroups,i=n.getName();a.has(i)?Object(O.c)("A global object with this name already exists. Please change the object name before setting it as a global object",{delayToNextTick:!0}):w.b.showConfirmDialog("This group will be loaded and available in all the scenes. This is only recommended for groups that you reuse a lot and can't be undone. Make this group global?")&&(a.insert(n,a.count()),o.remove(i),e._onObjectGroupModified())},e._onObjectGroupModified=function(){e.props.unsavedChanges&&e.props.unsavedChanges.triggerUnsavedChanges(),e.forceUpdate()},e}return Object(o.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return this.state.renamedGroupWithScope!==t.renamedGroupWithScope||this.state.searchText!==t.searchText||(this.props.globalObjectGroups!==e.globalObjectGroups||this.props.objectGroups!==e.objectGroups)}},{key:"render",value:function(){var e=this,t=this.props,n=t.globalObjectGroups,a=t.objectGroups,o=this.state.searchText,i=Object(T.a)(a).map((function(e){return{group:e,global:!1}})),s=Object(T.a)(n).map((function(e){return{group:e,global:!0}}));this.objectGroupsList=Object(T.e)(i,{searchText:o}),this.globalObjectGroupsList=Object(T.e)(s,{searchText:o});var c=Object(T.e)([].concat(Object(r.a)(i),Object(r.a)(s)),{searchText:o}).concat({key:"add-groups-row",object:null}),l=a.ptr+";"+n.ptr;return d.a.createElement(m.a,null,d.a.createElement("div",{style:S.listContainer},d.a.createElement(p.a,null,(function(t){var n=t.height,r=t.width;return d.a.createElement(N,{key:l,ref:function(t){return e.sortableList=t},fullList:c,width:r,height:n,renamedGroupWithScope:e.state.renamedGroupWithScope,onEditGroup:e.props.onEditGroup,onAddGroup:e.addGroup,onEditName:e._onEditName,onDelete:e._onDelete,onRename:e._onRename,canSetAsGlobalGroup:e.props.canSetAsGlobalGroup,onSetAsGlobalGroup:e._setAsGlobalGroup,onSortEnd:function(t){var n=t.oldIndex,r=t.newIndex;return e._onMove(n,r)},helperClass:"sortable-helper",distance:20})}))),d.a.createElement(f.a,{value:o,onRequestSearch:function(){},onChange:function(t){return e.setState({searchText:t})}}))}}]),n}(d.a.Component);A.defaultProps={onDeleteGroup:function(e,t){return t(!0)},onRenameGroup:function(e,t,n){return n(!0)}}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n(26),s=n(15),c=n(725),l=n(119),u=n(115),d=n(2200),p=n(2208),m={chip:{height:25}};function f(e){return s.createElement(u.I18n,null,(function(t){var n=t.i18n;return s.createElement(p.a,{multiple:!0,value:e.value,onChange:e.onChange,inputValue:e.inputValue,onInputChange:e.onInputChange,options:e.dataSource,getOptionLabel:function(e){return e.text},getOptionDisabled:function(t){return!!e.value.find((function(e){return e&&e.value===t.value}))},loading:e.loading,renderInput:function(t){return s.createElement(d.a,Object.assign({},t,{InputProps:Object(l.a)(Object(l.a)({},t.InputProps),{},{placeholder:e.hintText&&n._(e.hintText)}),label:e.floatingLabelText,helperText:e.error||e.helperText,variant:"filled",error:!!e.error,disabled:e.loading}))},fullWidth:e.fullWidth,disabled:e.loading,ChipProps:{style:m.chip}})}))}var h=n(539),g=n(148);n.d(t,"a",(function(){return v}));var b=function(e){if(e)return"Error while loading users"},v=function(e){var t=e.userIds,n=e.onChange,r=e.floatingLabelText,l=e.helperText,u=Object(g.a)(),d=s.useState([]),p=Object(i.a)(d,2),m=p[0],v=p[1],E=Object(s.useState)(""),y=Object(i.a)(E,2),C=y[0],j=y[1],O=Object(s.useState)(!1),x=Object(i.a)(O,2),k=x[0],T=x[1],w=s.useState([]),S=Object(i.a)(w,2),P=S[0],_=S[1],I=s.useState(null),N=Object(i.a)(I,2),A=N[0],R=N[1],M=Object(c.a)(Object(o.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R(null),C){e.next=4;break}return _([]),e.abrupt("return");case 4:return e.prev=4,T(!0),e.next=8,Object(h.d)(C);case 8:t=e.sent,_(t),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),R(e.t0),console.error("Could not load the users: ",e.t0);case 16:return e.prev=16,T(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[4,12,16,19]])}))),500);s.useEffect((function(){M()}),[M,C]);var F=s.useCallback(Object(o.a)(a.a.mark((function e(){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R(null),t.length){e.next=4;break}return v([]),e.abrupt("return");case 4:return e.prev=4,T(!0),e.next=8,Object(h.c)(t);case 8:n=e.sent,v(t.map((function(e){var t=n[e];return{text:t.username||"(no username)",value:t.id}}))),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),R(e.t0),console.error("Could not load the users: ",e.t0);case 16:return e.prev=16,T(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[4,12,16,19]])}))),[t]);return s.useEffect((function(){F()}),[F]),s.createElement(f,{hintText:{id:"Start typing a username"},floatingLabelText:r,helperText:l,value:m,onChange:function(e,t){t&&(v(t),n(t.map((function(e){return e.value}))),u())},inputValue:C,onInputChange:function(e,t){j(t)},dataSource:P.map((function(e){return e.username&&e.id?{text:e.username,value:e.id}:null})).filter(Boolean),loading:k,fullWidth:!0,error:b(A)})}},function(e,t,n){"use strict";var r=n(115),a=n(15),o=n(117),i=n(154),s=n(155),c=n(131),l=n(127),u=n(138),d=n(186),p=n(347),m=n.n(p),f=n(141),h=n(215),g=n(167),b=n(173),v=n.n(b),E=n(273),y=n(209),C=n(193),j=n(192),O=n(148),x=n(143),k=n(567),T=n(164),w=n(142),S=n(125),P=n(405),_=function(e){return a.createElement(P.a,{renderButtons:function(){return a.createElement(w.a,{helpPagePath:"object"===e.target?"/objects/effects":"/interface/scene-editor/layer-effects"})}},a.createElement(S.a,null,a.createElement(r.Trans,{id:"Effects can change how layers or objects are rendered on screen."})),a.createElement(S.a,null,a.createElement(r.Trans,{id:"After adding an effect, set up its parameters. Launch a preview to see the result. Using the events and the name of the effect, you can change the parameters during the game."})))},I=n(245),N=n(183);n.d(t,"a",(function(){return R}));var A=function(e,t){return e.find((function(e){return e.type===t}))};function R(e){var t=e.effectsContainer,n=e.onEffectsUpdated,p=a.useContext(x.a),b=a.useContext(N.a),w=p.values.showEffectParameterNames,S=p.setShowEffectParameterNames,P=a.useMemo((function(){return Object(k.b)(e.project)}),[e.project]),R=Object(O.a)(),M=Object(I.h)(b,I.c,(function(){var e=Object(g.a)("Effect",(function(e){return t.hasEffectNamed(e)}));t.insertNewEffect(e,t.getEffectsCount()),R(),n()}));return a.createElement(r.I18n,null,(function(p){var g=p.i18n;return a.createElement(o.a,{noMargin:!0,expand:!0,useFullHeight:!0},0!==t.getEffectsCount()?a.createElement(T.a,null,t.getEffectsCount()>3&&a.createElement(o.b,null,a.createElement(o.a,null,a.createElement(y.a,{identifier:"too-much-effects",kind:"warning"},a.createElement(r.Trans,{id:"Using a lot of effects can have a severe negative impact on the rendering performance, especially on low-end or mobile devices. Consider using less effects if possible. You can also disable and re-enable effects as needed using events."})))),Object(c.mapFor)(0,t.getEffectsCount(),(function(c){var l=t.getEffectAt(c),p=l.getEffectType(),b=A(P,p);return a.createElement(a.Fragment,{key:c},a.createElement(h.b,null,a.createElement(h.a,{firstChild:!0},a.createElement(r.Trans,{id:"Effect name:"})),a.createElement(f.a,{margin:"none",commitOnBlur:!0,hintText:{id:"Enter the effect name"},value:l.getName(),onChange:function(e){e!==l.getName()&&(l.setName(e),R(),n())},fullWidth:!0}),a.createElement(h.a,null,a.createElement(r.Trans,{id:"Type:"})),a.createElement(i.a,{margin:"none",value:p,onChange:function(e,t,r){return function(e,t){e.setEffectType(t);var r=A(P,t);r&&Object(k.c)(e,r.effectMetadata),R(),n()}(l,r)},fullWidth:!0,hintText:{id:"Choose the effect to apply"}},P.map((function(t){return a.createElement(s.a,{key:t.type,value:t.type,primaryText:t.fullName,disabled:"object"===e.target&&t.isMarkedAsNotWorkingForObjects})}))),a.createElement(d.a,{element:a.createElement(u.a,null,a.createElement(m.a,null)),buildMenuTemplate:function(e){return[{label:e._({id:"Delete"}),click:function(){return e=l.getName(),t.removeEffect(e),R(),void n();var e}},{type:"separator"},{type:"checkbox",label:e._({id:"Show Parameter Names"}),checked:w,click:function(){return S(!w)}}]}})),a.createElement(o.b,{expand:!0,noMargin:!0},a.createElement(o.a,{expand:!0},p&&b?a.createElement(a.Fragment,null,a.createElement(o.b,null,a.createElement(C.a,null,a.createElement(j.a,{source:b.description}))),a.createElement(E.a,{instances:[l],schema:b.parametersSchema,project:e.project,resourceSources:e.resourceSources,onChooseResource:e.onChooseResource,resourceExternalEditors:e.resourceExternalEditors,renderExtraDescriptionText:w?function(e){return g._({id:"Parameter name in events: `{parameterName}`",values:{parameterName:e}})}:void 0})):null)))}))):a.createElement(o.a,{noMargin:!0,expand:!0,justifyContent:"center"},a.createElement(_,{target:e.target})),a.createElement(o.a,null,a.createElement(o.b,{justifyContent:"flex-end",expand:!0},a.createElement(l.a,{primary:!0,label:a.createElement(r.Trans,{id:"Add an effect"}),onClick:M,icon:a.createElement(v.a,null)}))))}))}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},function(e){e.exports=JSON.parse('{"GdevelopColorLightBlue":"#4ab0e4","GdevelopColorBlue":"#2c6bf5","GdevelopColorDarkBlue":"#3c4698","GdevelopColorPurple":"#9100ce","GdevelopColorContrastText":"#fff","GdevelopColorSelection":"#4c92ff","GdevelopFontFamily":"-apple-system, BlinkMacSystemFont, \'Segoe UI\', Roboto, Oxygen-Sans, Ubuntu, \'Helvetica Neue\', Helvetica, sans-serif, \'Apple Color Emoji\', \'Segoe UI Emoji\', \'Segoe UI Symbol\'","ThemePrimaryColor":"#4ab0e4","ThemePrimaryTextContrastColor":"#fff","ThemeSecondaryColor":"#9100ce","ThemeSecondaryTextContrastColor":"#fff","ThemeSurfaceWindowBackgroundColor":"#f7f7f7","ThemeSurfaceCanvasBackgroundColor":"#f0f0f0","ThemeSurfaceAlternateCanvasBackgroundColor":"#ffffff","ThemeSelectionBackgroundColor":"#4c92ff","ThemeSelectionColor":"white","ThemeTextDefaultColor":"#000","ThemeTextSecondaryColor":"#000","ThemeTextDisabledColor":"#888888","ThemeTextContrastColor":"white","ThemeTextHighlightedBackgroundColor":"rgba(102, 174, 223, 0.3)","ThemeMessageWarningColor":"#ffa500","ThemeMessageErrorColor":"#f00","ThemeMessageValidColor":"#00aa00","ThemeMessageEmptyShadowColor":"white","ThemeToolbarSeparatorColor":"#cecece","ThemeClosableTabsDefaultBackgroundColor":"#f0f0f0","ThemeClosableTabsDefaultColor":"#878787","ThemeClosableTabsSelectedBackgroundColor":"#4ab0e4","ThemeClosableTabsSelectedColor":"#ffffff","ThemeListItemGroupTextColor":"rgba(0,0,0,0.54)","ThemeListItemGroupTextDeprecatedColor":"rgba(0,0,0,0.30)","ThemeListItemSeparatorColor":"#e0e0e0","ThemeListItemWarningColor":"#ffb032","ThemeListItemErrorColor":"#ff2e16","ThemeRightIconColor":"#111","ThemePaletteBlack":"#6e2a2a","ThemePaletteWhite":"#fff","ThemeImagePreviewBackgroundFilter":"none","ThemeImagePreviewBorderColor":"#aaaaaa","ThemeImagePreviewFrameBorderColor":"#000000","InputBorderBottomColor":"#BBBBBB","TabsBackgroundColor":"#4ab0e4","EventSheetEventTreeBackgroundColor":"#f0f0f2","EventSheetRstMoveHandleBackgroundColor":"#4ab0e4","EventSheetRstMoveHandleHoverBackgroundColor":"#84d2ff","EventSheetRstLineBackgroundColor":"black","EventSheetRstRowContentsBackgroundColor":"#f0f0f2","EventSheetRstRowContentsColor":"black","EventSheetSelectableBackgroundColor":"rgba(0, 0, 0, 0.1)","EventSheetSelectableBorder":"1px #f0f0f2 solid","EventSheetSelectableSelectedBorder":"1px #4ab0e4 solid","EventSheetConditionsBackgroundColor":"#f1f2f2","EventSheetConditionsBorderColor":"#e2e2e2","EventSheetConditionsBorder":"1px solid #e2e2e2","EventSheetConditionsColor":"black","EventSheetConditionsBorderRightColor":"#e2e2e2","EventSheetConditionsBorderBottomColor":"#e2e2e2","EventSheetEventsHighlightedBackgroundColor":"#f1e0f9","EventSheetEventsHighlightedColor":"#9100ce","EventSheetActionsBackgroundColor":"white","EventSheetActionsColor":"black","EventSheetSubInstructionsBorderColor":"#d3d3d3","EventSheetSubInstructionsBorder":"1px solid #d3d3d3","EventSheetInstructionParameterBaseColor":"rgb(78, 78, 78)","EventSheetInstructionParameterExpressionColor":"rgb(27, 143, 1)","EventSheetInstructionParameterObjectColor":"#3c4698","EventSheetInstructionParameterBehaviorColor":"rgb(119, 119, 119)","EventSheetInstructionParameterOperatorColor":"rgb(55, 131, 211)","EventSheetInstructionParameterVarColor":"rgb(131, 55, 162)","EventSheetInstructionParameterErrorColor":"#bb0000","EventSheetInstructionParameterErrorBackgroundColor":"rgba(243, 0, 12, 0.15)","EventSheetDropIndicatorCanDropBorderTopColor":"black","EventSheetDropIndicatorCannotDropBorderTopColor":"#ff5c5c","EventSheetLinkContainerBackgroundColor":"#f1f2f2","EventSheetLinkContainerColor":"black","EventSheetLinkSelectableLinkColor":"#3c4698","MarkdownBlockquoteBorderLeftColor":"rgba(0, 0, 0, 0.6)","MarkdownLinkColor":"rgb(74, 176, 228)","MosaicTitleColor":"white","MosaicLayoutBorderColor":"#bbbbbb","MosaicLayoutBackgroundColor":"#e0e0e0","MosaicToolbarBackgroundColor":"#9100ce","MosaicToolbarBorderColorHover":"#2b95d6","TableBorderColor":"#e0e0e0","TableTextColor":"black","TableTextColorHeader":"rgb(158, 158, 158)","TableRowOddBackgroundColor":"#fafafa","TableRowEvenBackgroundColor":"white","TableRowSelectedBackgroundColor":"#4c92ff","TableRowSelectedColor":"white"}')},function(e,t,n){},,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(15),a=n(170),o=n(16),i=n(398);function s(e){var t=e.fileMetadata,n=r.useContext(a.a),s=r.useContext(i.b).hasUnsavedChanges;return r.useEffect((function(){var e=["GDevelop 5",t?t.fileIdentifier+(s?" *":""):""].filter(Boolean).join(" - ");o.b.setTitle(e),o.b.setTitleBarColor(n.toolbar.backgroundColor)}),[t,s,n.toolbar.backgroundColor]),null}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e){e.exports=JSON.parse('{"GdevelopColorLightBlue":"#4ab0e4","GdevelopColorBlue":"#2c6bf5","GdevelopColorDarkBlue":"#3c4698","GdevelopColorPurple":"#9100ce","GdevelopColorContrastText":"#fff","GdevelopColorSelection":"#4c92ff","GdevelopFontFamily":"-apple-system, BlinkMacSystemFont, \'Segoe UI\', Roboto, Oxygen-Sans, Ubuntu, \'Helvetica Neue\', Helvetica, sans-serif, \'Apple Color Emoji\', \'Segoe UI Emoji\', \'Segoe UI Symbol\'","ThemePrimaryColor":"#2c6bf5","ThemePrimaryTextContrastColor":"#fff","ThemeSecondaryColor":"#EEE","ThemeSecondaryTextContrastColor":"#000","ThemeSurfaceWindowBackgroundColor":"#252525","ThemeSurfaceCanvasBackgroundColor":"#303030","ThemeSurfaceAlternateCanvasBackgroundColor":"#494949","ThemeSelectionBackgroundColor":"#4c92ff","ThemeSelectionColor":"white","ThemeTextDefaultColor":"#DDD","ThemeTextSecondaryColor":"#CCC","ThemeTextDisabledColor":"#888888","ThemeTextContrastColor":"#fff","ThemeTextHighlightedBackgroundColor":"rgba(255, 255, 255, 0.3)","ThemeMessageWarningColor":"#ffa500","ThemeMessageErrorColor":"#f00","ThemeMessageValidColor":"#00dd00","ThemeMessageEmptyShadowColor":"#000","ThemeToolbarSeparatorColor":"#4d4d4d","ThemeClosableTabsDefaultBackgroundColor":"#303030","ThemeClosableTabsDefaultColor":"#878787","ThemeClosableTabsSelectedBackgroundColor":"#3c4698","ThemeClosableTabsSelectedColor":"#EEE","ThemeListItemGroupTextColor":"#AAA","ThemeListItemGroupTextDeprecatedColor":"#888","ThemeListItemSeparatorColor":"#4d4d4d","ThemeListItemWarningColor":"#ffb032","ThemeListItemErrorColor":"#ff2e16","ThemeRightIconColor":"#fff","ThemePaletteBlack":"rgba(110, 42, 42, 1)","ThemePaletteWhite":"#fff","ThemeImagePreviewBackgroundFilter":"invert(1) invert(20%) sepia(56%) saturate(0%) hue-rotate(214deg) brightness(58%) contrast(91%)","ThemeImagePreviewBorderColor":"#434343","ThemeImagePreviewFrameBorderColor":"#dddddd","InputBorderBottomColor":"#444444","TabsBackgroundColor":"#3c4698","EventSheetEventTreeBackgroundColor":"#303030","EventSheetRstMoveHandleBackgroundColor":"#494949","EventSheetRstMoveHandleHoverBackgroundColor":"#767676","EventSheetRstLineBackgroundColor":"aaa","EventSheetRstRowContentsBackgroundColor":"#303030","EventSheetRstRowContentsColor":"rgb(209, 209, 209)","EventSheetSelectableBackgroundColor":"rgba(0, 0, 0, 0.1)","EventSheetSelectableBorder":"1px #303030 solid","EventSheetSelectableSelectedBorder":"1px #4ab0e4 dashed","EventSheetConditionsBackgroundColor":"#494949","EventSheetConditionsBorderColor":"#494949","EventSheetConditionsBorder":"1px solid #494949","EventSheetConditionsColor":"rgb(209, 209, 209)","EventSheetConditionsBorderRightColor":"#494949","EventSheetConditionsBorderBottomColor":"black","EventSheetEventsHighlightedBackgroundColor":"#084f56","EventSheetEventsHighlightedColor":"#18dcf2","EventSheetActionsBackgroundColor":"303030","EventSheetActionsColor":"rgb(209, 209, 209)","EventSheetSubInstructionsBorderColor":"#303030","EventSheetSubInstructionsBorder":"1px solid #303030","EventSheetInstructionParameterBaseColor":"#93e500","EventSheetInstructionParameterExpressionColor":"#e8dc59","EventSheetInstructionParameterObjectColor":"#b77cff","EventSheetInstructionParameterBehaviorColor":"#ff9200","EventSheetInstructionParameterOperatorColor":"#b77cff","EventSheetInstructionParameterVarColor":"#18dcf2","EventSheetInstructionParameterErrorColor":"#ff0000","EventSheetInstructionParameterErrorBackgroundColor":"rgba(238, 255, 0, 0.05)","EventSheetDropIndicatorCanDropBorderTopColor":"#18dcf2","EventSheetDropIndicatorCannotDropBorderTopColor":"#ff5c5c","EventSheetLinkContainerBackgroundColor":"#505050","EventSheetLinkContainerColor":"rgb(209, 209, 209)","EventSheetLinkSelectableLinkColor":"#b77cff","MarkdownBlockquoteBorderLeftColor":"rgba(221, 221, 221, 0.6)","MarkdownLinkColor":"rgb(221, 221, 221)","MosaicTitleColor":"white","MosaicLayoutBorderColor":"#888888","MosaicLayoutBackgroundColor":"#4d4d4d","MosaicToolbarBackgroundColor":"#3c4698","MosaicToolbarBorderColorHover":"#2b95d6","TableBorderColor":"#303030","TableTextColor":"#DDD","TableTextColorHeader":"rgb(158, 158, 158)","TableRowOddBackgroundColor":"#303030","TableRowEvenBackgroundColor":"#252525","TableRowSelectedBackgroundColor":"#4c92ff","TableRowSelectedColor":"white"}')},function(e,t,n){},function(e){e.exports=JSON.parse('{"GdevelopColorLightBlue":"#4ab0e4","GdevelopColorBlue":"#2c6bf5","GdevelopColorDarkBlue":"#3c4698","GdevelopColorPurple":"#9100ce","GdevelopColorContrastText":"#fff","GdevelopColorSelection":"#4c92ff","GdevelopFontFamily":"-apple-system, BlinkMacSystemFont, \'Segoe UI\', Roboto, Oxygen-Sans, Ubuntu, \'Helvetica Neue\', Helvetica, sans-serif, \'Apple Color Emoji\', \'Segoe UI Emoji\', \'Segoe UI Symbol\'","ThemePrimaryColor":"#88C0D0","ThemePrimaryTextContrastColor":"#fff","ThemeSecondaryColor":"#EEE","ThemeSecondaryTextContrastColor":"#000","ThemeSurfaceWindowBackgroundColor":"#2E3440","ThemeSurfaceCanvasBackgroundColor":"#3B4252","ThemeSurfaceAlternateCanvasBackgroundColor":"#4C566A","ThemeSelectionBackgroundColor":"#88C0D0","ThemeSelectionColor":"white","ThemeTextDefaultColor":"#ECEFF4","ThemeTextSecondaryColor":"#E5E9F0","ThemeTextDisabledColor":"#D8DEE9","ThemeTextContrastColor":"#E5E9F0","ThemeTextHighlightedBackgroundColor":"rgba(255, 255, 255, 0.3)","ThemeMessageWarningColor":"#D08770","ThemeMessageErrorColor":"#BF616A","ThemeMessageValidColor":"#A3BE8C","ThemeMessageEmptyShadowColor":"#000","ThemeToolbarSeparatorColor":"#D8DEE9","ThemeClosableTabsDefaultBackgroundColor":"#3B4252","ThemeClosableTabsDefaultColor":"#ECEFF4","ThemeClosableTabsSelectedBackgroundColor":"#88C0D0","ThemeClosableTabsSelectedColor":"#2E3440","ThemeListItemGroupTextColor":"#ECEFF4","ThemeListItemGroupTextDeprecatedColor":"#D8DEE9","ThemeListItemSeparatorColor":"#4C566A","ThemeListItemWarningColor":"#EBCB8B","ThemeListItemErrorColor":"#BF616A","ThemeRightIconColor":"#fff","ThemePaletteBlack":"rgba(110, 42, 42, 1)","ThemePaletteWhite":"#fff","ThemeImagePreviewBackgroundFilter":"invert(1) invert(28%) sepia(19%) saturate(770%) hue-rotate(183deg) brightness(64%) contrast(87%)","ThemeImagePreviewBorderColor":"#4D5362","ThemeImagePreviewFrameBorderColor":"#ECEFF4","InputBorderBottomColor":"#D8DEE9","TabsBackgroundColor":"#81A1C1","EventSheetEventTreeBackgroundColor":"#2E3440","EventSheetRstMoveHandleBackgroundColor":"#81A1C1","EventSheetRstMoveHandleHoverBackgroundColor":"#88C0D0","EventSheetRstLineBackgroundColor":"#D8DEE9","EventSheetRstRowContentsBackgroundColor":"#2E3440","EventSheetRstRowContentsColor":"#ECEFF4","EventSheetSelectableBackgroundColor":"rgba(0, 0, 0, 0.2)","EventSheetSelectableBorder":"1px #2E3440 solid","EventSheetSelectableSelectedBorder":"1px #88C0D0 solid","EventSheetConditionsBackgroundColor":"#3B4252","EventSheetConditionsBorderColor":"#3B4252","EventSheetConditionsBorder":"1px solid #3B4252","EventSheetConditionsColor":"white","EventSheetConditionsBorderRightColor":"#3B4252","EventSheetConditionsBorderBottomColor":"#2E3440","EventSheetEventsHighlightedBackgroundColor":"#5E5137","EventSheetEventsHighlightedColor":"#EBCB8B","EventSheetActionsBackgroundColor":"#2E3440","EventSheetActionsColor":"white","EventSheetSubInstructionsBorderColor":"#2E3440","EventSheetSubInstructionsBorder":"1px solid #2E3440","EventSheetInstructionParameterBaseColor":"#8FBCBB","EventSheetInstructionParameterExpressionColor":"#A3BE8C","EventSheetInstructionParameterObjectColor":"#5E81AC","EventSheetInstructionParameterBehaviorColor":"rgb(119, 119, 119)","EventSheetInstructionParameterOperatorColor":"#B48EAD","EventSheetInstructionParameterVarColor":"#D08770","EventSheetInstructionParameterErrorColor":"#BF616A","EventSheetInstructionParameterErrorBackgroundColor":"rgba(243, 0, 12, 0.15)","EventSheetDropIndicatorCanDropBorderTopColor":"#4C566A","EventSheetDropIndicatorCannotDropBorderTopColor":"#BF616A","EventSheetLinkContainerBackgroundColor":"#2E3440","EventSheetLinkContainerColor":"white","EventSheetLinkSelectableLinkColor":"#81A1C1","MarkdownBlockquoteBorderLeftColor":"#D8DEE9","MarkdownLinkColor":"#ECEFF4","MosaicTitleColor":"#ECEFF4","MosaicLayoutBorderColor":"#888888","MosaicLayoutBackgroundColor":"#3B4252","MosaicToolbarBackgroundColor":"#81A1C1","MosaicToolbarBorderColorHover":"#88C0D0","TableBorderColor":"#3B4252","TableTextColor":"#ECEFF4","TableTextColorHeader":"#D8DEE9","TableRowOddBackgroundColor":"#3B4252","TableRowEvenBackgroundColor":"#2E3440","TableRowSelectedBackgroundColor":"#88C0D0","TableRowSelectedColor":"#2E3440"}')},function(e,t,n){},function(e){e.exports=JSON.parse('{"GdevelopColorLightBlue":"#4ab0e4","GdevelopColorBlue":"#2c6bf5","GdevelopColorDarkBlue":"#3c4698","GdevelopColorPurple":"#9100ce","GdevelopColorContrastText":"#fff","GdevelopColorSelection":"#4c92ff","GdevelopFontFamily":"-apple-system, BlinkMacSystemFont, \'Segoe UI\', Roboto, Oxygen-Sans, Ubuntu, \'Helvetica Neue\', Helvetica, sans-serif, \'Apple Color Emoji\', \'Segoe UI Emoji\', \'Segoe UI Symbol\'","ThemePrimaryColor":"#047AA6","ThemePrimaryTextContrastColor":"#fff","ThemeSecondaryColor":"#EEE","ThemeSecondaryTextContrastColor":"#000","ThemeSurfaceWindowBackgroundColor":"#00212B","ThemeSurfaceCanvasBackgroundColor":"#002B36","ThemeSurfaceAlternateCanvasBackgroundColor":"#003847","ThemeSelectionBackgroundColor":"#047AA6","ThemeSelectionColor":"white","ThemeTextDefaultColor":"#DDD","ThemeTextSecondaryColor":"#CCC","ThemeTextDisabledColor":"#888888","ThemeTextContrastColor":"#fff","ThemeTextHighlightedBackgroundColor":"rgb(255, 255, 255, 0.3)","ThemeMessageWarningColor":"#ffa500","ThemeMessageErrorColor":"#f00","ThemeMessageValidColor":"#00db00","ThemeMessageEmptyShadowColor":"#000","ThemeToolbarSeparatorColor":"#003847","ThemeClosableTabsDefaultBackgroundColor":"#002B36","ThemeClosableTabsDefaultColor":"#878787","ThemeClosableTabsSelectedBackgroundColor":"#047AA6","ThemeClosableTabsSelectedColor":"#EEE","ThemeListItemGroupTextColor":"#AAA","ThemeListItemGroupTextDeprecatedColor":"#888","ThemeListItemSeparatorColor":"#003847","ThemeListItemWarningColor":"#ffb032","ThemeListItemErrorColor":"#ff2e16","ThemeRightIconColor":"#fff","ThemePaletteBlack":"rgba(110, 42, 42, 1)","ThemePaletteWhite":"#fff","ThemeImagePreviewBackgroundFilter":"invert(100%) invert(13%) sepia(94%) saturate(777%) hue-rotate(154deg) brightness(49%) contrast(90%)","ThemeImagePreviewBorderColor":"#173e48","ThemeImagePreviewFrameBorderColor":"#dcdcdc","InputBorderBottomColor":"#444444","TabsBackgroundColor":"#047AA6","EventSheetEventTreeBackgroundColor":"#00212B","EventSheetRstMoveHandleBackgroundColor":"#2799b9","EventSheetRstMoveHandleHoverBackgroundColor":"rgb(31, 116, 150)","EventSheetRstLineBackgroundColor":"#D8DEE9","EventSheetRstRowContentsBackgroundColor":"#00212B","EventSheetRstRowContentsColor":"rgb(209, 209, 209)","EventSheetSelectableBackgroundColor":"rgba(0, 0, 0, 0.2)","EventSheetSelectableBorder":"1px #00212B solid","EventSheetSelectableSelectedBorder":"1px #00aaff dashed","EventSheetConditionsBackgroundColor":"#002B36","EventSheetConditionsBorderColor":"#002B36","EventSheetConditionsBorder":"1px solid #002B36","EventSheetConditionsColor":"rgb(209, 209, 209)","EventSheetConditionsBorderRightColor":"#00212B","EventSheetConditionsBorderBottomColor":"#002B36","EventSheetEventsHighlightedBackgroundColor":"#3d4d51","EventSheetEventsHighlightedColor":"#859900","EventSheetActionsBackgroundColor":"#00212B","EventSheetActionsColor":"rgb(209, 209, 209)","EventSheetSubInstructionsBorderColor":"#00212B","EventSheetSubInstructionsBorder":"1px solid #00212B","EventSheetInstructionParameterBaseColor":"#219186","EventSheetInstructionParameterExpressionColor":"#859900","EventSheetInstructionParameterObjectColor":"#268BD2","EventSheetInstructionParameterBehaviorColor":"#586e75","EventSheetInstructionParameterOperatorColor":"#D33682","EventSheetInstructionParameterVarColor":"#cb4b16","EventSheetInstructionParameterErrorColor":"#dc322f","EventSheetInstructionParameterErrorBackgroundColor":"rgba(238, 255, 0, 0.05)","EventSheetDropIndicatorCanDropBorderTopColor":"#18dcf2","EventSheetDropIndicatorCannotDropBorderTopColor":"#BF616A","EventSheetLinkContainerBackgroundColor":"#00212B","EventSheetLinkContainerColor":"rgb(155, 155, 155)","EventSheetLinkSelectableLinkColor":"#268BD2","MarkdownBlockquoteBorderLeftColor":"#D8DEE9","MarkdownLinkColor":"#ECEFF4","MosaicTitleColor":"#ECEFF4","MosaicLayoutBorderColor":"rgb(92, 118, 126)","MosaicLayoutBackgroundColor":"#002B36","MosaicToolbarBackgroundColor":"#2799b9","MosaicToolbarBorderColorHover":"rgb(92, 118, 126)","TableBorderColor":"#002B36","TableTextColor":"#ECEFF4","TableTextColorHeader":"rgb(216, 233, 217)","TableRowOddBackgroundColor":"#002B36","TableRowEvenBackgroundColor":"#00212B","TableRowSelectedBackgroundColor":"#047AA6","TableRowSelectedColor":"#002B36"}')},function(e,t,n){},function(e){e.exports=JSON.parse('{"GdevelopColorLightBlue":"#4ab0e4","GdevelopColorBlue":"#2c6bf5","GdevelopColorDarkBlue":"#3c4698","GdevelopColorPurple":"#9100ce","GdevelopColorContrastText":"#fff","GdevelopColorSelection":"#4c92ff","GdevelopFontFamily":"-apple-system, BlinkMacSystemFont, \'Segoe UI\', Roboto, Oxygen-Sans, Ubuntu, \'Helvetica Neue\', Helvetica, sans-serif, \'Apple Color Emoji\', \'Segoe UI Emoji\', \'Segoe UI Symbol\'","ThemePrimaryColor":"#61AFEF","ThemePrimaryTextContrastColor":"#FFFFFF","ThemeSecondaryColor":"#D6DEEC","ThemeSecondaryTextContrastColor":"#282C34","ThemeSurfaceWindowBackgroundColor":"#21252B","ThemeSurfaceCanvasEventsHighlightedBackgroundColor":"#5b4c31","ThemeSurfaceCanvasEventsHighlightedColor":"#E5C07B","ThemeSurfaceCanvasBackgroundColor":"#282C34","ThemeSurfaceAlternateCanvasBackgroundColor":"#3E4452","ThemeSelectionBackgroundColor":"#3E4452","ThemeSelectionColor":"#D6DEEC","ThemeTextDefaultColor":"#D6DEEC","ThemeTextSecondaryColor":"#ABB2BF","ThemeTextDisabledColor":"#9AA1AD","ThemeTextContrastColor":"#D6DEEC","ThemeTextHighlightedBackgroundColor":"rgb(214, 222, 236, 0.3)","ThemeMessageWarningColor":"#E5C07B","ThemeMessageErrorColor":"#E06C75","ThemeMessageValidColor":"#98C379","ThemeMessageEmptyShadowColor":"transparent","ThemeToolbarSeparatorColor":"#3E4452","ThemeClosableTabsDefaultBackgroundColor":"#21252B","ThemeClosableTabsDefaultColor":"#D6DEEC","ThemeClosableTabsSelectedBackgroundColor":"#4C5361","ThemeClosableTabsSelectedColor":"#D6DEEC","ThemeListItemGroupTextColor":"#ABB2BF","ThemeListItemGroupTextDeprecatedColor":"#9AA1AD","ThemeListItemSeparatorColor":"#3E4452","ThemeListItemWarningColor":"#E5C07B","ThemeListItemErrorColor":"#E06C75","ThemeRightIconColor":"#FFFFFF","ThemePaletteBlack":"#6E2A2A","ThemePaletteWhite":"#D6DEEC","ThemeImagePreviewBackgroundFilter":"invert(100%) invert(19%) sepia(26%) saturate(365%) hue-rotate(168deg) brightness(55%) contrast(92%)","ThemeImagePreviewBorderColor":"#3B3F46","ThemeImagePreviewFrameBorderColor":"#D6DEEC","InputBorderBottomColor":"#D6DEEC","TabsBackgroundColor":"#4C5361","EventSheetEventTreeBackgroundColor":"#282C34","EventSheetRstMoveHandleBackgroundColor":"#3E4452","EventSheetRstMoveHandleHoverBackgroundColor":"#6C7D96","EventSheetRstLineBackgroundColor":"#ABB2BF","EventSheetRstRowContentsBackgroundColor":"#282C34","EventSheetRstRowContentsColor":"#D6DEEC","EventSheetSelectableBackgroundColor":"rgba(0, 0, 0, 0.1)","EventSheetSelectableBorder":"1px #282C34 solid","EventSheetSelectableSelectedBorder":"1px #4AB0E4 dashed","EventSheetConditionsBackgroundColor":"#3E4452","EventSheetConditionsBorderColor":"#3E4452","EventSheetConditionsBorder":"1px #3E4452 solid","EventSheetConditionsColor":"rgb(209, 209, 209)","EventSheetConditionsBorderRightColor":"#494949","EventSheetConditionsBorderBottomColor":"black","EventSheetEventsHighlightedBackgroundColor":"#3d4d51","EventSheetEventsHighlightedColor":"#E5C07B","EventSheetActionsBackgroundColor":"#282C34","EventSheetActionsColor":"#D6DEEC","EventSheetSubInstructionsBorderColor":"#282C34","EventSheetSubInstructionsBorder":"1px #282C34 solid","EventSheetInstructionParameterBaseColor":"#98C379","EventSheetInstructionParameterExpressionColor":"#E5C07B","EventSheetInstructionParameterObjectColor":"#C678DD","EventSheetInstructionParameterBehaviorColor":"#E09563","EventSheetInstructionParameterOperatorColor":"#B77CFF","EventSheetInstructionParameterVarColor":"#56B6C2","EventSheetInstructionParameterErrorColor":"#E06C75","EventSheetInstructionParameterErrorBackgroundColor":"#E06C7544","EventSheetDropIndicatorCanDropBorderTopColor":"#61AFEF","EventSheetDropIndicatorCannotDropBorderTopColor":"#E06C75","EventSheetLinkContainerBackgroundColor":"#3E4452","EventSheetLinkContainerColor":"#D6DEEC","EventSheetLinkSelectableLinkColor":"#C678DD","MarkdownBlockquoteBorderLeftColor":"rgba(221, 221, 221, 0.6)","MarkdownLinkColor":"rgb(221, 221, 221)","MosaicTitleColor":"#FFFFFF","MosaicLayoutBorderColor":"#3E4452","MosaicLayoutBackgroundColor":"#21252B","MosaicToolbarBackgroundColor":"#4C5361","MosaicToolbarColor":"#D6DEEC","MosaicToolbarBorderColorHover":"#D6DEEC","TableBorderColor":"#282C34","TableTextColor":"#ABB2BF","TableTextColorHeader":"#D6DEEC","TableRowOddBackgroundColor":"#282C34","TableRowEvenBackgroundColor":"#21252B","TableRowSelectedBackgroundColor":"#3E4452","TableRowSelectedColor":"#D6DEEC"}')},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n.n(c),u=n(151),d=n(128),p=n(124),m=n(172),f=n(117),h=n(16),g=n(125),b=n(143),v=n(675),E=n(929),y=n(28),C={logo:{width:"100%"}},j=[{name:"Cl\xe9ment Pasteau",description:"Core development team",link:"https://github.com/ClementPasteau"},{name:"AlexandreSi",description:"Core development team",link:"https://github.com/AlexandreSi"},{name:"Victor Levasseur",description:"Numerous code contributions to GDevelop and community moderation"},{name:"Lizard-13",description:"Numerous code contributions to GDevelop and community moderation"},{name:"Christina 'Castpixel' Antoinette Neofotistou",description:"Art and assets for the 8-bit Space Shooter example.",link:"https://www.patreon.com/castpixel"},{name:"ale26reg",description:"Contributions to GDevelop"},{name:"dos1",description:"Contributions to GDevelop"},{name:"Aur\xe9lien Vivet",description:"Numerous code contributions to GDevelop and community management",link:"https://www.witly.fr"},{name:"Todor Imreorov",description:"Numerous code contributions to GDevelop"},{name:"brylie",description:"Contributions to GDevelop"},{name:"Nnarol",description:"Contributions to GDevelop"},{name:"wild-master",description:"Contributions to GDevelop"},{name:"RandomShaper",description:"Contributions to GDevelop"},{name:"RyanNerd",description:"Contributions to GDevelop"},{name:"greater",description:"Contributions to GDevelop"},{name:"triptych",description:"Contributions to GDevelop"},{name:"Wend1go",description:"Contributions to GDevelop, Tutorials, Examples"},{name:"mattiascibien",description:"Contributions to GDevelop"},{name:"araujo921",description:"Contributions to GDevelop"},{name:"ronnystandtke",description:"Contributions to GDevelop"},{name:"Thomas Flecy",description:"Contributions to GDevelop (original sound object extension)"},{name:"Arthur Pacaud (arthuro555)",description:"Numerous code contributions to GDevelop and community moderation",link:"https://forum.gdevelop-app.com/u/arthuro555/summary"},{name:"The Gem Dev",description:"Code contributions to GDevelop and tutorials on Youtube",link:"https://www.youtube.com/channel/UCsZ4Ue8c94YLJDbGRafCI5Q"},{name:"D8H",description:"Numerous code contributions to GDevelop",link:"https://github.com/D8H"},{name:"Harsimran Singh Virk",description:"Numerous code contributions to GDevelop",link:"https://github.com/HarsimranVirk"},{name:"Nilay Majorwar",description:"Numerous code contributions to GDevelop",link:"https://github.com/nilaymaj"},{name:"ddabrahim",description:"Examples for GDevelop",link:"https://gametemplates.itch.io/"},{name:"Gametemplates",description:"Examples bundled with GDevelop",link:"https://gametemplates.itch.io/"},{name:"Mats",description:"Tutorials, Examples"},{name:"erdo",description:"Tutorials, Examples"},{name:"Jubileuksen3",description:"Tutorials, Examples"},{name:"LucaTexas",description:"Tutorials, Examples"},{name:"Kink",description:"Forum moderator, tutorials, Examples"},{name:"RicoTrooper",description:"Tutorials"},{name:"kalel",description:"Tutorials"},{name:"mtarzaim",description:"Tutorials"},{name:"Darkhog",description:"Examples"},{name:"Ricardo Graca",description:"Tutorials, Examples"},{name:"Diego Schiavon",description:"Indiegogo Ubuntu contributor"},{name:"conceptgame",description:"Indiegogo super contributor"},{name:"Jose David Cuartas Correa",description:"Author of Digitopolis (a book on how to make games with GDevelop 4)"},{name:"Fran\xe7ois Dumortier",description:"GDevelop logo design",link:"http://www.fdumortier.com"},{name:"Constantine Shvetsov",description:"Design of all the awesome icons"},{name:"MillionthVector",description:"Assets of various examples"},{name:"Tristan Rhodes (Victris Games)",description:"High quality extensions for GDevelop",link:"https://www.youtube.com/channel/UClbq1M-D83t_bYhfa1mfyEQ"},{name:"Entropy",description:"High quality extensions and art packs for GDevelop",link:"https://github.com/Entr0py404"},{name:"FlokiTV",description:"High quality extensions for GDevelop",link:"https://github.com/FlokiTV"},{name:"Silver-Streak",description:"Examples, bug reports, testing of new features, providing community support to users, community moderation",link:"https://github.com/Silver-Streak"},{name:"Jurfix",description:"Discord moderation",link:"https://github.com/Jurfix"},{name:"Wishforge Games",description:"Making high quality tutorials",link:"https://www.wishforge.games/"},{name:"Sleeper Games",description:"Making the game feel starter",link:"https://twitter.com/Sleeper_Games"},{name:"VegeTato",description:"Extensions for GDevelop"},{name:"Leo Red",description:"Reviewing examples submissions",link:"https://github.com/Midhil457"},{name:"add_",description:"Extensions for GDevelop",link:"https://github.com/add00"},{name:"HelperWesley",description:"Examples and youtube content that is relevant to GDevelop",link:"https://www.youtube.com/channel/UC8RsU74-hU1pfNKHNMfiFfw"},{name:"UlisesFreitas",description:"Numerous examples and making external services that integrate with GDevelop games",link:"https://ulisesfreitas.itch.io/"},{name:"IttaloXD",description:"The GDevelop embassador in Brazil",link:"https://twitter.com/ittaloxd"},{name:"PANDAKO",description:"Translations in Japanese, extensions and blog",link:"https://gdevelop-jp.blogspot.com"}],O=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={currentTab:"about"},e._openContributePage=function(){h.b.openExternalURL("https://gdevelop-app.com/contribute/")},e._openLink=function(e){e&&h.b.openExternalURL(e)},e._changeTab=function(t){e.setState({currentTab:t})},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.open,r=t.onClose,a=t.updateStatus,o=this.state.currentTab;if(!n)return null;var i=Object(v.e)(a.status),c=Object(v.b)(a.status);return l.a.createElement(d.a,{actions:[l.a.createElement(p.a,{key:"website",label:l.a.createElement(s.Trans,{id:"GDevelop Website"}),primary:!1,onClick:function(){return h.b.openExternalURL("http://gdevelop-app.com")}}),l.a.createElement(p.a,{key:"close",label:l.a.createElement(s.Trans,{id:"Close"}),primary:!1,onClick:r})],onRequestClose:r,cannotBeDismissed:!1,open:n,maxWidth:"sm",noMargin:!0},l.a.createElement(b.a.Consumer,null,(function(t){t.values;var n=t.checkUpdates;return l.a.createElement(f.a,{noMargin:!0},l.a.createElement("img",{src:"res/GD-logo.png",alt:"GDevelop logo",style:C.logo}),l.a.createElement(m.b,{value:o,onChange:e._changeTab},l.a.createElement(m.a,{label:l.a.createElement(s.Trans,{id:"About GDevelop"}),value:"about"}),l.a.createElement(m.a,{label:l.a.createElement(s.Trans,{id:"What's new?"}),value:"changelog"}),l.a.createElement(m.a,{label:l.a.createElement(s.Trans,{id:"Contributors"}),value:"contributors"})),"about"===o&&l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,null,l.a.createElement(f.b,null,l.a.createElement(g.a,null,l.a.createElement(s.Trans,{id:"GDevelop {0} based on GDevelop.js {1}",values:{0:Object(y.b)(),1:Object(y.a)()}}))),l.a.createElement(f.b,null,l.a.createElement(g.a,null,i)),l.a.createElement(f.b,{justifyContent:"center"},!!i&&l.a.createElement(p.a,{label:c,onClick:function(){return n(Object(v.a)(a.status))}})))),"changelog"===o&&l.a.createElement(f.a,null,l.a.createElement(E.a,null)),"contributors"===o&&l.a.createElement(l.a.Fragment,null,l.a.createElement(f.a,null,l.a.createElement(g.a,null,l.a.createElement(s.Trans,{id:'GDevelop was created by Florian "4ian" Rival.'})),l.a.createElement(g.a,null,l.a.createElement(s.Trans,{id:"Contributors, in no particular order:"}))),l.a.createElement(u.a,null,j.map((function(t){return l.a.createElement(u.b,{key:t.name,primaryText:t.name,secondaryText:t.description,secondaryTextLines:t.description.length<30?1:2,displayLinkButton:!!t.link,onOpenLink:function(){return e._openLink(t.link||"")}})}))),l.a.createElement(f.a,{expand:!0},l.a.createElement(g.a,null,l.a.createElement(s.Trans,{id:"Thanks to all users of GDevelop! There must be missing tons of people, please send your name if you've contributed and you're not listed."})),l.a.createElement(f.b,{alignItems:"center",justifyContent:"center"},l.a.createElement(p.a,{label:l.a.createElement(s.Trans,{id:"Contribute to GDevelop"}),onClick:e._openContributePage})))))})))}}]),n}(c.PureComponent)},,,,,,,function(e,t,n){"use strict";(function(e){var r=n(119),a=n(115),o=n(15),i=n(510),s=n(402),c=n(141),l=n(212),u=n(175),d=n(681),p=n.n(d),m=n(1119),f=n.n(m),h=n(1118),g=n.n(h),b=n(138),v=n(680),E=n.n(v),y=n(1116),C=n(1117),j=n(125),O=n(186),x=n(193),k=e.gd,T=o.memo((function(e){var t=e.width;return o.createElement("div",{style:Object(r.a)(Object(r.a)({},y.a.indent),{},{width:t})},o.createElement(g.a,{htmlColor:y.a.indentIconColor}))}));t.a=function(e){var t=e.name,n=e.variable,r=e.depth,d=e.errorText,m=e.onChangeType,h=e.commitVariableValueOnBlur,g=(e.onRemove,e.onAddChild),v=e.onChangeName,w=e.onChangeValue,S=e.onResetToDefaultValue,P=e.children,_=e.showHandle,I=e.showSelectionCheckbox,N=e.isSelected,A=e.onSelect,R=e.origin,M=e.arrayElement,F=e.undefinedVariableNames,L=n.getType(),B=!k.Variable.isPrimitive(L),D=""+r+t,U="parent"===R||"inherited"===R,G=[o.createElement(i.a,{key:"name",expand:!0},r>0&&o.createElement(T,{width:(r+1)*y.a.tableChildIndentation}),0===r&&_&&o.createElement(s.a,null),I&&!U&&o.createElement(u.a,{checked:N,onCheck:function(e,t){return A(t)}}),M?o.createElement(j.a,{noMargin:!0},t):o.createElement(l.a,{margin:"none",style:{fontStyle:"inherited"!==R?"normal":"italic"},fullWidth:!0,errorText:d,disabled:"parent"===R,value:t,onChange:v,dataSource:F?F.map((function(e){return{text:e,value:e}})):[],openOnFocus:!0}))];return B?G.push(o.createElement(i.a,{expand:!0,key:"value",style:U?y.a.fadedButton:void 0},o.createElement(x.a,null,L===k.Variable.Structure?o.createElement(a.Trans,{id:"Structure"}):o.createElement(a.Trans,{id:"Array"})))):L!==k.Variable.Boolean?G.push(o.createElement(i.a,{key:"value",expand:!0},o.createElement(c.a,{margin:"none",type:L===k.Variable.String?"text":"number",commitOnBlur:h,fullWidth:!0,name:D+"value",value:L===k.Variable.String?n.getString():""+n.getValue(),onChange:function(e){(L===k.Variable.String?n.getString()!==e:n.getValue()!==e)&&w(e)},disabled:"parent"===R&&0!==r,multiline:L===k.Variable.String,inputStyle:L===k.Variable.String?y.a.noPaddingMultilineTextField:void 0}))):G.push(o.createElement(i.a,{key:"value",expand:!0},o.createElement(C.a,{value:n.getBool(),onChange:function(e){w(e?"true":"false")},disabled:"parent"===R&&0!==r}))),G.push(o.createElement(i.a,{key:"tools",style:y.a.toolColumn},"inherited"===R&&0===r?o.createElement(b.a,{size:"small",onClick:S,style:B?void 0:y.a.fadedButton,tooltip:{id:"Reset"}},o.createElement(E.a,null)):"parent"!==R&&o.createElement(o.Fragment,null,B?o.createElement(b.a,{size:"small",tooltip:{id:"Add child variable"},onClick:function(){return g()}},o.createElement(p.a,null)):o.createElement(b.a,{size:"small",style:y.a.fadedButton,tooltip:{id:"Convert the variable to a collection before adding children"}},o.createElement(p.a,null)),o.createElement(O.a,{element:o.createElement(b.a,{size:"small",tooltip:{id:"Change variable type"}},o.createElement(f.a,null)),buildMenuTemplate:function(e){return[{label:"Primitive types",submenu:[{visible:L!==k.Variable.String,label:e._({id:"Convert to string"}),click:function(){return m("string")}},{visible:L!==k.Variable.Number,label:e._({id:"Convert to number"}),click:function(){return m("number")}},{visible:L!==k.Variable.Boolean,label:e._({id:"Convert to boolean"}),click:function(){return m("boolean")}}]},{label:"Collection types",submenu:[{visible:L!==k.Variable.Structure,label:e._({id:"Convert to structure"}),click:function(){return m("structure")}},{visible:L!==k.Variable.Array,label:e._({id:"Convert to array"}),click:function(){return m("array")}}]}]}})))),o.createElement(o.Fragment,null,o.createElement(i.b,null,G),P)}}).call(this,n(8))},,function(e,t,n){"use strict";t.a={toolColumnHeader:{textAlign:"left",paddingRight:4},toolColumn:{minWidth:48,flex:0,justifyContent:"flex-end"},tableChildIndentation:18,indent:{display:"flex",alignItems:"center",justifyContent:"flex-end",flexShrink:0},indentIconColor:"#DDD",fadedButton:{opacity:.7},noPaddingMultilineTextField:{padding:0}}},function(e,t,n){"use strict";var r=n(115),a=n(15),o=n.n(a),i=n(127),s=n(117),c={margin:5};t.a=function(e){var t=e.value,n=e.onChange,a=e.disabled;return o.a.createElement(s.b,null,o.a.createElement(s.a,{noMargin:!0},o.a.createElement(i.a,{style:c,label:o.a.createElement(r.Trans,{id:"True"}),primary:t&&!a,onClick:function(){t||a||n(!0)}})),o.a.createElement(s.a,{noMargin:!0},o.a.createElement(i.a,{style:c,label:o.a.createElement(r.Trans,{id:"False"}),primary:!t&&!a,onClick:function(){t&&!a&&n(!1)}})))}},,,function(e,t,n){"use strict";var r=n(115),a=n(15),o=n.n(a),i=n(173),s=n.n(i),c=n(138),l=n(682),u=n(683),d=n(221),p=n.n(d),m=n(117),f=n(127);t.a=function(e){var t=e.onAdd,n=e.onCopy,a=e.hasSelection,i=e.onPaste,d=e.hasClipboard,h=e.onDeleteSelection;return o.a.createElement(m.b,{justifyContent:"space-between",alignItems:"center"},o.a.createElement(m.a,null,o.a.createElement(m.b,{noMargin:!0},o.a.createElement(c.a,{size:"small",onClick:n,disabled:!a},o.a.createElement(l.a,null)),o.a.createElement(c.a,{size:"small",onClick:i,disabled:!d},o.a.createElement(u.a,null)),o.a.createElement(c.a,{size:"small",onClick:h,disabled:!a},o.a.createElement(p.a,null)))),o.a.createElement(m.a,null,o.a.createElement(f.a,{primary:!0,label:o.a.createElement(r.Trans,{id:"Add"}),onClick:t,icon:o.a.createElement(s.a,null)})))}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"d",(function(){return l}));var r=n(119),a=n(353),o=n.n(a),i=function(){return{}},s=function(e){return o()(e).filter((function(e){return!!e}))},c=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return Object(r.a)(Object(r.a)({},e),{},{[t.ptr]:n?t:null})},l=function(e){return!!o()(e).filter((function(e){return!!e})).length}},,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r="Variables"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){return 0===e.getPointer(t)}},,,,,,,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return w}));var r=n(18),a=n(3),o=n(4),i=n(6),s=n(5),c=n(115),l=n(15),u=n(124),d=n(127),p=n(128),m=n(117),f=n(144),h=n(380),g=n(1323),b=n(30),v=n(17),E=n.n(v),y=n(125),C=n(129),j=E()("path"),O=e.gd,x=[512],k=[192,144,96,72,48,36],T=[1024,180,167,152,144,120,114,100,87,80,76,72,60,58,57,50,40,29,20],w=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(e){var o;return Object(a.a)(this,n),(o=t.call(this,e))._generateFromFile=function(){var e=o.props,t=e.project,n=e.resourceSources,a=e.onChooseResource,i=n.filter((function(e){return"image"===e.kind}));i.length&&a({initialSourceName:i[0].name,multiSelection:!1,resourceKind:"image"}).then((function(e){if(e.length&&j){var n=t.getResourcesManager(),a=j.dirname(t.getProjectFile()),i=j.resolve(a,e[0].getFile());e.forEach((function(e){return e.delete()})),Promise.all([].concat(Object(r.a)(x.map((function(e){return Object(g.b)(i,j.join(a,"desktop-icon-".concat(e,".png")),{width:e,height:e})}))),Object(r.a)(k.map((function(e){return Object(g.b)(i,j.join(a,"android-icon-".concat(e,".png")),{width:e,height:e})}))),Object(r.a)(T.map((function(e){return Object(g.b)(i,j.join(a,"ios-icon-".concat(e,".png")),{width:e,height:e})}))))).then((function(e){if(-1===e.indexOf(!1)){var a=[].concat(Object(r.a)(x.map((function(e){return"desktop-icon-".concat(e,".png")}))),Object(r.a)(k.map((function(e){return"android-icon-".concat(e,".png")}))),Object(r.a)(T.map((function(e){return"ios-icon-".concat(e,".png")}))));a.forEach((function(e){if(n.hasResource(e))n.getResource(e).setFile(e);else{var t=new O.ImageResource;t.setFile(e),t.setName(e),n.addResource(t),t.delete()}})),f.a.burstUrlsCacheForResources(t,a),setTimeout((function(){o.setState({desktopIconResourceNames:x.map((function(e){return"desktop-icon-".concat(e,".png")})),androidIconResourceNames:k.map((function(e){return"android-icon-".concat(e,".png")})),iosIconResourceNames:T.map((function(e){return"ios-icon-".concat(e,".png")}))})}),200)}else Object(b.a)({message:"Some icons could not be generated!",rawError:void 0,errorId:"icon-generation-error",doNotReport:!0})}))}}))},o.onApply=function(){var e=o.props.project,t=o.state,n=t.desktopIconResourceNames,r=t.androidIconResourceNames,a=t.iosIconResourceNames;x.forEach((function(t,r){e.getPlatformSpecificAssets().set("desktop","icon-".concat(t),n[r])})),k.forEach((function(t,n){e.getPlatformSpecificAssets().set("android","icon-".concat(t),r[n])})),T.forEach((function(t,n){e.getPlatformSpecificAssets().set("ios","icon-".concat(t),a[n])})),o.props.onApply()},o.state=o._loadFrom(e.project),o}return Object(o.a)(n,[{key:"_loadFrom",value:function(e){return{desktopIconResourceNames:x.map((function(t){return e.getPlatformSpecificAssets().get("desktop","icon-".concat(t))})),androidIconResourceNames:k.map((function(t){return e.getPlatformSpecificAssets().get("android","icon-".concat(t))})),iosIconResourceNames:T.map((function(t){return e.getPlatformSpecificAssets().get("ios","icon-".concat(t))}))}}},{key:"componentWillReceiveProps",value:function(e){(!this.props.open&&e.open||e.open&&this.props.project!==e.project)&&this.setState(this._loadFrom(e.project))}},{key:"render",value:function(){var e=this,t=[l.createElement(u.a,{key:"cancel",label:l.createElement(c.Trans,{id:"Cancel"}),primary:!1,onClick:this.props.onClose}),l.createElement(u.a,{key:"apply",label:l.createElement(c.Trans,{id:"Apply"}),primary:!0,keyboardFocused:!0,onClick:this.onApply})],n=this.props,a=n.project,o=n.resourceSources,i=n.onChooseResource,s=n.resourceExternalEditors,f=this.state,b=f.desktopIconResourceNames,v=f.androidIconResourceNames,E=f.iosIconResourceNames;return l.createElement(p.a,{onApply:this.onApply,title:l.createElement(c.Trans,{id:"Project icons"}),actions:t,open:this.props.open,cannotBeDismissed:!0,onRequestClose:this.props.onClose},l.createElement(C.a,{noMargin:!0},l.createElement(m.b,{justifyContent:"center"},Object(g.a)()?l.createElement(d.a,{primary:!0,label:l.createElement(c.Trans,{id:"Generate icons from a file"}),onClick:this._generateFromFile}):l.createElement(y.a,null,l.createElement(c.Trans,{id:"Download GDevelop desktop version to generate the Android and iOS icons of your game."}))),l.createElement(y.a,null,l.createElement(c.Trans,{id:"Desktop (Windows, macOS and Linux) icon:"})),x.map((function(t,n){return l.createElement(h.a,{key:t,floatingLabelText:"Desktop icon (".concat(t,"x").concat(t," px)"),project:a,resourceSources:o,onChooseResource:i,resourceExternalEditors:s,resourceKind:"image",resourceName:b[n],onChange:function(t){var a=Object(r.a)(b);a[n]=t,e.setState({desktopIconResourceNames:a})}})})),l.createElement(y.a,null,l.createElement(c.Trans,{id:"Android icons:"})),k.map((function(t,n){return l.createElement(h.a,{key:t,floatingLabelText:"Android icon (".concat(t,"x").concat(t," px)"),project:a,resourceSources:o,onChooseResource:i,resourceExternalEditors:s,resourceKind:"image",resourceName:v[n],onChange:function(t){var a=Object(r.a)(v);a[n]=t,e.setState({androidIconResourceNames:a})}})})),l.createElement(y.a,null,l.createElement(c.Trans,{id:"iOS (iPhone and iPad) icons:"})),T.map((function(t,n){return l.createElement(h.a,{key:t,floatingLabelText:"iOS icon (".concat(t,"x").concat(t," px)"),project:a,resourceSources:o,onChooseResource:i,resourceKind:"image",resourceName:E[n],resourceExternalEditors:s,onChange:function(t){var a=Object(r.a)(E);a[n]=t,e.setState({iosIconResourceNames:a})}})}))))}}]),n}(l.Component)}).call(this,n(8))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n(550),a=Object(r.a)("jimp"),o=function(){return!!a()},i=function(e,t,n){var r=n.width,o=n.height,i=a();return i?i.read(e).then((function(e){return e.contain(r,o).write(t)})).then((function(){return!0})).catch((function(e){return console.error(e),!1})):Promise.resolve(!1)}},function(e,t,n){"use strict";var r=n(15),a=n.n(r),o=n(2105),i=n(2097),s=n(2100),c={dialogContent:{padding:10,overflow:"hidden",display:"flex",flexDirection:"row"}},l={enter:0,exit:150};t.a=function(e){return a.a.createElement(i.a,{open:e.show,transitionDuration:l},a.a.createElement(s.a,{style:c.dialogContent},a.a.createElement(o.a,{style:c.circularProgress,size:50,disableShrink:!0})))}},function(e,t,n){"use strict";var r=n(15),a=n(2119),o=n(2120),i=n(2073),s=n(2091),c=n(351),l=n.n(c),u=n(2078),d=n(490),p={appBar:{height:32,minHeight:32},toolbar:{height:32,minHeight:32,paddingLeft:15,paddingRight:15},title:{fontSize:"15px",flexGrow:1,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}};t.a=function(e){return r.createElement(a.a,{position:"static",style:p.appBar,className:"safe-area-aware-top-margin",color:"primary"},r.createElement(o.a,{style:p.toolbar},e.displayLeftCloseButton&&r.createElement(i.a,{onClick:e.onClose,edge:"start",color:"inherit"},r.createElement(l.a,null)),r.createElement(u.a,{title:e.title,placement:"bottom",enterDelay:d.a},r.createElement(s.a,{variant:"h6",style:p.title},e.title)),e.displayRightCloseButton&&r.createElement(i.a,{onClick:e.onClose,edge:"end",color:"inherit"},r.createElement(l.a,null))))}},function(e,t,n){"use strict";var r=n(15),a=n(17),o=n.n(a),i=n(16),s=o()("electron");t.a=r.memo((function(e){var t=e.shouldPrompt,n=e.i18n,a=e.language,o=e.hasUnsavedChanges,c=r.useRef(!0);return r.useEffect((function(){if(!i.b.isDev()){var e=[n._({id:"Are you sure you want to quit GDevelop?"}),o?n._({id:"Any unsaved changes in the project will be lost."}):""].filter(Boolean).join("\n");s?window.onbeforeunload=function(n){if(c.current&&t)return setTimeout((function(){i.b.showConfirmDialog(e)&&(c.current=!1,s.remote.getCurrentWindow().close())}),10),n.returnValue=!0,!1}:window&&(window.onbeforeunload=t?function(){return e}:null)}}),[t,n,a,o]),null}))},,,function(e,t,n){"use strict";n.d(t,"c",(function(){return E})),n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return C}));var r=n(119),a=n(3),o=n(4),i=n(6),s=n(5),c=n(15),l=n.n(c),u=n(351),d=n.n(u),p=n(2204),m=n(153),f=n(379),h=n(346),g={width:"100%",position:"relative",textAlign:"initial",minHeight:0,display:"flex",flex:1},b={maxWidth:400,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",marginTop:6,marginBottom:6,marginLeft:10,marginRight:10,fontSize:"15px"},v={marginTop:7,marginBottom:7,marginRight:5,marginLeft:5},E=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"shouldComponentUpdate",value:function(e){return this.props.active||e.active}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.active;return l.a.createElement("div",{style:Object(r.a)(Object(r.a)({},g),n?void 0:{display:"none"})},t)}}]),n}(c.Component),y=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=e.hideLabels,n=e.children;return l.a.createElement(m.a,null,(function(e){var r={maxWidth:"100%",flexShrink:0,display:t?"none":"flex",flexWrap:"nowrap",overflowX:"auto",backgroundColor:e.closableTabs.containerBackgroundColor};return l.a.createElement("div",{style:r},n)}))}}]),n}(c.Component);function C(e){var t=e.active,n=e.onClose,a=e.onCloseOthers,o=e.onCloseAll,i=e.label,s=e.closable,u=e.onClick,g=e.onActivated;Object(c.useEffect)((function(){t&&g()}),[t,g]);var E=Object(c.useRef)(null),y=function(e){e.stopPropagation(),E.current&&E.current.open(e.clientX,e.clientY)},C=Object(h.a)(l.a.useCallback((function(e){E.current&&E.current.open(e.clientX,e.clientY)}),[E]));return l.a.createElement(m.a,null,(function(e){var c=t?e.closableTabs.selectedTextColor:e.closableTabs.textColor;return l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{style:{flexShrink:0,position:"relative",display:"inline-block",marginRight:1,backgroundColor:t?e.closableTabs.selectedBackgroundColor:e.closableTabs.backgroundColor}},l.a.createElement(p.a,Object.assign({onClick:u,onContextMenu:y},C,{focusRipple:!0}),l.a.createElement("span",{style:Object(r.a)(Object(r.a)({},b),{},{color:c,fontFamily:e.closableTabs.fontFamily})},i)),s&&l.a.createElement(p.a,Object.assign({onClick:n,onContextMenu:y},C,{focusRipple:!0}),l.a.createElement(d.a,{style:Object(r.a)(Object(r.a)({},v),{},{width:e.closableTabs.height/2,height:e.closableTabs.height/2}),htmlColor:c}))),l.a.createElement(f.a,{ref:E,buildMenuTemplate:function(e){return[{label:e._({id:"Close"}),click:n,enabled:s},{label:e._({id:"Close others"}),click:a},{label:e._({id:"Close all"}),click:o}]}}))}))}},function(e,t,n){"use strict";n.d(t,"l",(function(){return p})),n.d(t,"p",(function(){return m})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return b})),n.d(t,"h",(function(){return v})),n.d(t,"m",(function(){return E})),n.d(t,"k",(function(){return y})),n.d(t,"j",(function(){return C})),n.d(t,"i",(function(){return j})),n.d(t,"q",(function(){return O})),n.d(t,"o",(function(){return x})),n.d(t,"g",(function(){return k})),n.d(t,"f",(function(){return T})),n.d(t,"e",(function(){return w})),n.d(t,"d",(function(){return S})),n.d(t,"n",(function(){return P}));var r=n(18),a=n(119),o=(n(15),n(761)),i=n.n(o),s=n(762),c=(n(920),n(861)),l=n(877),u=n(880),d=(n(888),n(889)),p=function(){return{editors:[],currentTab:0}},m=function(e,t){var n=t.label,o=t.projectItemName,s=t.renderEditorContainer,c=t.key,l=t.extraEditorProps,u=t.dontFocusTab,d=t.closable,p=i()(e.editors,(function(e){return e.key===c}));if(-1!==p)return Object(a.a)(Object(a.a)({},e),{},{currentTab:u?e.currentTab:p});var m={label:n,projectItemName:o,renderEditorContainer:s,key:c,extraEditorProps:l,editorRef:null,closable:"undefined"===typeof d||!!d};return Object(a.a)(Object(a.a)({},e),{},{editors:[].concat(Object(r.a)(e.editors),[m]),currentTab:u?e.currentTab:e.editors.length})},f=function(e,t){return Object(a.a)(Object(a.a)({},e),{},{currentTab:Math.max(0,Math.min(t,e.editors.length-1))})},h=function(e,t){var n=C(e),r=e.editors.filter(t);return f(Object(a.a)(Object(a.a)({},e),{},{editors:r}),r.indexOf(n)||0)},g=function(e){return h(e,(function(e){return!e.closable}))},b=function(e,t){return h(e,(function(e){return e!==t}))},v=function(e,t){return h(e,(function(e){return!e.closable||e===t}))},E=function(e){return e.editors},y=function(e){return e.currentTab},C=function(e){return e.editors[e.currentTab]},j=function(e,t){return h(e,(function(e){var n=e.editorRef&&e.editorRef.getProject();return!n||n!==t}))},O=function(e){e.editors.forEach((function(e){e.editorRef&&(e.editorRef instanceof d.a||e.editorRef instanceof u.a)&&e.editorRef.saveUiSettings()}))},x=function(e){e.editors.forEach((function(e){var t=e.editorRef;t instanceof c.a&&t.previewWillStart()}))},k=function(e,t){return h(e,(function(e){var n=e.editorRef;if(n instanceof s.a||n instanceof l.a||n instanceof u.a||n instanceof d.a){var r=n.getLayout();return!r||r!==t}return!0}))},T=function(e,t){return h(e,(function(e){var n=e.editorRef;return!(n instanceof u.a)||(!n.getExternalLayout()||n.getExternalLayout()!==t)}))},w=function(e,t){return h(e,(function(e){var n=e.editorRef;return!(n instanceof l.a)||(!n.getExternalEvents()||n.getExternalEvents()!==t)}))},S=function(e,t){return h(e,(function(e){var n=e.editorRef;return!(n instanceof c.a)||(!n.getEventsFunctionsExtension()||n.getEventsFunctionsExtension()!==t)}))},P=function(e,t){for(var n=0;n<e.editors.length;++n){var r=e.editors[n].editorRef;if(r instanceof c.a&&r.getEventsFunctionsExtension()===t)return{editor:r,tabIndex:n}}return null}},,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return L}));var r=n(18),a=n(119),o=n(21),i=n(179),s=n(3),c=n(4),l=n(6),u=n(5),d=n(15),p=n.n(d),m=n(761),f=n.n(m),h=n(1334),g=n(131),b=n(426),v=n(2009),E=n(1470),y=n(171),C=n.n(y),j=n(169),O=n(228),x=n(227),k=(n(1471),n(1472),n(153)),T=n(1473),w=n(1474),S=n(203),P=e.gd,_=x.a.getThumbnail.bind(x.a),I={container:{flex:1},defaultEventContainer:{marginRight:10},smallEventContainer:{marginRight:0}},N=function(e){return"small"===e?11:22},A=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a)))._onEventUpdated=function(){e.forceUpdate()},e._onEventContextMenu=function(t){t.preventDefault(),e.props.onEventContextMenu(t.clientX,t.clientY)},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this._container?this._container.offsetHeight:0;this.props.eventsHeightsCache.setEventHeight(this.props.event,e)}},{key:"componentDidUpdate",value:function(){var e=this._container?this._container.offsetHeight:0;this.props.eventsHeightsCache.setEventHeight(this.props.event,e)}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.event,a=n.project,o=n.scope,i=n.disabled,s=v.a.getEventComponent(r);return p.a.createElement("div",{ref:function(e){return t._container=e},onClick:this.props.onEventClick,onContextMenu:this._onEventContextMenu,style:(e=this.props.windowWidth,"small"===e?I.smallEventContainer:I.defaultEventContainer)},s&&p.a.createElement(s,{project:a,scope:o,event:r,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,selected:Object(b.m)(this.props.selection,r),selection:this.props.selection,leftIndentWidth:this.props.leftIndentWidth,onUpdate:this._onEventUpdated,onAddNewInstruction:this.props.onAddNewInstruction,onPasteInstructions:this.props.onPasteInstructions,onMoveToInstruction:this.props.onMoveToInstruction,onMoveToInstructionsList:this.props.onMoveToInstructionsList,onInstructionClick:this.props.onInstructionClick,onInstructionDoubleClick:this.props.onInstructionDoubleClick,onInstructionContextMenu:this.props.onInstructionContextMenu,onAddInstructionContextMenu:this.props.onAddInstructionContextMenu,onParameterClick:this.props.onParameterClick,onOpenExternalEvents:this.props.onOpenExternalEvents,onOpenLayout:this.props.onOpenLayout,disabled:i,renderObjectThumbnail:this.props.renderObjectThumbnail,screenType:this.props.screenType,windowWidth:this.props.windowWidth,eventsSheetHeight:this.props.eventsSheetHeight}))}}]),n}(d.Component),R=function(e){return e.treeIndex},M=function(e){var t=e.className,n=Object(i.a)(e,["className"]);return p.a.createElement(k.a,null,(function(e){return p.a.createElement(h.a,Object.assign({className:"".concat(j.f," ").concat(e.eventsSheetRootClassName," ").concat(t)},n))}))},F=function(){},L=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(s.a)(this,n),(r=t.call(this,e))._eventsToTreeData=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=Object(g.mapFor)(0,e.getEventsCount(),(function(o){var i=e.getEventAt(o);t.push(i);var s=a||i.isDisabled();return{title:r._renderEvent,event:i,eventsList:e,indexInList:o,expanded:!i.isFolded(),disabled:s,depth:n,key:i.ptr,children:r._eventsToTreeData(i.getSubEvents(),i.isFolded()?[]:t,n+1,s).treeData}})),i=[0===n?{title:function(){return p.a.createElement(T.a,{onAddEvent:function(e){return r.props.onAddNewEvent(e,r.props.events)}})},event:null,indexInList:e.getEventsCount(),disabled:!1,depth:0,fixedHeight:40,children:[]}:null,0===n&&0===e.getEventsCount()?{title:function(){return p.a.createElement(w.a,null)},event:null,indexInList:e.getEventsCount()+1,disabled:!1,depth:0,fixedHeight:300,children:[]}:null].filter(Boolean);return{treeData:i.length?o.concat(i):o,flatData:t}},r._onMoveNode=function(e){var t=e.treeData,n=e.path,a=e.node,o=a.event,i=a.eventsList;if(o){var s=n.slice(0,-1),c=Object(h.b)({getNodeKey:R,treeData:t,path:s}).node,l=c&&c.event?c.event.getSubEvents():r.props.events,u=c&&c.children?c.children.indexOf(a):0;i.moveEventToAnotherEventsList(o,l,u),r.forceEventsUpdate(),r.props.onEventMoved()}},r._canDrag=function(e){var t=e.node;return!!t&&!!t.event},r._canDrop=function(e){var t=e.nextParent;return!t||!t.event||t.event.canHaveSubEvents()},r._canNodeHaveChildren=function(e){return!(!e||!e.event)&&e.event.canHaveSubEvents()},r._onVisibilityToggle=function(e){var t=e.node.event;t&&(t.setFolded(!t.isFolded()),r.forceEventsUpdate())},r._renderObjectThumbnail=function(e){var t=r.props,n=t.project,a=t.scope;if(!t.showObjectThumbnails)return null;var o=Object(O.a)(n,a.layout,e);return o?p.a.createElement(S.a,{className:C()({[j.i]:!0}),alt:"",src:_(n,o)}):null},r._renderEvent=function(e){var t=e.node,n=t.event,a=t.depth,o=t.disabled;return n?p.a.createElement(A,{project:r.props.project,scope:r.props.scope,globalObjectsContainer:r.props.globalObjectsContainer,objectsContainer:r.props.objectsContainer,event:n,key:n.ptr,eventsHeightsCache:r.eventsHeightsCache,selection:r.props.selection,leftIndentWidth:a*N(r.props.windowWidth),onAddNewInstruction:r.props.onAddNewInstruction,onPasteInstructions:r.props.onPasteInstructions,onMoveToInstruction:r.props.onMoveToInstruction,onMoveToInstructionsList:r.props.onMoveToInstructionsList,onInstructionClick:r.props.onInstructionClick,onInstructionDoubleClick:r.props.onInstructionDoubleClick,onParameterClick:r.props.onParameterClick,onEventClick:function(){return r.props.onEventClick({eventsList:t.eventsList,event:n,indexInList:t.indexInList})},onEventContextMenu:function(e,a){return r.props.onEventContextMenu(e,a,{eventsList:t.eventsList,event:n,indexInList:t.indexInList})},onInstructionContextMenu:r.props.onInstructionContextMenu,onAddInstructionContextMenu:r.props.onAddInstructionContextMenu,onOpenExternalEvents:r.props.onOpenExternalEvents,onOpenLayout:r.props.onOpenLayout,disabled:o,renderObjectThumbnail:r._renderObjectThumbnail,screenType:r.props.screenType,windowWidth:r.props.windowWidth,eventsSheetHeight:r.props.eventsSheetHeight}):null},r._isNodeHighlighted=function(e){var t=e.node,n=e.searchQuery;if(!n)return!1;var r=t.event;return!!r&&n.find((function(e){return P.compare(e,r)}))},r.eventsHeightsCache=new E.a(Object(o.a)(r)),r.state=Object(a.a)({},r._eventsToTreeData(e.events)),r}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.onHeightsChanged()}},{key:"onHeightsChanged",value:function(e){var t=this;this.forceUpdate((function(){t._list&&t._list.wrappedInstance.current&&t._list.wrappedInstance.current.recomputeRowHeights(),e&&e()}))}},{key:"forceEventsUpdate",value:function(e){var t=this;this.setState(this._eventsToTreeData(this.props.events),(function(){t._list&&t._list.wrappedInstance.current&&t._list.wrappedInstance.current.recomputeRowHeights(),e&&e()}))}},{key:"scrollToEvent",value:function(e){var t=this._getEventRow(e);-1!==t&&this._list&&this._list.wrappedInstance.current&&this._list.wrappedInstance.current.scrollToRow(t)}},{key:"unfoldForEvent",value:function(e){P.EventsListUnfolder.unfoldWhenContaining(this.props.events,e),this.forceEventsUpdate()}},{key:"foldAll",value:function(){P.EventsListUnfolder.foldAll(this.props.events),this.forceEventsUpdate()}},{key:"unfoldToLevel",value:function(e){P.EventsListUnfolder.unfoldToLevel(this.props.events,e),this.forceEventsUpdate()}},{key:"_getEventRow",value:function(e){return f()(this.state.flatData,(function(t){return t.ptr===e.ptr}))}},{key:"render",value:function(){var e=this,t=this.state.treeData?Object(r.a)(this.state.treeData):null,n=this.props.fontSize||14;return p.a.createElement("div",{style:Object(a.a)(Object(a.a)({},I.container),{},{fontSize:"".concat(n,"px"),"--icon-size":"".concat(Math.round(1.14*n),"px")})},p.a.createElement(M,{treeData:t,scaffoldBlockPxWidth:N(this.props.windowWidth),onChange:F,onVisibilityToggle:this._onVisibilityToggle,onMoveNode:this._onMoveNode,canDrag:this._canDrag,canDrop:this._canDrop,canNodeHaveChildren:this._canNodeHaveChildren,rowHeight:function(t){var n=t.node;return n.event?e.eventsHeightsCache.getEventHeight(n.event):n.fixedHeight||0},searchMethod:this._isNodeHighlighted,searchQuery:this.props.searchResults,searchFocusOffset:this.props.searchFocusOffset,className:this.props.searchResults?j.g:"",reactVirtualizedListProps:{ref:function(t){return e._list=t},onScroll:this.props.onScroll}}))}}]),n}(d.Component);L.defaultProps={selection:Object(b.b)()}}).call(this,n(8))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return g}));var r=n(119),a=n(3),o=n(4),i=n(6),s=n(5),c=n(15),l=n(319),u=n(171),d=n.n(u),p=n(169),m=n(367),f=e.gd,h={flex:1},g=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=f.asStandardEvent(this.props.event);return c.createElement(m.a,{leftIndentWidth:this.props.leftIndentWidth,windowWidth:this.props.windowWidth,className:d()({[p.m]:!0,[p.n]:this.props.selected,[p.h]:!0}),renderConditionsList:function(n){var r=n.style,a=n.className;return c.createElement(l.a,{instrsList:t.getConditions(),style:r,className:a,selection:e.props.selection,areConditions:!0,onAddNewInstruction:e.props.onAddNewInstruction,onPasteInstructions:e.props.onPasteInstructions,onMoveToInstruction:e.props.onMoveToInstruction,onMoveToInstructionsList:e.props.onMoveToInstructionsList,onInstructionClick:e.props.onInstructionClick,onInstructionDoubleClick:e.props.onInstructionDoubleClick,onInstructionContextMenu:e.props.onInstructionContextMenu,onAddInstructionContextMenu:e.props.onAddInstructionContextMenu,onParameterClick:e.props.onParameterClick,disabled:e.props.disabled,renderObjectThumbnail:e.props.renderObjectThumbnail,screenType:e.props.screenType,windowWidth:e.props.windowWidth})},renderActionsList:function(n){var a=n.className;return c.createElement(l.a,{instrsList:t.getActions(),style:Object(r.a)({},h),className:a,selection:e.props.selection,areConditions:!1,onAddNewInstruction:e.props.onAddNewInstruction,onPasteInstructions:e.props.onPasteInstructions,onMoveToInstruction:e.props.onMoveToInstruction,onMoveToInstructionsList:e.props.onMoveToInstructionsList,onInstructionClick:e.props.onInstructionClick,onInstructionDoubleClick:e.props.onInstructionDoubleClick,onInstructionContextMenu:e.props.onInstructionContextMenu,onAddInstructionContextMenu:e.props.onAddInstructionContextMenu,onParameterClick:e.props.onParameterClick,disabled:e.props.disabled,renderObjectThumbnail:e.props.renderObjectThumbnail,screenType:e.props.screenType,windowWidth:e.props.windowWidth})}})}}]),n}(c.Component)}).call(this,n(8))},function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return C}));var r=n(115),a=n(15),o=n(131),i=n(171),s=n.n(i),c=n(169),l=n(319),u=n(783),d=n(557),p=n(1458),m=n(1459),f=n(801),h=n(238),g=n(143),b=n(346),v=n(163),E=e.gd,y={container:{whiteSpace:"normal",wordWrap:"break-word",cursor:"pointer",marginBottom:1}},C="GD_DRAGGED_INSTRUCTION",j=Object(f.a)(C);t.a=function(e){var t=e.instruction,n=e.isCondition,i=e.onClick,f=e.onMoveToInstruction,C=e.onContextMenu,O=a.useMemo((function(){return E.InstructionSentenceFormatter.get()}),[]),x=a.useContext(g.a).values.eventsSheetUseAssignmentOperators,k="touch"!==Object(h.b)(),T=Object(b.a)(a.useCallback((function(e){C(e.clientX,e.clientY)}),[C]));return a.createElement(j,{beginDrag:function(){return i(),{isCondition:n}},canDrag:function(){return k},canDrop:function(e){return e.isCondition===n},drop:function(){f()}},(function(i){var f=i.connectDragSource,h=i.connectDropTarget,g=i.isOver,b=i.canDrop,j=n?E.MetadataProvider.getConditionMetadata(E.JsPlatform.get(),t.getType()):E.MetadataProvider.getActionMetadata(E.JsPlatform.get(),t.getType()),k=f(a.createElement("div",Object.assign({style:y.container,className:s()({[c.q]:!0,[c.r]:e.selected}),onClick:function(t){t.stopPropagation(),"touch"===e.screenType&&e.selected?e.onDoubleClick():e.onClick()},onDoubleClick:function(t){t.stopPropagation(),e.onDoubleClick()},onContextMenu:function(e){e.stopPropagation(),C(e.clientX,e.clientY)}},T,{onKeyPress:function(t){Object(v.f)(t)?(e.onDoubleClick(),t.stopPropagation(),t.preventDefault()):Object(v.a)(t)&&(e.onClick(),t.stopPropagation(),t.preventDefault())},tabIndex:0}),t.isInverted()&&a.createElement("img",{className:s()({[c.i]:!0}),src:"res/contraire.png",alt:"Condition is negated"}),a.createElement("img",{className:s()({[c.i]:!0}),src:j.getSmallIconFilename(),alt:""}),function(t){var n=e.instruction,r=e.disabled,i=e.renderObjectThumbnail,l=O.getAsFormattedText(n,t),u=t.getParametersCount();return a.createElement("span",{className:s()({[c.d]:r})},Object(o.mapFor)(0,l.size(),(function(n){var r,o=l.getTextFormatting(n).getUserData();if(!(o>=0&&o<u))return a.createElement("span",{key:n},0===n?(r=l.getString(n))?r[0].toUpperCase()+r.substr(1):"":l.getString(n));var f=t.getParameter(o),h=f.getType();return a.createElement("span",{key:n,className:s()({[c.q]:!0,[c.l]:!0,[h]:!0}),onClick:function(t){e.onParameterClick(t,o),"touch"===e.screenType&&t.stopPropagation()},onKeyPress:function(t){Object(v.a)(t)&&(e.onParameterClick(t,o),t.stopPropagation(),t.preventDefault())},tabIndex:0},d.a.renderInlineParameter({value:l.getString(n),parameterMetadata:f,renderObjectThumbnail:i,InvalidParameterValue:p.a,MissingParameterValue:m.a,useAssignmentOperators:x}))})))}(j))),w=k?h(k):null;return a.createElement(a.Fragment,null,g&&a.createElement(u.a,{canDrop:b}),w,j.canHaveSubInstructions()&&a.createElement(l.a,{style:{},className:c.t,instrsList:t.getSubInstructions(),areConditions:e.isCondition,selection:e.selection,onAddNewInstruction:e.onAddNewSubInstruction,onPasteInstructions:e.onPasteSubInstructions,onMoveToInstruction:e.onMoveToSubInstruction,onMoveToInstructionsList:e.onMoveToSubInstructionsList,onInstructionClick:e.onSubInstructionClick,onInstructionDoubleClick:e.onSubInstructionDoubleClick,onInstructionContextMenu:e.onSubInstructionContextMenu,onAddInstructionContextMenu:e.onAddSubInstructionContextMenu,onParameterClick:e.onSubParameterClick,addButtonLabel:a.createElement(r.Trans,{id:"Add a sub-condition"}),disabled:e.disabled,renderObjectThumbnail:e.renderObjectThumbnail,screenType:e.screenType,windowWidth:e.windowWidth}))}))}}).call(this,n(8))},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return h}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n.n(c),u=n(154),d=n(155),p={"=":{id:"= (equal to)"},"<":{id:"< (less than)"},">":{id:"> (greater than)"},"<=":{id:"\u2264 (less or equal to)"},">=":{id:"\u2265 (greater or equal to)"},"!=":{id:"\u2260 (not equal to)"}},m={unknown:Object.keys(p),number:["=","<",">","<=",">=","!="],time:["<",">","<=",">="],string:["=","!="],color:["=","!="]},f=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props.parameterMetadata,n=t?t.getDescription():void 0,r=t?t.getExtraInfo():"unknown",a=m[r]||m.unknown;return l.a.createElement(u.a,{margin:this.props.isInline?"none":"dense",fullWidth:!0,floatingLabelText:n,helperMarkdownText:t?t.getLongDescription():void 0,value:this.props.value,onChange:function(t,n,r){return e.props.onChange(r)},ref:function(t){return e._field=t},hintText:{id:"Choose an operator"}},a.map((function(e){return l.a.createElement(d.a,{key:e,value:e,primaryText:p[e]})})))}}]),n}(c.Component),h=function(e){var t=e.value,n=e.InvalidParameterValue;return t?"="!==t&&"<"!==t&&">"!==t&&"<="!==t&&">="!==t&&"!="!==t?l.a.createElement(n,null,t):"<="===t?"\u2264":">="===t?"\u2265":"!="===t?"\u2260":t:l.a.createElement(n,{isEmpty:!0},l.a.createElement(s.Trans,{id:"Choose an operator"}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return h}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n.n(c),u=n(154),d=n(155),p={"=":{id:"= (set to)"},"+":{id:"+ (add)"},"-":{id:"- (subtract)"},"*":{id:"* (multiply by)"},"/":{id:"/ (divide by)"}},m={unknown:Object.keys(p),number:["=","+","-","*","/"],string:["=","+"],color:["=","+"]},f=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props.parameterMetadata,n=t?t.getDescription():void 0,r=t?t.getExtraInfo():"unknown",a=m[r]||m.unknown;return l.a.createElement(u.a,{margin:this.props.isInline?"none":"dense",fullWidth:!0,floatingLabelText:n,helperMarkdownText:t?t.getLongDescription():void 0,value:this.props.value,onChange:function(t,n,r){return e.props.onChange(r)},ref:function(t){return e._field=t},hintText:{id:"Choose an operator"}},a.map((function(e){return l.a.createElement(d.a,{key:e,value:e,primaryText:p[e]})})))}}]),n}(c.Component),h=function(e){var t=e.value,n=e.InvalidParameterValue,r=e.useAssignmentOperators;if(!t)return l.a.createElement(n,{isEmpty:!0},l.a.createElement(s.Trans,{id:"Choose an operator"}));if(r){if("="===t)return"=";if("+"===t)return"+=";if("-"===t)return"-=";if("/"===t)return"/=";if("*"===t)return"*="}else{if("="===t)return l.a.createElement(s.Trans,{id:"set to"});if("+"===t)return l.a.createElement(s.Trans,{id:"add"});if("-"===t)return l.a.createElement(s.Trans,{id:"subtract"});if("/"===t)return l.a.createElement(s.Trans,{id:"divide by"});if("*"===t)return l.a.createElement(s.Trans,{id:"multiply by"})}return l.a.createElement(n,null,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n.n(c),u=n(154),d=n(155),p=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.parameterMetadata,r=t.value,a=n?n.getDescription():void 0;return l.a.createElement(u.a,{margin:this.props.isInline?"none":"dense",fullWidth:!0,floatingLabelText:a,helperMarkdownText:n?n.getLongDescription():void 0,value:r,ref:function(t){return e._field=t},onChange:function(t,n,r){return e.props.onChange(r)}},l.a.createElement(d.a,{value:"Left",primaryText:{id:"Left (primary)"}}),l.a.createElement(d.a,{value:"Right",primaryText:{id:"Right (secondary)"}}),l.a.createElement(d.a,{value:"Middle",primaryText:{id:"Middle (Auxiliary button, usually the wheel button)"}}))}}]),n}(c.Component),m=function(e){var t=e.value,n=e.InvalidParameterValue;return t||l.a.createElement(n,{isEmpty:!0},l.a.createElement(s.Trans,{id:"Choose a mouse button"}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return f}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n.n(c),u=n(212),d=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","Num0","Num1","Num2","Num3","Num4","Num5","Num6","Num7","Num8","Num9","Numpad0","Numpad1","Numpad2","Numpad3","Numpad4","Numpad5","Numpad6","Numpad7","Numpad8","Numpad9","LShift","RShift","LControl","RControl","LAlt","RAlt","LSystem","RSystem","SemiColon","Comma","Period","Quote","Slash","BackSlash","Tilde","Equal","Dash","Space","Back","Tab","Delete","Insert","Escape","PageUp","PageDown","End","Home","Return","NumpadPageUp","NumpadPageDown","NumpadEnd","NumpadHome","NumpadReturn","Add","Subtract","Multiply","Divide","NumpadAdd","NumpadSubtract","NumpadMultiply","NumpadDivide","Left","Up","Right","Down","NumpadLeft","NumpadUp","NumpadRight","NumpadDown","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","Pause"],p=function(e){return-1!==d.indexOf(e)},m=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,r=t.onChange,a=t.isInline,o=t.parameterMetadata,i=t.onRequestClose,c=t.onApply;return l.a.createElement(u.a,{margin:this.props.isInline?"none":"dense",floatingLabelText:o?o.getDescription():void 0,helperMarkdownText:o?o.getLongDescription():void 0,fullWidth:!0,value:n,onChange:r,dataSource:d.map((function(e){return{text:e,value:e}})),openOnFocus:!a,onRequestClose:i,onApply:c,ref:function(t){return e._field=t},errorText:n?p(n)?void 0:l.a.createElement(s.Trans,{id:'You must select a valid key. "{value}" is not valid.',values:{value:n}}):l.a.createElement(s.Trans,{id:"You must select a key."})})}}]),n}(c.Component),f=function(e){var t=e.value,n=e.InvalidParameterValue;return t?p(t)?t:l.a.createElement(n,null,t):l.a.createElement(n,{isEmpty:!0},l.a.createElement(s.Trans,{id:"Choose a key"}))}},function(e,t,n){"use strict";var r=n(247),a=n(145);function o(e,t,n,o,i,s){r.a.call(this,e,t,n,o,i,s),this._pixiObject=new a.Graphics,this._pixiContainer.addChild(this._pixiObject);var c=n.hasCustomSize()?n.getCustomWidth():32,l=n.hasCustomSize()?n.getCustomHeight():32;this._pixiObject.beginFill(13311),this._pixiObject.lineStyle(1,16767232,1),this._pixiObject.moveTo(0,0),this._pixiObject.lineTo(c,0),this._pixiObject.lineTo(c,l),this._pixiObject.lineTo(0,l),this._pixiObject.endFill()}o.prototype=Object.create(r.a.prototype),o.getThumbnail=function(e,t,n){return"res/unknown32.png"},o.prototype.update=function(){this._pixiObject.position.x=this._instance.getX(),this._pixiObject.position.y=this._instance.getY(),this._pixiObject.rotation=this._instance.getAngle()*Math.PI/180},t.a=o},,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1413),a=n.n(r),o=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("undefined"!==typeof FontFace){var r=new FontFace(e,t,n);return document.fonts.add(r),r.load()}var o=document.createElement("style");return o.appendChild(document.createTextNode("@font-face {\n          font-family: ".concat(e,";\n          src: ").concat(t,";\n        }"))),document.head.appendChild(o),new a.a(e,n).load().catch((function(t){throw console.warn("Error while loading font ".concat(e),t),t}))}},,function(e,t,n){"use strict";(function(e){var r=n(247),a=n(145),o=e.gd;function i(e,t,n,o,i,s){r.a.call(this,e,t,n,o,i,s),this._renderedAnimation=0,this._renderedDirection=0,this._centerX=0,this._centerY=0,this._originX=0,this._originY=0,this._pixiObject=new a.Sprite(this._pixiResourcesLoader.getInvalidPIXITexture()),this._pixiContainer.addChild(this._pixiObject),this.updatePIXITextureAndSprite()}i.prototype=Object.create(r.a.prototype),i.getThumbnail=function(e,t,n){var r=o.asSpriteObject(n);if(r.getAnimationsCount()>0&&r.getAnimation(0).getDirectionsCount()>0&&r.getAnimation(0).getDirection(0).getSpritesCount()>0){var a=r.getAnimation(0).getDirection(0).getSprite(0).getImageName();return t.getResourceFullUrl(e,a,{})}return"res/unknown32.png"},i.prototype.updatePIXISprite=function(){this._pixiObject.anchor.x=this._centerX/this._pixiObject.texture.frame.width,this._pixiObject.anchor.y=this._centerY/this._pixiObject.texture.frame.height,this._pixiObject.rotation=this._shouldNotRotate?0:r.a.toRad(this._instance.getAngle()),this._instance.hasCustomSize()?(this._pixiObject.scale.x=this._instance.getCustomWidth()/this._pixiObject.texture.frame.width,this._pixiObject.scale.y=this._instance.getCustomHeight()/this._pixiObject.texture.frame.height):(this._pixiObject.scale.x=1,this._pixiObject.scale.y=1),this._pixiObject.position.x=this._instance.getX()+(this._centerX-this._originX)*Math.abs(this._pixiObject.scale.x),this._pixiObject.position.y=this._instance.getY()+(this._centerY-this._originY)*Math.abs(this._pixiObject.scale.y)},i.prototype.updateSprite=function(){this._sprite=null,this._shouldNotRotate=!1;var e=o.asSpriteObject(this._associatedObject);if(e.hasNoAnimations())return!1;this._renderedAnimation=this._instance.getRawDoubleProperty("animation"),this._renderedAnimation>=e.getAnimationsCount()&&(this._renderedAnimation=0);var t=e.getAnimation(this._renderedAnimation);if(t.hasNoDirections())return!1;if(this._renderedDirection=0,t.useMultipleDirections()){var n=Math.floor(this._instance.getAngle())%360;n<0&&(n+=360),this._renderedDirection=Math.round(n/45)%8}this._renderedDirection>=t.getDirectionsCount()&&(this._renderedDirection=0);var r=t.getDirection(this._renderedDirection);return 0!==r.getSpritesCount()&&(this._shouldNotRotate=t.useMultipleDirections(),this._sprite=r.getSprite(0),!0)},i.prototype.updatePIXITextureAndSprite=function(){var e=this;if(this.updateSprite(),this._sprite){var t=this._pixiResourcesLoader.getPIXITexture(this._project,this._sprite.getImageName());if(this._pixiObject.texture=t,t.baseTexture.valid){var n=this._sprite.getOrigin();if(this._originX=n.getX(),this._originY=n.getY(),this._sprite.isDefaultCenterPoint())this._centerX=t.width/2,this._centerY=t.height/2;else{var r=this._sprite.getCenter();this._centerX=r.getX(),this._centerY=r.getY()}this.updatePIXISprite()}else t.once("update",(function(){return e.updatePIXITextureAndSprite()}))}},i.prototype.update=function(){var e=this._instance.getRawDoubleProperty("animation");this._renderedAnimation!==e?this.updatePIXITextureAndSprite():this.updatePIXISprite()},i.prototype.getOriginX=function(){return this._sprite&&this._pixiObject?this._sprite.getOrigin().getX()*this._pixiObject.scale.x:0},i.prototype.getOriginY=function(){return this._sprite&&this._pixiObject?this._sprite.getOrigin().getY()*this._pixiObject.scale.y:0},i.prototype.getDefaultWidth=function(){return Math.abs(this._pixiObject.width)},i.prototype.getDefaultHeight=function(){return Math.abs(this._pixiObject.height)},t.a=i}).call(this,n(8))},function(e,t,n){"use strict";(function(e){var r=n(247),a=n(145),o=e.gd;function i(e,t,n,i,s,c){r.a.call(this,e,t,n,i,s,c);var l=o.asTiledSpriteObject(i);this._texture=l.getTexture(),this._pixiObject=new a.TilingSprite(this._pixiResourcesLoader.getPIXITexture(e,l.getTexture()),l.getWidth(),l.getHeight()),this._pixiObject.anchor.x=.5,this._pixiObject.anchor.y=.5,this._pixiContainer.addChild(this._pixiObject)}i.prototype=Object.create(r.a.prototype),i.getThumbnail=function(e,t,n){var r=o.asTiledSpriteObject(n);return t.getResourceFullUrl(e,r.getTexture(),{})},i.prototype.update=function(){var e=o.asTiledSpriteObject(this._associatedObject);this._instance.hasCustomSize()?(this._pixiObject.width=this._instance.getCustomWidth(),this._pixiObject.height=this._instance.getCustomHeight()):(this._pixiObject.width=e.getWidth(),this._pixiObject.height=e.getHeight()),this._texture!==e.getTexture()&&(this._texture=e.getTexture(),this._pixiObject.texture=this._pixiResourcesLoader.getPIXITexture(this._project,e.getTexture())),this._pixiObject.x=this._instance.getX()+this._pixiObject.width/2,this._pixiObject.y=this._instance.getY()+this._pixiObject.height/2,this._pixiObject.rotation=r.a.toRad(this._instance.getAngle())},i.prototype.getDefaultWidth=function(){return o.asTiledSpriteObject(this._associatedObject).getWidth()},i.prototype.getDefaultHeight=function(){return o.asTiledSpriteObject(this._associatedObject).getHeight()},t.a=i}).call(this,n(8))},function(e,t,n){"use strict";(function(e){var r=n(247),a=n(145),o=e.gd;function i(e,t,n,a,o,i){r.a.call(this,e,t,n,a,o,i),this.makeObjects(),this.updateTexture()}i.prototype=Object.create(r.a.prototype),i.prototype.update=function(){var e=o.asPanelSpriteObject(this._associatedObject);e.isTiled()!==this._tiled&&this.makeObjects(),e.getTexture()!==this._textureName&&this.updateTexture(),this.updateAngle(),this.updatePosition();var t=this._width,n=this._height;if(this._instance.hasCustomSize())this._width=this._instance.getCustomWidth(),this._height=this._instance.getCustomHeight();else{var r=o.asPanelSpriteObject(this._associatedObject);this._width=r.getWidth(),this._height=r.getHeight()}this._width===t&&this._height===n||this.updateWidthHeight()},i.prototype.makeObjects=function(){var e=o.asPanelSpriteObject(this._associatedObject);this._textureName=e.getTexture();var t=this._pixiResourcesLoader.getPIXITexture(this._project,this._textureName);this._tiled=e.isTiled();var n=this._tiled?a.TilingSprite:a.Sprite;this._pixiObject||(this._pixiObject=new a.Container,this._pixiContainer.addChild(this._pixiObject)),this._centerSprite=new n(new a.Texture(t)),this._borderSprites=[new n(new a.Texture(t)),new a.Sprite(t),new n(new a.Texture(t)),new a.Sprite(t),new n(new a.Texture(t)),new a.Sprite(t),new n(new a.Texture(t)),new a.Sprite(t)],this._pixiObject.removeChildren(),this._pixiObject.addChild(this._centerSprite);for(var r=0;r<this._borderSprites.length;++r)this._pixiObject.addChild(this._borderSprites[r])},i.prototype.updateAngle=function(){this._pixiObject.rotation=r.a.toRad(this._instance.getAngle())},i.prototype.updatePosition=function(){this._pixiObject.x=this._instance.getX()+this._width/2,this._pixiObject.y=this._instance.getY()+this._height/2},i.prototype._updateLocalPositions=function(){var e=o.asPanelSpriteObject(this._associatedObject);this._centerSprite.position.x=e.getLeftMargin(),this._centerSprite.position.y=e.getTopMargin(),this._borderSprites[0].position.x=this._width-e.getRightMargin(),this._borderSprites[0].position.y=e.getTopMargin(),this._borderSprites[1].position.x=this._width-this._borderSprites[1].width,this._borderSprites[1].position.y=0,this._borderSprites[2].position.x=e.getLeftMargin(),this._borderSprites[2].position.y=0,this._borderSprites[3].position.x=0,this._borderSprites[3].position.y=0,this._borderSprites[4].position.x=0,this._borderSprites[4].position.y=e.getTopMargin(),this._borderSprites[5].position.x=0,this._borderSprites[5].position.y=this._height-this._borderSprites[5].height,this._borderSprites[6].position.x=e.getLeftMargin(),this._borderSprites[6].position.y=this._height-e.getBottomMargin(),this._borderSprites[7].position.x=this._width-this._borderSprites[7].width,this._borderSprites[7].position.y=this._height-this._borderSprites[7].height},i.prototype._updateSpritesAndTexturesSize=function(){var e=o.asPanelSpriteObject(this._associatedObject);this._centerSprite.width=Math.max(this._width-e.getRightMargin()-e.getLeftMargin(),0),this._centerSprite.height=Math.max(this._height-e.getTopMargin()-e.getBottomMargin(),0),this._borderSprites[0].width=e.getRightMargin(),this._borderSprites[0].height=Math.max(this._height-e.getTopMargin()-e.getBottomMargin(),0),this._borderSprites[2].height=e.getTopMargin(),this._borderSprites[2].width=Math.max(this._width-e.getRightMargin()-e.getLeftMargin(),0),this._borderSprites[4].width=e.getLeftMargin(),this._borderSprites[4].height=Math.max(this._height-e.getTopMargin()-e.getBottomMargin(),0),this._borderSprites[6].height=e.getBottomMargin(),this._borderSprites[6].width=Math.max(this._width-e.getRightMargin()-e.getLeftMargin(),0),this._wasRendered=!0,this._pixiObject.cacheAsBitmap=!1},i.prototype.updateTexture=function(){var e=this,t=o.asPanelSpriteObject(this._associatedObject);this._textureName=t.getTexture();var n=this._pixiResourcesLoader.getPIXITexture(this._project,this._textureName);function r(e){return e.width<0&&(e.width=0),e.height<0&&(e.height=0),e.x<0&&(e.x=0),e.y<0&&(e.y=0),e.x>n.width&&(e.x=n.width),e.y>n.height&&(e.y=n.height),e.x+e.width>n.width&&(e.width=n.width-e.x),e.y+e.height>n.height&&(e.height=n.height-e.y),e}n.baseTexture.valid?(console.log("Updating PanelSprite instance texture"),this._centerSprite.texture=new a.Texture(n,r(new a.Rectangle(t.getLeftMargin(),t.getTopMargin(),n.width-t.getLeftMargin()-t.getRightMargin(),n.height-t.getTopMargin()-t.getBottomMargin()))),this._borderSprites[0].texture=new a.Texture(n,r(new a.Rectangle(n.width-t.getRightMargin(),t.getTopMargin(),t.getRightMargin(),n.height-t.getTopMargin()-t.getBottomMargin()))),this._borderSprites[1].texture=new a.Texture(n,r(new a.Rectangle(n.width-t.getRightMargin(),0,t.getRightMargin(),t.getTopMargin()))),this._borderSprites[2].texture=new a.Texture(n,r(new a.Rectangle(t.getLeftMargin(),0,n.width-t.getLeftMargin()-t.getRightMargin(),t.getTopMargin()))),this._borderSprites[3].texture=new a.Texture(n,r(new a.Rectangle(0,0,t.getLeftMargin(),t.getTopMargin()))),this._borderSprites[4].texture=new a.Texture(n,r(new a.Rectangle(0,t.getTopMargin(),t.getLeftMargin(),n.height-t.getTopMargin()-t.getBottomMargin()))),this._borderSprites[5].texture=new a.Texture(n,r(new a.Rectangle(0,n.height-t.getBottomMargin(),t.getLeftMargin(),t.getBottomMargin()))),this._borderSprites[6].texture=new a.Texture(n,r(new a.Rectangle(t.getLeftMargin(),n.height-t.getBottomMargin(),n.width-t.getLeftMargin()-t.getRightMargin(),t.getBottomMargin()))),this._borderSprites[7].texture=new a.Texture(n,r(new a.Rectangle(n.width-t.getRightMargin(),n.height-t.getBottomMargin(),t.getRightMargin(),t.getBottomMargin()))),this._updateSpritesAndTexturesSize(),this._updateLocalPositions(),this.updatePosition()):n.once("update",(function(){return e.updateTexture()}))},i.prototype.updateWidthHeight=function(){this._pixiObject.pivot.x=this._width/2,this._pixiObject.pivot.y=this._height/2,this._updateSpritesAndTexturesSize(),this._updateLocalPositions(),this.updatePosition()},i.prototype.getDefaultWidth=function(){return o.asPanelSpriteObject(this._associatedObject).getWidth()},i.prototype.getDefaultHeight=function(){return o.asPanelSpriteObject(this._associatedObject).getHeight()},i.getThumbnail=function(e,t,n){var r=o.asPanelSpriteObject(n);return t.getResourceFullUrl(e,r.getTexture(),{})},t.a=i}).call(this,n(8))},function(e,t,n){"use strict";(function(e){var r=n(247),a=n(145),o=e.gd;function i(e,t,n,o,i,s){r.a.call(this,e,t,n,o,i,s);var c=new a.TextStyle({fontFamily:"Arial",fontSize:20,align:"left",padding:5});this._pixiObject=new a.Text("",c),this._pixiObject.anchor.x=.5,this._pixiObject.anchor.y=.5,this._pixiContainer.addChild(this._pixiObject),this._styleFontDirty=!0,this.update()}i.prototype=Object.create(r.a.prototype),i.getThumbnail=function(e,t,n){return"CppPlatform/Extensions/texticon24.png"},i.prototype.update=function(){var e=this,t=o.asTextObject(this._associatedObject);this._pixiObject.text=t.getString(),(t.isItalic()!==this._isItalic||t.isBold()!==this._isBold||t.getCharacterSize()!==this._characterSize||this._instance.hasCustomSize()!==this._wrapping||this._instance.getCustomWidth()!==this._wrappingWidth&&this._wrapping)&&(this._isItalic=t.isItalic(),this._isBold=t.isBold(),this._characterSize=t.getCharacterSize(),this._wrapping=this._instance.hasCustomSize(),this._wrappingWidth=this._instance.getCustomWidth(),this._styleFontDirty=!0),this._fontName!==t.getFontName()&&(this._fontName=t.getFontName(),this._pixiResourcesLoader.loadFontFamily(this._project,t.getFontName()).then((function(t){e._fontFamily=t,e._styleFontDirty=!0})).catch((function(e){console.warn("Unable to load font family for RenderedTextInstance",e)}))),this._styleFontDirty&&(this._pixiObject.style.fontFamily=this._fontFamily||"Arial",this._pixiObject.style.fontSize=Math.max(1,this._characterSize),this._pixiObject.style.fontStyle=this._isItalic?"italic":"normal",this._pixiObject.style.fontWeight=this._isBold?"bold":"normal",this._pixiObject.style.wordWrap=this._wrapping,this._pixiObject.style.wordWrapWidth=this._wrappingWidth<=1?1:this._wrappingWidth,this._pixiObject.style.breakWords=!0,this._pixiObject.dirty=!0,this._styleFontDirty=!1),t.getColorR()===this._colorR&&t.getColorG()===this._colorG&&t.getColorB()===this._colorB||(this._colorR=t.getColorR(),this._colorG=t.getColorG(),this._colorB=t.getColorB(),this._pixiObject.style.fill="rgb("+this._colorR+","+this._colorG+","+this._colorB+")",this._pixiObject.dirty=!0),this._pixiObject.position.x=this._instance.getX()+this._pixiObject.width/2,this._pixiObject.position.y=this._instance.getY()+this._pixiObject.height/2,this._pixiObject.rotation=r.a.toRad(this._instance.getAngle())},i.prototype.getDefaultWidth=function(){return this._pixiObject.width},i.prototype.getDefaultHeight=function(){return this._pixiObject.height},t.a=i}).call(this,n(8))},function(e,t,n){"use strict";var r=n(790);t.a=Object(r.a)("CppPlatform/Extensions/primitivedrawingicon.png")},function(e,t,n){"use strict";var r=n(790);t.a=Object(r.a)("CppPlatform/Extensions/textentry.png")},function(e,t,n){"use strict";(function(e){var r=n(247),a=n(145),o=n(188),i=e.gd;function s(e,t,n,o,i,s){r.a.call(this,e,t,n,o,i,s),this._pixiObject=new a.Graphics,this._pixiContainer.addChild(this._pixiObject),this.updateGraphics()}s.prototype=Object.create(r.a.prototype),s.getThumbnail=function(e,t,n){return"CppPlatform/Extensions/particleSystemicon.png"},s.prototype.update=function(){this._pixiObject.position.x=this._instance.getX(),this._pixiObject.position.y=this._instance.getY(),this.updateGraphics()},s.prototype.updateGraphics=function(){var e=i.asParticleEmitterObject(this._associatedObject);this._pixiObject.clear();var t=this._instance.getAngle()/180*3.14159,n=e.getConeSprayAngle(),r=t-n/2/180*3.14159,a=t+n/2/180*3.14159;this._pixiObject.beginFill(0,0),this._pixiObject.lineStyle(3,Object(o.h)(e.getParticleRed2(),e.getParticleGreen2(),e.getParticleBlue2()),1),this._pixiObject.moveTo(0,0),this._pixiObject.lineTo(64*Math.cos(r),64*Math.sin(r)),this._pixiObject.moveTo(0,0),this._pixiObject.lineTo(64*Math.cos(a),64*Math.sin(a)),this._pixiObject.endFill(),this._pixiObject.lineStyle(0,0,1),this._pixiObject.beginFill(Object(o.h)(e.getParticleRed1(),e.getParticleGreen1(),e.getParticleBlue1())),this._pixiObject.drawCircle(0,0,8),this._pixiObject.endFill()},s.prototype.getDefaultWidth=function(){return 128},s.prototype.getDefaultHeight=function(){return 128},s.prototype.getOriginX=function(){return 64},s.prototype.getOriginY=function(){return 64},t.a=s}).call(this,n(8))},function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return E}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n.n(c),u=n(127),d=n(117),p=n(791),m=n(563),f=n(125),h=n(2093),g=n(192),b={button:{margin:5},description:{marginRight:5}},v=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._yesButton=l.a.createRef(),e}return Object(a.a)(n,[{key:"focus",value:function(){Object(m.a)(this._yesButton)}},{key:"render",value:function(){var e=this,t=this.props,n=t.parameterMetadata,r=t.value,a=n?n.getDescription():null,o=n?n.getLongDescription():null,i=Object(p.a)(r,n);return l.a.createElement(d.a,{noMargin:!0},l.a.createElement(d.b,null,l.a.createElement(f.a,{style:b.description,displayInlineAsSpan:!0},a),l.a.createElement(d.a,{noMargin:!0},l.a.createElement(u.a,{style:b.button,label:l.a.createElement(s.Trans,{id:"Yes"}),primary:"yes"===i,onClick:function(){return e.props.onChange("yes")},ref:this._yesButton})),l.a.createElement(d.a,{noMargin:!0},l.a.createElement(u.a,{style:b.button,label:l.a.createElement(s.Trans,{id:"No"}),primary:"yes"!==i,onClick:function(){return e.props.onChange("no")}}))),o?l.a.createElement(h.a,{variant:"filled",margin:"dense"},l.a.createElement(g.a,{source:o})):null)}}]),n}(c.Component),E=function(e){var t=e.value,n=e.parameterMetadata;return"yes"===Object(p.a)(t,n)?l.a.createElement(s.Trans,{id:"yes"}):l.a.createElement(s.Trans,{id:"no"})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return v})),n.d(t,"b",(function(){return E}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n.n(c),u=n(127),d=n(117),p=n(791),m=n(563),f=n(125),h=n(2093),g=n(192),b={button:{margin:5},description:{marginRight:5}},v=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._trueButton=l.a.createRef(),e}return Object(a.a)(n,[{key:"focus",value:function(){Object(m.a)(this._trueButton)}},{key:"render",value:function(){var e=this,t=this.props,n=t.parameterMetadata,r=t.value,a=n?n.getDescription():void 0,o=n?n.getLongDescription():null,i=Object(p.a)(r,n);return l.a.createElement(d.a,{noMargin:!0},l.a.createElement(d.b,null,l.a.createElement(f.a,{style:b.description,displayInlineAsSpan:!0},a),l.a.createElement(d.a,{noMargin:!0},l.a.createElement(u.a,{style:b.button,label:l.a.createElement(s.Trans,{id:"True"}),primary:"True"===i,onClick:function(){return e.props.onChange("True")},ref:this._trueButton})),l.a.createElement(d.a,{noMargin:!0},l.a.createElement(u.a,{style:b.button,label:l.a.createElement(s.Trans,{id:"False"}),primary:"True"!==i,onClick:function(){return e.props.onChange("False")}}))),o?l.a.createElement(h.a,{variant:"filled",margin:"dense"},l.a.createElement(g.a,{source:o})):null)}}]),n}(c.Component),E=function(e){var t=e.value,n=e.parameterMetadata;return"True"===Object(p.a)(t,n)?l.a.createElement(s.Trans,{id:"true"}):l.a.createElement(s.Trans,{id:"false"})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(15),c=n.n(s),l=n(195),u=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this;return c.a.createElement(l.a,Object.assign({expressionType:"number",ref:function(t){return e._field=t}},this.props))}}]),n}(s.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(179),a=n(3),o=n(4),i=n(6),s=n(5),c=n(15),l=n.n(c),u=n(792),d=n(428),p=n(365),m=n(366),f={flex:1,display:"flex",flexDirection:"column"},h=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).instructionsInfo=Object(m.a)(Object(u.a)(e.props.expressionType),e.props.scope),e.instructionsInfoTree=Object(p.a)(e.instructionsInfo),e}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=(e.expressionType,e.scope,Object(r.a)(e,["expressionType","scope"]));return l.a.createElement(d.a,Object.assign({style:f,instructionsInfo:this.instructionsInfo,instructionsInfoTree:this.instructionsInfoTree,iconSize:16,useSubheaders:!0,helpPagePath:"/all-features/expressions-reference"},t))}}]),n}(c.Component)},,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n.n(c),u=n(124),d=n(796),p=n(128),m=n(125),f=n(117),h={minHeightContainer:{minHeight:300,flex:1,flexDirection:"column"}},g=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={parameterValues:Array(e.props.expressionMetadata.getParametersCount()).fill("")},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.scope,a=t.globalObjectsContainer,o=t.objectsContainer,i=t.expressionMetadata,c=t.parameterRenderingService;return l.a.createElement(p.a,{title:l.a.createElement(s.Trans,{id:"Enter the expression parameters"}),cannotBeDismissed:!0,open:!0,actions:[l.a.createElement(u.a,{key:"apply",label:l.a.createElement(s.Trans,{id:"Apply"}),primary:!0,onClick:function(){return e.props.onDone(e.state.parameterValues)}})],noMargin:!0,onRequestClose:this.props.onRequestClose},l.a.createElement(f.a,null,l.a.createElement("div",{style:h.minHeightContainer},l.a.createElement(m.a,null,i.getDescription()),l.a.createElement(d.a,{project:n,scope:r,globalObjectsContainer:a,objectsContainer:o,expressionMetadata:i,parameterValues:this.state.parameterValues,onChangeParameter:function(t,n){e.setState({parameterValues:e.state.parameterValues.map((function(e,r){return r===t?n:e}))})},parameterRenderingService:c}))))}}]),n}(c.Component)},function(e,t,n){"use strict";var r=n(119),a=n(15),o={width:"100%",position:"absolute",whiteSpace:"pre-wrap",wordWrap:"break-word",color:"transparent"},i={backgroundColor:"rgba(244, 67, 54, 0.15)",borderSizing:"border-box",borderBottom:"3px solid rgba(244, 67, 54, 0.7)"};t.a=function(e){var t=e.value,n=e.style,s=e.highlights.slice().sort((function(e,t){return e.begin-t.begin})),c=[],l=0;return s.forEach((function(e,n){var r=Math.max(e.begin,l);r!==l&&c.push(a.createElement("span",{key:"defaultText-".concat(n)},t.substring(l,r))),l<e.end&&(c.push(a.createElement("span",{key:"highlightedText-".concat(n),style:i},t.substring(r,e.end))),l=e.end)})),l<t.length&&c.push(a.createElement("span",{key:"defaultText-end"},t.substring(l))),a.createElement("div",{style:Object(r.a)(Object(r.a)({},o),n)},c)}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return C}));var r=n(18),a=n(131),o=n(226),i=n(797),s=n(220),c=n.n(s),l=n(792),u=n(366),d=n(564),p=n(214),m=n(228),f=n(282),h=n(799),g=e.gd,b=function(e,t){if(!t)return e;var n=t.toLowerCase();return e.filter((function(e){return-1!==e.toLowerCase().indexOf(n)}))},v=function(e,t,n,r,a){return e.filter((function(e){return!a||e.type===t})).map((function(e){return e.name&&e.parameters?{kind:"Expression",completion:e.name,replacementStartPosition:n,replacementEndPosition:r,enumeratedExpressionMetadata:e,addParenthesis:!0,hasVisibleParameters:0!==Object(d.b)(e).length,isExact:a}:null})).filter(Boolean)},E=function(e,t){var n=t.getPrefix(),r=t.getType(),o=e.project,i=e.scope,s=[];if("layer"===r){var c=i.layout;if(c)for(var l=0;l<c.getLayersCount();l++)s.push('"'.concat(c.getLayerAt(l).getName(),'"'))}else if("sceneName"===r){if(o)for(var u=0;u<o.getLayoutsCount();u++)s.push('"'.concat(o.getLayoutAt(u).getName(),'"'))}else if("stringWithSelector"===r)s=Object(p.c)(t.getParameterMetadata()).map((function(e){return e.completion}));else if("objectPointName"===r){var d=t.getObjectName();if(!d)return[];var v=Object(m.a)(o,i.layout,d);if(!v)return[];if("Sprite"!==v.getType())return[];var E=g.asSpriteObject(v);s=Object(f.k)(E).map((function(e){return e.length>0?'"'.concat(e,'"'):null})).filter(Boolean)}else if("objectAnimationName"===r){var y=t.getObjectName();if(!y)return[];var C=Object(m.a)(o,i.layout,y);if(!C)return[];if("Sprite"!==C.getType())return[];var j=g.asSpriteObject(C);s=Object(a.mapFor)(0,j.getAnimationsCount(),(function(e){var t=j.getAnimation(e).getName();return t.length>0?'"'.concat(t,'"'):null})).filter(Boolean)}else"functionParameterName"===r&&i.eventsFunction&&(s=Object(h.a)(i.eventsFunction).map((function(e){return'"'.concat(e.getName(),'"')})));var O=b(s,n).sort(),x=t.isLastParameter();return O.map((function(e){return{kind:"Text",completion:e,replacementStartPosition:t.getReplacementStartPosition(),replacementEndPosition:t.getReplacementEndPosition(),addParameterSeparator:!x}}))},y=function(e,t){var n=e.gd;return c()(Object(a.mapVector)(t,(function(t){var a=t.getCompletionKind();if(a===n.ExpressionCompletionDescription.Expression){var s=t.getObjectName();return t.getBehaviorName()?function(e,t){var n=t.getPrefix(),r=t.getType(),a=t.getBehaviorName(),o=t.isExact(),i=e.gd,s=e.globalObjectsContainer,c=e.objectsContainer,d=i.getTypeOfBehavior(s,c,a,!0),p=Object(l.b)(r,d),m=Object(u.a)(Object(l.e)(p,n),e.scope);return v(m,n,t.getReplacementStartPosition(),t.getReplacementEndPosition(),o)}(e,t):s?function(e,t){var n=t.getPrefix(),r=t.getType(),a=t.getObjectName(),o=t.isExact(),i=e.gd,s=e.globalObjectsContainer,c=e.objectsContainer,d=i.getTypeOfObject(s,c,a,!0),p=Object(l.d)(r,d),m=Object(u.a)(Object(l.e)(p,n),e.scope);return v(m,n,t.getReplacementStartPosition(),t.getReplacementEndPosition(),o)}(e,t):function(e,t){var n=t.getPrefix(),r=t.getType(),a=t.isExact(),o=Object(l.c)(r),i=Object(u.a)(Object(l.e)(o,n),e.scope);return v(i,n,t.getReplacementStartPosition(),t.getReplacementEndPosition(),a)}(e,t)}return a===n.ExpressionCompletionDescription.Object?function(e,t){var n=t.getPrefix(),a=t.getType(),i=e.gd,s=e.globalObjectsContainer,c=e.objectsContainer,l=Object(o.d)(s,c),u=l.allObjectsList,d=l.allGroupsList,p=Object(o.f)(u,{searchText:n,selectedTags:[],hideExactMatches:!0}),m=Object(o.e)(d,{searchText:n,hideExactMatches:!0}),f=!i.ParameterMetadata.isObject(a);return[].concat(Object(r.a)(p.map((function(e){var n=e.object;return{kind:"Object",completion:n.getName(),replacementStartPosition:t.getReplacementStartPosition(),replacementEndPosition:t.getReplacementEndPosition(),object:n,addDot:f}}))),Object(r.a)(m.map((function(e){return{kind:"Object",completion:e.group.getName(),replacementStartPosition:t.getReplacementStartPosition(),replacementEndPosition:t.getReplacementEndPosition(),addDot:f}}))))}(e,t):a===n.ExpressionCompletionDescription.Behavior?function(e,t){var n=t.getPrefix(),r=t.isExact(),a=t.getObjectName(),o=e.gd,i=e.globalObjectsContainer,s=e.objectsContainer;return o.getBehaviorsOfObject(i,s,a,!0).toJSArray().filter((function(e){return-1!==e.indexOf(n)})).map((function(e){return{kind:"Behavior",completion:e,replacementStartPosition:t.getReplacementStartPosition(),replacementEndPosition:t.getReplacementEndPosition(),addNamespaceSeparator:!0,isExact:r}}))}(e,t):a===n.ExpressionCompletionDescription.Text?E(e,t):a===n.ExpressionCompletionDescription.Variable?function(e,t){var n,r=t.getPrefix(),a=t.getType(),o=t.getObjectName(),s=e.project,c=e.scope.layout;if("globalvar"===a){if(!s)return[];n=s.getVariables()}else if("scenevar"===a){if(!c)return[];n=c.getVariables()}else if("objectvar"===a){var l=Object(m.a)(s,c,o);if(!l)return[];n=l.getVariables()}var u=Object(i.a)(n).map((function(e){var t=e.name;return e.isValidName?t:null})).filter(Boolean);return b(u,r).map((function(e){return{kind:"Variable",completion:e,replacementStartPosition:t.getReplacementStartPosition(),replacementEndPosition:t.getReplacementEndPosition()}}))}(e,t):[]})))},C=function(e,t){var n=e.expression,r=e.caretLocation,a=function(e){var n=t.addDot?".":t.addParameterSeparator?", ":t.addNamespaceSeparator?"::":t.addParenthesis?"()":"",r=!e||!n||e[0]!==n[0];return t.completion+(r?n:"")};if(r>n.length&&(r=n.length),0===r||!n){var o=a(void 0)+n;return{caretLocation:o.length,expression:o}}var i=t.replacementStartPosition?t.replacementStartPosition:0,s=t.replacementEndPosition?t.replacementEndPosition:n.length,c=n[s],l=n.substring(0,i),u=a(c),d=l+u+n.substring(s),p=l.length+u.length;return t.addParenthesis&&t.hasVisibleParameters&&(p-=1),{caretLocation:p,expression:d}}}).call(this,n(8))},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return l}));var r=n(119),a=n(163),o=function(){return{autocompletions:[],selectedCompletionIndex:0}},i=function(e){return Math.max(0,e.autocompletions.length-25)},s=function(e){return 0===i(e)?e.autocompletions:e.autocompletions.slice(0,25)},c=function(e,t){return{autocompletions:t,selectedCompletionIndex:e.autocompletions.length!==t.length?0:e.selectedCompletionIndex}},l=function(e,t){var n=t.event,i=t.onUpdateAutocompletions,s=t.onInsertAutocompletion;if("ArrowDown"!==n.key&&"ArrowUp"!==n.key&&"ArrowLeft"!==n.key&&"ArrowRight"!==n.key||i(),!e.autocompletions.length)return e;var c=Math.min(25,e.autocompletions.length);if("ArrowDown"===n.key)return n.preventDefault(),Object(r.a)(Object(r.a)({},e),{},{selectedCompletionIndex:(e.selectedCompletionIndex+1)%c});if("ArrowUp"===n.key)return n.preventDefault(),Object(r.a)(Object(r.a)({},e),{},{selectedCompletionIndex:(c+e.selectedCompletionIndex-1)%c});if(Object(a.b)(n))return n.preventDefault(),n.stopPropagation(),o();if(Object(a.f)(n)||Object(a.c)(n)){var l=e.autocompletions[e.selectedCompletionIndex];if(l){if(l.isExact)return e;s(l)}n.preventDefault()}return e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n(115),a=n(15),o=n(2079),i=n(2085),s=n(403),c=n.n(s),l=n(2204),u=n(125),d=n(164),p=n(564),m=n(117),f=n(227),h={overflow:"hidden",overflowWrap:"break-word"},g=a.memo((function(e){var t=e.src;return a.createElement("img",{alt:"",src:t,style:{maxWidth:16,maxHeight:16}})})),b=a.forwardRef((function(e,t){var n=e.expressionAutocompletion,r=e.isSelected,o=e.onClick;return a.createElement(l.a,{style:C.button,onPointerDown:function(){o()},ref:t},a.createElement(u.a,{style:h,noMargin:!0,align:"left"},r?a.createElement("b",null,n.completion):n.completion))})),v=a.forwardRef((function(e,t){var n=e.expressionAutocompletion,r=e.isSelected,o=e.onClick,i=e.i18n,s=e.parameterRenderingService;if(!n.enumeratedExpressionMetadata)return null;var c=r?a.createElement("b",null,n.completion):n.completion;return a.createElement(l.a,{style:C.button,onPointerDown:function(){o()},ref:t},a.createElement(g,{src:n.enumeratedExpressionMetadata.iconFilename}),a.createElement(m.c,null),a.createElement(u.a,{style:h,noMargin:!0,align:"left"},c,"(",a.createElement("i",null,function(e,t,n){return Object(p.b)(n).map((function(n){var r=e.getUserFriendlyTypeName(n);return r?t._(r):n})).join(", ")}(s,i,n.enumeratedExpressionMetadata)),")"))})),E=a.forwardRef((function(e,t){var n=e.project,r=e.expressionAutocompletion,o=e.isSelected,i=e.onClick,s=n&&r.object?f.a.getThumbnail(n,r.object):"res/types/object.png",c=o?a.createElement("b",null,r.completion):r.completion;return a.createElement(l.a,{style:C.button,onPointerDown:function(){i()},ref:t},a.createElement(g,{src:s}),a.createElement(m.c,null),a.createElement(u.a,{style:h,noMargin:!0,align:"left"},c))})),y=a.forwardRef((function(e,t){var n=e.expressionAutocompletion,r=e.isSelected,o=e.onClick,i=r?a.createElement("b",null,n.completion):n.completion;return a.createElement(l.a,{style:C.button,onPointerDown:function(){o()},ref:t},a.createElement(g,{src:"res/types/behavior.png"}),a.createElement(m.c,null),a.createElement(u.a,{style:h,noMargin:!0,align:"left"},i))})),C={container:{width:370,maxHeight:150,display:"flex",overflowX:"hidden"},button:{width:"100%",paddingLeft:8,paddingRight:8,justifyContent:"flex-start"},tooManyTextContainer:{width:"100%"},popperStyle:{zIndex:c.a.tooltip+100,flex:1,display:"flex",flexDirection:"row"}};function j(e){var t=e.project,n=e.expressionAutocompletions,s=e.remainingCount,c=e.selectedCompletionIndex,l=e.anchorEl,p=e.onChoose,f=e.parameterRenderingService,g=a.useRef(null),j=a.useRef(null);return a.useEffect((function(){g.current&&j.current&&g.current.scrollTo(j.current)}),[g,j,c]),0===n.length?null:a.createElement(r.I18n,null,(function(e){var r=e.i18n;return a.createElement(o.a,{style:C.popperStyle,open:!0,anchorEl:l,placement:"bottom-start",disablePortal:!1},a.createElement(i.a,{variant:"outlined",square:!0,style:C.container},a.createElement(d.a,{autoHideScrollbar:!0,ref:g},n.map((function(e,n){var o=c===n,i=o?j:void 0;return"Text"===e.kind||"Variable"===e.kind?a.createElement(b,{key:n,expressionAutocompletion:e,isSelected:o,onClick:function(){return p(e)},ref:i}):"Expression"===e.kind?!e.isExact&&a.createElement(v,{key:n,expressionAutocompletion:e,onClick:function(){return p(e)},isSelected:o,i18n:r,parameterRenderingService:f,ref:i}):"Object"===e.kind?a.createElement(E,{key:n,project:t,expressionAutocompletion:e,onClick:function(){return p(e)},isSelected:o,ref:i}):"Behavior"===e.kind?a.createElement(y,{key:n,expressionAutocompletion:e,onClick:function(){return p(e)},isSelected:o,ref:i}):null})),s>0&&a.createElement(m.a,{justifyContent:"flex-start"},a.createElement(u.a,null,"And ",s," others...")))),null!==c&&"Expression"===n[c].kind&&!n[c].isExact&&a.createElement(i.a,{variant:"outlined",square:!0,style:C.container},a.createElement(d.a,{autoHideScrollbar:!0},a.createElement(m.a,null,a.createElement(m.b,{noMargin:!0,expand:!0,alignItems:"center"},a.createElement(u.a,{style:h,size:"body2"},n[c].enumeratedExpressionMetadata.metadata.getDescription()))))))}))}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(15),c=n.n(s),l=n(195),u=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this;return c.a.createElement(l.a,Object.assign({expressionType:"string",ref:function(t){return e._field=t}},this.props))}}]),n}(s.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(15),c=n.n(s),l=n(195),u=n(214),d=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this;return c.a.createElement(l.a,Object.assign({expressionType:"string",onGetAdditionalAutocompletions:function(t){return Object(u.c)(e.props.parameterMetadata).filter((function(e){return 0===e.completion.indexOf(t)}))},ref:function(t){return e._field=t}},this.props))}}]),n}(s.Component)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n(214),u=n(212),d=e.gd,p=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(e){var a;Object(r.a)(this,n),(a=t.call(this,e)).state={errorText:null},a._behaviorNames=[],a._getError=function(e){return e||a.props.value?0!==a._behaviorNames.filter((function(e){return a.props.value===e})).length?null:"This behavior is not attached to the object":null},a._doValidation=function(e){a.setState({errorText:a._getError(e)})},a._forceChooseBehavior=function(){1===a._behaviorNames.length&&a.props.value!==a._behaviorNames[0]&&a.props.onChange(a._behaviorNames[0])};var o=a.props.parameterMetadata;return a._description=o?o.getDescription():void 0,a._longDescription=o?o.getLongDescription():void 0,a._behaviorTypeAllowed=o?o.getExtraInfo():void 0,a}return Object(a.a)(n,[{key:"_updateBehaviorsList",value:function(){var e=this,t=this.props,n=t.instructionMetadata,r=t.instruction,a=t.expressionMetadata,o=t.expression,i=t.parameterIndex,s=Object(l.b)({instructionMetadata:n,instruction:r,expressionMetadata:a,expression:o,parameterIndex:i});s&&(this._behaviorNames=d.getBehaviorsOfObject(this.props.globalObjectsContainer,this.props.objectsContainer,s,!0).toJSArray().filter((function(t){return!e._behaviorTypeAllowed||d.getTypeOfBehavior(e.props.globalObjectsContainer,e.props.objectsContainer,t,!1)===e._behaviorTypeAllowed})))}},{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"componentDidUpdate",value:function(){this._forceChooseBehavior()}},{key:"componentDidMount",value:function(){this._forceChooseBehavior()}},{key:"render",value:function(){var e=this;this._updateBehaviorsList();var t=""!==this._behaviorTypeAllowed?c.createElement(s.Trans,{id:"The behavior is not attached to this object. Please select another object or add this behavior."}):c.createElement(s.Trans,{id:"This object has no behaviors: please add this behavior to the object first."});return c.createElement(u.a,{margin:this.props.isInline?"none":"dense",floatingLabelText:this._description,helperMarkdownText:this._longDescription,fullWidth:!0,errorText:this._behaviorNames.length?this.state.errorText:t,value:this.props.value,onChange:this.props.onChange,onRequestClose:this.props.onRequestClose,onApply:this.props.onApply,onBlur:function(t){e._doValidation(t.currentTarget.value)},dataSource:this._behaviorNames.map((function(e){return{text:e,value:e}})),openOnFocus:!this.props.isInline,disabled:this._behaviorNames.length<=1,ref:function(t){return e._field=t}})}}]),n}(c.Component)}).call(this,n(8))},function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n(566),u=n(307),d=n(278),p=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={editorOpen:!1},e}return Object(a.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.scope,a=function(){return n?d.a.findAllGlobalVariables(n.getCurrentPlatform(),n):[]};return c.createElement(c.Fragment,null,c.createElement(l.a,{variablesContainer:n?n.getVariables():null,onComputeAllVariableNames:a,parameterMetadata:this.props.parameterMetadata,value:this.props.value,onChange:this.props.onChange,isInline:this.props.isInline,onRequestClose:this.props.onRequestClose,onApply:this.props.onApply,ref:function(t){return e._field=t},onOpenDialog:function(){return e.setState({editorOpen:!0})},globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,scope:r}),this.state.editorOpen&&n&&c.createElement(u.a,{title:c.createElement(s.Trans,{id:"Global Variables"}),open:this.state.editorOpen,variablesContainer:n.getVariables(),onCancel:function(){return e.setState({editorOpen:!1})},onApply:function(){e.setState({editorOpen:!1}),e._field&&e._field.updateAutocompletions()},emptyExplanationMessage:c.createElement(s.Trans,{id:"Global variables are variables that are shared amongst all the scenes of the game."}),emptyExplanationSecondMessage:c.createElement(s.Trans,{id:"For example, you can have a variable called UnlockedLevelsCount representing the number of levels unlocked by the player."}),helpPagePath:"/all-features/variables/global-variables",onComputeAllVariableNames:a}))}}]),n}(c.Component),m=function(e){return Object(l.b)(e,"res/types/globalvar.png","global variable")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return f}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n(566),u=n(307),d=n(214),p=n(278),m=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={editorOpen:!1},e}return Object(a.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.scope,a=t.instructionMetadata,o=t.instruction,i=t.expressionMetadata,m=t.expression,f=t.parameterIndex,h=Object(d.b)({instructionMetadata:a,instruction:o,expressionMetadata:i,expression:m,parameterIndex:f}),g=r.layout,b=null,v=null;h&&(g&&g.hasObjectNamed(h)?v=(b=g.getObject(h)).getVariables():n&&n.hasObjectNamed(h)&&(v=(b=n.getObject(h)).getVariables()));var E=function(){return n&&g&&b?p.a.findAllObjectVariables(n.getCurrentPlatform(),n,g,b):[]};return c.createElement(c.Fragment,null,c.createElement(l.a,{variablesContainer:v,onComputeAllVariableNames:E,parameterMetadata:this.props.parameterMetadata,value:this.props.value,onChange:this.props.onChange,isInline:this.props.isInline,onRequestClose:this.props.onRequestClose,onApply:this.props.onApply,ref:function(t){return e._field=t},onOpenDialog:function(){return e.setState({editorOpen:!0})},globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,scope:r}),this.state.editorOpen&&v&&c.createElement(u.a,{title:c.createElement(s.Trans,{id:"Object Variables"}),open:this.state.editorOpen,variablesContainer:v,emptyExplanationMessage:c.createElement(s.Trans,{id:"When you add variables to an object, any instance of the object put on the scene or created during the game will have these variables attached to it."}),emptyExplanationSecondMessage:c.createElement(s.Trans,{id:"For example, you can have a variable called Life representing the health of the object."}),helpPagePath:"/all-features/variables/object-variables",onComputeAllVariableNames:E,onCancel:function(){return e.setState({editorOpen:!1})},onApply:function(){e.setState({editorOpen:!1}),e._field&&e._field.updateAutocompletions()}}))}}]),n}(c.Component),f=function(e){return Object(l.b)(e,"res/types/objectvar.png","object variable")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(15),c=n.n(s),l=n(131),u=n(195),d=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props.scope.layout,n=t?Object(l.mapFor)(0,t.getLayersCount(),(function(e){var n=t.getLayerAt(e);return{kind:"Text",completion:'"'.concat(n.getName(),'"')}})):[];return c.a.createElement(u.a,Object.assign({expressionType:"string",onGetAdditionalAutocompletions:function(e){return n.filter((function(t){return 0===t.completion.indexOf(e)}))},ref:function(t){return e._field=t}},this.props))}}]),n}(s.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n.n(c),u=n(260),d=n(144),p=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this;return this.props.resourceSources&&this.props.onChooseResource&&this.props.resourceExternalEditors&&this.props.project?l.a.createElement(u.a,{margin:this.props.isInline?"none":"dense",project:this.props.project,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,resourcesLoader:d.a,resourceKind:"audio",fullWidth:!0,initialResourceName:this.props.value,onChange:this.props.onChange,floatingLabelText:l.a.createElement(s.Trans,{id:"Choose the audio file to use"}),onRequestClose:this.props.onRequestClose,onApply:this.props.onApply,ref:function(t){return e._field=t}}):(console.error("Missing project, resourceSources, onChooseResource or resourceExternalEditors for AudioResourceField"),null)}}]),n}(c.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n.n(c),u=n(260),d=n(144),p=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this;return this.props.resourceSources&&this.props.onChooseResource&&this.props.resourceExternalEditors&&this.props.project?l.a.createElement(u.a,{margin:this.props.isInline?"none":"dense",project:this.props.project,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,resourcesLoader:d.a,resourceKind:"video",fullWidth:!0,initialResourceName:this.props.value,onChange:this.props.onChange,floatingLabelText:l.a.createElement(s.Trans,{id:"Choose the video file to use"}),onRequestClose:this.props.onRequestClose,onApply:this.props.onApply,ref:function(t){return e._field=t}}):(console.error("Missing project, resourceSources, onChooseResource or resourceExternalEditors for VideoResourceField"),null)}}]),n}(c.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n.n(c),u=n(260),d=n(144),p=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this;return this.props.resourceSources&&this.props.onChooseResource&&this.props.resourceExternalEditors&&this.props.project?l.a.createElement(u.a,{margin:this.props.isInline?"none":"dense",project:this.props.project,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,resourcesLoader:d.a,resourceKind:"json",fullWidth:!0,initialResourceName:this.props.value,onChange:this.props.onChange,floatingLabelText:l.a.createElement(s.Trans,{id:"Choose the json file to use"}),onRequestClose:this.props.onRequestClose,onApply:this.props.onApply,ref:function(t){return e._field=t}}):(console.error("Missing project, resourceSources, onChooseResource or resourceExternalEditors for JsonResourceField"),null)}}]),n}(c.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n.n(c),u=n(260),d=n(144),p=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this;return this.props.resourceSources&&this.props.onChooseResource&&this.props.resourceExternalEditors&&this.props.project?l.a.createElement(u.a,{margin:this.props.isInline?"none":"dense",project:this.props.project,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,resourcesLoader:d.a,resourceKind:"bitmapFont",fullWidth:!0,initialResourceName:this.props.value,onChange:this.props.onChange,floatingLabelText:l.a.createElement(s.Trans,{id:"Choose the bitmap font file (.fnt, .xml) to use"}),onRequestClose:this.props.onRequestClose,onApply:this.props.onApply,ref:function(t){return e._field=t}}):(console.error("Missing project, resourceSources, onChooseResource or resourceExternalEditors for BitmapFontResourceField"),null)}}]),n}(c.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(15),c=n.n(s),l=n(195),u=n(356),d=n(188),p=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this;return c.a.createElement(l.a,Object.assign({expressionType:"string",ref:function(t){return e._field=t},renderExtraButton:function(t){var n=t.style;return c.a.createElement(u.a,{style:n,disableAlpha:!0,color:Object(d.e)(e.props.value),onChangeComplete:function(t){e.props.onChange('"'+t.rgb.r+";"+t.rgb.g+";"+t.rgb.b+'"')}})},onExtractAdditionalErrors:function(e,t){return e.trim().startsWith('"\\"')?"A color is a text in the format R;G;B, like 100;200;180 (numbers going from 0 to 255). You need to surround the text with quotes, but the text itself should not contain a quote inside.":null}},this.props))}}]),n}(s.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return b}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n.n(c),u=n(127),d=n(117),p=n(195),m=n(193),f=n(563),h=n(125),g=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._instantButton=l.a.createRef(),e.state={showDeprecatedNumericValue:""!==e.props.value&&"1"!==e.props.value&&"0"!==e.props.value},e}return Object(a.a)(n,[{key:"focus",value:function(){Object(f.a)(this._instantButton)}},{key:"render",value:function(){var e=this,t=this.state.showDeprecatedNumericValue;return l.a.createElement(d.a,{expand:!0,noMargin:!0},l.a.createElement(d.b,{expand:!0,alignItems:"center"},l.a.createElement(d.a,null,l.a.createElement(u.a,{label:l.a.createElement(s.Trans,{id:"Instant"}),primary:""===this.props.value||"0"===this.props.value,onClick:function(){return e.props.onChange("0")},ref:this._instantButton})),l.a.createElement(d.a,null,l.a.createElement(h.a,null,l.a.createElement(s.Trans,{id:"The force will only push the object during the time of one frame. Typically used in an event with no conditions or with conditions that stay valid for a certain amount of time."})))),l.a.createElement(d.b,{expand:!0,alignItems:"center"},l.a.createElement(d.a,null,l.a.createElement(u.a,{label:l.a.createElement(s.Trans,{id:"Permanent"}),primary:"1"===this.props.value,onClick:function(){return e.props.onChange("1")}})),l.a.createElement(d.a,null,l.a.createElement(h.a,null,l.a.createElement(s.Trans,{id:'The force will push the object forever, unless you use the action "Stop the object". Typically used in an event with conditions that are only true once, or with a "Trigger Once" condition.'})))),t&&l.a.createElement(l.a.Fragment,null,l.a.createElement(m.a,null,l.a.createElement(s.Trans,{id:"or"})),l.a.createElement(d.b,{expand:!0},l.a.createElement(d.a,{expand:!0},l.a.createElement(p.a,Object.assign({expressionType:"number"},this.props)))),l.a.createElement(m.a,null,l.a.createElement(s.Trans,{id:'The usage of a number or expression is deprecated. Please now use only "Permanent" or "Instant" for configuring forces.'}))))}}]),n}(c.Component),b=function(e){var t=e.value;return"1"===t?l.a.createElement(s.Trans,{id:"a permanent"}):"0"===t||""===t?l.a.createElement(s.Trans,{id:"an instant"}):"a (multiplier: "+t+")"}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(15),c=n.n(s),l=n(195),u=n(359),d=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props.project?Object(u.d)(this.props.project).map((function(e){return{kind:"Text",completion:'"'.concat(e.getName(),'"')}})):[];return c.a.createElement(l.a,Object.assign({expressionType:"string",onGetAdditionalAutocompletions:function(e){return t.filter((function(t){return 0===t.completion.indexOf(e)}))},ref:function(t){return e._field=t}},this.props))}}]),n}(s.Component)},function(e,t,n){"use strict";var r=n(15),a=n(195),o=n(214),i=n(567);t.a=r.forwardRef((function(e,t){var n=r.useRef(null);r.useImperativeHandle(t,(function(){return{focus:function(){n.current&&n.current.focus()}}}));return r.createElement(a.a,Object.assign({expressionType:"string",onGetAdditionalAutocompletions:function(t){return function(){var t=e.scope,n=e.instruction,r=e.expression,a=e.parameterIndex,s=t.layout;if(!s)return[];var c=Object(o.e)(Object(o.d)({instruction:n,expression:r,parameterIndex:a}));if(null==c||!s.hasLayerNamed(c))return[];var l=s.getLayer(c);return Object(i.a)(l.getEffects()).sort().map((function(e){return{kind:"Text",completion:'"'.concat(e,'"')}}))}().filter((function(e){return 0===e.completion.indexOf(t)}))},ref:n},e))}))},function(e,t,n){"use strict";(function(e){var r=n(15),a=n(195),o=n(214),i=e.gd;t.a=r.forwardRef((function(e,t){var n=r.useRef(null);r.useImperativeHandle(t,(function(){return{focus:function(){n.current&&n.current.focus()}}}));return r.createElement(a.a,Object.assign({expressionType:"string",onGetAdditionalAutocompletions:function(t){return function(){var t=e.project,n=e.scope,r=e.instruction,a=e.expression,s=e.parameterIndex,c=n.layout;if(!c||!t)return[];var l=Object(o.e)(Object(o.d)({instruction:r,expression:a,parameterIndex:s?s-1:null}));if(null==l||!c.hasLayerNamed(l))return[];var u=c.getLayer(l),d=Object(o.e)(Object(o.d)({instruction:r,expression:a,parameterIndex:s}));if(!d||!u.getEffects().hasEffectNamed(d))return[];var p=u.getEffects().getEffect(d).getEffectType();return i.MetadataProvider.getEffectMetadata(t.getCurrentPlatform(),p).getProperties().keys().toJSArray().sort().map((function(e){return{kind:"Text",completion:'"'.concat(e,'"')}}))}().filter((function(e){return 0===e.completion.indexOf(t)}))},ref:n},e))}))}).call(this,n(8))},function(e,t,n){"use strict";var r=n(15),a=n(195),o=n(228),i=n(214),s=n(567);t.a=r.forwardRef((function(e,t){var n=r.useRef(null);r.useImperativeHandle(t,(function(){return{focus:function(){n.current&&n.current.focus()}}}));var c=e.project,l=e.scope,u=e.instructionMetadata,d=e.instruction,p=e.expressionMetadata,m=e.expression,f=e.parameterIndex,h=function(){var e=Object(i.b)({instructionMetadata:u,instruction:d,expressionMetadata:p,expression:m,parameterIndex:f});if(!e||!c)return[];var t=Object(o.a)(c,l.layout,e);return t?Object(s.a)(t.getEffects()).sort().map((function(e){return{kind:"Text",completion:'"'.concat(e,'"')}})):[]};return r.createElement(a.a,Object.assign({expressionType:"string",onGetAdditionalAutocompletions:function(e){return h().filter((function(t){return 0===t.completion.indexOf(e)}))},ref:n},e))}))},function(e,t,n){"use strict";(function(e){var r=n(15),a=n(195),o=n(228),i=n(214),s=e.gd;t.a=r.forwardRef((function(e,t){var n=r.useRef(null);r.useImperativeHandle(t,(function(){return{focus:function(){n.current&&n.current.focus()}}}));return r.createElement(a.a,Object.assign({expressionType:"string",onGetAdditionalAutocompletions:function(t){return function(){var t=e.project,n=e.scope,r=e.instructionMetadata,a=e.instruction,c=e.expressionMetadata,l=e.expression,u=e.parameterIndex,d=Object(i.b)({instructionMetadata:r,instruction:a,expressionMetadata:c,expression:l,parameterIndex:u}),p=Object(i.e)(Object(i.d)({instruction:a,expression:l,parameterIndex:u}));if(!d||!t||!p)return[];var m=Object(o.a)(t,n.layout,d);if(!m||!m.getEffects().hasEffectNamed(p))return[];var f=m.getEffects().getEffect(p).getEffectType();return s.MetadataProvider.getEffectMetadata(t.getCurrentPlatform(),f).getProperties().keys().toJSArray().sort().map((function(e){return{kind:"Text",completion:'"'.concat(e,'"')}}))}().filter((function(e){return 0===e.completion.indexOf(t)}))},ref:n},e))}))}).call(this,n(8))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(15),c=n.n(s),l=n(195),u=n(228),d=n(214),p=n(282),m=e.gd,f=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"getPointNames",value:function(){var e=this.props,t=e.project,n=e.scope,r=e.instructionMetadata,a=e.instruction,o=e.expressionMetadata,i=e.expression,s=e.parameterIndex,c=Object(d.b)({instructionMetadata:r,instruction:a,expressionMetadata:o,expression:i,parameterIndex:s});if(!c||!t)return[];var l=Object(u.a)(t,n.layout,c);if(!l)return[];if("Sprite"===l.getType()){var f=m.asSpriteObject(l);return Object(p.k)(f).map((function(e){return e.length>0?e:null})).filter(Boolean).sort().map((function(e){return{kind:"Text",completion:'"'.concat(e,'"')}}))}return[]}},{key:"render",value:function(){var e=this;return c.a.createElement(l.a,Object.assign({expressionType:"string",onGetAdditionalAutocompletions:function(t){return e.getPointNames().filter((function(e){return 0===e.completion.indexOf(t)}))},ref:function(t){return e._field=t}},this.props))}}]),n}(s.Component)}).call(this,n(8))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(15),c=n.n(s),l=n(195),u=n(228),d=n(214),p=n(131),m=e.gd,f=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"getAnimationNames",value:function(){var e=this.props,t=e.project,n=e.scope,r=e.instructionMetadata,a=e.instruction,o=e.expressionMetadata,i=e.expression,s=e.parameterIndex,c=Object(d.b)({instructionMetadata:r,instruction:a,expressionMetadata:o,expression:i,parameterIndex:s});if(!c||!t)return[];var l=Object(u.a)(t,n.layout,c);if(!l)return[];if("Sprite"===l.getType()){var f=m.asSpriteObject(l);return Object(p.mapFor)(0,f.getAnimationsCount(),(function(e){var t=f.getAnimation(e).getName();return t.length>0?t:null})).filter(Boolean).sort().map((function(e){return{kind:"Text",completion:'"'.concat(e,'"')}}))}return[]}},{key:"render",value:function(){var e=this;return c.a.createElement(l.a,Object.assign({expressionType:"string",onGetAdditionalAutocompletions:function(t){return e.getAnimationNames().filter((function(e){return 0===e.completion.indexOf(t)}))},ref:function(t){return e._field=t}},this.props))}}]),n}(s.Component)}).call(this,n(8))},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(15),c=n.n(s),l=n(195),u=n(799),d=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props.scope.eventsFunction?Object(u.a)(this.props.scope.eventsFunction).map((function(e){return{kind:"Text",completion:'"'.concat(e.getName(),'"')}})):[];return c.a.createElement(l.a,Object.assign({expressionType:"string",onGetAdditionalAutocompletions:function(e){return t.filter((function(t){return 0===t.completion.indexOf(e)}))},ref:function(t){return e._field=t}},this.props))}}]),n}(s.Component)},function(e,t,n){"use strict";var r=n(15),a=n(169);t.a=function(e){var t=e.children;return e.isEmpty?r.createElement("span",{className:a.j},"< ",t," >"):r.createElement("span",{className:a.j},t)}},function(e,t,n){"use strict";var r=n(15),a=n(169);t.a=function(){return r.createElement("span",{className:a.k})}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var r=n(119),a=n(3),o=n(4),i=n(6),s=n(5),c=n(115),l=n(15),u=n(171),d=n.n(u),p=n(135),m=n(169),f=n(163),h=e.gd,g={container:{height:"2.5em",display:"flex",alignItems:"center",padding:5,overflow:"hidden"},title:{fontSize:"1.3em",width:"100%"}},b=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={editing:!1},e._textField=null,e.edit=function(){e.setState({editing:!0},(function(){e._textField&&e._textField.focus()}))},e.endEditing=function(){e.setState({editing:!1})},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=h.asGroupEvent(this.props.event),n=t.getBackgroundColorR(),a=t.getBackgroundColorG(),o=t.getBackgroundColorB(),i=(n+a+o)/3>200?"black":"white";return l.createElement("div",{className:d()({[m.m]:!0,[m.n]:this.props.selected}),style:Object(r.a)(Object(r.a)({},g.container),{},{backgroundColor:"rgb(".concat(n,", ").concat(a,", ").concat(o,")")}),onClick:this.edit,onKeyPress:function(t){Object(f.a)(t)&&e.edit()},tabIndex:0},this.state.editing?l.createElement(p.b,{ref:function(t){return e._textField=t},value:t.getName(),hintText:{id:"<Enter group name>"},onBlur:this.endEditing,onChange:function(n,r){t.setName(r),e.forceUpdate()},style:g.title,inputStyle:{color:i,WebkitTextFillColor:i},underlineFocusStyle:{borderColor:i},fullWidth:!0,id:"group-title",onKeyUp:function(t){Object(f.b)(t)&&e.endEditing()},onKeyPress:function(t){Object(f.f)(t)&&e.endEditing()}}):l.createElement("span",{className:d()({[m.q]:!0,[m.d]:this.props.disabled}),style:Object(r.a)(Object(r.a)({},g.title),{},{color:i})},t.getName()?t.getName():l.createElement(c.Trans,{id:"<Enter group name>"})))}}]),n}(l.Component)}).call(this,n(8))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return v}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(119),c=n(15),l=n(171),u=n.n(l),d=n(135),p=n(188),m=n(169),f=n(163),h=e.gd,g={width:"100%"},b={container:{display:"flex",flexWrap:"wrap",padding:5,overflow:"hidden",minHeight:"2.1em"},commentTextField:g,commentSpan:Object(s.a)(Object(s.a)({},g),{},{boxSizing:"border-box",alignItems:"center",height:"100%",whiteSpace:"pre-wrap",lineHeight:1.5,border:1})},v=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={editing:!1},e.edit=function(){e.setState({editing:!0},(function(){e._textField&&e._textField.focus()}))},e.onEvent=function(t,n){h.asCommentEvent(e.props.event).setComment(n),e.props.onUpdate(),e.forceUpdate()},e.endEditing=function(){e._textField&&e.setState({editing:!1},(function(){return e.props.onUpdate()}))},e._getCommentHTML=function(){return h.asCommentEvent(e.props.event).getComment().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br>")},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=h.asCommentEvent(this.props.event),n=Object(p.g)(t.getBackgroundColorRed(),t.getBackgroundColorGreen(),t.getBackgroundColorBlue()),r=Object(p.g)(t.getTextColorRed(),t.getTextColorGreen(),t.getTextColorBlue());return c.createElement("div",{className:u()({[m.m]:!0,[m.n]:this.props.selected}),style:Object(s.a)(Object(s.a)({},b.container),{},{backgroundColor:"#".concat(n)}),onClick:this.edit,onKeyPress:function(t){Object(f.a)(t)&&e.edit()},tabIndex:0},this.state.editing?c.createElement(d.b,{multiline:!0,margin:"none",ref:function(t){return e._textField=t},value:t.getComment(),hintText:{id:"<Enter comment>"},onBlur:this.endEditing,onChange:this.onEvent,style:b.commentTextField,inputStyle:{color:"#".concat(r),padding:0,lineHeight:1.5,fontSize:"1em"},underlineFocusStyle:{borderColor:"#".concat(r)},fullWidth:!0,id:"comment-title",onKeyUp:function(t){Object(f.b)(t)&&e.endEditing()}}):c.createElement("span",{ref:function(t){return e._selectable=t},className:u()({[m.q]:!0,[m.d]:this.props.disabled}),style:Object(s.a)(Object(s.a)({},b.commentSpan),{},{color:"#".concat(r)}),dangerouslySetInnerHTML:{__html:this._getCommentHTML()}}))}}]),n}(c.Component)}).call(this,n(8))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return y}));var r=n(119),a=n(3),o=n(4),i=n(6),s=n(5),c=n(115),l=n(15),u=n(319),d=n(171),p=n.n(d),m=n(169),f=n(321),h=n(558),g=n(367),b=n(163),v=e.gd,E={container:{display:"flex",flexDirection:"column"},instructionsContainer:{display:"flex"},actionsList:{flex:1}},y=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._objectField=null,e.state={editing:!1,editingPreviousValue:null,anchorEl:null},e.edit=function(t){var n=v.asForEachEvent(e.props.event).getObjectToPick(),r=t.currentTarget;setTimeout((function(){return e.setState({editing:!0,editingPreviousValue:n,anchorEl:r},(function(){setTimeout((function(){e._objectField&&e._objectField.focus()}),10)}))}),10)},e.cancelEditing=function(){e.endEditing();var t=v.asForEachEvent(e.props.event),n=e.state.editingPreviousValue;null!=n&&(t.setObjectToPick(n),e.forceUpdate())},e.endEditing=function(){var t=e.state.anchorEl;t&&t.focus(),e.setState({editing:!1,editingPreviousValue:null,anchorEl:null})},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=v.asForEachEvent(this.props.event),n=t.getObjectToPick();return l.createElement("div",{style:E.container,className:p()({[m.m]:!0,[m.n]:this.props.selected,[m.h]:!0})},l.createElement("div",null,l.createElement("span",{className:p()({[m.q]:!0,[m.d]:this.props.disabled}),onClick:this.edit,onKeyPress:function(t){Object(b.a)(t)&&e.edit(t)},tabIndex:0},n?l.createElement(c.Trans,{id:"Repeat for each instance of {objectName}:",values:{objectName:n}}):l.createElement("i",null,l.createElement(c.Trans,{id:"Click to choose for which objects this event will be repeated"})))),l.createElement(g.a,{leftIndentWidth:this.props.leftIndentWidth,windowWidth:this.props.windowWidth,renderConditionsList:function(n){var r=n.style,a=n.className;return l.createElement(u.a,{instrsList:t.getConditions(),style:r,className:a,selection:e.props.selection,areConditions:!0,onAddNewInstruction:e.props.onAddNewInstruction,onPasteInstructions:e.props.onPasteInstructions,onMoveToInstruction:e.props.onMoveToInstruction,onMoveToInstructionsList:e.props.onMoveToInstructionsList,onInstructionClick:e.props.onInstructionClick,onInstructionDoubleClick:e.props.onInstructionDoubleClick,onInstructionContextMenu:e.props.onInstructionContextMenu,onAddInstructionContextMenu:e.props.onAddInstructionContextMenu,onParameterClick:e.props.onParameterClick,disabled:e.props.disabled,renderObjectThumbnail:e.props.renderObjectThumbnail,screenType:e.props.screenType,windowWidth:e.props.windowWidth})},renderActionsList:function(n){var a=n.className;return l.createElement(u.a,{instrsList:t.getActions(),style:Object(r.a)({},E.actionsList),className:a,selection:e.props.selection,areConditions:!1,onAddNewInstruction:e.props.onAddNewInstruction,onPasteInstructions:e.props.onPasteInstructions,onMoveToInstruction:e.props.onMoveToInstruction,onMoveToInstructionsList:e.props.onMoveToInstructionsList,onInstructionClick:e.props.onInstructionClick,onInstructionDoubleClick:e.props.onInstructionDoubleClick,onInstructionContextMenu:e.props.onInstructionContextMenu,onAddInstructionContextMenu:e.props.onAddInstructionContextMenu,onParameterClick:e.props.onParameterClick,disabled:e.props.disabled,renderObjectThumbnail:e.props.renderObjectThumbnail,screenType:e.props.screenType,windowWidth:e.props.windowWidth})}}),l.createElement(f.a,{open:this.state.editing,anchorEl:this.state.anchorEl,onRequestClose:this.cancelEditing,onApply:this.endEditing},l.createElement(h.a,{project:this.props.project,scope:this.props.scope,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,value:n,onChange:function(n){t.setObjectToPick(n),e.props.onUpdate()},isInline:!0,onRequestClose:this.cancelEditing,onApply:this.endEditing,ref:function(t){return e._objectField=t}})))}}]),n}(l.Component)}).call(this,n(8))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return y}));var r=n(119),a=n(3),o=n(4),i=n(6),s=n(5),c=n(115),l=n(15),u=n(319),d=n(171),p=n.n(d),m=n(169),f=n(321),h=n(800),g=n(367),b=n(163),v=e.gd,E={container:{display:"flex",flexDirection:"column"},instructionsContainer:{display:"flex"},actionsList:{flex:1},variableContainer:{marginLeft:"3px",marginRight:"2px"},eventLabel:{marginLeft:"5px",whiteSpace:"normal",wordWrap:"break-word"}},y=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._valueIteratorField=null,e._keyIteratorField=null,e._iterableField=null,e.state={editingValueIteratorVariableName:!1,editingKeyIteratorVariableName:!1,editingIterableVariableName:!1,editingPreviousValue:null,anchorEl:null},e.edit=function(t,n){var r=v.asForEachChildVariableEvent(e.props.event),a=r.getValueIteratorVariableName(),o=r.getKeyIteratorVariableName(),i=r.getIterableVariableName();setTimeout((function(){return e.setState({editingValueIteratorVariableName:"iteratorValue"===t,editingKeyIteratorVariableName:"iteratorKey"===t,editingIterableVariableName:"iterable"===t,editingPreviousValue:"iterable"===t?i:"iteratorValue"===t?a:o,anchorEl:n},(function(){setTimeout((function(){var n="iterable"===t?e._iterableField:"iteratorValue"===t?e._valueIteratorField:e._keyIteratorField;n&&n.focus()}),10)}))}),10)},e.cancelEditing=function(){e.endEditing();var t=v.asForEachChildVariableEvent(e.props.event),n=e.state,r=n.editingPreviousValue,a=n.editingIterableVariableName,o=n.editingValueIteratorVariableName,i=n.editingKeyIteratorVariableName;null!=r&&(a?t.setIterableVariableName(r):o?t.setValueIteratorVariableName(r):i&&t.setKeyIteratorVariableName(r),e.forceUpdate())},e.endEditing=function(){var t=e.state.anchorEl;t&&t.focus(),e.setState({editingKeyIteratorVariableName:!1,editingValueIteratorVariableName:!1,editingIterableVariableName:!1,editingPreviousValue:null,anchorEl:null})},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=v.asForEachChildVariableEvent(this.props.event),n=t.getValueIteratorVariableName(),a=t.getKeyIteratorVariableName(),o=t.getIterableVariableName();return l.createElement("div",{style:E.container,className:p()({[m.h]:!0,[m.m]:!0,[m.n]:this.props.selected})},l.createElement("div",{style:E.eventLabel},l.createElement(c.Trans,{id:"<0>For every child in<1><2/>{0}</1>, store the child in variable<3><4/>{1}</3>, the child name in<5><6/>{2}</5>and do:</0>",values:{0:0!==o.length?l.createElement("span",null,o):l.createElement("span",{className:"instruction-missing-parameter"},l.createElement(c.Trans,{id:"<Select a variable>"})),1:0!==n.length?l.createElement("span",null,n):l.createElement("span",null,l.createElement(c.Trans,{id:"<Select a variable> (optional)"})),2:0!==a.length?l.createElement("span",null,a):l.createElement("span",null,l.createElement(c.Trans,{id:"<Select a variable> (optional)"}))},components:[l.createElement("span",{className:p()({[m.d]:this.props.disabled})}),l.createElement("span",{className:p()({[m.q]:!0,[m.l]:!0,[m.p]:!0,scenevar:!0}),style:E.variableContainer,onClick:function(t){return e.edit("iterable",t.currentTarget)},onKeyPress:function(t){Object(b.a)(t)&&e.edit("iterable",t.currentTarget)},tabIndex:0}),l.createElement("img",{className:m.i,src:"res/types/scenevar.png",alt:"Scene variable"}),l.createElement("span",{className:p()({[m.q]:!0,[m.l]:!0,[m.p]:!0,scenevar:!0}),style:E.variableContainer,onClick:function(t){return e.edit("iteratorValue",t.currentTarget)},onKeyPress:function(t){Object(b.a)(t)&&e.edit("iteratorValue",t.currentTarget)},tabIndex:0}),l.createElement("img",{className:m.i,src:"res/types/scenevar.png",alt:"Scene variable"}),l.createElement("span",{className:p()({[m.q]:!0,[m.l]:!0,[m.p]:!0,scenevar:!0}),style:E.variableContainer,onClick:function(t){return e.edit("iteratorKey",t.currentTarget)},onKeyPress:function(t){Object(b.a)(t)&&e.edit("iteratorKey",t.currentTarget)},tabIndex:0}),l.createElement("img",{className:m.i,src:"res/types/scenevar.png",alt:"Scene variable"})]})),l.createElement(g.a,{leftIndentWidth:this.props.leftIndentWidth,windowWidth:this.props.windowWidth,renderConditionsList:function(n){var r=n.style,a=n.className;return l.createElement(u.a,{instrsList:t.getConditions(),style:r,className:a,selection:e.props.selection,areConditions:!0,onAddNewInstruction:e.props.onAddNewInstruction,onPasteInstructions:e.props.onPasteInstructions,onMoveToInstruction:e.props.onMoveToInstruction,onMoveToInstructionsList:e.props.onMoveToInstructionsList,onInstructionClick:e.props.onInstructionClick,onInstructionDoubleClick:e.props.onInstructionDoubleClick,onInstructionContextMenu:e.props.onInstructionContextMenu,onAddInstructionContextMenu:e.props.onAddInstructionContextMenu,onParameterClick:e.props.onParameterClick,disabled:e.props.disabled,renderObjectThumbnail:e.props.renderObjectThumbnail,screenType:e.props.screenType,windowWidth:e.props.windowWidth})},renderActionsList:function(n){var a=n.className;return l.createElement(u.a,{instrsList:t.getActions(),style:Object(r.a)({},E.actionsList),className:a,selection:e.props.selection,areConditions:!1,onAddNewInstruction:e.props.onAddNewInstruction,onPasteInstructions:e.props.onPasteInstructions,onMoveToInstruction:e.props.onMoveToInstruction,onMoveToInstructionsList:e.props.onMoveToInstructionsList,onInstructionClick:e.props.onInstructionClick,onInstructionDoubleClick:e.props.onInstructionDoubleClick,onInstructionContextMenu:e.props.onInstructionContextMenu,onAddInstructionContextMenu:e.props.onAddInstructionContextMenu,onParameterClick:e.props.onParameterClick,disabled:e.props.disabled,renderObjectThumbnail:e.props.renderObjectThumbnail,screenType:e.props.screenType,windowWidth:e.props.windowWidth})}}),l.createElement(f.a,{open:this.state.editingValueIteratorVariableName,anchorEl:this.state.anchorEl,onRequestClose:this.cancelEditing,onApply:this.endEditing},l.createElement(h.a,{project:this.props.project,scope:this.props.scope,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,value:n,onChange:function(n){t.setValueIteratorVariableName(n),e.props.onUpdate()},isInline:!0,onRequestClose:this.cancelEditing,onApply:this.endEditing,ref:function(t){return e._valueIteratorField=t}})),l.createElement(f.a,{open:this.state.editingKeyIteratorVariableName,anchorEl:this.state.anchorEl,onRequestClose:this.cancelEditing,onApply:this.endEditing},l.createElement(h.a,{project:this.props.project,scope:this.props.scope,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,value:a,onChange:function(n){t.setKeyIteratorVariableName(n),e.props.onUpdate()},isInline:!0,onRequestClose:this.cancelEditing,onApply:this.endEditing,ref:function(t){return e._keyIteratorField=t}})),l.createElement(f.a,{open:this.state.editingIterableVariableName,anchorEl:this.state.anchorEl,onRequestClose:this.cancelEditing,onApply:this.endEditing},l.createElement(h.a,{project:this.props.project,scope:this.props.scope,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,value:o,onChange:function(n){t.setIterableVariableName(n),e.props.onUpdate()},isInline:!0,onRequestClose:this.cancelEditing,onApply:this.endEditing,ref:function(t){return e._iterableField=t}})))}}]),n}(l.Component)}).call(this,n(8))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return y}));var r=n(119),a=n(3),o=n(4),i=n(6),s=n(5),c=n(115),l=n(15),u=n(319),d=n(171),p=n.n(d),m=n(169),f=n(321),h=n(784),g=n(367),b=n(163),v=e.gd,E={container:{display:"flex",flexDirection:"column"},instructionsContainer:{display:"flex"},actionsList:{flex:1}},y=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._field=null,e.state={editing:!1,editingPreviousValue:null,anchorEl:null},e.edit=function(t){var n=v.asRepeatEvent(e.props.event).getRepeatExpression(),r=t.currentTarget;setTimeout((function(){return e.setState({editing:!0,editingPreviousValue:n,anchorEl:r},(function(){setTimeout((function(){e._field&&e._field.focus()}),10)}))}),10)},e.cancelEditing=function(){e.endEditing();var t=v.asRepeatEvent(e.props.event),n=e.state.editingPreviousValue;null!=n&&(t.setRepeatExpression(n),e.forceUpdate())},e.endEditing=function(){var t=e.state.anchorEl;t&&t.focus(),e.setState({editing:!1,editingPreviousValue:null,anchorEl:null})},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=v.asRepeatEvent(this.props.event),n=t.getRepeatExpression();return l.createElement("div",{style:E.container,className:p()({[m.m]:!0,[m.n]:this.props.selected,[m.h]:!0})},l.createElement("div",null,l.createElement("span",{className:p()({[m.q]:!0,[m.d]:this.props.disabled}),onClick:this.edit,onKeyPress:function(t){Object(b.a)(t)&&e.edit(t)},tabIndex:0},n?l.createElement(c.Trans,{id:"Repeat {expression} times:",values:{expression:n}}):l.createElement("i",null,l.createElement(c.Trans,{id:"Click to choose how many times will be repeated"})))),l.createElement(g.a,{leftIndentWidth:this.props.leftIndentWidth,windowWidth:this.props.windowWidth,renderConditionsList:function(n){var r=n.style,a=n.className;return l.createElement(u.a,{instrsList:t.getConditions(),style:r,className:a,selection:e.props.selection,areConditions:!0,onAddNewInstruction:e.props.onAddNewInstruction,onPasteInstructions:e.props.onPasteInstructions,onMoveToInstruction:e.props.onMoveToInstruction,onMoveToInstructionsList:e.props.onMoveToInstructionsList,onInstructionClick:e.props.onInstructionClick,onInstructionDoubleClick:e.props.onInstructionDoubleClick,onInstructionContextMenu:e.props.onInstructionContextMenu,onAddInstructionContextMenu:e.props.onAddInstructionContextMenu,onParameterClick:e.props.onParameterClick,disabled:e.props.disabled,renderObjectThumbnail:e.props.renderObjectThumbnail,screenType:e.props.screenType,windowWidth:e.props.windowWidth})},renderActionsList:function(n){var a=n.className;return l.createElement(u.a,{instrsList:t.getActions(),style:Object(r.a)({},E.actionsList),className:a,selection:e.props.selection,areConditions:!1,onAddNewInstruction:e.props.onAddNewInstruction,onPasteInstructions:e.props.onPasteInstructions,onMoveToInstruction:e.props.onMoveToInstruction,onMoveToInstructionsList:e.props.onMoveToInstructionsList,onInstructionClick:e.props.onInstructionClick,onInstructionDoubleClick:e.props.onInstructionDoubleClick,onInstructionContextMenu:e.props.onInstructionContextMenu,onAddInstructionContextMenu:e.props.onAddInstructionContextMenu,onParameterClick:e.props.onParameterClick,disabled:e.props.disabled,renderObjectThumbnail:e.props.renderObjectThumbnail,screenType:e.props.screenType,windowWidth:e.props.windowWidth})}}),l.createElement(f.a,{open:this.state.editing,anchorEl:this.state.anchorEl,onRequestClose:this.cancelEditing,onApply:this.endEditing},l.createElement(h.a,{project:this.props.project,scope:this.props.scope,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,value:n,onChange:function(n){t.setRepeatExpression(n),e.props.onUpdate()},isInline:!0,ref:function(t){return e._field=t}})))}}]),n}(l.Component)}).call(this,n(8))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var r=n(119),a=n(3),o=n(4),i=n(6),s=n(5),c=n(115),l=n(15),u=n(319),d=n(171),p=n.n(d),m=n(169),f=n(367),h=e.gd,g={container:{display:"flex",flexDirection:"column"},instructionsContainer:{display:"flex"},actionsList:{flex:1}},b=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=h.asWhileEvent(this.props.event);return l.createElement("div",{style:g.container,className:p()({[m.m]:!0,[m.n]:this.props.selected,[m.h]:!0})},l.createElement("div",{className:p()({[m.d]:this.props.disabled})},l.createElement(c.Trans,{id:"While these conditions are true:"})),l.createElement(u.a,{instrsList:t.getWhileConditions(),style:{},className:m.c,selection:this.props.selection,areConditions:!0,onAddNewInstruction:this.props.onAddNewInstruction,onPasteInstructions:this.props.onPasteInstructions,onMoveToInstruction:this.props.onMoveToInstruction,onMoveToInstructionsList:this.props.onMoveToInstructionsList,onInstructionClick:this.props.onInstructionClick,onInstructionDoubleClick:this.props.onInstructionDoubleClick,onInstructionContextMenu:this.props.onInstructionContextMenu,onAddInstructionContextMenu:this.props.onAddInstructionContextMenu,onParameterClick:this.props.onParameterClick,disabled:this.props.disabled,renderObjectThumbnail:this.props.renderObjectThumbnail,screenType:this.props.screenType,windowWidth:this.props.windowWidth}),l.createElement("div",{className:p()({[m.d]:this.props.disabled})},l.createElement(c.Trans,{id:"Repeat these:"})),l.createElement(f.a,{leftIndentWidth:this.props.leftIndentWidth,windowWidth:this.props.windowWidth,renderConditionsList:function(n){var r=n.style,a=n.className;return l.createElement(u.a,{instrsList:t.getConditions(),style:r,className:a,selection:e.props.selection,areConditions:!0,onAddNewInstruction:e.props.onAddNewInstruction,onPasteInstructions:e.props.onPasteInstructions,onMoveToInstruction:e.props.onMoveToInstruction,onMoveToInstructionsList:e.props.onMoveToInstructionsList,onInstructionClick:e.props.onInstructionClick,onInstructionDoubleClick:e.props.onInstructionDoubleClick,onInstructionContextMenu:e.props.onInstructionContextMenu,onAddInstructionContextMenu:e.props.onAddInstructionContextMenu,onParameterClick:e.props.onParameterClick,disabled:e.props.disabled,renderObjectThumbnail:e.props.renderObjectThumbnail,screenType:e.props.screenType,windowWidth:e.props.windowWidth})},renderActionsList:function(n){var a=n.className;return l.createElement(u.a,{instrsList:t.getActions(),style:Object(r.a)({},g.actionsList),className:a,selection:e.props.selection,areConditions:!1,onAddNewInstruction:e.props.onAddNewInstruction,onPasteInstructions:e.props.onPasteInstructions,onMoveToInstruction:e.props.onMoveToInstruction,onMoveToInstructionsList:e.props.onMoveToInstructionsList,onInstructionClick:e.props.onInstructionClick,onInstructionDoubleClick:e.props.onInstructionDoubleClick,onInstructionContextMenu:e.props.onInstructionContextMenu,onAddInstructionContextMenu:e.props.onAddInstructionContextMenu,onParameterClick:e.props.onParameterClick,disabled:e.props.disabled,renderObjectThumbnail:e.props.renderObjectThumbnail,screenType:e.props.screenType,windowWidth:e.props.windowWidth})}}))}}]),n}(l.Component)}).call(this,n(8))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return C}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n(348),u=n.n(l),d=n(138),p=n(171),m=n.n(p),f=n(169),h=n(321),g=n(1467),b=n(30),v=n(163),E=e.gd,y={container:{height:"4em",display:"flex",alignItems:"center",padding:5},title:{fontSize:"1.2em",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},openInNewIcon:{fontSize:"1.5em"}},C=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._externalEventsAutoComplete=null,e.state={editing:!1,editingPreviousValue:null,anchorEl:null},e.edit=function(t){var n=E.asLinkEvent(e.props.event).getTarget(),r=t.currentTarget;setTimeout((function(){return e.setState({editing:!0,editingPreviousValue:n,anchorEl:r},(function(){setTimeout((function(){e._externalEventsAutoComplete&&e._externalEventsAutoComplete.focus()}),10)}))}),10)},e.openTarget=function(t){var n=e.props,r=n.project,a=n.event,o=n.onOpenLayout,i=n.onOpenExternalEvents,s=E.asLinkEvent(a).getTarget();r.hasExternalEventsNamed(s)?i(s):r.hasLayoutNamed(s)?o(s):Object(b.c)(t._({id:"The specified external events do not exist in the game. Be sure that the name is correctly spelled or create them using the project manager."}))},e.cancelEditing=function(){e.endEditing();var t=E.asLinkEvent(e.props.event),n=e.state.editingPreviousValue;null!=n&&(t.setTarget(n),e.forceUpdate())},e.endEditing=function(){var t=e.state.anchorEl;t&&t.focus(),e.setState({editing:!1,editingPreviousValue:null,anchorEl:null})},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=E.asLinkEvent(this.props.event),n=t.getTarget();return c.createElement(s.I18n,null,(function(r){var a=r.i18n;return c.createElement("div",{className:m()({[f.m]:!0,[f.n]:e.props.selected,[f.o]:!0}),style:y.container},c.createElement("span",{style:y.title,className:m()({[f.d]:e.props.disabled})},e.props.scope.layout?c.createElement(c.Fragment,null,c.createElement(s.Trans,{id:"Include events from"})," ",c.createElement("i",{className:m()({[f.q]:!0}),onClick:e.edit,onKeyPress:function(t){Object(v.a)(t)&&e.edit(t)},tabIndex:0},n||c.createElement(s.Trans,{id:"<Enter the name of external events>"}))," "):c.createElement(s.Trans,{id:"Links can't be used outside of a scene."})),c.createElement(d.a,{onClick:function(){return e.openTarget(a)},disabled:!n},c.createElement(u.a,{style:y.openInNewIcon})),c.createElement(h.a,{open:e.state.editing,anchorEl:e.state.anchorEl,onRequestClose:e.cancelEditing,onApply:e.endEditing},c.createElement(g.a,{project:e.props.project,value:n,sceneName:e.props.scope.layout?e.props.scope.layout.getName():void 0,externalEventsName:e.props.scope.externalEvents?e.props.scope.externalEvents.getName():void 0,onChange:function(n){t.setTarget(n),e.props.onUpdate()},isInline:!0,onRequestClose:e.cancelEditing,onApply:e.endEditing,ref:function(t){return e._externalEventsAutoComplete=t}})))}))}}]),n}(c.Component)}).call(this,n(8))},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(18),c=n(15),l=n(359),u=n(212),d=function(e,t,n){if(!n||!e)return[];var r=Object(l.b)(n).filter((function(e){return e.getName()!==t})).map((function(e){return{text:e.getName(),value:e.getName()}})),a=Object(l.d)(n).filter((function(t){return t.getName()!==e})).map((function(e){return{text:e.getName(),value:e.getName()}}));return[].concat(Object(s.a)(r),[{type:"separator"}],Object(s.a)(a))},p=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"focus",value:function(){this._field&&this._field.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,r=t.onChange,a=t.onRequestClose,o=t.onApply,i=t.isInline,s=t.project,l=t.sceneName,p=t.externalEventsName;return c.createElement(u.a,{margin:this.props.isInline?"none":"dense",fullWidth:!0,id:"external-events-field",value:n,onChange:r,onRequestClose:a,onApply:o,dataSource:d(l,p,s),openOnFocus:!i,ref:function(t){return e._field=t}})}}]),n}(c.Component)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return k}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n(171),u=n.n(l),d=n(349),p=n.n(d),m=n(674),f=n.n(m),h=n(2092),g=n(321),b=n(558),v=n(169),E=n(269),y=n(568),C=n(2010),j=n(163),O=e.gd,x={container:{minHeight:30,display:"flex",flexDirection:"column",backgroundColor:"#1e1e1e"},wrappingText:{fontFamily:'"Lucida Console", Monaco, monospace',fontSize:"0.95em",paddingLeft:5,paddingRight:5,paddingTop:2,paddingBottom:2,margin:0,backgroundColor:"#1e1e1e",color:"#d4d4d4",overflowX:"hidden",maxWidth:"100%"},comment:{color:"#777"},commentLink:{cursor:"pointer",color:"#777",textDecoration:"underline"},expandIcon:{color:"#d4d4d4"}},k=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._objectField=null,e.state={editingObject:!1,editingPreviousValue:null,anchorEl:null},e.onChange=function(t){O.asJsCodeEvent(e.props.event).setInlineCode(t)},e.editObject=function(t){var n=O.asJsCodeEvent(e.props.event).getParameterObjects(),r=t.currentTarget;setTimeout((function(){return e.setState({editingObject:!0,editingPreviousValue:n,anchorEl:r},(function(){setTimeout((function(){e._objectField&&e._objectField.focus()}),10)}))}),10)},e.cancelObjectEditing=function(){e.endObjectEditing();var t=O.asJsCodeEvent(e.props.event),n=e.state.editingPreviousValue;null!=n&&(t.setParameterObjects(n),e.forceUpdate())},e.endObjectEditing=function(){var t=e.state.anchorEl;t&&t.focus(),e.setState({editingObject:!1,editingPreviousValue:null,anchorEl:null})},e.toggleExpanded=function(){var t=O.asJsCodeEvent(e.props.event);t.setEventsSheetExpanded(!t.isEventsSheetExpanded())},e._getCodeEditorHeight=function(){if(!O.asJsCodeEvent(e.props.event).isEventsSheetExpanded())return 200;var t=e.props.eventsSheetHeight-100;return Math.max(200,t)},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=O.asJsCodeEvent(this.props.event),n=t.getParameterObjects(),r=this.props.disabled?x.comment:void 0,a=c.createElement("span",{className:u()({[v.q]:!0}),onClick:this.editObject,onKeyPress:function(t){Object(j.a)(t)&&e.editObject(t)},tabIndex:0,style:r},n?c.createElement(s.Trans,{id:", objects /*{parameterObjects}*/",values:{parameterObjects:n}}):c.createElement(c.Fragment,null," ",c.createElement(s.Trans,{id:"/* Click here to choose objects to pass to JavaScript */"}))),o=this.props.scope.eventsFunction?c.createElement("span",{style:r},", eventsFunctionContext"):null,i=c.createElement("p",{style:x.wrappingText},c.createElement("span",{style:r},this.props.disabled?"/*":"","(function(runtimeScene"),a,o,c.createElement("span",{style:r},") {")),l=c.createElement("p",{style:x.wrappingText},c.createElement("span",{style:r},"})(runtimeScene"),a,o,c.createElement("span",{style:r},");",this.props.disabled?"*/":""),c.createElement("span",{style:x.comment}," // ",c.createElement("a",{href:Object(E.a)("/events/js-code"),target:"_blank",rel:"noopener noreferrer",style:x.commentLink},"Read the documentation and help"))),d=c.createElement("div",{style:x.expandIcon},t.isEventsSheetExpanded()?c.createElement(f.a,{fontSize:"small",color:"inherit"}):c.createElement(p.a,{fontSize:"small",color:"inherit"}));return c.createElement(y.a,{bounds:!0},(function(r){var a=r.measureRef,o=r.contentRect;return c.createElement("div",{style:x.container,className:u()({[v.m]:!0,[v.n]:e.props.selected}),ref:a},i,c.createElement(C.a,{value:t.getInlineCode(),onChange:e.onChange,width:o.bounds.width-5,height:e._getCodeEditorHeight(),onEditorMounted:function(){return e.props.onUpdate()}}),l,c.createElement(h.a,{onClick:e.toggleExpanded,fullWidth:!0,size:"small"},d),c.createElement(g.a,{open:e.state.editingObject,anchorEl:e.state.anchorEl,onRequestClose:e.cancelObjectEditing,onApply:e.endObjectEditing},c.createElement(b.a,{project:e.props.project,scope:e.props.scope,globalObjectsContainer:e.props.globalObjectsContainer,objectsContainer:e.props.objectsContainer,value:n,onChange:function(n){t.setParameterObjects(n),e.props.onUpdate()},isInline:!0,onRequestClose:e.cancelObjectEditing,onApply:e.endObjectEditing,ref:function(t){return e._objectField=t}})))}))}}]),n}(c.Component)}).call(this,n(8))},,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(3),a=n(4),o=function(){function e(t){Object(r.a)(this,e),this.eventHeights={},this.updateTimeoutId=null,this.component=null,this.component=t}return Object(a.a)(e,[{key:"_notifyComponent",value:function(){var e=this;this.updateTimeoutId||(this.updateTimeoutId=setTimeout((function(){e.component?e.component.onHeightsChanged((function(){return e.updateTimeoutId=null})):e.updateTimeoutId=null}),0))}},{key:"setEventHeight",value:function(e,t){var n=this.eventHeights[e.ptr];void 0!==n&&n===t||this._notifyComponent(),this.eventHeights[e.ptr]=t}},{key:"getEventHeight",value:function(e){return this.eventHeights[e.ptr]||60}}]),e}()},,function(e,t,n){},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(115),a=n(15),o=n(117),i=n(186),s=n(804),c={addButton:{cursor:"pointer"}},l=function(e){return function(){return Object(s.a)().map((function(t){return{label:t.fullName,click:function(){return e(t.type)}}}))}};function u(e){var t=e.onAddEvent;return a.createElement(o.a,null,a.createElement(o.b,{justifyContent:"space-between"},a.createElement(i.a,{openMenuWithSecondaryClick:!0,element:a.createElement("button",{style:c.addButton,className:"add-link",onClick:function(){return t("BuiltinCommonInstructions::Standard")}},a.createElement(r.Trans,{id:"Add a new event"})),buildMenuTemplate:l(t)}),a.createElement(i.a,{element:a.createElement("button",{style:c.addButton,className:"add-link"},a.createElement(r.Trans,{id:"Add..."})),buildMenuTemplate:l(t)})))}},function(e,t,n){"use strict";var r=n(115),a=n(15),o=n(142),i=n(125),s=n(405);t.a=function(){return a.createElement(s.a,{renderButtons:function(){return a.createElement(o.a,{helpPagePath:"/events"})}},a.createElement(i.a,null,a.createElement(r.Trans,{id:"There are no events here."})),a.createElement(i.a,null,a.createElement(r.Trans,{id:"Events are composed of conditions (on the left of an event) and actions (on the right). When conditions are fulfilled, the actions are executed."})),a.createElement(i.a,null,a.createElement(r.Trans,{id:'Add your first event using the button "Add a new event".'})))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var r=n(26),a=n(115),o=n(15),i=n(128),s=n(124),c=n(805),l=n(807),u=n(428),d=n(142),p=n(808),m=n(146),f=n(570),h=n(809),g=n(148),b=n(228),v=n(811),E=n(727),y={fullHeightSelector:{flex:1,display:"flex",flexDirection:"column"}};function C(e){var t=e.project,n=e.globalObjectsContainer,C=e.objectsContainer,j=e.onCancel,O=e.open,x=e.instruction,k=e.isCondition,T=e.isNewInstruction,w=e.scope,S=e.onSubmit,P=e.resourceSources,_=e.onChooseResource,I=e.resourceExternalEditors,N=e.openInstructionOrExpression,A=Object(g.a)(),R=Object(f.b)({instruction:x,isCondition:k,project:t,isNewInstruction:T,scope:w,globalObjectsContainer:n,objectsContainer:C}),M=Object(r.a)(R,2),F=M[0],L=M[1],B=F.chosenObjectName,D=F.chosenObjectInstructionsInfo,U=F.chosenObjectInstructionsInfoTree,G=L.chooseInstruction,V=L.chooseObject,W=L.chooseObjectInstruction,H=!!D&&!!U,z=B?Object(b.a)(t,w.layout,B):null,Y=o.useRef(null),q=o.useState((function(){return function(e){return e?"object-or-free-instructions":"parameters"}(T)})),X=Object(r.a)(q,2),K=X[0],J=X[1],Z=o.useState((function(){return function(e,t){return e||t?"objects":"free-instructions"}(T,H)})),Q=Object(r.a)(Z,2),$=Q[0],ee=Q[1],te=Object(m.b)(),ne=x.getType(),re=o.useState(!1),ae=Object(r.a)(re,2),oe=ae[0],ie=ae[1],se=o.useState(!1),ce=Object(r.a)(se,2),le=ce[0],ue=ce[1],de=o.useRef(null);o.useEffect((function(){"parameters"===K&&de.current&&de.current.focus()}),[K]);var pe=Object(f.a)({instructionType:ne,isCondition:k,project:t}),me=pe?pe.getHelpPath():void 0;return o.createElement(o.Fragment,null,o.createElement(i.a,{onApply:ne?S:null,actions:[o.createElement(s.a,{label:o.createElement(a.Trans,{id:"Cancel"}),primary:!1,onClick:j,key:"cancel"}),o.createElement(s.a,{label:o.createElement(a.Trans,{id:"Ok"}),primary:!0,keyboardFocused:!1,disabled:!ne,onClick:S,key:"ok"})],secondaryActions:["large"!==te&&"object-or-free-instructions"!==K?o.createElement(s.a,{label:o.createElement(a.Trans,{id:"Back"}),primary:!1,onClick:function(){return function(e,t){J("parameters"===e&&B?"medium"===t?"object-or-free-instructions":"object-instructions":"object-or-free-instructions")}(K,te)},key:"back"}):null,o.createElement(d.a,{key:"help",helpPagePath:me||"/events",label:me&&"small"!==te&&"object-or-free-instructions"!==K?k?o.createElement(a.Trans,{id:"Help for this condition"}):o.createElement(a.Trans,{id:"Help for this action"}):o.createElement(a.Trans,{id:"Help"})})],open:O,onRequestClose:j,cannotBeDismissed:!0,maxWidth:!1,noMargin:!0,flexRowBody:!0,fullHeight:!0},o.createElement(p.a,{columnsRenderer:{"instruction-or-object-selector":function(){return o.createElement(l.a,{key:"instruction-or-object-selector",style:y.fullHeightSelector,project:t,scope:w,ref:Y,currentTab:$,onChangeTab:ee,globalObjectsContainer:n,objectsContainer:C,isCondition:k,chosenInstructionType:B?void 0:ne,onChooseInstruction:function(e){G(e),J("parameters")},chosenObjectName:B,onChooseObject:function(e){V(e),J("object-instructions")},focusOnMount:!ne,onSearchStartOrReset:A,onClickMore:function(){return ue(!0)}})},"object-instruction-selector":function(){return U&&D?o.createElement(u.a,{key:"object-instruction-selector",style:y.fullHeightSelector,instructionsInfo:D,instructionsInfoTree:U,iconSize:24,onChoose:function(e){W(e),J("parameters")},selectedType:ne,useSubheaders:!0,focusOnMount:!ne,searchPlaceholderObjectName:B,searchPlaceholderIsCondition:k,onClickMore:function(){return ie(!0)}}):null},parameters:function(){return o.createElement(c.a,{key:"parameters",project:t,scope:w,globalObjectsContainer:n,objectsContainer:C,objectName:B,isCondition:k,instruction:x,resourceSources:P,onChooseResource:_,resourceExternalEditors:I,openInstructionOrExpression:N,ref:de,focusOnMount:!!ne,noHelpButton:!0})}},getColumns:function(){return"large"===te?B?["instruction-or-object-selector","object-instruction-selector","parameters"]:["instruction-or-object-selector","parameters"]:"medium"===te?"object-or-free-instructions"===K?["instruction-or-object-selector"]:B?["object-instruction-selector","parameters"]:["parameters"]:"object-or-free-instructions"===K?["instruction-or-object-selector"]:"object-instructions"===K?["object-instruction-selector"]:["parameters"]}})),oe&&z&&o.createElement(h.a,{project:t,open:oe,objectType:z.getType(),objectBehaviorsTypes:Object(v.b)(z),onClose:function(){return ie(!1)},onChoose:function(e,n){z&&(Object(v.a)(t,z,e,n)&&ie(!1),V(z.getName()))}}),le&&o.createElement(E.a,{project:t,onClose:function(){return ue(!1)},onInstallExtension:function(){},onExtensionInstalled:function(){ue(!1),Y.current&&Y.current.reEnumerateInstructions()}}))}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t,n){var r=[".","=","-"],a="-";return"undefined"!=typeof n&&(r=n),"undefined"!=typeof t&&(a=t),e.replace(/\xfc/g,"ue").replace(/\xe4/g,"ae").replace(/\xf6/g,"oe").replace(/\xdf/g,"ss").replace(new RegExp("["+r.join("")+"]","g")," ").replace(/-{2,}/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"").replace(/[^\w ]/gi,"").replace(/[ ]/gi,a)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n(131),a=function(e){return Object(r.mapVector)(e,(function(e){return{name:e.getName(),type:e.getType(),description:e.getDescription(),group:e.getGroup(),label:e.getLabel(),value:e.getValue(),extraInfo:e.getExtraInfo().toJSArray(),isHidden:e.isHidden()}}))},o=function(e,t){return t.setType(e.type).setDescription(e.description).setGroup(e.group).setLabel(e.label).setValue(e.value).setHidden(e.isHidden),e.extraInfo.forEach((function(e){t.addExtraInfo(e)})),t}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(15),a=n(151),o=n(210),i=n(320),s=function(e){var t=e.groupWithContext,n=e.iconSize,s=e.onClick,c=e.selectedValue,l=t.group.getName();return r.createElement(a.b,{key:Object(i.c)(t),selected:c===Object(i.e)(l),primaryText:l,leftIcon:r.createElement(o.a,{iconSize:n,src:"res/ribbon_default/objectsgroups64.png"}),onClick:s})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(15),a=n(151),o=n(210),i=n(227),s=n(320),c=function(e){var t=e.project,n=e.objectWithContext,c=e.iconSize,l=e.onClick,u=e.selectedValue,d=n.object.getName();return r.createElement(a.b,{key:Object(s.d)(n),selected:u===Object(s.e)(d),primaryText:d,leftIcon:r.createElement(o.a,{iconSize:c,src:i.a.getThumbnail(t,n.object)}),onClick:l})}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(26),a=n(115),o=n(2084),i=n(15),s=n(570),c=n(807),l=n(428),u=n(808),d=n(148),p=n(571),m=n(124),f=n(683),h=n(117),g={fullHeightSelector:{flex:1,display:"flex",flexDirection:"column",height:"400px",width:"400px"}};function b(e){var t=e.project,n=e.globalObjectsContainer,b=e.objectsContainer,v=e.onCancel,E=e.open,y=e.instruction,C=e.isCondition,j=e.isNewInstruction,O=e.anchorEl,x=e.scope,k=e.onSubmit,T=e.canPasteInstructions,w=e.onPasteInstructions,S=Object(d.a)(),P=Object(s.b)({instruction:y,isCondition:C,project:t,isNewInstruction:j,scope:x,globalObjectsContainer:n,objectsContainer:b}),_=Object(r.a)(P,2),I=_[0],N=_[1],A=I.chosenObjectName,R=I.chosenObjectInstructionsInfo,M=I.chosenObjectInstructionsInfoTree,F=N.chooseInstruction,L=N.chooseObject,B=N.chooseObjectInstruction,D=i.useState("object-or-free-instructions"),U=Object(r.a)(D,2),G=U[0],V=U[1],W=i.useState("objects"),H=Object(r.a)(W,2),z=H[0],Y=H[1],q=y.getType(),X=function(e){var r=e.instruction,a=e.chosenObjectName,o=Object(s.a)({instructionType:r.getType(),isCondition:C,project:t});o&&Object(p.a)(n,b,r,o,a),k()};return i.createElement(o.a,{open:E,onClose:v,anchorEl:O,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"}},i.createElement(u.a,{columnsRenderer:{"instruction-or-object-selector":function(){return i.createElement(c.a,{key:"instruction-or-object-selector",style:g.fullHeightSelector,project:t,scope:x,currentTab:z,onChangeTab:Y,globalObjectsContainer:n,objectsContainer:b,isCondition:C,chosenInstructionType:A?void 0:q,onChooseInstruction:function(e){var t=F(e),n=t.instruction,r=t.chosenObjectName;X({instruction:n,chosenObjectName:r})},chosenObjectName:A,onChooseObject:function(e){L(e),V("object-instructions")},focusOnMount:!q,onSearchStartOrReset:S})},"object-instruction-selector":function(){return M&&R?i.createElement(l.a,{key:"object-instruction-selector",style:g.fullHeightSelector,instructionsInfo:R,instructionsInfoTree:M,iconSize:24,onChoose:function(e){var t=B(e),n=t.instruction,r=t.chosenObjectName;X({instruction:n,chosenObjectName:r})},selectedType:q,useSubheaders:!0,focusOnMount:!q,searchPlaceholderObjectName:A,searchPlaceholderIsCondition:C}):null}},getColumns:function(){return"object-or-free-instructions"===G?["instruction-or-object-selector"]:["object-instruction-selector"]}}),i.createElement(h.b,{noMargin:!0,justifyContent:"flex-end"},i.createElement(m.a,{label:C?i.createElement(a.Trans,{id:"Paste condition(s)"}):i.createElement(a.Trans,{id:"Paste action(s)"}),icon:i.createElement(f.a,null),disabled:!T,onClick:function(){return w()}})))}},function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return g}));var r=n(26),a=n(115),o=n(15),i=n(128),s=n(124),c=n(117),l=n(356),u=n(215),d=n(141),p=e.gd,m={sizeTextField:{width:90}},f={r:255,g:255,b:255},h={r:0,g:0,b:0},g=function(e){return e.filter((function(e){return["BuiltinCommonInstructions::Group","BuiltinCommonInstructions::Comment"].includes(e.getType())}))};t.a=function(e){var t=e.event,n=e.onClose,g=o.useState(""),b=Object(r.a)(g,2),v=b[0],E=b[1],y=o.useState(h),C=Object(r.a)(y,2),j=C[0],O=C[1],x=o.useState(h),k=Object(r.a)(x,2),T=k[0],w=k[1],S=t.getType();o.useEffect((function(){if("BuiltinCommonInstructions::Comment"===S){var e=p.asCommentEvent(t);O({r:e.getTextColorRed(),g:e.getTextColorGreen(),b:e.getTextColorBlue()}),w({r:e.getBackgroundColorRed(),g:e.getBackgroundColorGreen(),b:e.getBackgroundColorBlue()}),E(p.asCommentEvent(t).getComment())}else if("BuiltinCommonInstructions::Group"===S){var n=p.asGroupEvent(t),r=n.getBackgroundColorR(),a=n.getBackgroundColorG(),o=n.getBackgroundColorB();O((function(){return(r+a+o)/3>200?h:f})),w({r:n.getBackgroundColorR(),g:n.getBackgroundColorG(),b:n.getBackgroundColorB()}),E(p.asGroupEvent(t).getName())}else console.error("Dialog was opened for an unsupported event type: "+S)}),[t,S]);var P=o.useCallback((function(){"BuiltinCommonInstructions::Comment"===S?(p.asCommentEvent(t).setComment(v),p.asCommentEvent(t).setTextColor(j.r,j.g,j.b),p.asCommentEvent(t).setBackgroundColor(T.r,T.g,T.b)):"BuiltinCommonInstructions::Group"===S&&(p.asGroupEvent(t).setName(v),p.asGroupEvent(t).setBackgroundColor(T.r,T.g,T.b)),e.onApply()}),[e,t,S,v,j,T]);return o.createElement(i.a,{onApply:P,title:o.createElement(a.Trans,{id:"Edit the event text"}),onRequestClose:n,cannotBeDismissed:!0,open:!0,noMargin:!0,actions:[o.createElement(s.a,{key:"close",label:o.createElement(a.Trans,{id:"Cancel"}),primary:!1,onClick:n}),o.createElement(s.a,{key:"Apply",label:o.createElement(a.Trans,{id:"Apply"}),primary:!0,keyboardFocused:!0,onClick:P})]},o.createElement(c.a,{noMargin:!0},o.createElement(u.b,null,o.createElement(u.a,{firstChild:!0},o.createElement(a.Trans,{id:"Background color:"})),o.createElement(l.a,{style:m.sizeTextField,disableAlpha:!0,color:T,onChangeComplete:function(e){w(e.rgb)}}),"BuiltinCommonInstructions::Comment"===S&&o.createElement(o.Fragment,null,o.createElement(u.a,null,o.createElement(a.Trans,{id:"Text color:"})),o.createElement(l.a,{style:m.sizeTextField,disableAlpha:!0,color:j,onChangeComplete:function(e){O(e.rgb)}}))),o.createElement(c.b,{noMargin:!0},o.createElement(c.a,{expand:!0},o.createElement(c.b,null,o.createElement(d.a,{commitOnBlur:!0,hintText:{id:"Enter the text to be displayed"},fullWidth:!0,multiline:!0,rows:8,rowsMax:30,value:v,onChange:function(e){E(e)}}))))))}}).call(this,n(8))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(15),c=n(321),l=n(557),u=n(571),d=n(258),p=e.gd,m=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={parameterMetadata:null,instructionMetadata:null,ParameterComponent:null},e._onApply=function(){var t=e.props.instruction,n=e.state.instructionMetadata;if(t&&n){var r=Object(d.g)(n);Object(u.a)(e.props.globalObjectsContainer,e.props.objectsContainer,t,n,-1!==r?t.getParameter(r):null)}e.props.onApply()},e}return Object(a.a)(n,[{key:"componentWillReceiveProps",value:function(e){(e.open&&!this.props.open||e.instruction!==this.props.instruction)&&this._loadComponentFromInstruction(e)}},{key:"_unload",value:function(){this.setState({ParameterComponent:null,parameterMetadata:null,instructionMetadata:null})}},{key:"_loadComponentFromInstruction",value:function(e){var t=this,n=e.project,r=e.isCondition,a=e.instruction,o=e.parameterIndex;if(!a)return this._unload();var i=a.getType(),s=r?p.MetadataProvider.getConditionMetadata(n.getCurrentPlatform(),i):p.MetadataProvider.getActionMetadata(n.getCurrentPlatform(),i);if(o>=s.getParametersCount())return this._unload();var c=s.getParameter(o),u=l.a.getParameterComponent(c.getType());this.setState({ParameterComponent:u,parameterMetadata:c,instructionMetadata:s},(function(){setTimeout((function(){t._field&&t._field.focus&&t._field.focus()}),10)}))}},{key:"render",value:function(){var e=this;if(!this.state.ParameterComponent||!this.props.open)return null;var t=this.props.instruction;if(!t)return null;var n=this.state.ParameterComponent;return s.createElement(c.a,{open:this.props.open,anchorEl:this.props.anchorEl,onRequestClose:this.props.onRequestClose,onApply:this._onApply},s.createElement(n,{instruction:t,instructionMetadata:this.state.instructionMetadata,parameterMetadata:this.state.parameterMetadata,parameterIndex:this.props.parameterIndex,value:t.getParameter(this.props.parameterIndex),onChange:this.props.onChange,onRequestClose:this.props.onRequestClose,onApply:this._onApply,project:this.props.project,scope:this.props.scope,globalObjectsContainer:this.props.globalObjectsContainer,objectsContainer:this.props.objectsContainer,key:t.ptr,ref:function(t){return e._field=t},parameterRenderingService:l.a,isInline:!0,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors}))}}]),n}(s.Component)}).call(this,n(8))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var r=e.gd,a=function(e){for(var t=!1,n=!1,a=e.size()-1;a>=0;--a){var o=e.get(a);a===e.size()-1?"BuiltinCommonInstructions::Once"===o.getType()&&(t=!0):"BuiltinCommonInstructions::Once"===o.getType()&&(e.removeAt(a),n=!0)}if(n&&!t){var i=new r.Instruction;i.setType("BuiltinCommonInstructions::Once"),e.insert(i,e.size()),i.delete()}return n}}).call(this,n(8))},function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return m}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n(128),u=n(124),d=n(125),p=function(e){var t=e.getObjectNames().toNewVectorString().toJSArray(),n=e.getReferencedObjectOrGroupNames().toNewVectorString().toJSArray(),r={};return n.forEach((function(t){var n=e.getBehaviorNamesOfObjectOrGroup(t).toNewVectorString().toJSArray();n.length&&(r[t]=n)})),{objectsNames:t,objectOrGroupNames:n,objectOrGroupBehaviorNames:r}},m=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onClose,n=e.eventsContextResult,r=[c.createElement(u.a,{key:"close",label:c.createElement(s.Trans,{id:"Close"}),primary:!0,onClick:this.props.onClose})];return c.createElement(l.a,{actions:r,cannotBeDismissed:!1,open:!0,onRequestClose:t},c.createElement(d.a,null,c.createElement(s.Trans,{id:"Objects or groups being directly referenced in the events: {0}",values:{0:n.objectOrGroupNames.join(", ")}})),c.createElement(d.a,null,c.createElement(s.Trans,{id:"All objects potentially used in events: {0}",values:{0:n.objectsNames.join(", ")}})),c.createElement(d.a,null,c.createElement(s.Trans,{id:"All behaviors being directly referenced in the events:"})," ",Object.keys(n.objectOrGroupBehaviorNames).map((function(e){return c.createElement(s.Trans,{key:e,id:"Behaviors of {objectOrGroupName}: {0} ;",values:{0:n.objectOrGroupBehaviorNames[e].join(", "),objectOrGroupName:e}})}))))}}]),n}(c.Component)},function(e,t,n){"use strict";var r=n(26),a=n(115),o=n(15),i=n(160),s=n(135),c=n(117),l=n(1488),u=n.n(l),d=n(432),p=n.n(d),m=n(138),f=n(124),h=n(310),g=n(125),b=n(127),v=n(129),E=n(163),y=n(172);t.a=o.forwardRef((function(e,t){var n=e.onSearchInEvents,l=e.onReplaceInEvents,d=e.onCloseSearchPanel,C=e.resultsCount,j=e.hasEventSelected,O=e.onGoToPreviousSearchResult,x=e.onGoToNextSearchResult,k=e.searchFocusOffset,T=o.useRef(null),w=o.useCallback((function(){T.current&&T.current.focus()}),[]),S=o.useCallback((function(){oe(!0)}),[]);o.useImperativeHandle(t,(function(){return{focus:w,markSearchResultsDirty:S}}));var P=o.useState(""),_=Object(r.a)(P,2),I=_[0],N=_[1],A=o.useState(""),R=Object(r.a)(A,2),M=R[0],F=R[1],L=o.useState(!1),B=Object(r.a)(L,2),D=B[0],U=B[1],G=o.useState(!0),V=Object(r.a)(G,2),W=V[0],H=V[1],z=o.useState(!0),Y=Object(r.a)(z,2),q=Y[0],X=Y[1],K=o.useState(!0),J=Object(r.a)(K,2),Z=J[0],Q=J[1],$=o.useState(!1),ee=Object(r.a)($,2),te=ee[0],ne=(ee[1],o.useState(!1)),re=Object(r.a)(ne,2),ae=re[0],oe=re[1],ie=o.useState("search-and-replace"),se=Object(r.a)(ie,2),ce=se[0],le=se[1];o.useEffect((function(){oe(!0)}),[I,W,q,Z,D]),o.useEffect(w,[ce]),o.useEffect(S,[ce]);var ue=function(){n({searchInSelection:te,searchText:I,matchCase:D,searchInActions:W,searchInConditions:q,searchInEventStrings:Z,searchInEventSentences:!me()})},de=function(){ue(),l({searchInSelection:te,searchText:I,replaceText:M,matchCase:D,searchInActions:W,searchInConditions:q,searchInEventStrings:Z})},pe=function(){ae&&(ue(),oe(!1))},me=o.useCallback((function(){return"search-and-replace"===ce}),[ce]);return o.createElement(i.a,{noFullHeight:!0,noExpand:!0},o.createElement(y.b,{value:ce,onChange:le},o.createElement(y.a,{label:o.createElement(a.Trans,{id:"Search and replace in parameters"}),value:"search-and-replace"}),o.createElement(y.a,{label:o.createElement(a.Trans,{id:"Search in event sentences"}),value:"search-in-event-sentences"})),o.createElement(c.b,null,o.createElement(v.a,{expand:!0},o.createElement(c.b,{alignItems:"baseline",noMargin:!0},o.createElement(s.b,{ref:T,type:"search",margin:"dense",hintText:me()?{id:"Text to search in parameters"}:{id:"Text to search in event sentences"},onChange:function(e,t){N(t)},onKeyPress:function(e){Object(E.f)(e)&&(ae?pe():x())},onKeyUp:function(e){Object(E.b)(e)&&d()},value:I,fullWidth:!0}),o.createElement(c.c,null),o.createElement(b.a,{disabled:!I,primary:!0,label:o.createElement(a.Trans,{id:"Search"}),onClick:function(){ae?pe():x()}})),me()&&o.createElement(c.b,{alignItems:"baseline",noMargin:!0},o.createElement(s.b,{type:"search",margin:"dense",hintText:{id:"Text to replace in parameters"},onChange:function(e,t){F(t)},onKeyPress:function(e){Object(E.f)(e)&&de()},onKeyUp:function(e){Object(E.b)(e)&&d()},value:M,fullWidth:!0}),o.createElement(c.c,null),o.createElement(b.a,{disabled:!M||!I||!j&&te,label:o.createElement(a.Trans,{id:"Replace"}),onClick:de})),o.createElement(c.b,{noMargin:!0,alignItems:"center",justifyContent:"space-between"},o.createElement(c.b,{noMargin:!0,alignItems:"center"},o.createElement(h.a,{label:o.createElement(a.Trans,{id:"Case insensitive"}),checked:!D,onCheck:function(e,t){U(!t)}}),o.createElement(g.a,null,o.createElement(a.Trans,{id:"Search in:"})),o.createElement(c.c,null),o.createElement(h.a,{label:o.createElement(a.Trans,{id:"Conditions"}),checked:q,onCheck:function(e,t){X(t)}}),o.createElement(h.a,{label:o.createElement(a.Trans,{id:"Actions"}),checked:W,onCheck:function(e,t){H(t)}}),o.createElement(h.a,{label:o.createElement(a.Trans,{id:"Texts"}),checked:Z,onCheck:function(e,t){Q(t)}})),o.createElement(c.b,{noMargin:!0,alignItems:"center"},o.createElement(g.a,null,null===C||void 0===C?"":0===C?o.createElement(a.Trans,{id:"No results"}):null===k||void 0===k?o.createElement(a.Trans,{id:"{resultsCount} results",values:{resultsCount:C}}):o.createElement(a.Trans,{id:"Showing {0} of {resultsCount}",values:{0:k+1,resultsCount:C}})),o.createElement(m.a,{disabled:!C,onClick:function(){O()}},o.createElement(u.a,null)),o.createElement(m.a,{disabled:!C,onClick:function(){x()}},o.createElement(p.a,null)),o.createElement(f.a,{key:"close",label:o.createElement(a.Trans,{id:"Close"}),primary:!1,onClick:function(){d()}}))))))}))},,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(15),c=n(131),l=n(747),u=n.n(l),d=e.gd,p=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={eventsSearchResults:null,searchFocusOffset:null},e._resultEvents=null,e.reset=function(){e.state.eventsSearchResults&&e.state.eventsSearchResults.delete(),e._resultEvents=null,e.setState({eventsSearchResults:null,searchFocusOffset:null})},e._doReplaceInEvents=function(t){var n=t.searchInSelection,r=t.searchText,a=t.replaceText,o=t.matchCase,i=t.searchInConditions,s=t.searchInActions,c=(t.searchInEventStrings,e.props),l=c.globalObjectsContainer,u=c.objectsContainer,p=c.events;n&&console.error("Replace in selection is not implemented yet"),a&&d.EventsRefactorer.replaceStringInEvents(l,u,p,r,a,o,i,s)},e._doSearchInEvents=function(t,n){var r=t.searchInSelection,a=t.searchText,o=t.matchCase,i=t.searchInConditions,s=t.searchInActions,c=t.searchInEventStrings,l=t.searchInEventSentences,u=e.props.events;r&&console.error("Search in selection is not implemented yet");var p=d.EventsRefactorer.searchInEvents(e.props.project.getCurrentPlatform(),u,a,o,i,s,c,l);e.state.eventsSearchResults&&e.state.eventsSearchResults.delete(),e.setState({eventsSearchResults:p.clone(),searchFocusOffset:null},(function(){e._updateListOfResultEvents(),n()}))},e._updateListOfResultEvents=function(){var t=e.state.eventsSearchResults;if(t){var n=Object(c.mapFor)(0,t.size(),(function(e){var n=t.at(e);return n.isEventValid()?n.getEvent():null})).filter(Boolean);e._resultEvents=u()(n,(function(e){return e.ptr}))}else e._resultEvents=null},e._goToSearchResults=function(t){if(e._updateListOfResultEvents(),!e._resultEvents||0===e._resultEvents.length)return e.setState({searchFocusOffset:null}),null;var n=null===e.state.searchFocusOffset?0:((e.state.searchFocusOffset||0)+t)%e._resultEvents.length;n<0&&(n+=e._resultEvents.length);var r=e._resultEvents[n];return setTimeout((function(){return e.setState({searchFocusOffset:n})}),0),r},e._goToPreviousSearchResult=function(){return e._goToSearchResults(-1)},e._goToNextSearchResult=function(){return e._goToSearchResults(1)},e}return Object(a.a)(n,[{key:"componentWillUnmount",value:function(){this.reset()}},{key:"render",value:function(){return this.props.children({eventsSearchResultEvents:this._resultEvents,searchFocusOffset:this.state.searchFocusOffset,searchInEvents:this._doSearchInEvents,replaceInEvents:this._doReplaceInEvents,goToNextSearchResult:this._goToNextSearchResult,goToPreviousSearchResult:this._goToPreviousSearchResult,clearSearchResults:this.reset})}}]),n}(s.Component)}).call(this,n(8))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return a}));var r=e.gd,a=function e(t,n){var a=t.getSubInstructions();if(r.compare(a,n))return!0;for(var o=0;o<a.size();++o){if(e(a.get(o),n))return!0}return!1}}).call(this,n(8))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return k}));var r=n(18),a=n(3),o=n(4),i=n(6),s=n(5),c=n(115),l=n(15),u=n(128),d=n(124),p=n(359),m=n(117),f=n(141),h=n(154),g=n(155),b=n(814),v=n(156),E=n(209),y=n(815),C=n(819),j=n(142),O=n(129),x=e.gd,k=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={eventsFunction:null,extensionName:"",createNewExtension:!1},e._getFunctionGroupNames=function(){var t=e.state,n=t.createNewExtension,a=t.extensionName;if(n||!a)return[];for(var o=new Set,i=e.props.project.getEventsFunctionsExtension(a),s=0;s<i.getEventsFunctionsCount();s++){var c=i.getEventsFunctionAt(s).getGroup();c&&o.add(c)}return Object(r.a)(o).sort((function(e,t){return e.localeCompare(t)}))},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.project,n=e.globalObjectsContainer,r=e.objectsContainer,a=e.serializedEvents,o=new x.EventsFunction;Object(b.d)({project:t,globalObjectsContainer:n,objectsContainer:r,serializedEvents:a,eventsFunction:o}),this.setState({eventsFunction:o}),0===Object(p.a)(t).length&&this.setState({createNewExtension:!0})}},{key:"componentWillUnmount",value:function(){var e=this.state.eventsFunction;e&&e.delete()}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.onClose,a=t.onCreate,o=this.state,i=o.eventsFunction,s=o.extensionName,x=o.createNewExtension;if(!i)return null;var k=Object(p.a)(n),T=Object(b.c)(i),w=function(){Object(b.a)(n,s,i)?a(s,i):r()};return l.createElement(u.a,{onApply:w,title:l.createElement(c.Trans,{id:"Extract the events in a function"}),secondaryActions:[l.createElement(j.a,{helpPagePath:"/events/functions/extract-events",key:"help"})],actions:[l.createElement(d.a,{key:"cancel",label:l.createElement(c.Trans,{id:"Cancel"}),onClick:r}),l.createElement(d.a,{key:"create",label:l.createElement(c.Trans,{id:"Create"}),primary:!0,disabled:!Object(b.a)(n,s,i),onClick:w})],cannotBeDismissed:!0,open:!0,onRequestClose:r,noMargin:!0},l.createElement(m.a,{noMargin:!0},l.createElement(m.a,null,l.createElement(E.a,{identifier:"function-extractor-explanation",kind:"info"},"After creating a function, it will be usable in the events sheet. Functions are grouped by extensions. Choose, or enter the name of a new extension, and a function name, then configure the function and its parameters."),l.createElement(O.b,{noMargin:!0,expand:!0},l.createElement(h.a,{floatingLabelText:l.createElement(c.Trans,{id:"Extension (storing the function)"}),value:x?"<create a new extension>":s,onChange:function(t,n,r){"<create a new extension>"===r?e.setState({createNewExtension:!0,extensionName:""}):e.setState({createNewExtension:!1,extensionName:r})},fullWidth:!0},k.map((function(e){return l.createElement(g.a,{key:e.getName(),value:e.getName(),primaryText:e.getFullName()||e.getName()})})),l.createElement(g.a,{value:"<create a new extension>",primaryText:{id:"<Create a New Extension>"}})),x?l.createElement(f.a,{commitOnBlur:!0,value:s,floatingLabelText:l.createElement(c.Trans,{id:"New extension name"}),onChange:function(t){return e.setState({extensionName:t})},fullWidth:!0,errorText:Object(b.h)(n,s)?Object(b.g)(s)?void 0:l.createElement(c.Trans,{id:"This name is not valid. Only use alphanumeric characters (0-9, a-z) and underscores."}):l.createElement(c.Trans,{id:"This name is already taken by another extension."})}):null),l.createElement(m.b,null,l.createElement(f.a,{commitOnBlur:!0,value:i.getName(),floatingLabelText:l.createElement(c.Trans,{id:"Function name"}),onChange:function(t){i.setName(t),e.forceUpdate()},fullWidth:!0,errorText:Object(b.f)(n,s,i)?Object(b.e)(i.getName())?void 0:l.createElement(c.Trans,{id:"This name is not valid. Only use alphanumeric characters (0-9, a-z) and underscores."}):l.createElement(c.Trans,{id:"This name is already taken by another function. Choose another name."})})),T?l.createElement(m.b,null,l.createElement(v.a,{kind:"warning"},l.createElement(c.Trans,{id:"This function will have a lot of parameters. Consider creating groups or functions for a smaller set of objects so that the function is easier to reuse."}))):null),l.createElement(C.a,{eventsFunction:i,eventsBasedBehavior:null,onConfigurationUpdated:function(){e.forceUpdate()},freezeEventsFunctionType:!0,getFunctionGroupNames:this._getFunctionGroupNames}),l.createElement(m.c,null),l.createElement(y.a,{project:n,eventsFunction:i,eventsBasedBehavior:null,onParametersUpdated:function(){e.forceUpdate()},freezeParameters:!0})))}}]),n}(l.Component)}).call(this,n(8))},function(e,t,n){"use strict";function r(e,t,n){return t.getObjectGroups().has(n)?t.getObjectGroups().get(n):e.getObjectGroups().has(n)?e.getObjectGroups().get(n):null}n.d(t,"a",(function(){return r}))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return U}));var r=n(18),a=n(0),o=n.n(a),i=n(1),s=n(3),c=n(4),l=n(6),u=n(5),d=n(115),p=n(15),m=n(552),f=n(323),h=n(136),g=n(1637),b=n(1640),v=n(2003),E=n(160),y=n(1993),C=n(30),j=n(1644),O=n(1647),x=n(1648),k=n(431),T=n(124),w=n(117),S=n(2088),P=n(146),_=n(1649),I=n(1651),N=n(1652),A=n.n(N),R=n(760),M=n.n(R),F=n(143),L=n(283),B=e.gd,D={direction:"row",first:{direction:"column",first:"free-functions-list",second:"behaviors-list",splitPercentage:50},second:{direction:"column",first:"parameters",second:"events-sheet",splitPercentage:25},splitPercentage:25},U=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(s.a)(this,n);for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).state={selectedEventsFunction:null,selectedEventsBasedBehavior:null,editedEventsBasedBehavior:null,editOptionsDialogOpen:!1,behaviorMethodSelectorDialogOpen:!1,extensionFunctionSelectorDialogOpen:!1,onAddEventsFunctionCb:null},e._loadEventsFunctionFrom=function(t,n,r){e._globalObjectsContainer||(e._globalObjectsContainer=new B.ObjectsContainer),e._objectsContainer||(e._objectsContainer=new B.ObjectsContainer),r?B.EventsFunctionTools.behaviorEventsFunctionToObjectsContainer(t,r,n,e._globalObjectsContainer,e._objectsContainer):B.EventsFunctionTools.freeEventsFunctionToObjectsContainer(t,n,e._globalObjectsContainer,e._objectsContainer)},e.updateToolbar=function(){e.editor?e.editor.updateToolbar():e.props.setToolbar(null)},e.selectEventsFunctionByName=function(t,n){var r=e.props.eventsFunctionsExtension;if(n){var a=r.getEventsBasedBehaviors();if(a.has(n)){var o=a.get(n),i=o.getEventsFunctions();i.hasEventsFunctionNamed(t)&&e._selectEventsFunction(i.getEventsFunction(t),o)}}else r.hasEventsFunctionNamed(t)&&e._selectEventsFunction(r.getEventsFunction(t),null)},e._selectEventsFunction=function(t,n){t?(e._loadEventsFunctionFrom(e.props.project,t,n),e.setState({selectedEventsFunction:t,selectedEventsBasedBehavior:n},(function(){e.updateToolbar(),e._editorNavigator&&(t&&!t.getEvents().getEventsCount()?e._editorNavigator.openEditor("parameters"):e._editorNavigator.openEditor("events-sheet"))}))):e.setState({selectedEventsFunction:null,selectedEventsBasedBehavior:n},(function(){return e.updateToolbar()}))},e._makeRenameFreeEventsFunction=function(t){return function(n,r,a){if(B.Project.validateName(r)){if(Object(k.h)(r))return Object(C.c)(t._({id:"This name is reserved for a lifecycle function of the extension. Choose another name for your function."}),{delayToNextTick:!0}),a(!1);var o=e.props,i=o.project,s=o.eventsFunctionsExtension;B.WholeProjectRefactorer.renameEventsFunction(i,s,n.getName(),r),a(!0)}else Object(C.c)(t._({id:"This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character."}),{delayToNextTick:!0})}},e._makeRenameBehaviorEventsFunction=function(t){return function(n,r,a,o){if(!B.Project.validateName(a))return Object(C.c)(t._({id:"This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character."}),{delayToNextTick:!0}),o(!1);if(Object(k.g)(a))return Object(C.c)(t._({id:"This name is reserved for a lifecycle method of the behavior. Choose another name for your custom function."}),{delayToNextTick:!0}),o(!1);var i=e.props,s=i.project,c=i.eventsFunctionsExtension;B.WholeProjectRefactorer.renameBehaviorEventsFunction(s,c,n,r.getName(),a),o(!0)}},e._makeMoveFreeEventsParameter=function(t){return function(t,n,r,a){var o=e.props,i=o.project,s=o.eventsFunctionsExtension;B.WholeProjectRefactorer.moveEventsFunctionParameter(i,s,t.getName(),n+Object(L.c)(!1),r+Object(L.c)(!1)),a(!0)}},e._makeMoveBehaviorEventsParameter=function(t){return function(t,n,r,a,o){var i=e.props,s=i.project,c=i.eventsFunctionsExtension;B.WholeProjectRefactorer.moveBehaviorEventsFunctionParameter(s,c,t,n.getName(),r,a),o(!0)}},e._onDeleteEventsFunction=function(t,n){e.state.selectedEventsFunction&&B.compare(t,e.state.selectedEventsFunction)&&e._selectEventsFunction(null,e.state.selectedEventsBasedBehavior),n(!0)},e._selectEventsBasedBehavior=function(t){e.setState({selectedEventsBasedBehavior:t,selectedEventsFunction:null},(function(){e.updateToolbar(),t&&(e._editorMosaic&&e._editorMosaic.openEditor("behavior-functions-list","end",75,"column"),e._editorNavigator&&e._editorNavigator.openEditor("behavior-functions-list"))}))},e._makeRenameEventsBasedBehavior=function(t){return function(n,r,a){if(B.Project.validateName(r)){var o=e.props,i=o.project,s=o.eventsFunctionsExtension;B.WholeProjectRefactorer.renameEventsBasedBehavior(i,s,n.getName(),r),a(!0)}else Object(C.c)(t._({id:"This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character."}),{delayToNextTick:!0})}},e._onEventsBasedBehaviorRenamed=function(){e.props.onBehaviorEdited&&e.props.onBehaviorEdited(),e.state.selectedEventsFunction&&e._loadEventsFunctionFrom(e.props.project,e.state.selectedEventsFunction,e.state.selectedEventsBasedBehavior)},e._onDeleteEventsBasedBehavior=function(t,n){e.state.selectedEventsBasedBehavior&&B.compare(t,e.state.selectedEventsBasedBehavior)&&e._selectEventsBasedBehavior(null),n(!0)},e._onAddFreeEventsFunction=function(t){e.setState({extensionFunctionSelectorDialogOpen:!0,onAddEventsFunctionCb:t})},e._onCloseExtensionFunctionSelectorDialog=function(t){var n=e.state.onAddEventsFunctionCb;e.setState({extensionFunctionSelectorDialogOpen:!1,onAddEventsFunctionCb:null},(function(){n&&n(t)}))},e._onAddBehaviorEventsFunction=function(t){e.setState({behaviorMethodSelectorDialogOpen:!0,onAddEventsFunctionCb:t})},e._onCloseBehaviorMethodSelectorDialog=function(t){var n=e.state.onAddEventsFunctionCb;e.setState({behaviorMethodSelectorDialogOpen:!1,onAddEventsFunctionCb:null},(function(){n&&n(t)}))},e._onBehaviorEventsFunctionAdded=function(t,n){B.WholeProjectRefactorer.ensureBehaviorEventsFunctionsProperParameters(e.props.eventsFunctionsExtension,t)},e._onBehaviorPropertyRenamed=function(t,n,r){var a=e.props,o=a.project,i=a.eventsFunctionsExtension;B.WholeProjectRefactorer.renameEventsBasedBehaviorProperty(o,i,t,n,r)},e._editOptions=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e.setState({editOptionsDialogOpen:t})},e._editBehavior=function(t){e.setState((function(n){return n.editedEventsBasedBehavior&&!t&&B.WholeProjectRefactorer.ensureBehaviorEventsFunctionsProperParameters(e.props.eventsFunctionsExtension,n.editedEventsBasedBehavior),{editedEventsBasedBehavior:t}}),Object(i.a)(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=6;break}if(!e.props.onBehaviorEdited){n.next=5;break}return n.next=4,e.props.onBehaviorEdited();case 4:B.WholeProjectRefactorer.fixInvalidRequiredBehaviorProperties(e.props.project);case 5:e.state.selectedEventsFunction&&e._loadEventsFunctionFrom(e.props.project,e.state.selectedEventsFunction,e.state.selectedEventsBasedBehavior);case 6:case"end":return n.stop()}}),n)}))))},e._openFreeFunctionsListEditor=function(){e._editorNavigator&&e._editorNavigator.openEditor("free-functions-list")},e._openBehaviorsListEditor=function(){e._editorNavigator&&e._editorNavigator.openEditor("behaviors-list")},e._onEditorNavigatorEditorChanged=function(t){e.updateToolbar(),"behaviors-list"===t?e._selectEventsBasedBehavior(null):"free-functions-list"!==t&&"behavior-functions-list"!==t||e._selectEventsFunction(null,e.state.selectedEventsBasedBehavior)},e._getFunctionGroupNames=function(){var t=new Set,n=e.state.selectedEventsBasedBehavior;if(n)for(var a=n.getEventsFunctions(),o=0;o<a.getEventsFunctionsCount();o++){var i=a.getEventsFunctionAt(o).getGroup();i&&t.add(i)}else for(var s=e.props.eventsFunctionsExtension,c=0;c<s.getEventsFunctionsCount();c++){var l=s.getEventsFunctionAt(c).getGroup();l&&t.add(l)}return Object(r.a)(t).sort((function(e,t){return e.localeCompare(t)}))},e._onConfigurationUpdated=function(t){"type"===t&&e.forceUpdate()},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.initiallyFocusedFunctionName&&this.selectEventsFunctionByName(this.props.initiallyFocusedFunctionName,this.props.initiallyFocusedBehaviorName)}},{key:"componentWillUnmount",value:function(){this._globalObjectsContainer&&this._globalObjectsContainer.delete(),this._objectsContainer&&this._objectsContainer.delete()}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.eventsFunctionsExtension,a=this.state,o=a.selectedEventsFunction,i=a.selectedEventsBasedBehavior,s=a.editOptionsDialogOpen,c=a.behaviorMethodSelectorDialogOpen,l=a.extensionFunctionSelectorDialogOpen,u=a.editedEventsBasedBehavior,C={"choose-editor":{type:"primary",noTitleBar:!0,renderEditor:function(){return p.createElement(I.a,{eventsFunctionsExtension:r,onEditFreeFunctions:e._openFreeFunctionsListEditor,onEditBehaviors:e._openBehaviorsListEditor,onEditExtensionOptions:e._editOptions})}},parameters:{type:"primary",title:{id:"Function Configuration"},toolbarControls:[],renderEditor:function(){return p.createElement(d.I18n,null,(function(t){var r=t.i18n;return p.createElement(E.a,null,o&&e._globalObjectsContainer&&e._objectsContainer?p.createElement(g.a,{project:n,eventsFunction:o,eventsBasedBehavior:i,globalObjectsContainer:e._globalObjectsContainer,objectsContainer:e._objectsContainer,onConfigurationUpdated:e._onConfigurationUpdated,helpPagePath:i?"/behaviors/events-based-behaviors":"/events/functions",onParametersOrGroupsUpdated:function(){e._loadEventsFunctionFrom(n,o,i),e.forceUpdate()},onMoveFreeEventsParameter:e._makeMoveFreeEventsParameter(r),onMoveBehaviorEventsParameter:e._makeMoveBehaviorEventsParameter(r),unsavedChanges:e.props.unsavedChanges,getFunctionGroupNames:e._getFunctionGroupNames}):p.createElement(h.a,null,p.createElement(d.Trans,{id:"Choose a function, or a function of a behavior, to set the parameters that it accepts."})))}))}},"events-sheet":{type:"primary",noTitleBar:!0,renderEditor:function(){return o&&e._globalObjectsContainer&&e._objectsContainer?p.createElement(E.a,null,p.createElement(m.a,{key:o.ptr,ref:function(t){return e.editor=t},project:n,scope:{layout:null,externalEvents:null,eventsFunctionsExtension:r,eventsBasedBehavior:i,eventsFunction:o},globalObjectsContainer:e._globalObjectsContainer,objectsContainer:e._objectsContainer,events:o.getEvents(),onOpenExternalEvents:function(){},onOpenLayout:function(){},resourceSources:e.props.resourceSources,onChooseResource:e.props.onChooseResource,resourceExternalEditors:e.props.resourceExternalEditors,openInstructionOrExpression:e.props.openInstructionOrExpression,setToolbar:e.props.setToolbar,onCreateEventsFunction:e.props.onCreateEventsFunction,onOpenSettings:e._editOptions,unsavedChanges:e.props.unsavedChanges})):p.createElement(E.a,null,p.createElement(h.a,null,p.createElement(d.Trans,{id:"Choose a function, or a function of a behavior, to edit its events."})))}},"free-functions-list":{type:"primary",title:{id:"Functions"},toolbarControls:[],renderEditor:function(){return p.createElement(d.I18n,null,(function(t){var a=t.i18n;return p.createElement(b.a,{project:n,eventsFunctionsContainer:r,selectedEventsFunction:o,onSelectEventsFunction:function(t){return e._selectEventsFunction(t,null)},onDeleteEventsFunction:e._onDeleteEventsFunction,canRename:function(e){return!Object(k.h)(e.getName())},onRenameEventsFunction:e._makeRenameFreeEventsFunction(a),onAddEventsFunction:e._onAddFreeEventsFunction,onEventsFunctionAdded:function(){},renderHeader:function(){return p.createElement(p.Fragment,null,p.createElement(w.b,{justifyContent:"center"},p.createElement(T.a,{label:p.createElement(d.Trans,{id:"Edit extension options"}),primary:!0,onClick:function(){return e._editOptions()}})),p.createElement(S.a,null))},unsavedChanges:e.props.unsavedChanges})}))}},"behavior-functions-list":{type:"primary",title:{id:"Behavior functions"},renderEditor:function(){return i?p.createElement(d.I18n,null,(function(t){var r=t.i18n;return p.createElement(b.a,{project:n,eventsFunctionsContainer:i.getEventsFunctions(),selectedEventsFunction:o,onSelectEventsFunction:function(t){return e._selectEventsFunction(t,i)},onDeleteEventsFunction:e._onDeleteEventsFunction,canRename:function(e){return!Object(k.g)(e.getName())},onRenameEventsFunction:function(t,n,a){return e._makeRenameBehaviorEventsFunction(r)(i,t,n,a)},onAddEventsFunction:e._onAddBehaviorEventsFunction,onEventsFunctionAdded:function(t){return e._onBehaviorEventsFunctionAdded(i,t)},renderHeader:function(){return p.createElement(p.Fragment,null,p.createElement(w.b,{justifyContent:"center"},p.createElement(T.a,{label:p.createElement(d.Trans,{id:"Edit behavior properties"}),primary:!0,onClick:function(){return e._editBehavior(i)}})),p.createElement(S.a,null))},unsavedChanges:e.props.unsavedChanges})})):p.createElement(E.a,null,p.createElement(h.a,null,p.createElement(d.Trans,{id:"Select a behavior to display the functions inside this behavior."})))}},"behaviors-list":{type:"secondary",title:{id:"Behaviors"},toolbarControls:[],renderEditor:function(){return p.createElement(d.I18n,null,(function(t){var a=t.i18n;return p.createElement(v.a,{project:n,eventsBasedBehaviorsList:r.getEventsBasedBehaviors(),selectedEventsBasedBehavior:i,onSelectEventsBasedBehavior:e._selectEventsBasedBehavior,onDeleteEventsBasedBehavior:e._onDeleteEventsBasedBehavior,onRenameEventsBasedBehavior:e._makeRenameEventsBasedBehavior(a),onEventsBasedBehaviorRenamed:e._onEventsBasedBehaviorRenamed,onEditProperties:e._editBehavior,unsavedChanges:e.props.unsavedChanges})}))}}};return p.createElement(p.Fragment,null,p.createElement(P.a,null,(function(t){return"small"===t?p.createElement(_.a,{ref:function(t){return e._editorNavigator=t},editors:C,initialEditorName:"choose-editor",transitions:{"behaviors-list":{previousEditor:"choose-editor"},"behavior-functions-list":{previousEditor:"behaviors-list"},"free-functions-list":{previousEditor:"choose-editor"},"events-sheet":{nextIcon:p.createElement(M.a,null),nextLabel:p.createElement(d.Trans,{id:"Parameters"}),nextEditor:"parameters",previousEditor:function(){return i?"behavior-functions-list":"free-functions-list"}},parameters:{nextIcon:p.createElement(A.a,null),nextLabel:p.createElement(d.Trans,{id:"Validate these parameters"}),nextEditor:"events-sheet"}},onEditorChanged:e._onEditorNavigatorEditorChanged}):p.createElement(F.a.Consumer,null,(function(t){var n=t.getDefaultEditorMosaicNode,r=t.setDefaultEditorMosaicNode;return p.createElement(f.a,{ref:function(t){return e._editorMosaic=t},editors:C,onPersistNodes:function(e){return r("events-functions-extension-editor",e)},initialNodes:n("events-functions-extension-editor")||D})}))})),s&&p.createElement(y.a,{eventsFunctionsExtension:r,open:!0,onClose:function(){return e._editOptions(!1)}}),c&&i&&p.createElement(O.a,{eventsBasedBehavior:i,onCancel:function(){return e._onCloseBehaviorMethodSelectorDialog(null)},onChoose:function(t){return e._onCloseBehaviorMethodSelectorDialog(t)}}),l&&r&&p.createElement(x.a,{eventsFunctionsExtension:r,onCancel:function(){return e._onCloseExtensionFunctionSelectorDialog(null)},onChoose:function(t){return e._onCloseExtensionFunctionSelectorDialog(t)}}),u&&p.createElement(j.a,{project:n,eventsFunctionsExtension:r,eventsBasedBehavior:u,onApply:function(){e.props.unsavedChanges&&e.props.unsavedChanges.triggerUnsavedChanges(),e._editBehavior(null)},onRenameProperty:function(t,n){return e._onBehaviorPropertyRenamed(u,t,n)}}))}}]),n}(p.Component)}).call(this,n(8))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return v}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n(1638),u=n(172),d=n(815),p=n(819),m=n(164),f=n(117),h=n(30),g=n(16),b=e.gd,v=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={currentTab:"config"},e._canObjectOrGroupUseNewName=function(t){var n=e.props,r=n.objectsContainer,a=n.globalObjectsContainer;return r.hasObjectNamed(t)||a.hasObjectNamed(t)||r.getObjectGroups().has(t)||a.getObjectGroups().has(t)?(Object(h.c)("Another object or group with this name already exists in this function.",{delayToNextTick:!0}),!1):!!b.Project.validateName(t)||(Object(h.c)("This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character.",{delayToNextTick:!0}),!1)},e._onDeleteGroup=function(t,n){var r=t.group,a=e.props,o=a.project,i=a.eventsFunction,s=a.globalObjectsContainer,c=a.objectsContainer,l=g.b.showConfirmDialog("Do you want to remove all references to this group in events (actions and conditions using the group)?");b.WholeProjectRefactorer.objectOrGroupRemovedInEventsFunction(o,i,s,c,r.getName(),!0,!!l),n(!0)},e._onRenameGroup=function(t,n,r){var a=t.group,o=e.props,i=o.project,s=o.eventsFunction,c=o.globalObjectsContainer,l=o.objectsContainer;a.getName()!==n&&b.WholeProjectRefactorer.objectOrGroupRenamedInEventsFunction(i,s,c,l,a.getName(),n,!0),r(!0)},e._chooseTab=function(t){return e.setState({currentTab:t})},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props,t=e.project,n=e.globalObjectsContainer,r=e.objectsContainer,a=e.eventsFunction,o=e.eventsBasedBehavior,i=e.freezeEventsFunctionType,h=e.onConfigurationUpdated,g=e.onParametersOrGroupsUpdated,b=e.freezeParameters,v=e.helpPagePath,E=e.renderConfigurationHeader,y=e.onMoveFreeEventsParameter,C=e.onMoveBehaviorEventsParameter,j=e.getFunctionGroupNames;return c.createElement(f.a,{expand:!0,noMargin:!0,useFullHeight:!0},c.createElement(u.b,{value:this.state.currentTab,onChange:this._chooseTab},c.createElement(u.a,{label:c.createElement(s.Trans,{id:"Configuration"}),value:"config"}),c.createElement(u.a,{label:c.createElement(s.Trans,{id:"Parameters"}),value:"parameters"}),c.createElement(u.a,{label:c.createElement(s.Trans,{id:"Object groups"}),value:"groups"})),"config"===this.state.currentTab?c.createElement(m.a,null,c.createElement(f.b,null,c.createElement(p.a,{eventsFunction:a,eventsBasedBehavior:o,helpPagePath:v,onConfigurationUpdated:h,renderConfigurationHeader:E,freezeEventsFunctionType:i,getFunctionGroupNames:j}))):null,"parameters"===this.state.currentTab?c.createElement(m.a,null,c.createElement(f.b,null,c.createElement(d.a,{project:t,eventsFunction:a,eventsBasedBehavior:o,onParametersUpdated:g,helpPagePath:v,freezeParameters:b,onMoveFreeEventsParameter:y,onMoveBehaviorEventsParameter:C,key:a?a.ptr:null}))):null,"groups"===this.state.currentTab?c.createElement(l.a,{project:t,globalObjectsContainer:n,objectsContainer:r,globalObjectGroups:n.getObjectGroups(),objectGroups:a.getObjectGroups(),canRenameGroup:this._canObjectOrGroupUseNewName,onRenameGroup:this._onRenameGroup,onDeleteGroup:this._onDeleteGroup,onGroupsUpdated:g,canSetAsGlobalGroup:!1,unsavedChanges:this.props.unsavedChanges}):null)}}]),n}(c.Component)}).call(this,n(8))},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(15),c=n(935),l=n(862),u=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={editedGroup:null},e.editGroup=function(t){return e.setState({editedGroup:t})},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.objectsContainer,a=t.globalObjectsContainer,o=t.objectGroups,i=t.globalObjectGroups;return s.createElement(s.Fragment,null,s.createElement(c.a,{globalObjectGroups:i,objectGroups:o,onEditGroup:this.editGroup,onDeleteGroup:this.props.onDeleteGroup,onRenameGroup:this.props.onRenameGroup,canRenameGroup:this.props.canRenameGroup,onGroupAdded:this.props.onGroupsUpdated,onGroupRemoved:this.props.onGroupsUpdated,onGroupRenamed:this.props.onGroupsUpdated,canSetAsGlobalGroup:this.props.canSetAsGlobalGroup,unsavedChanges:this.props.unsavedChanges}),this.state.editedGroup&&s.createElement(l.a,{project:n,key:a.ptr+";"+r.ptr,group:this.state.editedGroup,globalObjectsContainer:a,objectsContainer:r,onCancel:function(){return e.editGroup(null)},onApply:function(){e.props.onGroupsUpdated&&e.props.onGroupsUpdated(),e.editGroup(null)}}))}}]),n}(s.Component)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(15),c=n(151),l=n(785),u=n(136),d=n(117),p=e.gd,m=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={newObjectName:""},e.removeObject=function(t){var n=e.props,r=n.group,a=n.onSizeUpdated;r.removeObject(t),e.forceUpdate(),a&&a()},e.addObject=function(t){var n=e.props,r=n.group,a=n.onSizeUpdated;r.addObject(t),e.setState({newObjectName:""}),a&&a()},e}return Object(a.a)(n,[{key:"_renderExplanation",value:function(){var e=this.props,t=e.group,n=e.globalObjectsContainer,r=e.objectsContainer,a=void 0;t.getAllObjectsNames().toJSArray().forEach((function(e){var t=p.getTypeOfObject(n,r,e,!1);a=void 0===a||t===a?t:""}));var o="";return o=void 0===a?"This group is empty":""===a?"This group contains objects of different kinds. You'll only be able to use actions and conditions common to all objects with this group.":"This group contains objects of the same kind (".concat(a,"). You can use actions and conditions related to this kind of objects in events with this group."),s.createElement(u.a,null,o)}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.group,a=t.globalObjectsContainer,o=t.objectsContainer;return s.createElement("div",null,this._renderExplanation(),s.createElement(c.a,null,r.getAllObjectsNames().toJSArray().map((function(t){return s.createElement(c.b,{key:t,primaryText:t,displayRemoveButton:!0,onRemove:function(){return e.removeObject(t)}})}))),s.createElement(d.a,null,s.createElement(l.a,{project:n,globalObjectsContainer:a,objectsContainer:o,value:this.state.newObjectName,onChange:function(t){return e.setState({newObjectName:t})},onChoose:this.addObject,openOnFocus:!0,noGroups:!0,hintText:{id:"Choose an object to add to the group"},fullWidth:!0})))}}]),n}(s.Component)}).call(this,n(8))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return T}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n(205),u=n(465),d=n(187),p=n(30),m=n(160),f=n(167),h=n(2078),g=n(1641),b=n(272),v=n(284),E=n.n(v),y=n(16),C=n(176),j=e.gd,O={listContainer:{flex:1}},x=function(e){return e.isPrivate()?c.createElement(c.Fragment,null,c.createElement(h.a,{title:"This function won't be visible in the events editor"},c.createElement(E.a,{fontSize:"small",style:{marginRight:5,verticalAlign:"bottom"}})),c.createElement("span",{title:e.getName()},e.getName())):e.getName()},k=function(e){return e.getName()},T=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={renamedEventsFunction:null,searchText:""},e._togglePrivate=function(t){t.setPrivate(!t.isPrivate()),e.forceUpdate()},e._deleteEventsFunction=function(t,n){var r=n.askForConfirmation,a=e.props.eventsFunctionsContainer;if(r&&!y.b.showConfirmDialog("Are you sure you want to remove this function? This can't be undone."))return;e.props.onDeleteEventsFunction(t,(function(n){n&&(a.removeEventsFunction(t.getName()),e._onEventsFunctionModified())}))},e._editName=function(t){e.setState({renamedEventsFunction:t},(function(){e.sortableList&&e.sortableList.forceUpdateGrid()}))},e._getFunctionThumbnail=function(e){switch(e.getFunctionType()){default:return"res/functions/function.svg";case j.EventsFunction.Action:switch(e.getName()){default:return"res/functions/action.svg";case"onSceneUnloading":case"onDestroy":return"res/functions/destroy.svg";case"onSceneResumed":case"onActivate":return"res/functions/activate.svg";case"onScenePaused":case"onDeActivate":return"res/functions/deactivate.svg";case"onScenePreEvents":case"onScenePostEvents":case"doStepPreEvents":case"doStepPostEvents":return"res/functions/step.svg";case"onSceneLoaded":case"onFirstSceneLoaded":case"onCreated":return"res/functions/create.svg"}case j.EventsFunction.Condition:return"res/functions/condition.svg";case j.EventsFunction.Expression:case j.EventsFunction.StringExpression:return"res/functions/expression.svg"}},e._rename=function(t,n){var r=e.props.eventsFunctionsContainer;e.setState({renamedEventsFunction:null}),t.getName()!==n&&(r.hasEventsFunctionNamed(n)?Object(p.c)("Another function with this name already exists.",{delayToNextTick:!0}):e.props.onRenameEventsFunction(t,n,(function(r){r&&(t.setName(n),e._onEventsFunctionModified())})))},e._moveSelectionTo=function(t){var n=e.props,r=n.eventsFunctionsContainer,a=n.selectedEventsFunction;a&&(r.moveEventsFunction(r.getEventsFunctionPosition(a),r.getEventsFunctionPosition(t)),e.forceUpdateList())},e.forceUpdateList=function(){e._onEventsFunctionModified(),e.sortableList&&e.sortableList.forceUpdateGrid()},e._copyEventsFunction=function(e){b.b.set("Events Function",{eventsFunction:Object(C.b)(e),name:e.getName()})},e._cutEventsFunction=function(t){e._copyEventsFunction(t),e._deleteEventsFunction(t,{askForConfirmation:!1})},e._pasteEventsFunction=function(t){if(b.b.has("Events Function")){var n=b.b.get("Events Function"),r=b.a.extractObjectProperty(n,"eventsFunction"),a=b.a.extractStringProperty(n,"name");if(a&&r){var o=e.props,i=o.project,s=o.eventsFunctionsContainer,c=Object(f.a)(a,(function(e){return s.hasEventsFunctionNamed(e)})),l=s.insertNewEventsFunction(c,t);Object(C.c)(l,r,"unserializeFrom",i),l.setName(c),e.props.onEventsFunctionAdded(l),e._onEventsFunctionModified()}}},e._renderEventsFunctionMenuTemplate=function(t){return function(n,r){return[{label:t._({id:"Rename"}),click:function(){return e._editName(n)},enabled:e.props.canRename(n)},{label:n.isPrivate()?t._({id:"Make public"}):t._({id:"Make private"}),enabled:e.props.canRename(n),click:function(){return e._togglePrivate(n)}},{label:t._({id:"Remove"}),click:function(){return e._deleteEventsFunction(n,{askForConfirmation:!0})}},{type:"separator"},{label:t._({id:"Copy"}),click:function(){return e._copyEventsFunction(n)}},{label:t._({id:"Cut"}),click:function(){return e._cutEventsFunction(n)}},{label:t._({id:"Paste"}),enabled:b.b.has("Events Function"),click:function(){return e._pasteEventsFunction(r)}}]}},e._addNewEventsFunction=function(){var t=e.props.eventsFunctionsContainer;e.props.onAddEventsFunction((function(n){if(n){var r=n.name||Object(f.a)("Function",(function(e){return t.hasEventsFunctionNamed(e)})),a=t.insertNewEventsFunction(r,t.getEventsFunctionsCount());a.setFunctionType(n.functionType),e.props.onEventsFunctionAdded(a),e._onEventsFunctionModified()}}))},e}return Object(a.a)(n,[{key:"_onEventsFunctionModified",value:function(){this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges(),this.forceUpdate()}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.eventsFunctionsContainer,a=t.selectedEventsFunction,o=t.onSelectEventsFunction,i=t.renderHeader,p=this.state.searchText,f=Object(g.b)(Object(g.a)(r),p),h=n.ptr+";"+r.ptr;return c.createElement(m.a,null,i?i():null,c.createElement("div",{style:O.listContainer},c.createElement(l.a,null,(function(t){var n=t.height,r=t.width;return c.createElement(s.I18n,null,(function(t){var i=t.i18n;return c.createElement(u.a,{key:h,ref:function(t){return e.sortableList=t},fullList:f,width:r,height:n,onAddNewItem:e._addNewEventsFunction,addNewItemLabel:c.createElement(s.Trans,{id:"Add a new function"}),renderItemLabel:x,getItemName:k,getItemThumbnail:e._getFunctionThumbnail,selectedItems:a?[a]:[],onItemSelected:o,renamedItem:e.state.renamedEventsFunction,onRename:e._rename,onMoveSelectionToItem:e._moveSelectionTo,buildMenuTemplate:e._renderEventsFunctionMenuTemplate(i),reactDndType:"GD_EVENTS_FUNCTION"})}))}))),c.createElement(d.a,{value:p,onRequestSearch:function(){},onChange:function(t){return e.setState({searchText:t})}}))}}]),n}(c.Component);T.defaultProps={onDeleteEventsFunction:function(e,t){return t(!0)},onRenameEventsFunction:function(e,t,n){return n(!0)}}}).call(this,n(8))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n(131),a=function(e){return Object(r.mapFor)(0,e.getEventsFunctionsCount(),(function(t){return e.getEventsFunctionAt(t)}))},o=function(e,t){if(!t)return e;var n=t.toLowerCase();return e.filter((function(e){return-1!==e.getName().toLowerCase().indexOf(n)}))}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n(124),u=n(128),d=n(1645),p=n(142),m=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.onApply,r=t.eventsBasedBehavior,a=t.eventsFunctionsExtension,o=t.project;return c.createElement(u.a,{onApply:n,noMargin:!0,secondaryActions:[c.createElement(p.a,{key:"help",helpPagePath:"/behaviors/events-based-behaviors"})],actions:[c.createElement(l.a,{label:c.createElement(s.Trans,{id:"Apply"}),primary:!0,keyboardFocused:!0,onClick:n,key:"Apply"})],cannotBeDismissed:!0,open:!0,onRequestClose:n,title:c.createElement(s.Trans,{id:"Edit the behavior"})},c.createElement(d.a,{project:o,eventsFunctionsExtension:a,eventsBasedBehavior:r,onTabChanged:function(){return e.forceUpdate()},onPropertiesUpdated:function(){return e.forceUpdate()},onRenameProperty:this.props.onRenameProperty}))}}]),n}(c.Component)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return v}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n(135),u=n(141),d=n(816),p=n(172),m=n(209),f=n(156),h=n(1646),g=n(129),b=e.gd,v=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={currentTab:"configuration"},e._allObjectTypes=b.WholeProjectRefactorer.getAllObjectTypesUsingEventsBasedBehavior(e.props.project,e.props.eventsFunctionsExtension,e.props.eventsBasedBehavior).toNewVectorString().toJSArray(),e._changeTab=function(t){return e.setState({currentTab:t},(function(){return e.props.onTabChanged()}))},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.state.currentTab,n=this.props,r=n.eventsBasedBehavior,a=n.project;return c.createElement(c.Fragment,null,c.createElement(p.b,{value:t,onChange:this._changeTab},c.createElement(p.a,{label:c.createElement(s.Trans,{id:"Configuration"}),value:"configuration"}),c.createElement(p.a,{label:c.createElement(s.Trans,{id:"Properties"}),value:"properties"})),"configuration"===t&&c.createElement(g.a,{expand:!0},c.createElement(m.a,{identifier:"events-based-behavior-explanation",kind:"info"},c.createElement(s.Trans,{id:"This is the configuration of your behavior. Make sure to choose a proper internal name as it's hard to change it later. Enter a description explaining what the behavior is doing to the object."})),c.createElement(l.b,{floatingLabelText:c.createElement(s.Trans,{id:"Internal Name"}),value:r.getName(),disabled:!0,fullWidth:!0}),c.createElement(u.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Name displayed in editor"}),value:r.getFullName(),onChange:function(t){r.setFullName(t),e.forceUpdate()},fullWidth:!0}),c.createElement(u.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Description"}),floatingLabelFixed:!0,hintText:{id:"The description of the behavior should explain what the behavior is doing to the object, and, briefly, how to use it."},value:r.getDescription(),onChange:function(t){r.setDescription(t),e.forceUpdate()},multiline:!0,fullWidth:!0,rows:3}),c.createElement(d.a,{floatingLabelText:c.createElement(s.Trans,{id:"Object on which this behavior can be used"}),project:a,value:r.getObjectType(),onChange:function(t){r.setObjectType(t),e.forceUpdate()},allowedObjectTypes:0===this._allObjectTypes.length?void 0:1===this._allObjectTypes.length?["",this._allObjectTypes[0]]:[""]}),this._allObjectTypes.length>1&&c.createElement(f.a,{kind:"info"},c.createElement(s.Trans,{id:"This behavior is being used by multiple types of objects. Thus, you can't restrict its usage to any particular object type. All the object types using this behavior are listed here: {0}",values:{0:this._allObjectTypes.join(", ")}})),0===r.getEventsFunctions().getEventsFunctionsCount()&&c.createElement(m.a,{identifier:"empty-events-based-behavior-explanation",kind:"info"},c.createElement(s.Trans,{id:"Once you're done, close this dialog and start adding some functions to the behavior. Then, test the behavior by adding it to an object in a scene."}))),"properties"===t&&c.createElement(h.a,{project:a,eventsBasedBehavior:r,onPropertiesUpdated:this.props.onPropertiesUpdated,onRenameProperty:this.props.onRenameProperty}))}}]),n}(c.Component)}).call(this,n(8))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return D}));var r=n(18),a=n(3),o=n(4),i=n(6),s=n(5),c=n(115),l=n(15),u=n(117),d=n(154),p=n(155),m=n(131),f=n(127),h=n(138),g=n(136),b=n(186),v=n(347),E=n.n(v),y=n(141),C=n(215),j=n(30),O=n(167),x=n(310),k=n(322),T=n.n(k),w=n(284),S=n.n(w),P=n(173),_=n.n(P),I=n(129),N=n(818),A=n(252),R=n(817),M=n(212),F=e.gd,L={propertiesContainer:{flex:1}},B=function(e){return e.getExtraInfo().toJSArray()},D=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i)))._addProperty=function(){var t=e.props.eventsBasedBehavior.getPropertyDescriptors(),n=Object(O.a)("Property",(function(e){return t.has(e)}));t.insertNew(n,t.getCount()).setType("Number"),e.forceUpdate(),e.props.onPropertiesUpdated()},e._removeProperty=function(t){e.props.eventsBasedBehavior.getPropertyDescriptors().remove(t),e.forceUpdate(),e.props.onPropertiesUpdated()},e._moveProperty=function(t,n){e.props.eventsBasedBehavior.getPropertyDescriptors().move(t,n),e.forceUpdate(),e.props.onPropertiesUpdated()},e._setChoiceExtraInfo=function(t){return function(n){var r=new F.VectorString;n.forEach((function(e){return r.push_back(e)})),t.setExtraInfo(r),r.delete(),e.forceUpdate()}},e._getPropertyGroupNames=function(){for(var t=e.props.eventsBasedBehavior.getPropertyDescriptors(),n=new Set,a=0;a<t.size();a++){var o=t.at(a).getGroup()||"";n.add(o)}return Object(r.a)(n).sort((function(e,t){return e.localeCompare(t)}))},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props.eventsBasedBehavior.getPropertyDescriptors();return l.createElement(c.I18n,null,(function(n){var r=n.i18n;return l.createElement(u.a,{noMargin:!0},l.createElement(u.b,{noMargin:!0},l.createElement("div",{style:L.propertiesContainer},Object(m.mapVector)(t,(function(n,a){return l.createElement(l.Fragment,{key:a},l.createElement(C.b,null,l.createElement(u.a,{expand:!0,noMargin:!0},l.createElement(y.a,{margin:"none",commitOnBlur:!0,hintText:{id:"Enter the property name"},value:n.getName(),onChange:function(a){a!==n.getName()&&function(e,t,n){return n?"name"===n||"type"===n?(Object(j.c)(e._({id:'The name of a property cannot be "name" or "type", as they are used by GDevelop internally.'}),{delayToNextTick:!0}),!1):t.has(n)?(Object(j.c)(e._({id:"This name is already used by another property. Choose a unique name for each property."}),{delayToNextTick:!0}),!1):!!F.Project.validateName(n)||(Object(j.c)(e._({id:"This name is invalid. Only use alphanumeric characters (0-9, a-z) and underscores. Digits are not allowed as the first character."}),{delayToNextTick:!0}),!1):(Object(j.c)(e._({id:"The name of a property cannot be empty."}),{delayToNextTick:!0}),!1)}(r,t,a)&&(e.props.onRenameProperty(n.getName(),a),n.setName(a),e.forceUpdate(),e.props.onPropertiesUpdated())},fullWidth:!0})),l.createElement(x.a,{label:n.isHidden()?l.createElement(c.Trans,{id:"Hidden"}):l.createElement(c.Trans,{id:"Visible in editor"}),checked:!n.isHidden(),onCheck:function(t,r){n.setHidden(!r),e.forceUpdate(),e.props.onPropertiesUpdated()},checkedIcon:l.createElement(T.a,null),uncheckedIcon:l.createElement(S.a,null)}),l.createElement(b.a,{element:l.createElement(h.a,null,l.createElement(E.a,null)),buildMenuTemplate:function(r){return[{label:r._({id:"Delete"}),click:function(){return e._removeProperty(n.getName())}},{type:"separator"},{label:r._({id:"Move up"}),click:function(){return e._moveProperty(a,a-1)},enabled:a-1>=0},{label:r._({id:"Move down"}),click:function(){return e._moveProperty(a,a+1)},enabled:a+1<t.getCount()}]}})),l.createElement(u.b,null,l.createElement(I.a,{expand:!0},l.createElement(I.b,{noMargin:!0},l.createElement(d.a,{floatingLabelText:l.createElement(c.Trans,{id:"Type"}),value:n.getType(),onChange:function(t,r,a){n.setType(a),e.forceUpdate(),e.props.onPropertiesUpdated()},fullWidth:!0},l.createElement(p.a,{value:"Number",primaryText:{id:"Number"}}),l.createElement(p.a,{value:"String",primaryText:{id:"String"}}),l.createElement(p.a,{value:"Boolean",primaryText:{id:"Boolean (checkbox)"}}),l.createElement(p.a,{value:"Choice",primaryText:{id:"String from a list of options (text)"}}),l.createElement(p.a,{value:"Color",primaryText:{id:"Color (text)"}}),l.createElement(p.a,{value:"Behavior",primaryText:{id:"Required behavior"}})),("String"===n.getType()||"Number"===n.getType())&&l.createElement(y.a,{commitOnBlur:!0,floatingLabelText:l.createElement(c.Trans,{id:"Default value"}),hintText:"Number"===n.getType()?"123":"ABC",value:n.getValue(),onChange:function(t){n.setValue(t),e.forceUpdate(),e.props.onPropertiesUpdated()},fullWidth:!0}),"Boolean"===n.getType()&&l.createElement(d.a,{floatingLabelText:l.createElement(c.Trans,{id:"Default value"}),value:"true"===n.getValue()?"true":"false",onChange:function(t,r,a){n.setValue(a),e.forceUpdate(),e.props.onPropertiesUpdated()},fullWidth:!0},l.createElement(p.a,{value:"true",primaryText:{id:"True (checked)"}}),l.createElement(p.a,{value:"false",primaryText:{id:"False (not checked)"}})),"Behavior"===n.getType()&&l.createElement(R.a,{project:e.props.project,objectType:e.props.eventsBasedBehavior.getObjectType(),value:0===n.getExtraInfo().size()?"":n.getExtraInfo().at(0),onChange:function(t){var r=n.getExtraInfo();0===r.size()?r.push_back(t):r.set(0,t),e.forceUpdate(),e.props.onPropertiesUpdated()},disabled:!1})),"Choice"===n.getType()&&l.createElement(N.a,{extraInfo:B(n),setExtraInfo:e._setChoiceExtraInfo(n)}),"Color"===n.getType()&&l.createElement(A.a,{floatingLabelText:l.createElement(c.Trans,{id:"Color"}),disableAlpha:!0,fullWidth:!0,color:n.getValue(),onChange:function(t){n.setValue(t),e.forceUpdate(),e.props.onPropertiesUpdated()}}),l.createElement(M.a,{floatingLabelText:l.createElement(c.Trans,{id:"Group name"}),hintText:{id:"Leave it empty to use the default group."},fullWidth:!0,value:n.getGroup(),onChange:function(t){n.setGroup(t),e.forceUpdate(),e.props.onPropertiesUpdated()},dataSource:e._getPropertyGroupNames().map((function(e){return{text:e,value:e}})),openOnFocus:!0}),l.createElement(y.a,{commitOnBlur:!0,floatingLabelText:l.createElement(c.Trans,{id:"Label, shown in the editor"}),hintText:{id:"This should make the purpose of the property easy to understand"},floatingLabelFixed:!0,value:n.getLabel(),onChange:function(t){n.setLabel(t),e.forceUpdate()},fullWidth:!0}))))})),0===t.getCount()?l.createElement(g.a,null,l.createElement(c.Trans,{id:"No properties for this behavior. Add one to store data inside this behavior (for example: health, ammo, speed, etc...)"})):null,l.createElement(u.a,null,l.createElement(u.b,{justifyContent:"flex-end",expand:!0},l.createElement(f.a,{primary:!0,label:l.createElement(c.Trans,{id:"Add a property"}),onClick:e._addProperty,icon:l.createElement(_.a,null)}))))))}))}}]),n}(l.Component)}).call(this,n(8))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return w}));var r=n(26),a=n(115),o=n(15),i=n(124),s=n(222),c=n(151),l=n(128),u=n(142),d=n(869),p=n(870),m=n(871),f=n(872),h=n(873),g=n(874),b=n(875),v=n(876),E=n(117),y=n(322),C=n.n(y),j=n(284),O=n.n(j),x=e.gd,k={icon:{width:40,height:40},disabledItem:{opacity:.6}},T=function(e){var t=e.icon,n=e.disabled,r=e.onChoose,a=e.name,i=e.description;return o.createElement(c.b,{leftIcon:t,primaryText:a,secondaryText:i,secondaryTextLines:2,onClick:function(){return r({functionType:x.EventsFunction.Action,name:a})},style:n?k.disabledItem:void 0,disabled:n})};function w(e){var t=e.eventsBasedBehavior,n=e.onChoose,y=e.onCancel,j=t.getEventsFunctions(),w=o.useState(!1),S=Object(r.a)(w,2),P=S[0],_=S[1];return o.createElement(l.a,{secondaryActions:[o.createElement(u.a,{key:"help",helpPagePath:"/behaviors/events-based-behaviors"})],actions:[o.createElement(i.a,{label:o.createElement(a.Trans,{id:"Cancel"}),keyboardFocused:!0,onClick:y,key:"close"})],cannotBeDismissed:!1,open:!0,noMargin:!0,title:o.createElement(a.Trans,{id:'Choose a new behavior function ("method")'}),onRequestClose:y},o.createElement(c.a,null,o.createElement(c.b,{leftIcon:o.createElement(f.a,{style:k.icon}),primaryText:o.createElement(a.Trans,{id:"Action"}),secondaryText:o.createElement(a.Trans,{id:"An action that can be used on objects with the behavior. You can define the action parameters: objects, texts, numbers, layers, etc..."}),onClick:function(){return n({functionType:x.EventsFunction.Action,name:null})}}),o.createElement(c.b,{leftIcon:o.createElement(h.a,{style:k.icon}),primaryText:o.createElement(a.Trans,{id:"Condition"}),secondaryText:o.createElement(a.Trans,{id:"A condition that can be used on objects with the behavior. You can define the condition parameters: objects, texts, numbers, layers, etc..."}),onClick:function(){return n({functionType:x.EventsFunction.Condition,name:null})}}),o.createElement(c.b,{leftIcon:o.createElement(g.a,{style:k.icon}),primaryText:o.createElement(a.Trans,{id:"Expression"}),secondaryText:o.createElement(a.Trans,{id:"An expression that can be used on objects with the behavior. Can either return a number or a string, and take some parameters."}),onClick:function(){return n({functionType:x.EventsFunction.Expression,name:null})}}),o.createElement(s.a,null,o.createElement(a.Trans,{id:"Lifecycle methods"})),o.createElement(T,{icon:o.createElement(d.a,{style:k.icon}),name:"onCreated",disabled:j.hasEventsFunctionNamed("onCreated"),onChoose:n,description:o.createElement(a.Trans,{id:"Events that will be run once, when an object is created with this behavior being attached to it."})}),o.createElement(T,{icon:o.createElement(p.a,{style:k.icon}),name:"doStepPreEvents",disabled:j.hasEventsFunctionNamed("doStepPreEvents"),onChoose:n,description:o.createElement(a.Trans,{id:"Events that will be run at every frame (roughly 60 times per second), for every object that has the behavior attached, before the events from the events sheet are launched."})}),o.createElement(T,{icon:o.createElement(m.a,{style:k.icon}),name:"onDestroy",disabled:j.hasEventsFunctionNamed("onOwnerRemovedFromScene")||j.hasEventsFunctionNamed("onDestroy"),onChoose:n,description:o.createElement(a.Trans,{id:"Events that will be run once, after the object is removed from the scene and before it is entirely removed from memory."})}),P&&o.createElement(o.Fragment,null,o.createElement(s.a,null,o.createElement(a.Trans,{id:"Other lifecycle methods"})),o.createElement(T,{icon:o.createElement(v.a,{style:k.icon}),name:"onDeActivate",disabled:j.hasEventsFunctionNamed("onDeActivate"),onChoose:n,description:o.createElement(a.Trans,{id:"Events that will be run once when the behavior is deactivated on an object (step events won't be run until the behavior is activated again)."})}),o.createElement(T,{icon:o.createElement(b.a,{style:k.icon}),name:"onActivate",disabled:j.hasEventsFunctionNamed("onActivate"),onChoose:n,description:o.createElement(a.Trans,{id:"Events that will be run once when the behavior is re-activated on an object (after it was previously deactivated)."})}),o.createElement(T,{icon:o.createElement(p.a,{style:k.icon}),name:"doStepPostEvents",disabled:j.hasEventsFunctionNamed("doStepPostEvents"),onChoose:n,description:o.createElement(a.Trans,{id:"Events that will be run at every frame (roughly 60 times per second), for every object that has the behavior attached, after the events from the events sheet."})}))),o.createElement(E.b,{justifyContent:"center",alignItems:"center"},P?o.createElement(i.a,{icon:o.createElement(O.a,null),primary:!1,onClick:function(){return _(!1)},label:o.createElement(a.Trans,{id:"Hide other lifecycle functions (advanced)"})}):o.createElement(i.a,{icon:o.createElement(C.a,null),primary:!1,onClick:function(){return _(!0)},label:o.createElement(a.Trans,{id:"Show other lifecycle functions (advanced)"})})))}}).call(this,n(8))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return w}));var r=n(26),a=n(115),o=n(15),i=n(124),s=n(222),c=n(151),l=n(128),u=n(142),d=n(869),p=n(870),m=n(871),f=n(872),h=n(873),g=n(874),b=n(875),v=n(876),E=n(322),y=n.n(E),C=n(284),j=n.n(C),O=n(117),x=e.gd,k={icon:{width:40,height:40},disabledItem:{opacity:.6}},T=function(e){var t=e.icon,n=e.disabled,r=e.onChoose,a=e.name,i=e.description;return o.createElement(c.b,{leftIcon:t,primaryText:a,secondaryText:i,secondaryTextLines:2,onClick:r,style:n?k.disabledItem:void 0,disabled:n})};function w(e){var t=e.eventsFunctionsExtension,n=e.onChoose,E=e.onCancel,C=o.useState(!1),w=Object(r.a)(C,2),S=w[0],P=w[1];return o.createElement(l.a,{secondaryActions:[o.createElement(u.a,{key:"help",helpPagePath:"/events/functions"})],actions:[o.createElement(i.a,{label:o.createElement(a.Trans,{id:"Cancel"}),keyboardFocused:!0,onClick:E,key:"close"})],cannotBeDismissed:!1,open:!0,noMargin:!0,title:o.createElement(a.Trans,{id:"Choose a new extension function"}),onRequestClose:E},o.createElement(c.a,null,o.createElement(T,{icon:o.createElement(f.a,{style:k.icon}),name:o.createElement(a.Trans,{id:"Action"}),onChoose:function(){return n({functionType:x.EventsFunction.Action,name:null})},description:o.createElement(a.Trans,{id:"An action that can be used in other events sheet. You can define the action parameters: objects, texts, numbers, layers, etc..."})}),o.createElement(T,{icon:o.createElement(h.a,{style:k.icon}),name:o.createElement(a.Trans,{id:"Condition"}),onChoose:function(){return n({functionType:x.EventsFunction.Condition,name:null})},description:o.createElement(a.Trans,{id:"A condition that can be used in other events sheet. You can define the condition parameters: objects, texts, numbers, layers, etc..."})}),o.createElement(T,{icon:o.createElement(g.a,{style:k.icon}),name:o.createElement(a.Trans,{id:"Expression"}),onChoose:function(){return n({functionType:x.EventsFunction.Expression,name:null})},description:o.createElement(a.Trans,{id:"An expression that can be used in formulas. Can either return a number or a string, and take some parameters."})}),S&&o.createElement(o.Fragment,null,o.createElement(s.a,null,o.createElement(a.Trans,{id:"Lifecycle functions (advanced)"})),o.createElement(T,{icon:o.createElement(d.a,{style:k.icon}),name:"onFirstSceneLoaded",disabled:t.hasEventsFunctionNamed("onFirstSceneLoaded"),onChoose:function(){return n({functionType:x.EventsFunction.Action,name:"onFirstSceneLoaded"})},description:o.createElement(a.Trans,{id:"Events that will be run once when the first scene of the game is loaded, before any other events."})}),o.createElement(T,{icon:o.createElement(d.a,{style:k.icon}),name:"onSceneLoaded",disabled:t.hasEventsFunctionNamed("onSceneLoaded"),onChoose:function(){return n({functionType:x.EventsFunction.Action,name:"onSceneLoaded"})},description:o.createElement(a.Trans,{id:"Events that will be run once when a scene of the game is loaded, before the scene events."})}),o.createElement(T,{icon:o.createElement(p.a,{style:k.icon}),name:"onScenePreEvents",disabled:t.hasEventsFunctionNamed("onScenePreEvents"),onChoose:function(){return n({functionType:x.EventsFunction.Action,name:"onScenePreEvents"})},description:o.createElement(a.Trans,{id:"Events that will be run at every frame (roughly 60 times per second), before the events from the events sheet of the scene."})}),o.createElement(T,{icon:o.createElement(p.a,{style:k.icon}),name:"onScenePostEvents",disabled:t.hasEventsFunctionNamed("onScenePostEvents"),onChoose:function(){return n({functionType:x.EventsFunction.Action,name:"onScenePostEvents"})},description:o.createElement(a.Trans,{id:"Events that will be run at every frame (roughly 60 times per second), after the events from the events sheet of the scene."})}),o.createElement(T,{icon:o.createElement(v.a,{style:k.icon}),name:"onScenePaused",disabled:t.hasEventsFunctionNamed("onScenePaused"),onChoose:function(){return n({functionType:x.EventsFunction.Action,name:"onScenePaused"})},description:o.createElement(a.Trans,{id:"Events that will be run once when a scene is paused (another scene is run on top of it)."})}),o.createElement(T,{icon:o.createElement(b.a,{style:k.icon}),name:"onSceneResumed",disabled:t.hasEventsFunctionNamed("onSceneResumed"),onChoose:function(){return n({functionType:x.EventsFunction.Action,name:"onSceneResumed"})},description:o.createElement(a.Trans,{id:"Events that will be run once when a scene is resumed (after it was previously paused)."})}),o.createElement(T,{icon:o.createElement(m.a,{style:k.icon}),name:"onSceneUnloading",disabled:t.hasEventsFunctionNamed("onSceneUnloading"),onChoose:function(){return n({functionType:x.EventsFunction.Action,name:"onSceneUnloading"})},description:o.createElement(a.Trans,{id:"Events that will be run once when a scene is about to be unloaded from memory. The previous scene that was paused will be resumed after this."})}))),o.createElement(O.b,{justifyContent:"center",alignItems:"center"},S?o.createElement(i.a,{icon:o.createElement(j.a,null),primary:!1,onClick:function(){return P(!1)},label:o.createElement(a.Trans,{id:"Hide lifecycle functions (advanced)"})}):o.createElement(i.a,{icon:o.createElement(y.a,null),primary:!1,onClick:function(){return P(!0)},label:o.createElement(a.Trans,{id:"Show lifecycle functions (advanced)"})})))}}).call(this,n(8))},function(e,t,n){"use strict";var r=n(26),a=n(115),o=n(15),i=n(117),s=n(124),c=n(1650),l=n.n(c),u=n(160);t.a=o.forwardRef((function(e,t){var n=e.initialEditorName,c=e.editors,d=e.transitions,p=e.onEditorChanged,m=o.useState(n),f=Object(r.a)(m,2),h=f[0],g=f[1];o.useImperativeHandle(t,(function(){return{openEditor:function(e){g(e)}}})),o.useEffect((function(){p(h)}),[h,p]);var b=d[h],v="space-between";return b&&(b.previousEditor&&!b.nextEditor&&(v="flex-start"),!b.previousEditor&&b.nextEditor&&(v="flex-end")),o.createElement(i.a,{noMargin:!0,expand:!0},b&&o.createElement(u.a,{maxWidth:!0,noExpand:!0,noFullHeight:!0},o.createElement(i.a,null,o.createElement(i.b,{justifyContent:v},b.previousEditor&&o.createElement(s.a,{label:o.createElement(a.Trans,{id:"Back"}),onClick:function(){b.previousEditor&&g(b.previousEditor)},icon:o.createElement(l.a,null)}),b.nextLabel&&b.nextEditor&&o.createElement(s.a,{label:b.nextLabel,onClick:function(){b.nextEditor&&g(b.nextEditor)},icon:b.nextIcon})))),c[h]?c[h].renderEditor():null)}))},,function(e,t,n){"use strict";var r=n(115),a=n(15),o=n(160),i=n(117),s=n(125),c=n(127),l=n(124);t.a=function(e){var t=e.eventsFunctionsExtension.getEventsFunctionsCount(),n=e.eventsFunctionsExtension.getEventsBasedBehaviors().getCount();return a.createElement(r.I18n,null,(function(u){var d=u.i18n;return a.createElement(o.a,null,a.createElement(i.a,null,a.createElement(s.a,null,a.createElement(r.Trans,{id:"Extensions can provide functions (which can be actions, conditions or expressions) or new behaviors."})),a.createElement(c.a,{label:d._({id:"Edit functions (not attached to behaviors) ({eventsFunctionsCount})",values:{eventsFunctionsCount:t}}),onClick:e.onEditFreeFunctions,primary:!0}),a.createElement(i.c,null),a.createElement(c.a,{label:d._({id:"Edit behaviors ({eventsBasedBehaviorsCount})",values:{eventsBasedBehaviorsCount:n}}),onClick:e.onEditBehaviors,primary:!0}),a.createElement(i.c,null),a.createElement(l.a,{label:a.createElement(r.Trans,{id:"Edit extension options"}),onClick:e.onEditExtensionOptions})))}))}},,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h}));var r=n(3),a=n(4),o=n(605),i=n.n(o),s=n(227),c=(n(247),n(228)),l=(n(289),n(145)),u=n(882),d=n(1657),p=n(325),m=n(1658),f=e.gd,h=function(){function e(t){var n=this,a=t.project,o=t.layout,m=t.layer,h=t.viewPosition,g=t.instances,b=t.onInstanceClicked,v=t.onInstanceDoubleClicked,E=t.onOverInstance,y=t.onOutInstance,C=t.onMoveInstance,j=t.onMoveInstanceEnd,O=t.onDownInstance;Object(r.a)(this,e),this.renderedInstances={},this.wasUsed=!1,this._temporaryRectangle=new p.a,this._temporaryRectanglePath=[[0,0],[0,0],[0,0],[0,0]],this.getUnrotatedInstanceLeft=function(e){return e.getX()-(n.renderedInstances[e.ptr]?n.renderedInstances[e.ptr].getOriginX():0)},this.getUnrotatedInstanceTop=function(e){return e.getY()-(n.renderedInstances[e.ptr]?n.renderedInstances[e.ptr].getOriginY():0)},this.getUnrotatedInstanceWidth=function(e){return e.hasCustomSize()?e.getCustomWidth():n.renderedInstances[e.ptr]?n.renderedInstances[e.ptr].getDefaultWidth():0},this.getUnrotatedInstanceHeight=function(e){return e.hasCustomSize()?e.getCustomHeight():n.renderedInstances[e.ptr]?n.renderedInstances[e.ptr].getDefaultHeight():0},this.getRendererOfInstance=function(e){var t=n.renderedInstances[e.ptr];if(void 0===t){var r=e.getObjectName(),a=Object(c.a)(n.project,n.layout,r);if(!a)return null;(t=n.renderedInstances[e.ptr]=s.a.createNewInstanceRenderer(n.project,n.layout,e,a,n.pixiContainer))._pixiObject.interactive=!0,i.a.panable(t._pixiObject),Object(d.a)(t._pixiObject),t._pixiObject.on("click",(function(){n.onInstanceClicked(e)})),t._pixiObject.on("doubleclick",(function(){n.onInstanceDoubleClicked(e)})),t._pixiObject.on("mouseover",(function(){n.onOverInstance(e)})),t._pixiObject.on("mousedown",(function(t){var r=t.data.global,a=n.viewPosition.toSceneCoordinates(r.x,r.y);n.onDownInstance(e,a[0],a[1])})),t._pixiObject.on("touchstart",(function(t){if(Object(u.b)(t.data&&t.data.originalEvent))return null;var r=t.data.global,a=n.viewPosition.toSceneCoordinates(r.x,r.y);n.onDownInstance(e,a[0],a[1])})),t._pixiObject.on("mouseout",(function(){n.onOutInstance(e)})),t._pixiObject.on("panmove",(function(t){if(Object(u.b)(t.data&&t.data.originalEvent))return null;n.onMoveInstance(e,t.deltaX,t.deltaY)})),t._pixiObject.on("panend",(function(e){n.onMoveInstanceEnd()}))}return t},this.project=a,this.instances=g,this.layout=o,this.layer=m,this.viewPosition=h,this.onInstanceClicked=b,this.onInstanceDoubleClicked=v,this.onOverInstance=E,this.onOutInstance=y,this.onMoveInstance=C,this.onMoveInstanceEnd=j,this.onDownInstance=O,this.viewTopLeft=[0,0],this.viewBottomRight=[0,0],this.pixiContainer=new l.Container,this.instancesRenderer=new f.InitialInstanceJSFunctor,this.instancesRenderer.invoke=function(e){var t=f.wrapPointer(e,f.InitialInstance),r=n.getRendererOfInstance(t);if(r){var a=r.getPixiObject();a&&(a.zOrder=t.getZOrder());var o=n._isInstanceVisible(t);a&&(a.visible=o),o&&r.update(),r.wasUsed=!0}}}return Object(a.a)(e,[{key:"getPixiContainer",value:function(){return this.pixiContainer}},{key:"getUnrotatedInstanceAABB",value:function(e,t){var n=this.getUnrotatedInstanceLeft(e),r=this.getUnrotatedInstanceTop(e),a=n+this.getUnrotatedInstanceWidth(e),o=r+this.getUnrotatedInstanceHeight(e);return t.left=n,t.right=a,t.top=r,t.bottom=o,t}},{key:"_getInstanceRotatedRectangle",value:function(e){var t=this.getUnrotatedInstanceLeft(e),n=this.getUnrotatedInstanceTop(e),r=t+this.getUnrotatedInstanceWidth(e),a=n+this.getUnrotatedInstanceHeight(e),o=this._temporaryRectanglePath;o[0][0]=t,o[0][1]=n,o[1][0]=t,o[1][1]=a,o[2][0]=r,o[2][1]=a,o[3][0]=r,o[3][1]=n;var i=(o[0][0]+o[2][0])/2,s=(o[0][1]+o[2][1])/2,c=e.getAngle()*Math.PI/180;return Object(m.a)(o,i,s,c),o}},{key:"getInstanceAABB",value:function(e,t){if(0===e.getAngle()*Math.PI/180)return this.getUnrotatedInstanceAABB(e,t);for(var n=this._getInstanceRotatedRectangle(e),r=Number.MAX_VALUE,a=-Number.MAX_VALUE,o=Number.MAX_VALUE,i=-Number.MAX_VALUE,s=0,c=n.length;s<c;++s)r=Math.min(r,n[s][0]),a=Math.max(a,n[s][0]),o=Math.min(o,n[s][1]),i=Math.max(i,n[s][1]);return t.left=r,t.right=a,t.top=o,t.bottom=i,t}},{key:"_isInstanceVisible",value:function(e){var t=this.getInstanceAABB(e,this._temporaryRectangle);return!(t.left+t.width()<this.viewTopLeft[0]||t.top+t.height()<this.viewTopLeft[1]||t.left>this.viewBottomRight[0]||t.top>this.viewBottomRight[1])}},{key:"_computeViewBounds",value:function(){this.viewTopLeft=this.viewPosition.toSceneCoordinates(-100,-100),this.viewBottomRight=this.viewPosition.toSceneCoordinates(this.viewPosition.getWidth()+100,this.viewPosition.getHeight()+100)}},{key:"render",value:function(){this._computeViewBounds(),this.instances.iterateOverInstancesWithZOrdering(this.instancesRenderer,this.layer.getName()),this._updatePixiObjectsZOrder(),this._updateVisibility(),this._destroyUnusedInstanceRenderers()}},{key:"_updatePixiObjectsZOrder",value:function(){this.pixiContainer.children.sort((function(e,t){return e.zOrder=e.zOrder||0,t.zOrder=t.zOrder||0,e.zOrder-t.zOrder}))}},{key:"_updateVisibility",value:function(){this.pixiContainer.visible=this.layer.getVisibility()}},{key:"resetInstanceRenderersFor",value:function(e){for(var t in this.renderedInstances){var n=Number(t);if(this.renderedInstances.hasOwnProperty(n)){var r=this.renderedInstances[n];r.getInstance().getObjectName()===e&&(r.onRemovedFromScene(),delete this.renderedInstances[n])}}}},{key:"_destroyUnusedInstanceRenderers",value:function(){for(var e in this.renderedInstances){var t=Number(e);if(this.renderedInstances.hasOwnProperty(t)){var n=this.renderedInstances[t];n.wasUsed?n.wasUsed=!1:(n.onRemovedFromScene(),delete this.renderedInstances[t])}}}},{key:"delete",value:function(){for(var e in this.renderedInstances){var t=Number(e);if(this.renderedInstances.hasOwnProperty(t))this.renderedInstances[t].onRemovedFromScene(),delete this.renderedInstances[t]}this.pixiContainer.destroy(),this.instancesRenderer.delete()}}]),e}()}).call(this,n(8))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(145);var r=function(e){var t=0,n=0,r=0,a=function(a){var o=a.data.global,i=o.x,s=o.y,c=Date.now();c-t<500&&Math.abs(i-n)<=10&&Math.abs(s-r)<=10&&setTimeout((function(){e.emit("doubleclick",a)})),t=c,n=i,r=s};e.interactive=!0,e.on("click",a),e.on("touchend",a)}},function(e,t,n){"use strict";function r(e,t,n,r){for(var a=Math.cos(-r),o=Math.sin(-r),i=0,s=e.length;i<s;++i){var c=e[i][0]-t,l=e[i][1]-n;e[i][0]=t+c*a+l*o,e[i][1]=n-c*o+l*a}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var r=n(3),a=n(4),o=n(145),i=n(325),s=e.gd,c=function(){function e(t){var n=this,a=t.instances,c=t.instanceMeasurer,l=t.toSceneCoordinates;Object(r.a)(this,e),this.startSelectionRectangle=function(e,t){n.selectionRectangleStart={x:e,y:t},n.selectionRectangleEnd={x:e,y:t}},this.updateSelectionRectangle=function(e,t){n.selectionRectangleStart||(n.selectionRectangleStart={x:e,y:t}),n.selectionRectangleEnd={x:e,y:t}},this.endSelectionRectangle=function(){if(!n.selectionRectangleStart)return[];if(n._instancesInSelectionRectangle.length=0,n.selectionRectangleStart.x>n.selectionRectangleEnd.x){var e=n.selectionRectangleStart.x;n.selectionRectangleStart.x=n.selectionRectangleEnd.x,n.selectionRectangleEnd.x=e}if(n.selectionRectangleStart.y>n.selectionRectangleEnd.y){var t=n.selectionRectangleStart.y;n.selectionRectangleStart.y=n.selectionRectangleEnd.y,n.selectionRectangleEnd.y=t}return n.instances.iterateOverInstances(n.selector),n.selectionRectangleStart=null,n._instancesInSelectionRectangle},this.instances=a,this.instanceMeasurer=c,this.toSceneCoordinates=l,this.pixiRectangle=new o.Graphics,this.pixiRectangle.hitArea=new o.Rectangle(0,0,0,0),this.selectionRectangleStart=null,this.selectionRectangleEnd=null,this._instancesInSelectionRectangle=[],this._temporaryAABB=new i.a,this.selector=new s.InitialInstanceJSFunctor,this.selector.invoke=function(e){var t=s.wrapPointer(e,s.InitialInstance),r=n.instanceMeasurer.getInstanceAABB(t,n._temporaryAABB);if(n.selectionRectangleStart&&n.selectionRectangleEnd){var a=l(n.selectionRectangleStart.x,n.selectionRectangleStart.y),o=l(n.selectionRectangleEnd.x,n.selectionRectangleEnd.y);a[0]<=r.left&&r.right<=o[0]&&a[1]<=r.top&&r.bottom<=o[1]&&n._instancesInSelectionRectangle.push(t)}}}return Object(a.a)(e,[{key:"hasStartedSelectionRectangle",value:function(){return this.selectionRectangleStart}},{key:"getPixiObject",value:function(){return this.pixiRectangle}},{key:"render",value:function(){if(this.selectionRectangleStart){var e=this.selectionRectangleStart.x,t=this.selectionRectangleStart.y,n=this.selectionRectangleEnd.x,r=this.selectionRectangleEnd.y;this.pixiRectangle.visible=!0,this.pixiRectangle.clear(),this.pixiRectangle.beginFill(6842600),this.pixiRectangle.lineStyle(1,6842600,1),this.pixiRectangle.fill.alpha=.1,this.pixiRectangle.alpha=.8,this.pixiRectangle.drawRect(Math.min(e,n),Math.min(t,r),Math.abs(n-e),Math.abs(r-t)),this.pixiRectangle.endFill()}else this.pixiRectangle.visible=!1}},{key:"delete",value:function(){this.selector.delete()}}]),e}()}).call(this,n(8))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var r=n(3),a=n(4),o=n(606),i=e.gd,s=function(e,t){var n=e;return t.grid&&t.snap?Object(o.a)(n,t.gridWidth,t.gridHeight,t.gridOffsetX,t.gridOffsetY,t.gridType):(n[0]=Math.round(n[0]),n[1]=Math.round(n[1])),n},c=function(){function e(t){var n=this,a=t.instances,o=t.instancesEditorSettings;Object(r.a)(this,e),this._zOrderFinder=new i.HighestZOrderFinder,this.addInstances=function(e,t){n._instances.iterateOverInstances(n._zOrderFinder);var r=n._zOrderFinder.getHighestZOrder()+1,a=s(e,n._instancesEditorSettings);return t.map((function(e){var t=n._instances.insertNewInitialInstance();return t.setObjectName(e),t.setX(a[0]),t.setY(a[1]),t.setZOrder(r),t}))},this.createOrUpdateTemporaryInstancesFromObjectNames=function(e,t){t.length&&(n._temporaryInstances.length?n.updateTemporaryInstancePositions(e):n._createTemporaryInstancesFromObjectNames(e,t))},this._createTemporaryInstancesFromObjectNames=function(e,t){n.deleteTemporaryInstances(),n._instances.iterateOverInstances(n._zOrderFinder);var r=n._zOrderFinder.getHighestZOrder()+1,a=s(e,n._instancesEditorSettings);n._temporaryInstances=t.map((function(e){var t=n._instances.insertNewInitialInstance();return t.setObjectName(e),t.setX(a[0]),t.setY(a[1]),t.setZOrder(r),t}))},this.updateTemporaryInstancePositions=function(e){var t=s(e,n._instancesEditorSettings);return n._temporaryInstances.forEach((function(e){e.setX(t[0]),e.setY(t[1])})),n._temporaryInstances},this._instances=a,this._instancesEditorSettings=o,this._temporaryInstances=[]}return Object(a.a)(e,[{key:"setInstancesEditorSettings",value:function(e){this._instancesEditorSettings=e}},{key:"deleteTemporaryInstances",value:function(){var e=this;this._temporaryInstances.forEach((function(t){e._instances.removeInstance(t)})),this._temporaryInstances=[]}},{key:"commitTemporaryInstances",value:function(){this._temporaryInstances=[]}},{key:"unmount",value:function(){this._zOrderFinder.delete()}}]),e}()}).call(this,n(8))},function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n(160),u=n(883),d=n(136),p=n(273),m=n(312),f=n(507),h=n(228),g=n(138),b=n(117),v=n(348),E=n.n(v),y=n(125),C=n(164),j=n(278),O=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._instanceVariablesList=c.createRef(),e.schema=[{name:e.props.i18n._({id:"Object name"}),valueType:"string",disabled:!0,getValue:function(e){return e.getObjectName()},setValue:function(e,t){return e.setObjectName(t)},onEditButtonClick:function(t){return e.props.onEditObjectByName(t.getObjectName())}},{name:e.props.i18n._({id:"Position"}),type:"row",children:[{name:e.props.i18n._({id:"X"}),valueType:"number",getValue:function(e){return e.getX()},setValue:function(e,t){return e.setX(t)}},{name:e.props.i18n._({id:"Y"}),valueType:"number",getValue:function(e){return e.getY()},setValue:function(e,t){return e.setY(t)}}]},{name:e.props.i18n._({id:"Angle"}),valueType:"number",getValue:function(e){return e.getAngle()},setValue:function(e,t){return e.setAngle(t)}},{name:e.props.i18n._({id:"Lock position/angle in the editor"}),valueType:"boolean",getValue:function(e){return e.isLocked()},setValue:function(e,t){return e.setLocked(t)}},{name:e.props.i18n._({id:"Z Order"}),valueType:"number",getValue:function(e){return e.getZOrder()},setValue:function(e,t){return e.setZOrder(t)}},{name:e.props.i18n._({id:"Layer"}),valueType:"string",getChoices:function(){return Object(u.a)(e.props.layout)},getValue:function(e){return e.getLayer()},setValue:function(e,t){return e.setLayer(t)}},{name:e.props.i18n._({id:"Custom size"}),valueType:"boolean",getValue:function(e){return e.hasCustomSize()},setValue:function(e,t){return e.setHasCustomSize(t)}},{name:"custom-size-row",type:"row",children:[{name:e.props.i18n._({id:"Width"}),valueType:"number",getValue:function(e){return e.getCustomWidth()},setValue:function(e,t){return e.setCustomWidth(Math.max(t,0))}},{name:e.props.i18n._({id:"Height"}),valueType:"number",getValue:function(e){return e.getCustomHeight()},setValue:function(e,t){return e.setCustomHeight(Math.max(t,0))}}]}],e}return Object(a.a)(n,[{key:"_renderEmpty",value:function(){return c.createElement(d.a,null,c.createElement(s.Trans,{id:"Click on an instance in the scene to display its properties"}))}},{key:"_renderInstancesProperties",value:function(){var e=this,t=this.props,n=t.project,r=t.layout,a=t.instances,o=a[0],i=o.getObjectName(),l=Object(h.a)(n,r,i),u=o.getCustomProperties(n,r),d=Object(m.a)(u,(function(e){return e.getCustomProperties(n,r)}),(function(e,t,a){return e.updateCustomProperty(t,a,n,r)}));return c.createElement(C.a,{autoHideScrollbar:!0,key:a.map((function(e){return""+e.ptr})).join(";")},c.createElement(b.b,null,c.createElement(b.a,{expand:!0,noMargin:!0},c.createElement(b.a,null,c.createElement(p.a,{unsavedChanges:this.props.unsavedChanges,schema:this.schema.concat(d),instances:a,onInstancesModified:this.props.onInstancesModified}),c.createElement(b.b,{alignItems:"center",justifyContent:"space-between"},c.createElement(y.a,null,c.createElement(s.Trans,{id:"Instance Variables"})),c.createElement(g.a,{onClick:function(){e.props.editInstanceVariables(o)}},c.createElement(E.a,null)))),c.createElement(f.a,{inheritedVariablesContainer:l?l.getVariables():null,variablesContainer:o.getVariables(),onComputeAllVariableNames:function(){return l?j.a.findAllObjectVariables(n.getCurrentPlatform(),n,r,l):[]},ref:this._instanceVariablesList}))))}},{key:"render",value:function(){var e=this.props.instances;return c.createElement(l.a,null,e&&e.length?this._renderInstancesProperties():this._renderEmpty())}}]),n}(c.Component)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return j}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n.n(c),u=n(205),d=n(138),p=n(812),m=n(153),f=n(187),h=n(758),g=n.n(h),b=n(1663),v=n.n(b),E=e.gd,y={container:{flex:1,display:"flex",flexDirection:"column",alignItems:"stretch"}},C=function(e,t,n){return(e=e.toLowerCase())<(t=t.toLowerCase())?1*n:e>t?-1*n:0},j=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={searchText:"",sortBy:"",sortDirection:u.g.ASC},e.renderedRows=[],e._searchBar=l.a.createRef(),e._keyboardShortcuts=new p.a({isActive:function(){return!1},shortcutCallbacks:{}}),e._onRowClick=function(t){var n=t.index;e.renderedRows[n]&&e.props.onSelectInstances([e.renderedRows[n].instance],e._keyboardShortcuts.shouldMultiSelect())},e._rowGetter=function(t){var n=t.index;return e.renderedRows[n]},e._rowClassName=function(t){var n=t.index;if(n<0)return"tableHeaderRow";var r=e.renderedRows[n];return r&&-1!==e.props.selectedInstances.indexOf(r.instance)?"tableSelectedRow":n%2===0?"tableEvenRow":"tableOddRow"},e._renderLockCell=function(e){var t=e.rowData;return l.a.createElement(d.a,{size:"small",onClick:function(){t.instance.setLocked(!t.instance.isLocked())}},t.instance.isLocked()?l.a.createElement(g.a,null):l.a.createElement(v.a,null))},e._selectFirstInstance=function(){e.renderedRows.length&&e.props.onSelectInstances([e.renderedRows[0].instance],!1)},e._sort=function(t){var n=t.sortBy,r=t.sortDirection;e.setState({sortBy:n,sortDirection:r})},e._orderRenderedRows=function(){e.renderedRows.sort((function(t,n){var r=e.state.sortDirection===u.g.ASC?1:-1;switch(e.state.sortBy){case"name":return C(t.name,n.name,r);case"x":return r*(parseFloat(t.x)-parseFloat(n.x));case"y":return r*(parseFloat(t.y)-parseFloat(n.y));case"angle":return r*(parseFloat(t.angle)-parseFloat(n.angle));case"layer":return C(t.layer,n.layer,r);case"locked":return r*(Number(t.locked)-Number(n.locked));case"zOrder":return r*(parseFloat(t.zOrder)-parseFloat(n.zOrder));default:return 0}}))},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){Object(f.b)()&&this._searchBar.current&&this._searchBar.current.focus()}},{key:"componentWillMount",value:function(){var e=this;this.instanceRowRenderer=new E.InitialInstanceJSFunctor,this.instanceRowRenderer.invoke=function(t){var n=e.state.searchText,r=E.wrapPointer(t,E.InitialInstance),a=r.getObjectName();n&&-1===a.toLowerCase().indexOf(n.toLowerCase())||e.renderedRows.push({instance:r,name:a,locked:r.isLocked(),x:r.getX().toFixed(2),y:r.getY().toFixed(2),angle:r.getAngle().toFixed(2),layer:r.getLayer(),zOrder:r.getZOrder()})}}},{key:"componentWillUnmount",value:function(){this.instanceRowRenderer&&this.instanceRowRenderer.delete()}},{key:"render",value:function(){var e=this,t=this.state,n=t.searchText,r=t.sortBy,a=t.sortDirection,o=this.props.instances;if(!this.instanceRowRenderer)return null;this.renderedRows.length=0,o.iterateOverInstances(this.instanceRowRenderer),this._orderRenderedRows();var i=o.ptr;return l.a.createElement(m.a,null,(function(t){return l.a.createElement("div",{style:y.container},l.a.createElement("div",{style:{flex:1},onKeyDown:e._keyboardShortcuts.onKeyDown,onKeyUp:e._keyboardShortcuts.onKeyUp},l.a.createElement(u.a,null,(function(n){var o=n.height,c=n.width;return l.a.createElement(u.h,{ref:function(t){return e.table=t},key:i,headerHeight:30,height:o,className:"gd-table ".concat(t.tableRootClassName),headerClassName:"tableHeaderColumn",rowCount:e.renderedRows.length,rowGetter:e._rowGetter,rowHeight:32,onRowClick:e._onRowClick,rowClassName:e._rowClassName,sort:e._sort,sortBy:r,sortDirection:a,width:c},l.a.createElement(u.d,{label:l.a.createElement(s.Trans,{id:"Object name"}),dataKey:"name",width:.35*c,className:"tableColumn"}),l.a.createElement(u.d,{label:"",dataKey:"locked",width:.05*c,className:"tableColumn",cellRenderer:e._renderLockCell}),l.a.createElement(u.d,{label:l.a.createElement(s.Trans,{id:"X"}),dataKey:"x",width:.1*c,className:"tableColumn"}),l.a.createElement(u.d,{label:l.a.createElement(s.Trans,{id:"Y"}),dataKey:"y",width:.1*c,className:"tableColumn"}),l.a.createElement(u.d,{label:l.a.createElement(s.Trans,{id:"Angle"}),dataKey:"angle",width:.1*c,className:"tableColumn"}),l.a.createElement(u.d,{label:l.a.createElement(s.Trans,{id:"Layer"}),dataKey:"layer",width:.2*c,className:"tableColumn"}),l.a.createElement(u.d,{label:l.a.createElement(s.Trans,{id:"Z Order"}),dataKey:"zOrder",width:.1*c,className:"tableColumn"}))}))),l.a.createElement(f.a,{value:n,onChange:function(t){return e.setState({searchText:t})},onRequestSearch:e._selectFirstInstance,ref:e._searchBar}))}))}}]),n}(c.Component)}).call(this,n(8))},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n.n(c),u=n(124),d=n(128),p=n(154),m=n(155),f=n(125),h=n(883),g=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={selectedLayer:""},a}return Object(a.a)(n,[{key:"componentWillReceiveProps",value:function(e){!this.props.open&&e.open&&this.setState({selectedLayer:""})}},{key:"render",value:function(){var e=this;if(!this.props.layersContainer||!this.props.open)return null;var t=[l.a.createElement(u.a,{key:"cancel",label:l.a.createElement(s.Trans,{id:"Cancel"}),keyboardFocused:!0,onClick:function(){return e.props.onClose(!1)}}),l.a.createElement(u.a,{key:"remove",label:l.a.createElement(s.Trans,{id:"Remove objects"}),onClick:function(){return e.props.onClose(!0,null)}}),l.a.createElement(u.a,{key:"move",label:l.a.createElement(s.Trans,{id:"Move objects"}),primary:!0,onClick:function(){return e.props.onClose(!0,e.state.selectedLayer)}})],n=Object(h.a)(this.props.layersContainer).filter((function(t){return t.value!==e.props.layerRemoved})).map((function(e){var t=e.value,n=e.label;return l.a.createElement(m.a,{key:t,value:t,primaryText:n})}));return l.a.createElement(d.a,{title:l.a.createElement(s.Trans,{id:"Objects on {0}",values:{0:this.props.layerRemoved}}),actions:t,cannotBeDismissed:!1,open:this.props.open,onRequestClose:this.props.onCancel},l.a.createElement(f.a,null,l.a.createElement(s.Trans,{id:"Move objects on layer {0} to:",values:{0:this.props.layerRemoved}})),l.a.createElement(p.a,{value:this.state.selectedLayer,onChange:function(t,n,r){e.setState({selectedLayer:r})}},n))}}]),n}(c.Component)},function(e,t,n){"use strict";(function(e){var r=n(26),a=n(115),o=n(15),i=n.n(o),s=n(124),c=n(128),l=n(252),u=n(129),d=n(310),p=n(188),m=n(352),f=n(209),h=n(125),g=n(148),b=n(355),v=n(142),E=n(172),y=n(937),C=n(117),j=e.gd;t.a=function(e){var t=e.initialTab,n=e.layer,o=e.initialInstances,O=e.onClose,x=e.hotReloadPreviewButtonProps,k=Object(g.a)(),T=Object(m.a)({serializableObject:n,onCancel:O}),w=i.a.useState(t),S=Object(r.a)(w,2),P=S[0],_=S[1],I=i.a.useMemo((function(){var e=new j.HighestZOrderFinder;e.restrictSearchToLayer(n.getName()),o.iterateOverInstances(e);var t=e.getInstancesCount(),r=e.getHighestZOrder();return e.delete(),{instancesCount:t,highestZOrder:r}}),[n,o]),N=I.instancesCount,A=I.highestZOrder;return i.a.createElement(c.a,{onApply:O,noMargin:!0,open:!0,title:i.a.createElement(a.Trans,{id:"Edit Layer Properties"}),secondaryActions:[i.a.createElement(v.a,{key:"help",helpPagePath:"/interface/scene-editor/layer-effects"}),i.a.createElement(b.b,Object.assign({key:"hot-reload-preview-button"},x))],actions:[i.a.createElement(s.a,{label:i.a.createElement(a.Trans,{id:"Cancel"}),onClick:T,key:"Cancel"}),i.a.createElement(s.a,{label:i.a.createElement(a.Trans,{id:"Apply"}),primary:!0,keyboardFocused:!0,onClick:O,key:"Apply"})],onRequestClose:T,fullHeight:!0,flexBody:!0},i.a.createElement(C.a,{expand:!0,noMargin:!0,useFullHeight:!0},i.a.createElement(E.b,{value:P,onChange:_},i.a.createElement(E.a,{label:i.a.createElement(a.Trans,{id:"Properties"}),value:"properties"}),i.a.createElement(E.a,{label:i.a.createElement(a.Trans,{id:"Effects"}),value:"effects"})),"properties"===P&&i.a.createElement(u.a,null,n.isLightingLayer()?i.a.createElement(f.a,{kind:"info",identifier:"lighting-layer-usage"},i.a.createElement(a.Trans,{id:"The lighting layer renders an ambient light on the scene. All lights should be placed on this layer so that shadows are properly rendered. By default, the layer follows the base layer camera. Uncheck this if you want to manually move the camera using events."})):null,i.a.createElement(h.a,null,"There are ",N," instances of objects on this layer."),!e.project.getUseDeprecatedZeroAsDefaultZOrder()&&i.a.createElement(h.a,null,'Objects created using events on this layer will be given a "Z order" of ',A+1,", so that they appear in front of all objects of this layer. You can change this using the action to change an object Z order, after using an action to create it."),i.a.createElement(d.a,{label:i.a.createElement(a.Trans,{id:"Hide the layer"}),checked:!n.getVisibility(),onCheck:function(e,t){n.setVisibility(!t),k()},tooltipOrHelperText:i.a.createElement(a.Trans,{id:'This setting changes the visibility of the entire layer. Objects on the layer will not be treated as "hidden" for event conditions or actions.'})}),n.isLightingLayer()?i.a.createElement(i.a.Fragment,null,i.a.createElement(h.a,{size:"title"},i.a.createElement(a.Trans,{id:"Lighting settings"})),i.a.createElement(d.a,{label:i.a.createElement(a.Trans,{id:"Automatically follow the base layer."}),checked:n.isFollowingBaseLayerCamera(),onCheck:function(e,t){n.setFollowBaseLayerCamera(t),k()}}),i.a.createElement(l.a,{fullWidth:!0,floatingLabelText:i.a.createElement(a.Trans,{id:"Ambient light color"}),disableAlpha:!0,color:Object(p.b)({r:n.getAmbientLightColorRed(),g:n.getAmbientLightColorGreen(),b:n.getAmbientLightColorBlue()}),onChange:function(e){var t=Object(p.e)(e);t&&(n.setAmbientLightColor(t.r,t.g,t.b),k())}})):i.a.createElement(i.a.Fragment,null,i.a.createElement(C.c,null),i.a.createElement(C.c,null))),"effects"===P&&i.a.createElement(y.a,{target:"layer",project:e.project,resourceSources:e.resourceSources,onChooseResource:e.onChooseResource,resourceExternalEditors:e.resourceExternalEditors,effectsContainer:n.getEffects(),onEffectsUpdated:k})))}}).call(this,n(8))},function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(26),c=n(115),l=n(15),u=n.n(l),d=n(124),p=n(448),m=n(128),f=n(142),h=n(1691),g=n(172),b=n(352),v=n(141),E=n(117),y=n(148),C=n(355),j=n(937),O=n(507),x=function(e){var t=u.a.useState(e.initialTab||"properties"),n=Object(s.a)(t,2),r=n[0],a=n[1],o=u.a.useState(e.objectName),i=Object(s.a)(o,2),l=i[0],p=i[1],x=Object(y.a)(),k=Object(b.a)({serializableObject:e.object,useProjectToUnserialize:e.project,onCancel:e.onCancel}),T=e.editorComponent,w=function(){e.onApply(),e.onRename(l)};return u.a.createElement(m.a,{onApply:w,key:e.object&&e.object.ptr,secondaryActions:[u.a.createElement(f.a,{key:"help-button",helpPagePath:e.helpPagePath}),u.a.createElement(C.b,Object.assign({key:"hot-reload-preview-button"},e.hotReloadPreviewButtonProps))],actions:[u.a.createElement(d.a,{key:"cancel",label:u.a.createElement(c.Trans,{id:"Cancel"}),onClick:k}),u.a.createElement(d.a,{key:"apply",label:u.a.createElement(c.Trans,{id:"Apply"}),primary:!0,keyboardFocused:!0,onClick:w})],noMargin:!0,onRequestClose:k,cannotBeDismissed:!0,open:e.open,noTitleMargin:!0,fullHeight:!0,flexBody:!0,title:u.a.createElement("div",null,u.a.createElement(g.b,{value:r,onChange:a},u.a.createElement(g.a,{label:u.a.createElement(c.Trans,{id:"Properties"}),value:"properties",key:"properties"}),u.a.createElement(g.a,{label:u.a.createElement(c.Trans,{id:"Behaviors"}),value:"behaviors",key:"behaviors"}),u.a.createElement(g.a,{label:u.a.createElement(c.Trans,{id:"Variables"}),value:"variables",key:"variables"}),u.a.createElement(g.a,{label:u.a.createElement(c.Trans,{id:"Effects"}),value:"effects",key:"effects"})))},"properties"===r&&T&&u.a.createElement(E.a,{noMargin:!0,expand:!0,useFullHeight:!0,noOverflowParent:!0},u.a.createElement(E.b,null,u.a.createElement(E.a,{expand:!0},u.a.createElement(v.a,{fullWidth:!0,commitOnBlur:!0,floatingLabelText:u.a.createElement(c.Trans,{id:"Object name"}),floatingLabelFixed:!0,value:l,hintText:{id:"Object Name"},onChange:function(t){t!==l&&e.canRenameObject(t)&&p(t)}}))),u.a.createElement(T,{object:e.object,project:e.project,resourceSources:e.resourceSources,onChooseResource:e.onChooseResource,resourceExternalEditors:e.resourceExternalEditors,onSizeUpdated:x,objectName:e.objectName})),"behaviors"===r&&u.a.createElement(h.a,{object:e.object,project:e.project,resourceSources:e.resourceSources,onChooseResource:e.onChooseResource,resourceExternalEditors:e.resourceExternalEditors,onSizeUpdated:x,onUpdateBehaviorsSharedData:e.onUpdateBehaviorsSharedData}),"variables"===r&&u.a.createElement(O.a,{variablesContainer:e.object.getVariables(),emptyExplanationMessage:u.a.createElement(c.Trans,{id:"When you add variables to an object, any instance of the object put on the scene or created during the game will have these variables attached to it."}),emptyExplanationSecondMessage:u.a.createElement(c.Trans,{id:"For example, you can have a variable called Life representing the health of the object."}),helpPagePath:"/all-features/variables/object-variables",onSizeUpdated:x,onComputeAllVariableNames:e.onComputeAllVariableNames}),"effects"===r&&u.a.createElement(j.a,{target:"object",project:e.project,resourceSources:e.resourceSources,onChooseResource:e.onChooseResource,resourceExternalEditors:e.resourceExternalEditors,effectsContainer:e.object.getEffects(),onEffectsUpdated:x}))},k=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={editorComponent:null,castToObjectType:null,helpPagePath:null,objectName:""},e}return Object(a.a)(n,[{key:"componentWillMount",value:function(){this._loadFrom(this.props.object)}},{key:"componentWillReceiveProps",value:function(e){(!this.props.open&&e.open||e.open&&this.props.object!==e.object)&&this._loadFrom(e.object)}},{key:"_loadFrom",value:function(e){if(e){var t=p.a.getEditorConfiguration(e.getType());if(!t)return this.setState({editorComponent:null,castToObjectType:null});this.setState({editorComponent:t.component,helpPagePath:t.helpPagePath,castToObjectType:t.castToObjectType,objectName:e.getName()})}}},{key:"render",value:function(){var e=this.props,t=e.object,n=e.initialTab,r=this.state,a=r.editorComponent,o=r.castToObjectType,i=r.helpPagePath;return t&&o?u.a.createElement(x,Object.assign({},this.props,{editorComponent:a,key:this.props.object&&this.props.object.ptr,helpPagePath:i,object:o(t),objectName:this.state.objectName,initialTab:n})):null}}]),n}(l.Component)},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return y}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(119),c=n(115),l=n(15),u=n(175),d=n(117),p=n(356),m=n(215),f=n(260),h=n(144),g=n(141),b=e.gd,v={marginRight:10},E={sizeTextField:Object(s.a)({width:90},v),resourcesSelector:{alignSelf:"center"},toolbarItem:v,checkbox:v},y=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.object,r=t.project,a=t.resourceSources,o=t.onChooseResource,i=t.resourceExternalEditors,s=b.asTextObject(n);return l.createElement(d.a,{noMargin:!0},l.createElement(m.b,null,l.createElement(m.a,{firstChild:!0},l.createElement(c.Trans,{id:"Size:"})),l.createElement(g.a,{commitOnBlur:!0,type:"number",margin:"none",style:E.sizeTextField,value:s.getCharacterSize(),onChange:function(t){s.setCharacterSize(parseInt(t,10)||0),e.forceUpdate()}}),l.createElement(m.a,null,l.createElement(c.Trans,{id:"Color:"})),l.createElement(p.a,{style:E.toolbarItem,disableAlpha:!0,color:{r:s.getColorR(),g:s.getColorG(),b:s.getColorB(),a:255},onChangeComplete:function(t){s.setColor(t.rgb.r,t.rgb.g,t.rgb.b),e.forceUpdate()}}),l.createElement(u.a,{label:l.createElement(c.Trans,{id:"Bold"}),checked:s.isBold(),onCheck:function(t,n){s.setBold(n),e.forceUpdate()},style:E.checkbox}),l.createElement(u.a,{label:l.createElement(c.Trans,{id:"Italic"}),checked:s.isItalic(),onCheck:function(t,n){s.setItalic(n),e.forceUpdate()},style:E.checkbox}),l.createElement(m.a,null,l.createElement(c.Trans,{id:"Font:"})),l.createElement(f.a,{margin:"none",project:r,resourceSources:a,onChooseResource:o,resourceExternalEditors:i,resourcesLoader:h.a,resourceKind:"font",fullWidth:!0,canBeReset:!0,initialResourceName:s.getFontName(),onChange:function(t){s.setFontName(t),e.forceUpdate()},hintText:l.createElement(c.Trans,{id:"Choose a font"}),style:E.resourcesSelector})),l.createElement(d.b,{noMargin:!0},l.createElement(d.a,{expand:!0},l.createElement(d.b,null,l.createElement(g.a,{floatingLabelText:l.createElement(c.Trans,{id:"Initial text to display"}),floatingLabelFixed:!0,commitOnBlur:!0,hintText:{id:"Enter the text to be displayed by the object"},fullWidth:!0,multiline:!0,rows:8,rowsMax:8,value:s.getString(),onChange:function(t){s.setString(t),e.forceUpdate(),e.props.onSizeUpdated()}})))))}}]),n}(l.Component)}).call(this,n(8))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n(141),u=n(380),d=n(129),p=e.gd,m=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.object,r=t.project,a=t.resourceSources,o=t.onChooseResource,i=t.resourceExternalEditors,m=p.asTiledSpriteObject(n);return c.createElement(d.a,null,c.createElement(u.a,{project:r,resourceSources:a,onChooseResource:o,resourceKind:"image",resourceName:m.getTexture(),resourceExternalEditors:i,onChange:function(t){m.setTexture(t),e.forceUpdate()},floatingLabelText:c.createElement(s.Trans,{id:"Select an image"})}),c.createElement(d.b,{noMargin:!0},c.createElement(l.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Default width (in pixels)"}),fullWidth:!0,type:"number",value:m.getWidth(),onChange:function(t){m.setWidth(parseInt(t,10)||0),e.forceUpdate()}}),c.createElement(l.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Default height (in pixels)"}),fullWidth:!0,type:"number",value:m.getHeight(),onChange:function(t){m.setHeight(parseInt(t,10)||0),e.forceUpdate()}})))}}]),n}(c.Component)}).call(this,n(8))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return f}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n(175),u=n(380),d=n(141),p=n(129),m=e.gd,f=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.object,r=t.project,a=t.resourceSources,o=t.onChooseResource,i=t.resourceExternalEditors,f=m.asPanelSpriteObject(n);return c.createElement(p.a,null,c.createElement(u.a,{project:r,resourceSources:a,onChooseResource:o,resourceExternalEditors:i,resourceKind:"image",resourceName:f.getTexture(),onChange:function(t){f.setTexture(t),e.forceUpdate()},floatingLabelText:c.createElement(s.Trans,{id:"Select an image"})}),c.createElement(l.a,{label:c.createElement(s.Trans,{id:"Repeat borders and center textures (instead of stretching them)"}),checked:f.isTiled(),onCheck:function(t,n){f.setTiled(n),e.forceUpdate()}}),c.createElement(p.b,{noMargin:!0},c.createElement(d.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Top margin"}),fullWidth:!0,type:"number",value:f.getTopMargin(),onChange:function(t){f.setTopMargin(parseInt(t,10)||0),e.forceUpdate()}}),c.createElement(d.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Bottom margin"}),fullWidth:!0,type:"number",value:f.getBottomMargin(),onChange:function(t){f.setBottomMargin(parseInt(t,10)||0),e.forceUpdate()}})),c.createElement(p.b,{noMargin:!0},c.createElement(d.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Left margin"}),fullWidth:!0,type:"number",value:f.getLeftMargin(),onChange:function(t){f.setLeftMargin(parseInt(t,10)||0),e.forceUpdate()}}),c.createElement(d.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Right margin"}),fullWidth:!0,type:"number",value:f.getRightMargin(),onChange:function(t){f.setRightMargin(parseInt(t,10)||0),e.forceUpdate()}})),c.createElement(p.b,{noMargin:!0},c.createElement(d.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Default width (in pixels)"}),fullWidth:!0,type:"number",value:f.getWidth(),onChange:function(t){f.setWidth(parseInt(t,10)||0),e.forceUpdate()}}),c.createElement(d.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Default height (in pixels)"}),fullWidth:!0,type:"number",value:f.getHeight(),onChange:function(t){f.setHeight(parseInt(t,10)||0),e.forceUpdate()}})))}}]),n}(c.Component)}).call(this,n(8))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return H}));var r=n(26),a=n(119),o=n(3),i=n(4),s=n(6),c=n(5),l=n(115),u=n(15),d=n(251),p=n(1674),m=n(173),f=n.n(m),h=n(221),g=n.n(h),b=n(138),v=n(124),E=n(127),y=n(131),C=n(141),j=n(128),O=n(142),x=n(136),k=n(215),T=n(402),w=n(379),S=n(30),P=n(144),_=n(1679),I=n(1683),N=n(16),A=n(282),R=n(117),M=n(129),F=n(164),L=n(175),B=n(148),D=e.gd,U=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props,t=e.animation,n=e.id,r=e.project,a=e.resourceSources,o=e.onRemove,i=e.onChooseResource,s=e.resourceExternalEditors,c=e.resourcesLoader,l=e.onSpriteContextMenu,d=e.selectedSprites,m=e.onSelectSprite,f=e.onReplaceDirection,h=e.objectName,v=e.onChangeName,E=t.getName();return u.createElement("div",null,u.createElement(k.b,null,u.createElement(T.a,null),u.createElement(k.a,null,"Animation #",n," "),u.createElement(R.a,{expand:!0},u.createElement(C.a,{commitOnBlur:!0,margin:"none",value:t.getName(),hintText:{id:"Optional animation name"},onChange:function(e){return v(e)},fullWidth:!0})),u.createElement(b.a,{onClick:o},u.createElement(g.a,null))),Object(y.mapFor)(0,t.getDirectionsCount(),(function(e){var n=t.getDirection(e);return u.createElement(p.a,{direction:n,key:e,project:r,resourcesLoader:c,resourceSources:a,onChooseResource:i,resourceExternalEditors:s,onSpriteContextMenu:l,selectedSprites:d,onSelectSprite:m,onReplaceByDirection:function(t){return f(e,t)},objectName:h,animationName:E,onChangeName:v})})))}}]),n}(u.Component),G=Object(d.SortableElement)(U),V=Object(d.SortableContainer)((function(e){var t=e.spriteObject,n=e.objectName,r=(e.onAddAnimation,e.onRemoveAnimation),a=e.onChangeAnimationName,o=e.project,i=e.resourcesLoader,s=e.resourceSources,c=e.onChooseResource,l=e.resourceExternalEditors,d=(e.extraBottomTools,e.onSpriteContextMenu),p=e.selectedSprites,m=e.onSelectSprite,f=e.onReplaceDirection;return u.createElement(F.a,null,Object(y.mapFor)(0,t.getAnimationsCount(),(function(e){var h=t.getAnimation(e);return u.createElement(G,{key:e,index:e,id:e,animation:h,project:o,resourcesLoader:i,resourceSources:s,onChooseResource:c,resourceExternalEditors:l,onRemove:function(){return r(e)},onChangeName:function(t){return a(e,t)},onSpriteContextMenu:d,selectedSprites:p,onSelectSprite:m,onReplaceDirection:function(t,n){return f(e,t,n)},objectName:n})})))})),W=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){var e;Object(o.a)(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={selectedSprites:{}},e.onSortEnd=function(t){var n=t.oldIndex,r=t.newIndex;e.props.spriteObject.moveAnimation(n,r),e.forceUpdate()},e.addAnimation=function(){var t=new D.Animation;t.setDirectionsCount(1),e.props.spriteObject.addAnimation(t),e.forceUpdate(),e.props.onSizeUpdated()},e.removeAnimation=function(t){N.b.showConfirmDialog("Are you sure you want to remove this animation?")&&(e.props.spriteObject.removeAnimation(t),e.forceUpdate(),e.props.onSizeUpdated())},e.changeAnimationName=function(t,n){var r=e.props.spriteObject,a=Object(y.mapFor)(0,r.getAnimationsCount(),(function(e){return e===t?void 0:r.getAnimation(e).getName()}));""!==n&&a.filter((function(e){return e===n})).length?Object(S.c)("Another animation with this name already exists. Please use another name.",{delayToNextTick:!0}):(r.getAnimation(t).setName(n),e.forceUpdate())},e.deleteSelection=function(){var t=e.props.spriteObject;Object(y.mapFor)(0,t.getAnimationsCount(),(function(n){var r=t.getAnimation(n);Object(A.i)(r,e.state.selectedSprites)})),e.setState({selectedSprites:{}})},e.duplicateSelection=function(){var t=e.props.spriteObject;Object(y.mapFor)(0,t.getAnimationsCount(),(function(n){var r=t.getAnimation(n);Object(A.j)(r,e.state.selectedSprites)})),e.setState({selectedSprites:{}})},e.openSpriteContextMenu=function(t,n,r,a){e.selectSprite(r,!0),e.spriteContextMenu&&e.spriteContextMenu.open(t,n)},e.selectSprite=function(t,n){e.setState({selectedSprites:Object(a.a)(Object(a.a)({},e.state.selectedSprites),{},{[t.ptr]:n})})},e.replaceDirection=function(t,n,r){e.props.spriteObject.getAnimation(t).setDirection(r,n),e.forceUpdate()},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return u.createElement(R.a,{noMargin:!0,expand:!0,useFullHeight:!0},0===this.props.spriteObject.getAnimationsCount()?u.createElement(x.a,null,u.createElement(l.Trans,{id:"This object has no animations containing images. Start by adding an animation."})):u.createElement(V,{spriteObject:this.props.spriteObject,objectName:this.props.objectName,helperClass:"sortable-helper",project:this.props.project,onSortEnd:this.onSortEnd,onChangeAnimationName:this.changeAnimationName,onRemoveAnimation:this.removeAnimation,onReplaceDirection:this.replaceDirection,onSpriteContextMenu:this.openSpriteContextMenu,selectedSprites:this.state.selectedSprites,onSelectSprite:this.selectSprite,resourcesLoader:this.props.resourcesLoader,resourceSources:this.props.resourceSources,resourceExternalEditors:this.props.resourceExternalEditors,onChooseResource:this.props.onChooseResource,useDragHandle:!0,lockAxis:"y",axis:"y"}),u.createElement(R.a,null,u.createElement(M.b,{justifyContent:"space-between",noColumnMargin:!0},this.props.extraBottomTools,u.createElement(E.a,{label:u.createElement(l.Trans,{id:"Add an animation"}),primary:!0,onClick:this.addAnimation,icon:u.createElement(f.a,null)}))),u.createElement(w.a,{ref:function(t){return e.spriteContextMenu=t},buildMenuTemplate:function(t){return[{label:t._({id:"Delete selection"}),click:function(){return e.deleteSelection()}},{label:t._({id:"Duplicate selection"}),click:function(){return e.duplicateSelection()}}]}}))}}]),n}(u.Component);function H(e){var t=e.object,n=e.project,a=e.resourceSources,o=e.onChooseResource,i=e.resourceExternalEditors,s=e.onSizeUpdated,c=e.objectName,d=u.useState(!1),p=Object(r.a)(d,2),m=p[0],f=p[1],h=u.useState(!1),g=Object(r.a)(h,2),b=g[0],y=g[1],C=u.useState(!1),x=Object(r.a)(C,2),k=x[0],T=x[1],w=Object(B.a)(),S=D.asSpriteObject(t);return u.createElement(u.Fragment,null,u.createElement(W,{spriteObject:S,resourcesLoader:P.a,resourceSources:a,onChooseResource:o,resourceExternalEditors:i,project:n,objectName:c,onSizeUpdated:s,extraBottomTools:u.createElement(M.b,{noMargin:!0,noColumnMargin:!0},u.createElement(E.a,{label:u.createElement(l.Trans,{id:"Edit collision masks"}),primary:!1,onClick:function(){return T(!0)},disabled:0===S.getAnimationsCount()}),u.createElement(E.a,{label:u.createElement(l.Trans,{id:"Edit points"}),primary:!1,onClick:function(){return f(!0)},disabled:0===S.getAnimationsCount()}),u.createElement(v.a,{label:u.createElement(l.Trans,{id:"Advanced options"}),primary:!1,onClick:function(){return y(!0)},disabled:0===S.getAnimationsCount()}))}),b&&u.createElement(j.a,{actions:[u.createElement(v.a,{label:u.createElement(l.Trans,{id:"Close"}),primary:!0,onClick:function(){return y(!1)}})],maxWidth:"sm",flexBody:!0,onRequestClose:function(){return y(!1)},open:!0},u.createElement(R.a,{noMargin:!0},u.createElement(L.a,{label:u.createElement(l.Trans,{id:"Don't play the animation when the object is far from the camera or hidden (recommended for performance)"}),checked:!S.getUpdateIfNotVisible(),onCheck:function(e,t){S.setUpdateIfNotVisible(!t),w()}}))),m&&u.createElement(j.a,{actions:[u.createElement(v.a,{label:u.createElement(l.Trans,{id:"Close"}),primary:!0,onClick:function(){return f(!1)}})],secondaryActions:[u.createElement(O.a,{helpPagePath:"/objects/sprite/edit-points",key:"help"})],cannotBeDismissed:!0,noMargin:!0,maxWidth:"lg",flexBody:!0,fullHeight:!0,onRequestClose:function(){return f(!1)},open:m},u.createElement(_.a,{object:S,resourcesLoader:P.a,project:n})),k&&u.createElement(j.a,{actions:[u.createElement(v.a,{label:u.createElement(l.Trans,{id:"Close"}),primary:!0,onClick:function(){return T(!1)}})],secondaryActions:[u.createElement(O.a,{helpPagePath:"/objects/sprite/collision-mask",key:"help"})],noMargin:!0,maxWidth:"lg",flexBody:!0,fullHeight:!0,cannotBeDismissed:!0,onRequestClose:function(){return T(!1)},open:k},u.createElement(I.a,{object:S,resourcesLoader:P.a,project:n})))}}).call(this,n(8))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return _}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(18),c=n(119),l=n(115),u=n(15),d=n.n(u),p=n(251),m=n(131),f=n(173),h=n.n(f),g=n(2004),b=n(215),v=n(726),E=n(282),y=(n(144),n(239)),C=n(124),j=n(153),O=e.gd,x=n(268),k={spritesList:{whiteSpace:"nowrap",overflowY:"hidden"},thumbnailExtraStyle:{marginRight:10},spriteThumbnailImage:{maxWidth:100,maxHeight:100,verticalAlign:"middle"}},T=Object(p.SortableElement)((function(e){e.displayHint;var t=e.onAdd;return d.a.createElement(j.a,null,(function(e){return d.a.createElement("div",{style:Object(c.a)(Object(c.a)({},v.b),{},{backgroundColor:e.list.itemsBackgroundColor})},d.a.createElement(C.a,{onClick:t,label:d.a.createElement(l.Trans,{id:"Add"}),icon:d.a.createElement(h.a,null)}))}))})),w=Object(p.SortableElement)((function(e){var t=e.sprite,n=e.project,r=e.resourcesLoader,a=e.selected,o=e.onSelect,i=e.onContextMenu;return d.a.createElement(v.a,{selectable:!0,selected:a,onSelect:o,onContextMenu:i,resourceName:t.getImageName(),resourcesLoader:r,project:n,style:k.thumbnailExtraStyle})})),S=Object(p.SortableContainer)((function(e){var t=e.direction,n=e.project,r=e.resourcesLoader,a=e.onAddSprite,o=e.selectedSprites,i=e.onSelectSprite,c=e.onSpriteContextMenu,l=t.getSpritesCount();return d.a.createElement("div",{style:k.spritesList},[].concat(Object(s.a)(Object(m.mapFor)(0,l,(function(e){var a=t.getSprite(e);return d.a.createElement(w,{sprite:a,key:a.ptr,index:e,selected:!!o[a.ptr],onContextMenu:function(e,t){return c(e,t,a)},onSelect:function(e){return i(a,e)},resourcesLoader:r,project:n})}))),[d.a.createElement(T,{displayHint:!t.getSpritesCount(),key:"add-sprite-button",disabled:!0,index:l,onAdd:a})]))})),P=function(e){var t=!1,n=!1;return 0!==e.getSpritesCount()&&(t=Object(E.b)(e.getSprite(0),e),n=Object(E.a)(e.getSprite(0),e)),{allDirectionSpritesHaveSamePoints:t,allDirectionSpritesHaveSameCollisionMasks:n}},_=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).onSortEnd=function(t){var n=t.oldIndex,r=t.newIndex;e.props.direction.moveSprite(n,r),e.forceUpdate()},e.onAddSprite=function(){var t=e.props,n=t.resourceSources,r=t.onChooseResource,a=t.project,o=t.direction;if(n){var i=n.filter((function(e){return"image"===e.kind}));if(i.length){var s=P(o),c=s.allDirectionSpritesHaveSameCollisionMasks,l=s.allDirectionSpritesHaveSamePoints;r({initialSourceName:i[0].name,multiSelection:!0,resourceKind:"image"}).then((function(t){t.forEach((function(e){Object(y.a)(a,e),a.getResourcesManager().addResource(e);var t=new O.Sprite;t.setImageName(e.getName()),l&&Object(E.g)(o.getSprite(0),t),c&&Object(E.h)(o.getSprite(0),t),o.addSprite(t)})),t.forEach((function(e){return e.delete()})),e.forceUpdate()}))}}},e.editWith=function(t){var n=e.props,r=n.project,a=n.direction,o=n.resourcesLoader,i=n.onReplaceByDirection,s=n.onChangeName,c=n.objectName,l=n.animationName,u=Object(m.mapFor)(0,a.getSpritesCount(),(function(e){return a.getSprite(e).getImageName()})),d=P(a),p=d.allDirectionSpritesHaveSameCollisionMasks,f=d.allDirectionSpritesHaveSamePoints,h={},g=a.getMetadata();if(g)try{h=JSON.parse(g)}catch(b){console.error("Malformed metadata",b)}t.edit({project:r,resourcesLoader:o,singleFrame:!1,resourceNames:u,extraOptions:{fps:a.getTimeBetweenFrames()>0?1/a.getTimeBetweenFrames():1,name:l||(u.length>0?x.basename(u[0],x.extname(u[0])):c),isLooping:a.isLooping(),externalEditorData:h},onChangesSaved:function(e){var t=new O.Direction;t.setTimeBetweenFrames(a.getTimeBetweenFrames()),t.setLoop(a.isLooping()),e.forEach((function(e){var n=new O.Sprite;if(n.setImageName(e.name),void 0!==e.originalIndex&&null!==e.originalIndex){var r=a.getSprite(e.originalIndex);Object(E.g)(r,n),Object(E.h)(r,n)}else f&&Object(E.g)(a.getSprite(0),n),p&&Object(E.h)(a.getSprite(0),n);t.addSprite(n),n.delete()})),e[0].metadata&&t.setMetadata(JSON.stringify(e[0].metadata)),o.burstUrlsCacheForResources(r,u),i(t),e[0].newAnimationName&&s(e[0].newAnimationName),t.delete()}})},e}return Object(a.a)(n,[{key:"render",value:function(){return d.a.createElement("div",null,d.a.createElement(b.b,{justifyContent:"flex-end",smallest:!0},d.a.createElement(g.a,{direction:this.props.direction,resourcesLoader:this.props.resourcesLoader,project:this.props.project,resourceExternalEditors:this.props.resourceExternalEditors,onEditWith:this.editWith})),d.a.createElement(S,{resourcesLoader:this.props.resourcesLoader,direction:this.props.direction,project:this.props.project,onSortEnd:this.onSortEnd,onAddSprite:this.onAddSprite,selectedSprites:this.props.selectedSprites,onSelectSprite:this.props.onSelectSprite,onSpriteContextMenu:this.props.onSpriteContextMenu,helperClass:"sortable-helper",lockAxis:"x",axis:"x"}))}}]),n}(u.Component)}).call(this,n(8))},,,,,function(e,t,n){"use strict";(function(e){var r=n(26),a=n(115),o=n(15),i=n.n(o),s=n(136),c=n(117),l=n(131),u=n(1680),d=n(1682),p=n(375),m=n(282),f=n(886),h=n(16),g=n(565),b=n.n(g),v=(n(144),n(148)),E=n(323),y=n(146),C=n(160),j=n(164),O=e.gd,x={direction:"row",first:"preview",second:"properties",splitPercentage:50},k={direction:"column",first:"preview",second:"properties",splitPercentage:50};t.a=function(e){var t=i.a.useState(0),n=Object(r.a)(t,2),o=n[0],g=n[1],T=i.a.useState(0),w=Object(r.a)(T,2),S=w[0],P=w[1],_=i.a.useState(0),I=Object(r.a)(_,2),N=I[0],A=I[1],R=i.a.useState(!1),M=Object(r.a)(R,2),F=M[0],L=M[1],B=i.a.useState(!1),D=Object(r.a)(B,2),U=D[0],G=D[1],V=Object(v.a)(),W=O.asSpriteObject(e.object),H=Object(m.l)(W,o,S,N),z=H.animation,Y=H.sprite,q=H.hasValidSprite,X=i.a.useCallback((function(){z&&Y&&(F?Object(l.mapFor)(0,W.getAnimationsCount(),(function(e){var t=W.getAnimation(e);Object(m.f)(Y,t)})):U&&Object(m.f)(Y,z)),V()}),[z,Y,W,F,U,V]),K=function(e){g(e),P(0),A(0)},J=function(e){P(e),A(0)},Z=function(e){A(e)},Q=function(e){if(e&&!h.b.showConfirmDialog("Having the same points for all animations will erase and reset all the other animations points. This can't be undone. Are you sure you want to share these points amongst all the animations of the object?"))return;L(e),G(e||U)},$=function(e){if(e&&!h.b.showConfirmDialog("Having the same points for all frames will erase and reset all the other frames points. This can't be undone. Are you sure you want to share these points amongst all the frames of the animation?"))return;L(e&&F),G(e)};i.a.useEffect((function(){z&&Y&&(L(b()(Object(l.mapFor)(0,W.getAnimationsCount(),(function(e){var t=W.getAnimation(e);return Object(m.d)(Y,t)})))),G(Object(m.d)(Y,z)))}),[o]),i.a.useEffect(X,[F,U]);var ee="small"===Object(y.b)()?k:x;if(!e.object.getAnimationsCount())return null;var te={preview:{type:"primary",noTitleBar:!0,renderEditor:function(){return i.a.createElement(C.a,null,i.a.createElement(p.a,{resourceName:q?Y.getImageName():"",resourcesLoader:e.resourcesLoader,project:e.project,renderOverlay:function(e){return q&&i.a.createElement(d.a,Object.assign({},e,{pointsContainer:Y,onPointsUpdated:X}))}}))}},properties:{type:"secondary",noTitleBar:!0,renderEditor:function(){return i.a.createElement(C.a,null,i.a.createElement(j.a,null,i.a.createElement(c.b,null,i.a.createElement(c.a,{expand:!0},i.a.createElement(f.a,{spriteObject:W,animationIndex:o,directionIndex:S,spriteIndex:N,chooseAnimation:K,chooseDirection:J,chooseSprite:Z,sameForAllAnimations:F,sameForAllSprites:U,setSameForAllAnimations:Q,setSameForAllSprites:$,setSameForAllAnimationsLabel:i.a.createElement(a.Trans,{id:"Share same points for all animations"}),setSameForAllSpritesLabel:i.a.createElement(a.Trans,{id:"Share same points for all sprites of this animation"})}))),!!Y&&i.a.createElement(u.a,{pointsContainer:Y,onPointsUpdated:X}),!Y&&i.a.createElement(s.a,null,i.a.createElement(a.Trans,{id:"Choose an animation and frame to edit the points"}))))}}};return i.a.createElement("div",{style:{flex:1}},i.a.createElement(E.a,{editors:te,initialNodes:ee}))}}).call(this,n(8))},function(e,t,n){"use strict";(function(e){var r=n(18),a=n(119),o=n(26),i=n(115),s=n(15),c=n(254),l=n(251),u=n(167),d=n(131),p=n(16),m=n(885),f=n(1681),h=n(148),g=n(117),b=n(127),v=n(173),E=n.n(v),y=e.gd,C=Object(l.SortableElement)(f.a),j=Object(l.SortableContainer)((function(e){var t=s.useState({}),n=Object(o.a)(t,2),i=n[0],l=n[1],u=e.pointsContainer,m=Object(h.a)(),f=function(){m(),e.onPointsUpdated()},g=u.getAllNonDefaultPoints(),b=Object(d.mapVector)(g,(function(e,t){var n=e.getName();return s.createElement(C,{index:t,disabled:!0,key:"point-"+n,pointX:e.getX(),pointY:e.getY(),onChangePointX:function(t){return function(e,t){e.setX(t),f()}(e,t)},onChangePointY:function(t){return function(e,t){e.setY(t),f()}(e,t)},pointName:n,nameError:i[n],onBlur:function(t){var r=t.target.value;if(n!==r){var o=!0;u.hasPoint(r)?o=!1:(e.setName(r),f()),l((function(e){return Object(a.a)(Object(a.a)({},e),{},{[n]:!o})}))}},onRemove:function(){p.b.showConfirmDialog("Are you sure you want to remove this point? This can't be undone.")&&(u.delPoint(n),f())}})})),v=u.getOrigin(),E=u.getCenter(),y=s.createElement(C,{index:0,key:"origin-point-row",pointName:"Origin",pointX:v.getX(),pointY:v.getY(),onChangePointX:function(e){u.getOrigin().setX(e),f()},onChangePointY:function(e){u.getOrigin().setY(e),f()},disabled:!0}),j=s.createElement(C,{index:1,key:"center-point-row",pointName:"Center",isAutomatic:u.isDefaultCenterPoint(),pointX:E.getX(),pointY:E.getY(),onChangePointX:function(e){u.getCenter().setX(e),f()},onChangePointY:function(e){u.getCenter().setY(e),f()},disabled:!0,onEdit:u.isDefaultCenterPoint()?function(){u.setDefaultCenterPoint(!1),f()}:null,onRemove:u.isDefaultCenterPoint()?null:function(){u.setDefaultCenterPoint(!0),f()}});return s.createElement(c.b,null,[y,j].concat(Object(r.a)(b)))}));j.muiName="TableBody";t.a=function(e){return s.createElement(g.a,{expand:!0},s.createElement(c.a,null,s.createElement(c.c,null,s.createElement(c.e,null,s.createElement(c.d,{style:m.a.handleColumn}),s.createElement(c.d,null,"Point name"),s.createElement(c.d,{style:m.a.coordinateColumn},"X"),s.createElement(c.d,{style:m.a.coordinateColumn},"Y"),s.createElement(c.f,{style:m.a.toolColumn}))),s.createElement(j,{pointsContainer:e.pointsContainer,onPointsUpdated:e.onPointsUpdated,onSortEnd:function(e){e.oldIndex,e.newIndex},helperClass:"sortable-helper",useDragHandle:!0,lockToContainerEdges:!0})),s.createElement(g.c,null),s.createElement(g.b,{alignItems:"center",justifyContent:"center"},s.createElement(b.a,{primary:!0,icon:s.createElement(E.a,null),label:s.createElement(i.Trans,{id:"Add a point"}),onClick:function(){var t=Object(u.a)("Point",(function(t){return e.pointsContainer.hasPoint(t)})),n=new y.Point(t);e.pointsContainer.addPoint(n),n.delete(),e.onPointsUpdated()}})))}}).call(this,n(8))},function(e,t,n){"use strict";var r=n(115),a=n(15),o=n(254),i=n(138),s=n(221),c=n.n(s),l=n(533),u=n.n(l),d=n(135),p=n(885),m=n(153),f=n(125);t.a=function(e){return a.createElement(m.a,null,(function(t){return a.createElement(o.e,{style:{backgroundColor:t.list.itemsBackgroundColor}},a.createElement(o.f,{style:p.a.handleColumn}),a.createElement(o.f,null,a.createElement(d.b,{margin:"none",defaultValue:e.pointName||"Unnamed point",id:e.pointName,fullWidth:!0,errorText:e.nameError?"This name is already taken":void 0,disabled:!e.onBlur,onBlur:e.onBlur})),a.createElement(o.f,{style:p.a.coordinateColumn},e.isAutomatic?a.createElement(f.a,{noMargin:!0},a.createElement(r.Trans,{id:"(auto)"})):a.createElement(d.b,{margin:"none",value:e.pointX,type:"number",id:"point-x",onChange:function(t,n){return e.onChangePointX(parseFloat(n||0))}})),a.createElement(o.f,{style:p.a.coordinateColumn},e.isAutomatic?a.createElement(f.a,{noMargin:!0},a.createElement(r.Trans,{id:"(auto)"})):a.createElement(d.b,{margin:"none",value:e.pointY,type:"number",id:"point-y",onChange:function(t,n){return e.onChangePointY(parseFloat(n||0))}})),a.createElement(o.f,{style:p.a.toolColumn},!!e.onRemove&&a.createElement(i.a,{size:"small",onClick:e.onRemove},a.createElement(c.a,null)),!!e.onEdit&&a.createElement(i.a,{size:"small",onClick:e.onEdit},a.createElement(u.a,null))))}))}},function(e,t,n){"use strict";var r=n(26),a=n(15),o=n(131),i=n(148),s={container:{position:"relative",width:"100%",height:"100%"}},c=1,l=2,u=3;t.a=function(e){var t=a.useRef(null),n=a.useState({draggedPoint:null,draggedPointKind:null}),d=Object(r.a)(n,2),p=d[0],m=d[1],f=e.pointsContainer,h=e.imageWidth,g=e.imageHeight,b=e.offsetTop,v=e.offsetLeft,E=e.imageZoomFactor,y=Object(i.a)(),C=function(e,t,n,r,o){var i=r===l?"Origin":r===u?"Center":o.getName(),s=r===l?"res/originPoint.png":r===u?"res/centerPoint.png":"res/point.png";return a.createElement("img",{src:s,title:i,style:{position:"absolute",left:t,top:n,transform:"translate(-6px, -5px)",cursor:"move"},alt:"",key:e,onPointerDown:function(e){var t,n;e.preventDefault(),t=o,n=r,p.draggedPoint||m({draggedPoint:t,draggedPointKind:n})}})},j=f.getAllNonDefaultPoints(),O=Object(o.mapVector)(j,(function(e,t){return C(e.getName(),e.getX()*E,e.getY()*E,c,e)})),x=f.getOrigin(),k=f.getCenter(),T=f.isDefaultCenterPoint(),w={position:"absolute",top:b||0,left:v||0,width:h*E,height:g*E,overflow:"visible"};return a.createElement("div",{style:s.container,onPointerMove:function(n){var r=p.draggedPoint,a=p.draggedPointKind;if(r&&t.current){var o=t.current.getBoundingClientRect(),i=n.clientX-o.left,s=n.clientY-o.top;a===u&&e.pointsContainer.setDefaultCenterPoint(!1),r.setX(i/E),r.setY(s/E),y()}},onPointerUp:function(){!!p.draggedPoint&&e.onPointsUpdated(),m({draggedPoint:null,draggedPointKind:null})}},a.createElement("div",{style:w,ref:t},O,C("Origin",x.getX()*E,x.getY()*E,l,x),C("Center",(T?h/2:k.getX())*E,(T?g/2:k.getY())*E,u,k)))}},function(e,t,n){"use strict";(function(e){var r=n(26),a=n(115),o=n(15),i=n.n(o),s=n(124),c=n(136),l=n(117),u=n(131),d=n(1684),p=n(1686),m=n(375),f=n(282),h=n(886),g=n(16),b=n(565),v=n.n(b),E=(n(144),n(148)),y=n(323),C=n(146),j=n(160),O=e.gd,x={direction:"row",first:"preview",second:"properties",splitPercentage:50},k={direction:"column",first:"preview",second:"properties",splitPercentage:50};t.a=function(e){var t=i.a.useState(0),n=Object(r.a)(t,2),o=n[0],b=n[1],T=i.a.useState(0),w=Object(r.a)(T,2),S=w[0],P=w[1],_=i.a.useState(0),I=Object(r.a)(_,2),N=I[0],A=I[1],R=i.a.useState(!1),M=Object(r.a)(R,2),F=M[0],L=M[1],B=i.a.useState(!1),D=Object(r.a)(B,2),U=D[0],G=D[1],V=i.a.useState(0),W=Object(r.a)(V,2),H=W[0],z=W[1],Y=i.a.useState(0),q=Object(r.a)(Y,2),X=q[0],K=q[1],J=Object(E.a)(),Z=O.asSpriteObject(e.object),Q=Object(f.l)(Z,o,S,N),$=Q.animation,ee=Q.sprite,te=Q.hasValidSprite,ne=i.a.useCallback((function(){$&&ee&&(F?Object(u.mapFor)(0,Z.getAnimationsCount(),(function(e){var t=Z.getAnimation(e);Object(f.e)(ee,t)})):U&&Object(f.e)(ee,$)),J()}),[$,ee,Z,F,U,J]),re=function(e){b(e),P(0),A(0)},ae=function(e){P(e),A(0)},oe=function(e){A(e)},ie=i.a.useCallback((function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];ee&&(ee.setCollisionMaskAutomatic(e),ne())}),[ee,ne]),se=function(e){if(e&&!g.b.showConfirmDialog("Having the same collision masks for all animations will erase and reset all the other animations collision masks. This can't be undone. Are you sure you want to share these collision masks amongst all the animations of the object?"))return;L(e),G(e||U)},ce=function(e){if(e&&!g.b.showConfirmDialog("Having the same collision masks for all animations will erase and reset all the other animations collision masks. This can't be undone. Are you sure you want to share these collision masks amongst all the animations of the object?"))return;L(e&&F),G(e)},le=function(e,t){z(e),K(t)};i.a.useEffect(ne,[F,U]),i.a.useEffect((function(){$&&ee&&(L(v()(Object(u.mapFor)(0,Z.getAnimationsCount(),(function(e){var t=Z.getAnimation(e);return Object(f.c)(ee,t)})))),G(Object(f.c)(ee,$)))}),[o]);var ue="small"===Object(C.b)()?k:x;if(!e.object.getAnimationsCount())return null;var de={preview:{type:"primary",noTitleBar:!0,renderEditor:function(){return i.a.createElement(j.a,null,i.a.createElement(m.a,{resourceName:te?ee.getImageName():"",resourcesLoader:e.resourcesLoader,project:e.project,onSize:le,renderOverlay:function(e){return te&&i.a.createElement(p.a,Object.assign({},e,{isDefaultBoundingBox:ee.isCollisionMaskAutomatic(),polygons:ee.getCustomCollisionMask(),onPolygonsUpdated:ne}))}}))}},properties:{type:"secondary",noTitleBar:!0,renderEditor:function(){return i.a.createElement(j.a,null,i.a.createElement(l.b,null,i.a.createElement(l.a,{expand:!0},i.a.createElement(h.a,{spriteObject:Z,animationIndex:o,directionIndex:S,spriteIndex:N,chooseAnimation:re,chooseDirection:ae,chooseSprite:oe,sameForAllAnimations:F,sameForAllSprites:U,setSameForAllAnimations:se,setSameForAllSprites:ce,setSameForAllAnimationsLabel:i.a.createElement(a.Trans,{id:"Share same collision masks for all animations"}),setSameForAllSpritesLabel:i.a.createElement(a.Trans,{id:"Share same collision masks for all sprites of this animation"})}))),!!ee&&!ee.isCollisionMaskAutomatic()&&i.a.createElement(i.a.Fragment,null,i.a.createElement(d.a,{polygons:ee.getCustomCollisionMask(),onPolygonsUpdated:ne,restoreCollisionMask:function(){return ie(!0)},spriteWidth:H,spriteHeight:X})),!!ee&&ee.isCollisionMaskAutomatic()&&i.a.createElement(i.a.Fragment,null,i.a.createElement(c.a,null,i.a.createElement(a.Trans,{id:"This sprite uses the default collision mask, a rectangle that is as large as the sprite."})),i.a.createElement(l.b,{justifyContent:"center"},i.a.createElement(s.a,{label:i.a.createElement(a.Trans,{id:"Use a custom collision mask"}),primary:!1,onClick:function(){return ie(!1)}}))),!ee&&i.a.createElement(c.a,null,i.a.createElement(a.Trans,{id:"Choose an animation and frame to edit the collision masks"})))}}};return i.a.createElement("div",{style:{flex:1}},i.a.createElement(y.a,{editors:de,initialNodes:ue}))}}).call(this,n(8))},function(e,t,n){"use strict";(function(e){var r=n(115),a=n(15),o=n(254),i=n(251),s=n(131),c=n(887),l=n(1685),u=n(551),d=n(125),p=n(138),m=n(221),f=n.n(m),h=n(305),g=n.n(h),b=n(173),v=n.n(b),E=n(124),y=n(117),C=n(374),j=n(156),O=n(170),x=n(164),k=e.gd,T=Object(i.SortableElement)(l.a),w=Object(i.SortableContainer)((function(e){return a.createElement(y.a,{expand:!0},e.hasWarning&&a.createElement(j.a,{kind:"warning"},a.createElement(r.Trans,{id:"The polygon is not convex. Ensure it is, otherwise the collision mask won't work."})),a.createElement(y.c,null),a.createElement(o.a,null,a.createElement(o.c,null,a.createElement(o.e,null,a.createElement(o.d,null),a.createElement(o.d,{style:c.a.coordinateColumn},"X"),a.createElement(o.d,{style:c.a.coordinateColumn},"Y"),a.createElement(o.f,{style:c.a.toolColumn}))),a.createElement(o.b,null,Object(s.mapVector)(e.vertices,(function(t,n){return a.createElement(T,{index:n,key:n,disabled:!0,verticeX:t.get_x(),verticeY:t.get_y(),onChangeVerticeX:function(n){return function(t,n){t.set_x(Math.min(e.spriteWidth,Math.max(n,0))),e.onUpdated()}(t,n)},onChangeVerticeY:function(n){return function(t,n){t.set_y(Math.min(e.spriteHeight,Math.max(n,0))),e.onUpdated()}(t,n)},onRemove:function(){k.removeFromVectorVector2f(e.vertices,n),e.onUpdated()},canRemove:e.vertices.size()>3})})))),a.createElement(y.b,{justifyContent:"center"},a.createElement(E.a,{icon:a.createElement(v.a,{size:"small"}),label:a.createElement(r.Trans,{id:"Add a vertex"}),onClick:function(){var t=new k.Vector2f;e.vertices.push_back(t),t.delete(),e.onUpdated()}})))})),S=function(e){var t=a.useContext(O.a).message.warning,n=e.polygon.getVertices(),r=n.size(),o=e.polygon.isConvex(),i=[o?null:a.createElement(p.a,{key:"not-convex",size:"small",tooltip:{id:"Polygon is not convex!"}},a.createElement(g.a,{style:{color:t}})),a.createElement(p.a,{key:"delete-mask",size:"small",onClick:function(t){t.stopPropagation(),e.onRemove()},tooltip:{id:"Delete collision mask"}},a.createElement(f.a,null))];return a.createElement(u.a,{defaultExpanded:!0},a.createElement(u.c,{actions:i},a.createElement(d.a,{displayInlineAsSpan:!0},3===r&&"Triangle",4===r&&"Quadrilateral",r>=5&&"Polygon with ".concat(r," vertices"))),a.createElement(u.b,{disableGutters:!0},a.createElement(w,{vertices:n,hasWarning:!o,onUpdated:e.onUpdated,spriteWidth:e.spriteWidth,spriteHeight:e.spriteHeight,onSortEnd:function(e){e.oldIndex,e.newIndex},helperClass:"sortable-helper",useDragHandle:!0,lockToContainerEdges:!0})))};t.a=function(e){var t=e.polygons,n=e.spriteHeight,o=e.spriteWidth,i=e.onPolygonsUpdated,c=e.restoreCollisionMask,l=a.useCallback((function(){var e=k.Polygon2d.createRectangle(o,n);e.move(o/2,n/2),t.push_back(e),i()}),[n,o,t,i]);return a.useEffect((function(){0===t.size()&&l()}),[t,l]),a.createElement(a.Fragment,null,a.createElement(y.a,{noMargin:!0,expand:!0,useFullHeight:!0},a.createElement(x.a,null,Object(s.mapVector)(t,(function(e,r){return a.createElement(S,{key:"polygon-".concat(r),polygon:e,onUpdated:i,onRemove:function(){k.removeFromVectorPolygon2d(t,r),0===t.size()&&c(),i()},spriteWidth:o,spriteHeight:n})}))),a.createElement(y.a,null,a.createElement(y.b,{alignItems:"center",justifyContent:"center"},a.createElement(C.a,{primary:!0,icon:a.createElement(v.a,null),label:a.createElement(r.Trans,{id:"Add collision mask"}),onClick:function(){l()},buildMenuTemplate:function(e){return[{label:e._({id:"Restore the default collision mask"}),click:c}]}})))))}}).call(this,n(8))},function(e,t,n){"use strict";var r=n(15),a=n.n(r),o=n(254),i=n(138),s=n(221),c=n.n(s),l=n(135),u=n(887),d=n(153);t.a=function(e){return a.a.createElement(d.a,null,(function(t){return a.a.createElement(o.e,{style:{backgroundColor:t.list.itemsBackgroundColor}},a.a.createElement(o.f,null),a.a.createElement(o.f,{style:u.a.coordinateColumn},a.a.createElement(l.b,{margin:"none",value:e.verticeX,type:"number",id:"vertice-x",onChange:function(t,n){return e.onChangeVerticeX(parseFloat(n||0))}})),a.a.createElement(o.f,{style:u.a.coordinateColumn},a.a.createElement(l.b,{margin:"none",value:e.verticeY,type:"number",id:"vertice-y",onChange:function(t,n){return e.onChangeVerticeY(parseFloat(n||0))}})),a.a.createElement(o.f,{style:u.a.toolColumn},!!e.onRemove&&a.a.createElement(i.a,{size:"small",onClick:e.onRemove,disabled:!e.canRemove},a.a.createElement(c.a,null))))}))}},function(e,t,n){"use strict";var r=n(26),a=n(15),o=n(131),i=n(148),s={vertexCircle:{cursor:"move"}};t.a=function(e){var t=a.useRef(null),n=a.useState(null),c=Object(r.a)(n,2),l=c[0],u=c[1],d=e.polygons,p=e.imageZoomFactor,m=e.imageHeight,f=e.imageWidth,h=e.offsetTop,g=e.offsetLeft,b=e.isDefaultBoundingBox,v=Object(i.a)(),E=function(e,t){var n=f*p,r=m*p;return{frameX:Math.min(n,Math.max(e,0)),frameY:Math.min(r,Math.max(t,0))}},y={position:"absolute",top:h||0,left:g||0,width:f*p,height:m*p,overflow:"visible"};return a.createElement("div",{style:{position:"relative",width:"100%",height:"100%"},onPointerMove:function(e){if(l&&t.current){var n=t.current.createSVGPoint();n.x=e.clientX,n.y=e.clientY;var r=t.current.getScreenCTM().inverse(),a=n.matrixTransform(r),o=E(a.x,a.y),i=o.frameX,s=o.frameY;l.set_x(i/p),l.set_y(s/p),v()}},onPointerUp:function(){!!l&&e.onPolygonsUpdated(),u(null)}},a.createElement("svg",{style:y,ref:t},b&&a.createElement("polygon",{fill:"rgba(255,0,0,0.2)",stroke:"rgba(255,0,0,0.5)",strokeWidth:1,fillRule:"evenodd",points:"0,0 ".concat(f*p,",0 ").concat(f*p,",").concat(m*p," 0,").concat(m*p)}),!b&&a.createElement(a.Fragment,null,Object(o.mapVector)(d,(function(e,t){var n=e.getVertices();return a.createElement("polygon",{key:"polygon-".concat(t),fill:"rgba(255,0,0,0.2)",stroke:"rgba(255,0,0,0.5)",strokeWidth:1,fillRule:"evenodd",points:Object(o.mapVector)(n,(function(e,t){return"".concat(e.get_x()*p,",").concat(e.get_y()*p)})).join(" ")})})),Object(o.mapVector)(d,(function(e,t){var n=e.getVertices();return Object(o.mapVector)(n,(function(e,n){return a.createElement("circle",{onPointerDown:function(){return function(e){l||u(e)}(e)},key:"polygon-".concat(t,"-vertex-").concat(n),fill:"rgba(255,0,0,0.75)",strokeWidth:1,cx:e.get_x()*p,cy:e.get_y()*p,r:5,style:s.vertexCircle})}))})))))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(115),a=n(15),o=n(117),i=n(136);function s(){return a.createElement(o.a,null,a.createElement(o.b,null,a.createElement(i.a,null,a.createElement(r.Trans,{id:"This object does not have any specific configuration. Add it on the scene and use events to interact with it."}))))}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return h}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n(175),u=n(252),d=n(188),p=n(141),m=n(129),f=e.gd,h=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.props.object,n=f.asShapePainterObject(t);return c.createElement(m.a,null,c.createElement(l.a,{label:c.createElement(s.Trans,{id:"Draw the shapes relative to the object position on the scene"}),checked:!n.areCoordinatesAbsolute(),onCheck:function(t,r){r?n.setCoordinatesRelative():n.setCoordinatesAbsolute(),e.forceUpdate()}}),c.createElement(l.a,{label:c.createElement(s.Trans,{id:"Clear the rendered image between each frame"}),checked:n.isClearedBetweenFrames(),onCheck:function(t,r){n.setClearBetweenFrames(r),e.forceUpdate()}}),c.createElement(m.b,{noMargin:!0},c.createElement(u.a,{floatingLabelText:c.createElement(s.Trans,{id:"Outline color"}),disableAlpha:!0,fullWidth:!0,color:Object(d.b)({r:n.getOutlineColorR(),g:n.getOutlineColorG(),b:n.getOutlineColorB()}),onChange:function(t){var r=Object(d.e)(t);r&&(n.setOutlineColor(r.r,r.g,r.b),e.forceUpdate())}}),c.createElement(p.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Outline opacity (0-255)"}),fullWidth:!0,type:"number",value:n.getOutlineOpacity(),onChange:function(t){n.setOutlineOpacity(parseInt(t,10)||0),e.forceUpdate()}}),c.createElement(p.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Outline size (in pixels)"}),fullWidth:!0,type:"number",value:n.getOutlineSize(),onChange:function(t){n.setOutlineSize(parseInt(t,10)||0),e.forceUpdate()}})),c.createElement(m.b,{noMargin:!0},c.createElement(u.a,{floatingLabelText:c.createElement(s.Trans,{id:"Fill color"}),disableAlpha:!0,fullWidth:!0,color:Object(d.b)({r:n.getFillColorR(),g:n.getFillColorG(),b:n.getFillColorB()}),onChange:function(t){var r=Object(d.e)(t);r&&(n.setFillColor(r.r,r.g,r.b),e.forceUpdate())}}),c.createElement(p.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Fill opacity (0-255)"}),fullWidth:!0,type:"number",value:n.getFillOpacity(),onChange:function(t){n.setFillOpacity(parseInt(t,10)||0),e.forceUpdate()}})))}}]),n}(c.Component)}).call(this,n(8))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return y}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n(175),u=n(154),d=n(155),p=n(252),m=n(188),f=n(141),h=n(380),g=n(129),b=n(429),v=n(368),E=e.gd,y=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.object,r=t.project,a=t.resourceSources,o=t.onChooseResource,i=t.resourceExternalEditors,y=E.asParticleEmitterObject(n),C=Object(v.c)(n.getType());return c.createElement(g.a,null,C.map((function(e){return c.createElement(b.a,{key:e,tutorialId:e})})),c.createElement(u.a,{fullWidth:!0,floatingLabelText:c.createElement(s.Trans,{id:"Particle type"}),value:y.getRendererType(),onChange:function(t,n,r){var a=parseInt(r,10)||0;y.setRendererType(a),a!==E.ParticleEmitterObject.Quad&&y.setParticleTexture(""),e.forceUpdate()}},c.createElement(d.a,{value:E.ParticleEmitterObject.Point,primaryText:{id:"Circle"}}),c.createElement(d.a,{value:E.ParticleEmitterObject.Line,primaryText:{id:"Line"}}),c.createElement(d.a,{value:E.ParticleEmitterObject.Quad,primaryText:{id:"Image"}})),y.getRendererType()===E.ParticleEmitterObject.Point&&c.createElement(f.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Size"}),fullWidth:!0,type:"number",value:y.getRendererParam1(),onChange:function(t){y.setRendererParam1(parseFloat(t)),e.forceUpdate()}}),y.getRendererType()===E.ParticleEmitterObject.Line&&c.createElement(g.b,{noMargin:!0},c.createElement(f.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Lines length"}),fullWidth:!0,type:"number",value:y.getRendererParam1(),onChange:function(t){y.setRendererParam1(parseFloat(t)),e.forceUpdate()}}),c.createElement(f.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Lines thickness"}),fullWidth:!0,type:"number",value:y.getRendererParam2(),onChange:function(t){y.setRendererParam2(parseFloat(t)),e.forceUpdate()}})),y.getRendererType()===E.ParticleEmitterObject.Quad&&c.createElement(h.a,{project:r,resourceSources:a,onChooseResource:o,resourceKind:"image",resourceName:y.getParticleTexture(),resourceExternalEditors:i,onChange:function(t){y.setParticleTexture(t),e.forceUpdate()},floatingLabelText:c.createElement(s.Trans,{id:"Select an image"})}),y.getRendererType()===E.ParticleEmitterObject.Quad&&c.createElement(g.b,{noMargin:!0},c.createElement(f.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Particles start width"}),fullWidth:!0,type:"number",value:y.getRendererParam1(),onChange:function(t){y.setRendererParam1(Math.max(0,parseFloat(t))),e.forceUpdate()}}),c.createElement(f.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Particles start height"}),fullWidth:!0,type:"number",value:y.getRendererParam2(),onChange:function(t){y.setRendererParam2(Math.max(0,parseFloat(t))),e.forceUpdate()}})),c.createElement(g.b,{noMargin:!0},c.createElement(p.a,{floatingLabelText:c.createElement(s.Trans,{id:"Particles start color"}),disableAlpha:!0,fullWidth:!0,color:Object(m.b)({r:y.getParticleRed1(),g:y.getParticleGreen1(),b:y.getParticleBlue1()}),onChange:function(t){var n=Object(m.e)(t);n&&(y.setParticleRed1(n.r),y.setParticleGreen1(n.g),y.setParticleBlue1(n.b),e.forceUpdate())}}),c.createElement(f.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Start opacity (0-255)"}),fullWidth:!0,type:"number",value:y.getParticleAlpha1(),onChange:function(t){y.setParticleAlpha1(parseInt(t,10)||0),e.forceUpdate()}})),c.createElement(g.b,{noMargin:!0},c.createElement(p.a,{floatingLabelText:c.createElement(s.Trans,{id:"Particles end color"}),disableAlpha:!0,fullWidth:!0,color:Object(m.b)({r:y.getParticleRed2(),g:y.getParticleGreen2(),b:y.getParticleBlue2()}),onChange:function(t){var n=Object(m.e)(t);n&&(y.setParticleRed2(n.r),y.setParticleGreen2(n.g),y.setParticleBlue2(n.b),e.forceUpdate())}}),c.createElement(f.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"End opacity (0-255)"}),fullWidth:!0,type:"number",value:y.getParticleAlpha2(),onChange:function(t){y.setParticleAlpha2(parseInt(t,10)||0),e.forceUpdate()}})),c.createElement(l.a,{label:c.createElement(s.Trans,{id:"Additive rendering"}),checked:y.isRenderingAdditive(),onCheck:function(t,n){n?y.setRenderingAdditive():y.setRenderingAlpha(),e.forceUpdate()}}),c.createElement(l.a,{label:c.createElement(s.Trans,{id:"Delete when out of particles"}),checked:y.getDestroyWhenNoParticles(),onCheck:function(t,n){y.setDestroyWhenNoParticles(n),e.forceUpdate()}}),c.createElement(g.b,{noMargin:!0},c.createElement(f.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Maximum number of particles displayed"}),fullWidth:!0,type:"number",value:y.getMaxParticleNb(),onChange:function(t){y.setMaxParticleNb(parseInt(t,10)||0),e.forceUpdate()}})),c.createElement(g.b,{noMargin:!0},c.createElement(f.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Number of particles in tank (-1 for infinite)"}),fullWidth:!0,type:"number",value:y.getTank(),onChange:function(t){y.setTank(parseInt(t,10)||0),e.forceUpdate()}}),c.createElement(f.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Flow of particles (particles/seconds)"}),fullWidth:!0,type:"number",value:y.getFlow(),onChange:function(t){y.setFlow(parseInt(t,10)||0),e.forceUpdate()}})),c.createElement(g.b,{noMargin:!0},c.createElement(f.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Minimum emitter force applied on particles"}),fullWidth:!0,type:"number",value:y.getEmitterForceMin(),onChange:function(t){y.setEmitterForceMin(parseInt(t,10)||0),e.forceUpdate()}}),c.createElement(f.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Maximum emitter force applied on particles"}),fullWidth:!0,type:"number",value:y.getEmitterForceMax(),onChange:function(t){y.setEmitterForceMax(parseInt(t,10)||0),e.forceUpdate()}})),c.createElement(g.b,{noMargin:!0},c.createElement(f.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Spray cone angle (in degrees)"}),fullWidth:!0,type:"number",value:y.getConeSprayAngle(),onChange:function(t){y.setConeSprayAngle(parseInt(t,10)||0),e.forceUpdate()}}),c.createElement(f.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Radius of the emitter"}),fullWidth:!0,type:"number",value:y.getZoneRadius(),onChange:function(t){y.setZoneRadius(parseInt(t,10)||0),e.forceUpdate()}})),c.createElement(g.b,{noMargin:!0},c.createElement(f.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Gravity on particles on X axis"}),fullWidth:!0,type:"number",value:y.getParticleGravityX(),onChange:function(t){y.setParticleGravityX(parseFloat(t)),e.forceUpdate()}}),c.createElement(f.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Gravity on particles on Y axis"}),fullWidth:!0,type:"number",value:y.getParticleGravityY(),onChange:function(t){y.setParticleGravityY(parseFloat(t)),e.forceUpdate()}})),c.createElement(g.b,{noMargin:!0},c.createElement(f.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Particle minimum lifetime (in seconds)"}),fullWidth:!0,type:"number",value:y.getParticleLifeTimeMin(),onChange:function(t){y.setParticleLifeTimeMin(parseFloat(t)),e.forceUpdate()}}),c.createElement(f.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Particle maximum lifetime (in seconds)"}),fullWidth:!0,type:"number",value:y.getParticleLifeTimeMax(),onChange:function(t){y.setParticleLifeTimeMax(parseFloat(t)),e.forceUpdate()}})),c.createElement(g.b,{noMargin:!0},c.createElement(f.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Particle start size (in percents)"}),fullWidth:!0,type:"number",value:y.getParticleSize1(),onChange:function(t){y.setParticleSize1(parseFloat(t)),e.forceUpdate()}}),c.createElement(f.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Particle end size (in percents)"}),fullWidth:!0,type:"number",value:y.getParticleSize2(),onChange:function(t){y.setParticleSize2(parseFloat(t)),e.forceUpdate()}})),c.createElement(g.b,{noMargin:!0},c.createElement(f.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Particle minimum rotation speed (degrees/second)"}),fullWidth:!0,type:"number",value:y.getParticleAngle1(),onChange:function(t){y.setParticleAngle1(parseFloat(t)),e.forceUpdate()}}),c.createElement(f.a,{commitOnBlur:!0,floatingLabelText:c.createElement(s.Trans,{id:"Particle maximum rotation speed (degrees/second)"}),fullWidth:!0,type:"number",value:y.getParticleAngle2(),onChange:function(t){y.setParticleAngle2(parseFloat(t)),e.forceUpdate()}})))}}]),n}(c.Component)}).call(this,n(8))},function(e,t,n){"use strict";(function(e){var r=n(115),a=n(15),o=n(273),i=n(312),s=n(136),c=n(117),l=n(569),u=n(368),d=n(156),p=n(129),m=n(429),f=e.gd;t.a=function(e){var t=e.object,n=e.project,h=e.resourceSources,g=e.onChooseResource,b=e.resourceExternalEditors,v=e.unsavedChanges,E=f.castObject(t,f.gdObject),y=E.getProperties(),C=Object(i.a)(y,(function(e){return e.getProperties()}),(function(e,t,n){return e.updateProperty(t,n)})),j=Object(l.c)()[E.getType()],O=Object(u.c)(E.getType());return a.createElement(r.I18n,null,(function(e){var t=e.i18n;return a.createElement(p.a,null,O.map((function(e){return a.createElement(m.a,{key:e,tutorialId:e})})),C.length?a.createElement(a.Fragment,null,j?a.createElement(c.b,null,a.createElement(c.a,{noMargin:!0},j.map((function(e,n){var r=e.kind,o=e.message;return a.createElement(d.a,{kind:r,key:n},t._(o))})))):null,a.createElement(o.a,{unsavedChanges:v,schema:C,instances:[E],project:n,resourceSources:h,onChooseResource:g,resourceExternalEditors:b})):a.createElement(s.a,null,a.createElement(r.Trans,{id:"There is nothing to configure for this object. You can still use events to interact with the object."})))}))}}).call(this,n(8))},function(e,t,n){"use strict";(function(e){var r=n(26),a=n(115),o=n(15),i=n(135),s=n(173),c=n.n(s),l=n(221),u=n.n(l),d=n(138),p=n(136),m=n(215),f=n(676),h=n(809),g=n(1987),b=n(16),v=n(117),E=n(127),y=n(429),C=n(129),j=n(148),O=n(551),x=n(1692),k=n(143),T=n(164),w=n(361),S=n(368),P=n(811),_=e.gd;t.a=function(e){var t=o.useState(!1),n=Object(r.a)(t,2),s=n[0],l=n[1],I=e.object,N=e.project,A=I.getAllBehaviorNames().toJSArray(),R=Object(j.a)(),M=o.useContext(k.a).values,F=function(t){var n="Are you sure you want to remove this behavior? This can't be undone.",r=_.WholeProjectRefactorer.findDependentBehaviorNames(N,I,t).toJSArray();r.length>0&&(n+="\nDependent behaviors will be removed too: "+r.join(", ")),b.b.showConfirmDialog(n)&&(I.removeBehavior(t),r.forEach((function(e){return I.removeBehavior(e)})),e.onSizeUpdated&&e.onSizeUpdated())};return o.createElement(v.a,{noMargin:!0,expand:!0,useFullHeight:!0,noOverflowParent:!0},0===A.length?o.createElement(v.a,{noMargin:!0,expand:!0,justifyContent:"center"},o.createElement(x.a,null)):o.createElement(T.a,null,A.map((function(t,n){var r=I.getBehavior(t),s=r.getTypeName(),c=_.MetadataProvider.getBehaviorMetadata(_.JsPlatform.get(),s);if(_.MetadataProvider.isBadBehaviorMetadata(c))return o.createElement(O.a,{key:t,defaultExpanded:!0},o.createElement(O.c,{actions:[o.createElement(d.a,{key:"delete",onClick:function(e){e.stopPropagation(),F(t)}},o.createElement(u.a,null))]},o.createElement(m.a,{firstChild:!0},o.createElement(a.Trans,{id:"Unknown behavior"})," "),o.createElement(v.a,{noMargin:!0,expand:!0},o.createElement(i.b,{margin:"none",value:t,disabled:!0}))),o.createElement(O.b,null,o.createElement(p.a,null,o.createElement(a.Trans,{id:"This behavior is unknown. It might be a behavior that was defined in an extension and that was later removed. You should delete it."}))));var l=c.get(),h=g.a.getEditor(s),b=Object(S.a)(s),E=b.filter((function(e){return!M.hiddenTutorialHints[e]})),j=c.getIconFilename();return o.createElement(O.a,{key:t,defaultExpanded:!0},o.createElement(O.c,{actions:[o.createElement(f.a,{key:"help",size:"small",helpPagePath:c.getHelpPath()}),o.createElement(d.a,{key:"delete",size:"small",onClick:function(e){e.stopPropagation(),F(t)}},o.createElement(u.a,null))]},j?o.createElement(w.a,{src:j,alt:c.getFullName(),size:20}):null,o.createElement(v.a,{expand:!0},o.createElement(i.b,{value:t,hintText:{id:"Behavior name"},margin:"none",fullWidth:!0,disabled:!0,onChange:function(e,t){return function(e,t){I.hasBehaviorNamed(t)||(I.renameBehavior(e.getName(),t),R())}(r,t)}}))),o.createElement(O.b,null,o.createElement(v.a,{expand:!0,noMargin:!0,noOverflowParent:!0},E.length?o.createElement(v.b,null,o.createElement(C.a,{expand:!0},b.map((function(e){return o.createElement(y.a,{key:e,tutorialId:e})})))):null,o.createElement(v.b,null,o.createElement(h,{behavior:l,behaviorContent:r,project:N,object:I,resourceSources:e.resourceSources,onChooseResource:e.onChooseResource,resourceExternalEditors:e.resourceExternalEditors})))))}))),o.createElement(v.a,null,o.createElement(v.b,{justifyContent:"flex-end",expand:!0},o.createElement(E.a,{key:"add-behavior-line",label:o.createElement(a.Trans,{id:"Add a behavior to the object"}),primary:!0,onClick:function(){return l(!0)},icon:o.createElement(c.a,null)}))),s&&o.createElement(h.a,{open:s,objectType:I.getType(),objectBehaviorsTypes:Object(P.b)(I),onClose:function(){return l(!1)},onChoose:function(t,n){Object(P.a)(N,I,t,n)&&l(!1),R(),e.onSizeUpdated&&e.onSizeUpdated(),e.onUpdateBehaviorsSharedData()},project:N}))}}).call(this,n(8))},function(e,t,n){"use strict";var r=n(115),a=n(15),o=n(142),i=n(125),s=n(405);t.a=function(){return a.createElement(s.a,{renderButtons:function(){return a.createElement(o.a,{helpPagePath:"/behaviors"})}},a.createElement(i.a,null,a.createElement(r.Trans,{id:"There are no behaviors here."})),a.createElement(i.a,null,a.createElement(r.Trans,{id:"Behaviors are predefined actions that are assigned to objects. Behaviors can have no or multiple parameters."})),a.createElement(i.a,null,a.createElement(r.Trans,{id:'Add your first behavior using the button "Add a behavior to the object".'})))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(119),a=n(26),o=n(115),i=n(15),s=n(124),c=n(135),l=n(175),u=n(129),d=n(128),p=n(252),m=n(608),f=n(188);function h(e){var t=i.useState((function(){return Object(m.a)(e.instancesEditorSettings)})),n=Object(a.a)(t,1)[0],h=function(){e.onChangeInstancesEditorSettings(Object(r.a)(Object(r.a)({},e.instancesEditorSettings),{},{gridWidth:n.gridWidth,gridHeight:n.gridHeight,gridOffsetX:n.gridOffsetX,gridOffsetY:n.gridOffsetY,gridColor:n.gridColor,gridType:n.gridType})),e.onCancel()};return i.createElement(d.a,{onApply:e.onApply,title:i.createElement(o.Trans,{id:"Edit Grid Options"}),actions:[i.createElement(s.a,{key:"cancel",label:i.createElement(o.Trans,{id:"Cancel"}),primary:!1,onClick:h}),i.createElement(s.a,{key:"apply",label:i.createElement(o.Trans,{id:"Apply"}),primary:!0,keyboardFocused:!0,onClick:e.onApply})],cannotBeDismissed:!0,open:!0,onRequestClose:h,maxWidth:"sm",noMargin:!0},i.createElement(u.a,null,i.createElement(u.b,{noMargin:!0,expand:!0},i.createElement(p.a,{floatingLabelText:i.createElement(o.Trans,{id:"Line color"}),fullWidth:!0,color:Object(f.a)(e.instancesEditorSettings.gridColor),alpha:e.instancesEditorSettings.gridAlpha,onChange:function(t,n){e.onChangeInstancesEditorSettings(Object(r.a)(Object(r.a)({},e.instancesEditorSettings),{},{gridColor:Object(f.f)(t),gridAlpha:void 0===n||null===n?1:n}))}})),i.createElement(u.b,{noMargin:!0,expand:!0},i.createElement(c.b,{floatingLabelText:i.createElement(o.Trans,{id:"Cell width (in pixels)"}),fullWidth:!0,type:"number",value:e.instancesEditorSettings.gridWidth,onChange:function(t,n){return e.onChangeInstancesEditorSettings(Object(r.a)(Object(r.a)({},e.instancesEditorSettings),{},{gridWidth:Math.max(parseFloat(n),.01)}))}}),i.createElement(c.b,{floatingLabelText:i.createElement(o.Trans,{id:"Cell height (in pixels)"}),fullWidth:!0,type:"number",value:e.instancesEditorSettings.gridHeight,onChange:function(t,n){return e.onChangeInstancesEditorSettings(Object(r.a)(Object(r.a)({},e.instancesEditorSettings),{},{gridHeight:Math.max(parseFloat(n),.01)}))}})),i.createElement(u.b,{noMargin:!0,expand:!0},i.createElement(c.b,{floatingLabelText:i.createElement(o.Trans,{id:"X offset (in pixels)"}),fullWidth:!0,type:"number",value:e.instancesEditorSettings.gridOffsetX,onChange:function(t,n){return e.onChangeInstancesEditorSettings(Object(r.a)(Object(r.a)({},e.instancesEditorSettings),{},{gridOffsetX:parseFloat(n)}))}}),i.createElement(c.b,{floatingLabelText:i.createElement(o.Trans,{id:"Y offset (in pixels)"}),fullWidth:!0,type:"number",value:e.instancesEditorSettings.gridOffsetY,onChange:function(t,n){return e.onChangeInstancesEditorSettings(Object(r.a)(Object(r.a)({},e.instancesEditorSettings),{},{gridOffsetY:parseFloat(n)}))}})),i.createElement(u.b,{noMargin:!0,expand:!0},i.createElement(l.a,{checked:"isometric"===e.instancesEditorSettings.gridType,label:i.createElement(o.Trans,{id:"Isometric"}),onCheck:function(t,n){return e.onChangeInstancesEditorSettings(Object(r.a)(Object(r.a)({},e.instancesEditorSettings),{},{gridType:n?"isometric":"rectangular"}))}}))))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(179),a=n(3),o=n(4),i=n(6),s=n(5),c=n(15),l=n.n(c),u=n(2220),d=(n(289),n(711)),p=n.n(d),m=n(918),f=n(238),h=n(884),g={container:{overflow:"hidden"},xScrollbar:{position:"absolute",top:-13,left:0,right:0},yScrollbar:{position:"absolute",top:0,bottom:0,left:-13,transform:"rotate(180deg)"}},b=function(){},v=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._editor=null,e.state={xValue:0,yValue:0,xMin:-5e3,xMax:5e3,yMin:-5e3,yMax:5e3},e._handleXChange=function(t,n){var r=e.state,a=r.xMin,o=a+(r.xMax-a)*n/100;e.setState({xValue:o},(function(){e._editor&&e._editor.scrollTo(e.state.xValue,e.state.yValue)}))},e._handleYChange=function(t,n){var r=e.state,a=r.yMin,o=a+(r.yMax-a)*(100-n)/100;e.setState({yValue:o},(function(){e._editor&&e._editor.scrollTo(e.state.xValue,e.state.yValue)}))},e._setAndAdjust=function(t){var n=t.xValue,r=t.yValue,a=Math.max(Math.abs(n)+100,e.state.xMax),o=Math.max(Math.abs(r)+100,e.state.yMax);e.setState({xMax:a,yMax:o,xMin:-a,yMin:-o,xValue:n,yValue:r})},e._handleViewPositionChange=p()((function(t){t&&e._setAndAdjust({xValue:t.getViewX(),yValue:t.getViewY()})}),500,{leading:!1,trailing:!0}),e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this._editor&&this._handleViewPositionChange(this._editor.getViewPosition())}},{key:"render",value:function(){var e=this,t=this.props,n=t.wrappedEditorRef,a=Object(r.a)(t,["wrappedEditorRef"]);return l.a.createElement(f.a,null,(function(t){return l.a.createElement(h.a,null,(function(r){var o=r.width,i=r.height;return l.a.createElement("div",{style:g.container},l.a.createElement(m.a,Object.assign({onViewPositionChanged:"touch"!==t?e._handleViewPositionChange:b,ref:function(t){n&&n(t),e._editor=t},width:o,height:i,screenType:t},a)),"touch"!==t&&l.a.createElement(u.a,{value:(e.state.xValue-e.state.xMin)/(e.state.xMax-e.state.xMin)*100,onChange:e._handleXChange,style:g.xScrollbar,orientation:"horizontal"}),"touch"!==t&&l.a.createElement(u.a,{value:(e.state.yValue-e.state.yMin)/(e.state.yMax-e.state.yMin)*100,onChange:e._handleYChange,style:g.yScrollbar,orientation:"vertical"}))}))}))}}]),n}(c.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){return e.length>t?e.substring(0,t)+"...":e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(15),c=n.n(s),l=n(138),u=n(505),d=n.n(u),p=n(186),m={container:{padding:0,width:32,height:32},icon:{width:16,height:16}},f=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return c.a.createElement(p.a,{element:c.a.createElement(l.a,{style:m.container},c.a.createElement(d.a,{htmlColor:"white",style:m.icon})),buildMenuTemplate:this.props.buildMenuTemplate})}}]),n}(s.Component)},function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r=n(167),a=function(e,t,n){var r=s[e.getType()];return r?(r.onObjectAdded(e,t,n),r.getInfoBarDetails("onObjectAdded")):null},o=function(e,t,n){var r=e.getObjectName(),a=null;t.hasObjectNamed(r)?a=t.getObject(r):n.hasObjectNamed(r)&&(a=n.getObject(r));var o=a?s[a.getType()]:null;return o?(o.onInstanceAdded(e,t,n),o.getInfoBarDetails("onInstanceAdded")):null},i=function(e){for(var t=0;t<e.getLayersCount();t++){var n=e.getLayerAt(t);if(n.isLightingLayer())return n}return null},s={"Lighting::LightObject":{onObjectAdded:function(e,t,n){if(null===i(t)){var a=Object(r.a)("Lighting",(function(e){return t.hasLayerNamed(e)}));t.insertNewLayer(a,t.getLayersCount());var o=t.getLayer("Lighting");o.setLightingLayer(!0),o.setFollowBaseLayerCamera(!0),o.setAmbientLightColor(128,128,128)}},onInstanceAdded:function(e,t,n){var r=i(t);r&&e.setLayer(r.getName())},getInfoBarDetails:function(e){return"onObjectAdded"===e?{identifier:"automatic-lighting-layer",message:{id:"A lighting layer was created. Lights will be placed on it automatically. You can change the ambient light color in the properties of this layer"},touchScreenMessage:{id:"A lighting layer was created. Lights will be placed on it automatically. You can change the ambient light color in the properties of this layer"}}:"onInstanceAdded"===e?{identifier:"object-moved-in-lighting-layer",message:{id:"The light object was automatically placed on the Lighting layer."},touchScreenMessage:{id:"The light object was automatically placed on the Lighting layer."}}:null}}}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return T}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n(1699),u=n(1994),d=n(1702),p=n(323),m=n(316),f=n(144),h=n(17),g=n.n(h),b=n(16),v=n(143),E=n(239),y=e.gd,C=g()("electron"),j=C?C.shell:null,O=g()("path"),x={container:{display:"flex",flex:1,position:"relative",overflow:"hidden"}},k={direction:"row",first:"properties",second:"resources-list",splitPercentage:66},T=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).editorMosaic=null,e._propertiesEditor=null,e._resourcesList=null,e.resourcesLoader=f.a,e.state={showPropertiesInfoBar:!1,selectedResource:null},e.deleteResource=function(t){var n=e.props,r=n.project,a=n.onDeleteResource;t&&(b.b.showConfirmDialog("Are you sure you want to remove this resource? This can't be undone.")&&a(t,(function(n){n&&t&&(r.getResourcesManager().removeResource(t.getName()),e.setState({selectedResource:null},(function(){e._resourcesList&&e._resourcesList.forceUpdateList(),e.updateToolbar()})))})))},e._removeUnusedResources=function(t){var n=e.props.project,r=e.state.selectedResource?e.state.selectedResource.getName():null,a=y.ProjectResourcesAdder.getAllUseless(n,t).toJSArray();console.info("Removing ".concat(a.length," unused ").concat(t," resource(s):"),a),y.ProjectResourcesAdder.removeAllUseless(n,t),a.includes(r)&&e._onResourceSelected(null),e._resourcesList&&e._resourcesList.forceUpdateList()},e._removeAllResourcesWithInvalidPath=function(){var t=e.props.project,n=e.state.selectedResource?e.state.selectedResource.getName():null,r=t.getResourcesManager(),a=r.getAllResourceNames().toJSArray().filter((function(e){return"error"===Object(E.e)(t,e)}));a.forEach((function(e){r.removeResource(e),console.info("Removed due to invalid path: "+e)})),a.includes(n)&&e._onResourceSelected(null),e._resourcesList&&e._resourcesList.forceUpdateList()},e.openProjectFolder=function(){var t=e.props.project;j&&j.openItem(O.dirname(t.getProjectFile()))},e.openProperties=function(){e.editorMosaic&&(e.editorMosaic.openEditor("properties","start",66,"column")||e.setState({showPropertiesInfoBar:!0}))},e._onResourceSelected=function(t){e.setState({selectedResource:t},(function(){e._propertiesEditor&&e._propertiesEditor.forceUpdate(),e.updateToolbar()}))},e}return Object(a.a)(n,[{key:"updateToolbar",value:function(){var e=this;this.props.setToolbar(c.createElement(d.a,{onOpenProjectFolder:this.openProjectFolder,onOpenProperties:this.openProperties,canDelete:!!this.state.selectedResource,onDeleteSelection:function(){return e.deleteResource(e.state.selectedResource)}}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.onRenameResource,a=t.onChooseResource,o=t.resourceSources,i=this.state.selectedResource,d={properties:{type:"secondary",title:{id:"Properties"},renderEditor:function(){return c.createElement(u.a,{key:i?i.ptr:void 0,resources:i?[i]:[],project:n,resourcesLoader:e.resourcesLoader,ref:function(t){return e._propertiesEditor=t},onResourcePathUpdated:function(){e._resourcesList&&e._resourcesList.checkMissingPaths()},onChooseResource:a,resourceSources:o})}},"resources-list":{type:"primary",noTitleBar:!0,renderEditor:function(){return c.createElement(l.a,{project:n,onDeleteResource:e.deleteResource,onRenameResource:r,onSelectResource:e._onResourceSelected,selectedResource:i,ref:function(t){return e._resourcesList=t},onRemoveUnusedResources:e._removeUnusedResources,onRemoveAllResourcesWithInvalidPath:e._removeAllResourcesWithInvalidPath})}}};return c.createElement("div",{style:x.container},c.createElement(v.a.Consumer,null,(function(t){var n=t.getDefaultEditorMosaicNode,r=t.setDefaultEditorMosaicNode;return c.createElement(p.a,{editors:d,ref:function(t){return e.editorMosaic=t},initialNodes:n("resources-editor")||k,onPersistNodes:function(e){return r("resources-editor",e)}})})),c.createElement(m.a,{message:c.createElement(s.Trans,{id:"Properties panel is already opened. After selecting a resource, inspect and change its properties from this panel."}),show:!!this.state.showPropertiesInfoBar,identifier:"resource-properties-panel-explanation"}))}}]),n}(c.Component);T.defaultProps={setToolbar:function(){}}}).call(this,n(8))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return I}));var r=n(18),a=n(3),o=n(4),i=n(6),s=n(5),c=n(115),l=n(15),u=n(205),d=n(465),p=n(160),m=n(187),f=n(30),h=n(1700),g=n(131),b=n(17),v=n.n(b),E=n(239),y=n(609),C=n(550),j=n(144),O=n(167),x=Object(C.a)("glob"),k=v()("path"),T=v()("electron"),w=!!T,S=e.gd,P={listContainer:{flex:1}},_=function(e){return e.getName()},I=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={renamedResource:null,searchText:"",resourcesWithErrors:{}},e._deleteResource=function(t){e.props.onDeleteResource(t)},e._locateResourceFile=function(t){var n=k.dirname(Object(E.d)(e.props.project,t.getName()));T.shell.openItem(n)},e._openResourceFile=function(t){var n=Object(E.d)(e.props.project,t.getName());T.shell.openItem(n)},e._copyResourceFilePath=function(t){var n=Object(E.d)(e.props.project,t.getName());T.clipboard.writeText(n)},e._scanForNewResources=function(t,n){var a=x();if(a){var o,i=e.props.project,s=i.getResourcesManager(),c=k.dirname(i.getProjectFile()),l=[].concat(Object(r.a)(t),Object(r.a)(t.map((function(e){return e.toUpperCase()}))));o=function(t,r){if(t)console.error("Error finding files inside ".concat(c,":"),t);else{var a=new S.VectorString;r.forEach((function(e){return a.push_back(k.relative(c,e))}));var o=i.getResourcesManager().findFilesNotInResources(a);a.delete(),Object(g.mapVector)(o,(function(e){var t=Object(O.a)(e,(function(e){return s.hasResource(e)})),r=n();r.setFile(e),r.setName(t),Object(E.a)(i,r),s.addResource(r),r.delete(),console.info('"'.concat(e,'" added to project as resource named "').concat(t,'".'))})),e.forceUpdate()}},a(c+"/**/*.{"+l.join(",")+"}",o)}},e._editName=function(t){e.setState({renamedResource:t},(function(){e.sortableList&&e.sortableList.forceUpdateGrid()}))},e._getResourceThumbnail=function(t){switch(t.getKind()){case"image":return j.a.getResourceFullUrl(e.props.project,t.getName(),{});case"audio":return"res/actions/music24.png";case"json":return"res/actions/fichier24.png";case"video":return"JsPlatform/Extensions/videoicon24.png";case"font":return"res/actions/font24.png";case"bitmapFont":return"JsPlatform/Extensions/bitmapfont32.png";default:return"res/unknown32.png"}},e._rename=function(t,n){var r=e.props.project;e.setState({renamedResource:null}),t.getName()!==n&&(r.getResourcesManager().hasResource(n)?Object(f.c)("Another resource with this name already exists",{delayToNextTick:!0}):e.props.onRenameResource(t,n,(function(r){r&&(t.setName(n),e.forceUpdate())})))},e._moveSelectionTo=function(t){var n=e.props,r=n.project,a=n.selectedResource;if(a){var o=r.getResourcesManager();o.moveResource(o.getResourcePosition(a.getName()),o.getResourcePosition(t.getName())),e.forceUpdateList()}},e.forceUpdateList=function(){e.forceUpdate(),e.sortableList&&e.sortableList.forceUpdateGrid()},e._renderResourceMenuTemplate=function(t){return function(n,r){return[{label:t._({id:"Rename"}),click:function(){return e._editName(n)}},{label:t._({id:"Remove"}),click:function(){return e._deleteResource(n)}},{type:"separator"},{label:t._({id:"Open File"}),click:function(){return e._openResourceFile(n)},enabled:w},{label:t._({id:"Locate File"}),click:function(){return e._locateResourceFile(n)},enabled:w},{label:t._({id:"Copy File Path"}),click:function(){return e._copyResourceFilePath(n)},enabled:w},{type:"separator"},{label:t._({id:"Scan in the project folder for..."}),submenu:y.a.map((function(n){var r=n.displayName,a=n.fileExtensions,o=n.createNewResource;return{label:t._(r),click:function(){e._scanForNewResources(a,o)},enabled:w}}))},{type:"separator"},{label:t._({id:"Remove unused..."}),submenu:y.a.map((function(n){var r=n.displayName,a=n.kind;return{label:t._(r),click:function(){e.props.onRemoveUnusedResources(a)}}}))},{label:t._({id:"Remove Resources with Invalid Path"}),click:function(){e.props.onRemoveAllResourcesWithInvalidPath()},enabled:w}]}},e.checkMissingPaths=function(){var t=e.props.project,n=t.getResourcesManager().getAllResourceNames().toJSArray(),r={};n.forEach((function(e){r[e]=Object(E.e)(t,e)})),e.setState({resourcesWithErrors:r}),e.forceUpdateList()},e}return Object(o.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return this.state.renamedResource!==t.renamedResource||this.state.searchText!==t.searchText||(this.props.project!==e.project||this.props.selectedResource!==e.selectedResource)}},{key:"componentDidMount",value:function(){this.checkMissingPaths()}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.selectedResource,a=t.onSelectResource,o=this.state.searchText,i=n.getResourcesManager(),s=i.getAllResourceNames().toJSArray().map((function(e){return i.getResource(e)})),f=Object(h.a)(s,o),g=n.ptr;return l.createElement(p.a,null,l.createElement("div",{style:P.listContainer},l.createElement(u.a,null,(function(t){var n=t.height,o=t.width;return l.createElement(c.I18n,null,(function(t){var i=t.i18n;return l.createElement(d.a,{key:g,ref:function(t){return e.sortableList=t},fullList:f,width:o,height:n,getItemName:_,getItemThumbnail:e._getResourceThumbnail,selectedItems:r?[r]:[],onItemSelected:a,renamedItem:e.state.renamedResource,onRename:e._rename,onMoveSelectionToItem:e._moveSelectionTo,buildMenuTemplate:e._renderResourceMenuTemplate(i),erroredItems:e.state.resourcesWithErrors,reactDndType:"GD_RESOURCE"})}))}))),l.createElement(m.a,{value:o,onRequestSearch:function(){},onChange:function(t){return e.setState({searchText:t})}}))}}]),n}(l.Component)}).call(this,n(8))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){if(!t)return e;var n=t.toLowerCase();return e.filter((function(e){return-1!==e.getName().toLowerCase().indexOf(n)}))}},,function(e,t,n){"use strict";var r=n(3),a=n(4),o=n(6),i=n(5),s=n(15),c=n.n(s),l=n(338),u=n(299),d=n(344),p=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props.canDelete;return c.a.createElement(l.b,{lastChild:!0},c.a.createElement(u.a,{onClick:this.props.onOpenProjectFolder,src:"res/ribbon_default/open32.png",tooltip:{id:"Open the project folder"}}),c.a.createElement(d.a,null),c.a.createElement(u.a,{onClick:this.props.onOpenProperties,src:"res/ribbon_default/editprop32.png",tooltip:{id:"Open the properties panel"}}),c.a.createElement(d.a,null),c.a.createElement(u.a,{onClick:this.props.onDeleteSelection,src:"res/ribbon_default/deleteselected32.png",disabled:!e,tooltip:{id:"Delete the selected resource"}}))}}]),n}(s.PureComponent);t.a=p},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var r=n(3),a=n(4),o=n(6),i=n(5),s=n(15),c=n.n(s),l=n(154),u=n(124),d=n(155),p=n(128),m=n(117),f=n(16),h=n(143),g=n(1743),b=n.n(g),v=n(115),E=function(e){return"en"!==e.languageCode&&("pseudo_LOCALE"!==e.languageCode||f.b.isDev())},y=function(e){var t=e.translationRatio||0,n=(100*e.translationRatio).toFixed(0),r=t>0;return c.a.createElement(d.a,{value:e.languageCode,primaryText:e.languageNativeName+" ("+e.languageName+")"+(r?" - ~".concat(n,"%"):""),disabled:!r,key:e.languageCode})},C=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={languageDidChange:!1},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.open,r=t.onClose;if(!n)return null;var a=b.a.filter(E),o=a.filter((function(e){return e.translationRatio>.5})),i=a.filter((function(e){return e.translationRatio<.5}));return c.a.createElement(v.I18n,null,(function(t){var a=t.i18n;return c.a.createElement(h.a.Consumer,null,(function(t){var s=t.values,h=t.setLanguage,g=a.language!==s.language.replace("_","-");return c.a.createElement(p.a,{actions:[c.a.createElement(u.a,{label:g?c.a.createElement(v.Trans,{id:"Loading..."}):c.a.createElement(v.Trans,{id:"Close"}),primary:!1,onClick:function(){r(e.state.languageDidChange)},disabled:g,key:"close"})],secondaryActions:[c.a.createElement(u.a,{label:c.a.createElement(v.Trans,{id:"Report a wrong translation"}),key:"report-wrong-translation",primary:!1,onClick:function(){return f.b.openExternalURL("https://github.com/4ian/GDevelop/issues/969")}})],onRequestClose:function(){return r(e.state.languageDidChange)},cannotBeDismissed:!1,open:n,title:c.a.createElement(v.Trans,{id:"Language"})},c.a.createElement(m.a,{noMargin:!0},c.a.createElement(m.b,{expand:!0},c.a.createElement(l.a,{floatingLabelText:c.a.createElement(v.Trans,{id:"Choose GDevelop language"}),value:s.language,onChange:function(t,n,r){h(r),e.setState({languageDidChange:!0})},fullWidth:!0},c.a.createElement(d.a,{value:"en",primaryText:"English (default)"}),o.map((function(e){return y(e)})),i.map((function(e){return y(e)})))),c.a.createElement(m.b,{expand:!0},c.a.createElement(u.a,{primary:!0,label:c.a.createElement(v.Trans,{id:"Help to translate GD in your language"}),onClick:function(){return f.b.openExternalURL("https://crowdin.com/project/gdevelop")},fullWidth:!0}))))}))}))}}]),n}(s.Component)},function(e,t){e.exports=[{languageCode:"af_ZA",languageName:"Afrikaans",languageNativeName:"Afrikaans",translationRatio:.05127750177430801},{languageCode:"ar_SA",languageName:"Arabic",languageNativeName:"\u0627\u0644\u0644\u063a\u0629 \u0627\u0644\u0639\u0631\u0628\u064a\u0629",translationRatio:.32381121362668563},{languageCode:"az_AZ",languageName:"Azerbaijani",languageNativeName:"az\u0259rbaycan dili",translationRatio:.03619588360539394},{languageCode:"bg_BG",languageName:"Bulgarian",languageNativeName:"\u0431\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438 \u0435\u0437\u0438\u043a",translationRatio:.05180979418026965},{languageCode:"bn_BD",languageName:"Bengali",languageNativeName:"\u09ac\u09be\u0982\u09b2\u09be",translationRatio:.061923349893541535},{languageCode:"ca_ES",languageName:"Catalan",languageNativeName:"Catal\xe0",translationRatio:.34315117104329307},{languageCode:"cs_CZ",languageName:"Czech",languageNativeName:"\u010de\u0161tina",translationRatio:.15826827537260468},{languageCode:"da_DK",languageName:"Danish",languageNativeName:"dansk",translationRatio:.07185947480482613},{languageCode:"de_DE",languageName:"German",languageNativeName:"Deutsch",translationRatio:.7171753016323634},{languageCode:"el_GR",languageName:"Greek",languageNativeName:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",translationRatio:.26738821859474804},{languageCode:"en",languageName:"English",languageNativeName:"English",translationRatio:.0468531468531469},{languageCode:"eo_UY",languageName:"Esperanto",languageNativeName:"Esperanto",translationRatio:.03708303761533005},{languageCode:"es_ES",languageName:"Spanish",languageNativeName:"Espa\xf1ol",translationRatio:.9753633463310882},{languageCode:"fa_IR",languageName:"Persian",languageNativeName:"\u0641\u0627\u0631\u0633\u06cc",translationRatio:.2311923349893541},{languageCode:"fi_FI",languageName:"Finnish",languageNativeName:"suomi",translationRatio:.2588715400993612},{languageCode:"fil_PH",languageName:"Filipino",languageNativeName:"Mga Filipino",translationRatio:.42636621717530165},{languageCode:"fr_FR",languageName:"French",languageNativeName:"Fran\xe7ais",translationRatio:.9833215046132009},{languageCode:"ha_HG",languageName:"Hausa",languageNativeName:"\u0647\u064e\u0648\u064f\u0633\u064e",translationRatio:.01809794180269697},{languageCode:"he_IL",languageName:"Hebrew",languageNativeName:"\u05e2\u05d1\u05e8\u05d9\u05ea",translationRatio:.06245564229950318},{languageCode:"hi_IN",languageName:"Hindi",languageNativeName:"\u0939\u093f\u0928\u094d\u0926\u0940",translationRatio:.2735982966643009},{languageCode:"hu_HU",languageName:"Hungarian",languageNativeName:"magyar",translationRatio:.2123846699787083},{languageCode:"id_ID",languageName:"Indonesian",languageNativeName:"Bahasa Indonesia",translationRatio:.57097232079489},{languageCode:"it_IT",languageName:"Italian",languageNativeName:"Italiano",translationRatio:.9164300922640171},{languageCode:"ja_JP",languageName:"Japanese",languageNativeName:"\u65e5\u672c\u8a9e",translationRatio:.9914833215046132},{languageCode:"km_KH",languageName:"Khmer",languageNativeName:"\u1781\u17c1\u1798\u179a\u1797\u17b6\u179f\u17b6",translationRatio:.018807665010645902},{languageCode:"ko_KR",languageName:"Korean",languageNativeName:"\ud55c\uad6d\uc5b4",translationRatio:.6533002129169624},{languageCode:"lt_LT",languageName:"Lithuanian",languageNativeName:"lietuvi\u0173 kalba",translationRatio:.046841731724627356},{languageCode:"lv_LV",languageName:"Latvian",languageNativeName:"latvie\u0161u valoda",translationRatio:.0118878637331441},{languageCode:"mr_IN",languageName:"Marathi",languageNativeName:"\u092e\u0930\u093e\u0920\u0940",translationRatio:.04418026969481903},{languageCode:"ms_MY",languageName:"Malay",languageNativeName:"Bahasa Malaysia",translationRatio:.043825408090844564},{languageCode:"my_MM",languageName:"Burmese",languageNativeName:"\u1017\u1019\u102c\u1005\u102c",translationRatio:.01259758694109292},{languageCode:"nl_NL",languageName:"Dutch",languageNativeName:"Nederlands",translationRatio:.35220014194464155},{languageCode:"no_NO",languageName:"Norwegian",languageNativeName:"Norsk",translationRatio:.1827537260468417},{languageCode:"pl_PL",languageName:"Polish",languageNativeName:"j\u0119zyk polski",translationRatio:.8204400283889284},{languageCode:"pseudo_LOCALE",languageName:"for development only",languageNativeName:"Pseudolocalization",translationRatio:.9958041958041958},{languageCode:"pt_BR",languageName:"Brazilian Portuguese",languageNativeName:"Portugu\xeas brasileiro",translationRatio:.9538679914833215},{languageCode:"pt_PT",languageName:"Portuguese",languageNativeName:"Portugu\xeas",translationRatio:.46380411639460606},{languageCode:"ro_RO",languageName:"Romanian",languageNativeName:"Rom\xe2n\u0103",translationRatio:.07079488999290273},{languageCode:"ru_RU",languageName:"Russian",languageNativeName:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",translationRatio:.9921930447125621},{languageCode:"si_LK",languageName:"Sinhala",languageNativeName:"\u0dc3\u0dd2\u0d82\u0dc4\u0dbd",translationRatio:.012406947890818865},{languageCode:"sk_SK",languageName:"Slovak",languageNativeName:"sloven\u010dina",translationRatio:.25700106345267637},{languageCode:"sl_SI",languageName:"Slovene",languageNativeName:"slovenski jezik",translationRatio:.968450903934775},{languageCode:"sq_AL",languageName:"Albanian",languageNativeName:"Shqip",translationRatio:.12278211497515967},{languageCode:"sr_CS",languageName:"Serbian (Latin)",languageNativeName:"srpski",translationRatio:.23669268985095815},{languageCode:"sr_SP",languageName:"Serbian",languageNativeName:"\u0441\u0440\u043f\u0441\u043a\u0438 \u0458\u0435\u0437\u0438\u043a",translationRatio:.49378992193044713},{languageCode:"sv_SE",languageName:"Swedish",languageNativeName:"svenska",translationRatio:.21269053527118043},{languageCode:"th_TH",languageName:"Thai",languageNativeName:"\u0e44\u0e17\u0e22",translationRatio:.05051400212690538},{languageCode:"tr_TR",languageName:"Turkish",languageNativeName:"T\xfcrk\xe7e",translationRatio:.6855724920241049},{languageCode:"uk_UA",languageName:"Ukrainian",languageNativeName:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",translationRatio:.7302375044310528},{languageCode:"ur_PK",languageName:"Urdu",languageNativeName:"\u0627\u0631\u062f\u0648",translationRatio:.020382842963488135},{languageCode:"uz_UZ",languageName:"Uzbek",languageNativeName:"\u040e\u0437\u0431\u0435\u043a",translationRatio:.019673874512584177},{languageCode:"vi_VN",languageName:"Vietnamese",languageNativeName:"Ti\u1ebfng Vi\u1ec7t",translationRatio:.05104572846508326},{languageCode:"yo_NG",languageName:"Yoruba",languageNativeName:"Yor\xf9b\xe1",translationRatio:.4627791563275434},{languageCode:"zh_CN",languageName:"Chinese Simplified",languageNativeName:"\u7b80\u5316\u5b57",translationRatio:.9932576295244855},{languageCode:"zh_TW",languageName:"Chinese Traditional",languageNativeName:"\u6b63\u9ad4\u5b57",translationRatio:.2922285308729595}]},function(e,t,n){"use strict";var r=n(115),a=n(15),o=n(128),i=n(124),s=n(151),c=n(17),l=n.n(c),u=n(193),d=n(117),p=l()("electron");t.a=function(e){var t=e.onClose,n=e.storageProviders,c=e.onChooseProvider;return a.createElement(r.I18n,null,(function(e){var l=e.i18n;return a.createElement(o.a,{title:a.createElement(r.Trans,{id:"Choose where to load the project from"}),onRequestClose:t,actions:[a.createElement(i.a,{label:a.createElement(r.Trans,{id:"Cancel"}),key:"close",primary:!1,onClick:t})],cannotBeDismissed:!1,open:!0,noMargin:!0,maxWidth:"sm"},a.createElement(s.a,null,n.filter((function(e){return!e.hiddenInOpenDialog})).map((function(e){return a.createElement(s.b,{key:e.internalName,disabled:!!e.disabled,primaryText:l._(e.name),leftIcon:e.renderIcon?e.renderIcon():void 0,onClick:function(){return c(e)}})}))),!p&&a.createElement(d.b,null,a.createElement(d.a,null,a.createElement(u.a,null,a.createElement(r.Trans,{id:"If you have a popup blocker interrupting the opening, allow the popups and try a second time to open the project."})))))}))}},function(e,t,n){"use strict";var r=n(115),a=n(15),o=n(128),i=n(124),s=n(151);t.a=function(e){var t=e.onClose,n=e.storageProviders,c=e.onChooseProvider;return a.createElement(r.I18n,null,(function(e){var l=e.i18n;return a.createElement(o.a,{title:a.createElement(r.Trans,{id:"Choose where to save the project to"}),onRequestClose:t,actions:[a.createElement(i.a,{label:a.createElement(r.Trans,{id:"Cancel"}),key:"close",primary:!1,onClick:t})],cannotBeDismissed:!0,open:!0,noMargin:!0,maxWidth:"sm"},a.createElement(s.a,null,n.filter((function(e){return!e.hiddenInSaveDialog})).map((function(e){return a.createElement(s.b,{key:e.internalName,disabled:!!e.disabled,primaryText:l._(e.name),leftIcon:e.renderIcon?e.renderIcon():void 0,onClick:function(){return c(e)}})}))))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n(26),a=n(115),o=n(15),i=n(128),s=n(124),c=n(127),l=n(193),u=n(117),d=n(125),p=function(e){var t=e.onClose,n=e.onConfirm;return o.createElement(i.a,{title:o.createElement(a.Trans,{id:"Confirm the opening"}),onApply:n,actions:[o.createElement(s.a,{label:o.createElement(a.Trans,{id:"Cancel"}),key:"close",primary:!1,onClick:t}),o.createElement(c.a,{label:o.createElement(a.Trans,{id:"Open the project"}),key:"open-project",primary:!0,onClick:n})],cannotBeDismissed:!0,open:!0,maxWidth:"sm"},o.createElement(u.b,null,o.createElement(u.a,null,o.createElement(d.a,null,o.createElement(a.Trans,{id:'You\'re about to open (or re-open) a project. Click on "Open the Project" to continue.'})))),o.createElement(u.b,null,o.createElement(u.a,null,o.createElement(l.a,null,o.createElement(a.Trans,{id:"If you have a popup blocker interrupting the opening, allow the popups and try a second time to open the project."})))))},m=function(){var e=o.useRef(!1),t=o.useRef(null),n=o.useState(!1),a=Object(r.a)(n,2),i=a[0],s=a[1];return{ensureInteractionHappened:function(n){return new Promise((function(r){!e.current&&n.doesInitialOpenRequireUserInteraction?(console.info("Displaying confirmation dialog to ensure an interaction is made before continuing."),t.current=r,s(!0)):r(!0)}))},renderOpenConfirmDialog:function(){if(!i)return null;var n=function(n){e.current=!0,s(!1);var r=t.current;r&&(r(n),t.current=null)};return o.createElement(p,{onClose:function(){return n(!1)},onConfirm:function(){return n(!0)}})}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(30);function a(e,t){return!t.gdVersion&&t.eventsFunctions?(Object(r.a)({message:[e._({id:"Unable to open this file."}),e._({id:"This file is an extension file for GDevelop 5. You should instead import it, using the window to add a new extension to your project."})].join("\n"),rawError:void 0,errorId:"extension-opened-as-project-error",doNotReport:!0}),!1):!(!t.gdVersion&&!t.eventsFunctions)||(Object(r.a)({message:[e._({id:"Unable to open this file."}),e._({id:"This file is not recognized as a GDevelop 5 project. Be sure to open a file that was saved using GDevelop."})].join("\n"),rawError:void 0,errorId:"malformed-project-error",doNotReport:!0}),!1)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(26),a=n(15),o=n.n(a);function i(e){var t=o.a.useState(e),n=Object(r.a)(t,2),a=n[0],i=n[1],s=o.a.useRef(null),c=o.a.useCallback((function(e){return new Promise((function(t){s.current=t,i(e)}))}),[i]);return o.a.useEffect((function(){null!==s.current&&(s.current(a),s.current=null)}),[a]),[a,c]}},function(e,t,n){"use strict";var r=n(15),a=n(246),o=n(359),i=function(e,t,n){return e?t(e).map((function(e){return{text:e.getName(),handler:function(){return n(e.getName())}}})):[]};t.a=function(e){Object(a.a)("QUIT_APP",!0,{handler:e.onCloseApp}),Object(a.a)("OPEN_PROFILE",!!e.project,{handler:e.onOpenProfile}),Object(a.a)("OPEN_GAMES_DASHBOARD",!!e.project,{handler:e.onOpenGamesDashboard}),Object(a.a)("OPEN_PROJECT_MANAGER",!!e.project,{handler:e.onOpenProjectManager}),Object(a.a)("LAUNCH_NEW_PREVIEW",e.previewEnabled,{handler:e.onLaunchPreview}),Object(a.a)("HOT_RELOAD_PREVIEW",e.hasPreviewsRunning,{handler:e.onHotReloadPreview}),Object(a.a)("LAUNCH_DEBUG_PREVIEW",e.previewEnabled&&e.allowNetworkPreview,{handler:e.onLaunchDebugPreview}),Object(a.a)("LAUNCH_NETWORK_PREVIEW",e.previewEnabled&&e.allowNetworkPreview,{handler:e.onLaunchNetworkPreview}),Object(a.a)("OPEN_HOME_PAGE",!0,{handler:e.onOpenHomePage}),Object(a.a)("CREATE_NEW_PROJECT",!0,{handler:e.onCreateProject}),Object(a.a)("OPEN_PROJECT",!0,{handler:e.onOpenProject}),Object(a.a)("SAVE_PROJECT",!!e.project,{handler:e.onSaveProject}),Object(a.a)("SAVE_PROJECT_AS",!!e.project,{handler:e.onSaveProjectAs}),Object(a.a)("CLOSE_PROJECT",!!e.project,{handler:e.onCloseProject}),Object(a.a)("EXPORT_GAME",!!e.project,{handler:e.onExportGame}),Object(a.a)("OPEN_COMMAND_PALETTE",!0,{handler:e.onOpenCommandPalette}),Object(a.b)("OPEN_LAYOUT",!!e.project,{generateOptions:r.useCallback((function(){return i(e.project,o.d,e.onOpenLayout)}),[e.project,e.onOpenLayout])}),Object(a.b)("OPEN_EXTERNAL_EVENTS",!!e.project,{generateOptions:r.useCallback((function(){return i(e.project,o.b,e.onOpenExternalEvents)}),[e.project,e.onOpenExternalEvents])}),Object(a.b)("OPEN_EXTERNAL_LAYOUT",!!e.project,{generateOptions:r.useCallback((function(){return i(e.project,o.c,e.onOpenExternalLayout)}),[e.project,e.onOpenExternalLayout])}),Object(a.b)("OPEN_EXTENSION",!!e.project,{generateOptions:r.useCallback((function(){return i(e.project,o.a,e.onOpenEventsFunctionsExtension)}),[e.project,e.onOpenEventsFunctionsExtension])})}},function(e,t,n){"use strict";var r=n(119),a=n(3),o=n(15),i=(n(754),n(421)),s=n(755),c=function e(t){var n=this;Object(a.a)(this,e),this.setActive=function(e){n._isActive=e},this.registerCommand=function(e,t){n._commands[e]=t,n._isActive&&n._centralManager.registerCommand(e,t)},this.deregisterCommand=function(e){delete n._commands[e],n._isActive&&n._centralManager.deregisterCommand(e)},this.registerAllCommandsToCentralManager=function(){Object.keys(n._commands).forEach((function(e){n._centralManager.registerCommand(e,n._commands[e])}))},this.deregisterAllCommandsFromCentralManager=function(){Object.keys(n._commands).forEach((function(e){n._centralManager.deregisterCommand(e)}))},this.getAllNamedCommands=function(){return Object.keys(n._commands).map((function(e){var t=n._commands[e];return Object(r.a)(Object(r.a)({},t),{},{name:e})}))},this.getNamedCommand=function(e){var t=n._commands[e];return t?Object(r.a)({name:e},t):n._centralManager.getNamedCommand(e)},this._commands={},this._isActive=!1,this._centralManager=t};t.a=function(e){var t=o.useContext(i.b),n=Object(s.a)((function(){return new c(t)}));return o.useEffect((function(){if(e.active)return n.setActive(!0),n.registerAllCommandsToCentralManager(),function(){n.setActive(!1),n.deregisterAllCommandsFromCentralManager()}}),[e.active,n]),o.createElement(i.b.Provider,{value:n},e.children)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(18),a=n(26),o=n(15),i=function(e){var t=o.useState([]),n=Object(a.a)(t,2),i=n[0],s=n[1],c=o.useState([]),l=Object(a.a)(c,2),u=l[0],d=l[1];return o.useEffect((function(){if(e){var t=e.registerCallbacks({onErrorReceived:function(e){},onConnectionClosed:function(e){e.id;var t=e.debuggerIds;s(Object(r.a)(t))},onConnectionOpened:function(e){e.id;var t=e.debuggerIds;s(Object(r.a)(t))},onServerStateChanged:function(){},onHandleParsedMessage:function(e){e.id;var t=e.parsedMessage;"hotReloader.logs"===t.command&&d(t.payload)}});return function(){t()}}s([])}),[e]),{previewDebuggerIds:i,hotReloadLogs:u,clearHotReloadLogs:o.useCallback((function(){return d([])}),[d])}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(115),a=n(15),o=n(128),i=n(142),s=n(124),c=n(127),l=n(129),u=n(125),d=n(355);function p(e){var t=e.onClose,n=e.onLaunchNewPreview;return function(e){return e.filter((function(e){return"error"===e.kind||"fatal"===e.kind})).length>0}(e.logs)?a.createElement(o.a,{title:a.createElement(r.Trans,{id:"Restarting the preview from scratch is required"}),onRequestClose:t,actions:[a.createElement(s.a,{label:a.createElement(r.Trans,{id:"Close"}),key:"close",primary:!1,onClick:t}),a.createElement(c.a,{icon:a.createElement(d.a,null),label:a.createElement(r.Trans,{id:"Close and launch a new preview"}),key:"new-preview",primary:!0,onClick:n})],secondaryActions:[a.createElement(i.a,{key:"help",helpPagePath:"/interface/preview"})],open:!0,cannotBeDismissed:!0},a.createElement(l.a,{noMargin:!0},a.createElement(u.a,null,a.createElement(r.Trans,{id:"Your latest changes could not be applied to the preview(s) being run. You should start a new preview instead to make sure that all your changes are reflected in the game."})))):null}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(26),a=n(15),o=n(17),i=n.n(o)()("electron"),s=i?i.ipcRenderer:null,c=Date.now(),l=function(e){if(null!==s){var t={details:e?"Working on:":"Not working on",state:e?e.getName():"any game",startTimestamp:c,largeImageKey:"gdicon",largeImageText:"GDevelop"};s.send("update-discord-rich-presence",t)}},u=function(e){var t=Object(a.useState)(0),n=Object(r.a)(t,2),o=n[0],i=n[1];Object(a.useEffect)((function(){return l(e)})),Object(a.useEffect)((function(){performance.now()-o>6e4&&(i(performance.now()),l(e))}),[e,o])}},function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(0),a=n.n(r),o=n(1),i=n(26),s=n(115),c=n(15),l=n(143),u=n(128),d=n(172),p=n(124),m=n(117),f=n(129),h=n(125),g=n(238),b=n(16),v=n(17),E=n.n(v)()("electron"),y=function(e){var t=e.project,n=e.options,r=e.i18n,v=e.resourceSources,y=e.onClose,C=e.onChooseResources,j=Object(g.b)(),O=c.useContext(l.a),x=v.filter((function(e){return e.kind===n.resourceKind})),k=x.filter((function(e){return"standalone"===e.displayTab})),T=x.filter((function(e){return"import"===e.displayTab})),w=x.find((function(e){return e.name===n.initialSourceName})),S=w&&w.selectResourcesHeadless,P=c.useState((function(){return w?"import"===w.displayTab?"import":"standalone"===w.displayTab?"standalone-"+w.name:"import":"import"})),_=Object(i.a)(P,2),I=_[0],N=_[1];return c.useEffect((function(){if(w){var e=w.selectResourcesHeadless;e&&Object(o.a)(a.a.mark((function o(){var i;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e({i18n:r,options:n,project:t,getLastUsedPath:O.getLastUsedPath,setLastUsedPath:O.setLastUsedPath});case 3:i=a.sent,C(i),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(0),console.error("Unexpected error from a resource source:",a.t0),C([]);case 11:case"end":return a.stop()}}),o,null,[[0,7]])})))()}}),[]),S?null:c.createElement(u.a,{open:!0,onRequestClose:y,fullHeight:!0,flexBody:!0,secondaryActions:[E||"touch"===j?null:c.createElement(p.a,{key:"download-gdevelop",label:c.createElement(s.Trans,{id:"Download GDevelop to use images from your computer"}),onClick:function(){return b.b.openExternalURL("https://gdevelop-app.com/download")}})],actions:[c.createElement(p.a,{key:"close",label:c.createElement(s.Trans,{id:"Close"}),primary:!0,onClick:y})],noMargin:!0},c.createElement(m.a,{expand:!0,noMargin:!0},c.createElement(d.b,{value:I,onChange:N},k.map((function(e){var t=e.name,n=e.displayName;return c.createElement(d.a,{label:r._(n),value:"standalone-"+t})})),c.createElement(d.a,{label:c.createElement(s.Trans,{id:"Choose a file"}),value:"import"})),k.map((function(e){return I!=="standalone-"+e.name?null:e.renderComponent({i18n:r,options:n,project:t,getLastUsedPath:O.getLastUsedPath,setLastUsedPath:O.setLastUsedPath,onChooseResources:C})})),"import"===I?c.createElement(m.b,{expand:!0},c.createElement(f.a,{expand:!0},T.map((function(e){return c.createElement(c.Fragment,null,c.createElement(h.a,{size:"title"},r._(e.displayName)),e.renderComponent({i18n:r,options:n,project:t,getLastUsedPath:O.getLastUsedPath,setLastUsedPath:O.setLastUsedPath,onChooseResources:C}))})))):null))}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m}));var r=n(119),a=n(3),o=n(4),i=n(6),s=n(5),c=n(15),l=n(115),u=n(642),d=n(901),p=e.gd,m=function(e){Object(i.a)(m,e);var t=Object(s.a)(m);function m(){var e;Object(a.a)(this,m);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).state={language:"en",catalogs:{},i18n:null},e._loadCatalog=function(t){return e.state.catalogs[t]?Promise.resolve(e.state.catalogs):n(1788)("./".concat(t.replace("-","_"),"/messages")).then((function(n){return Object(r.a)(Object(r.a)({},e.state.catalogs),{},{[t]:n})}),(function(n){return console.error("Error while loading language="+t,n),e.state.catalogs}))},e}return Object(o.a)(m,[{key:"componentDidMount",value:function(){this._loadLanguage(this.props.language)}},{key:"componentDidUpdate",value:function(e){e.language!==this.props.language&&this._loadLanguage(this.props.language)}},{key:"_loadLanguage",value:function(e){var t=this;this._loadCatalog(e).then((function(n){t.setState({language:e,catalogs:n,i18n:Object(u.setupI18n)({language:e,catalogs:n})},(function(){var n=t.state.i18n;p.getTranslation=Object(d.b)(n),console.info('Loaded "'.concat(e,'" language'))}))}))}},{key:"render",value:function(){var e=this.state,t=e.i18n,n=e.catalogs,r=e.language,a=this.props.children;return t?c.createElement(l.I18nProvider,{i18n:t,language:r,catalogs:n},a):null}}]),m}(c.Component)}).call(this,n(8))},function(e,t,n){var r={"./af_ZA/messages":[1928,5],"./ar_SA/messages":[1929,6],"./az_AZ/messages":[1930,7],"./bg_BG/messages":[1931,8],"./bn_BD/messages":[1932,9],"./ca_ES/messages":[1933,10],"./cs_CZ/messages":[1934,11],"./da_DK/messages":[1935,12],"./de_DE/messages":[1936,13],"./el_GR/messages":[1937,14],"./en/messages":[1938,15],"./eo_UY/messages":[1939,16],"./es_ES/messages":[1940,17],"./fa_IR/messages":[1941,18],"./fi_FI/messages":[1942,19],"./fil_PH/messages":[1943,20],"./fr_FR/messages":[1944,21],"./ha_HG/messages":[1945,22],"./he_IL/messages":[1946,23],"./hi_IN/messages":[1947,24],"./hu_HU/messages":[1948,25],"./id_ID/messages":[1949,26],"./it_IT/messages":[1950,27],"./ja_JP/messages":[1951,28],"./km_KH/messages":[1952,29],"./ko_KR/messages":[1953,30],"./lt_LT/messages":[1954,31],"./lv_LV/messages":[1955,32],"./mr_IN/messages":[1956,33],"./ms_MY/messages":[1957,34],"./my_MM/messages":[1958,35],"./nl_NL/messages":[1959,36],"./no_NO/messages":[1960,37],"./pl_PL/messages":[1961,38],"./pseudo_LOCALE/messages":[1962,39],"./pt_BR/messages":[1963,40],"./pt_PT/messages":[1964,41],"./ro_RO/messages":[1965,42],"./ru_RU/messages":[1966,43],"./si_LK/messages":[1967,44],"./sk_SK/messages":[1968,45],"./sl_SI/messages":[1969,46],"./sq_AL/messages":[1970,47],"./sr_CS/messages":[1971,48],"./sr_SP/messages":[1972,49],"./sv_SE/messages":[1973,50],"./th_TH/messages":[1974,51],"./tr_TR/messages":[1975,52],"./uk_UA/messages":[1976,53],"./ur_PK/messages":[1977,54],"./uz_UZ/messages":[1978,55],"./vi_VN/messages":[1979,56],"./yo_NG/messages":[1980,57],"./zh_CN/messages":[1981,58],"./zh_TW/messages":[1982,59]};function a(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],a=t[0];return n.e(t[1]).then((function(){return n.t(a,7)}))}a.keys=function(){return Object.keys(r)},a.id=1788,e.exports=a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n.n(c),u=n(151),d=n(187),p=n(210),m=n(506),f=n(16),h=n(307),g=n(26),b=n(124),v=n(175),E=n(154),y=n(155),C=n(128),j=n(141),O=n(406),x=n(209),k=n(142),T=n(129),w=n(125),S=n(273),P=n(312),_=n(2086);var I=function(e){for(var t=e.project,n=t.getCurrentPlatform().getAllPlatformExtensions(),r=[],a=function(e){var a=n.at(e),o=t.getExtensionProperties().getAllExtensionProperties(a.getName(),t);if(0===o.keys().size())return"continue";var i=Object(P.a)(o,(function(e){return t.getExtensionProperties().getAllExtensionProperties(a.getName(),t)}),(function(e,n,r){"boolean"===t.getExtensionProperties().getAllExtensionProperties(a.getName(),t).get(n).getType()?t.getExtensionProperties().setValue(a.getName(),n,"1"===r?"true":"false"):t.getExtensionProperties().setValue(a.getName(),n,r)}));r.push(c.createElement(T.a,{key:a.getName(),noMargin:!0},c.createElement(w.a,{size:"title"},a.getFullName()),c.createElement(S.a,{schema:i,instances:[a.getAllProperties()]})))},o=0;o<n.size();o++)a(o);return r.length?c.createElement(_.a,null,r):null},N=n(352),A=n(127),R=n(156),M=n(534),F=n(172),L=n(541),B=n(252),D=n(117),U=n(188),G=n(148),V=n(380),W=function(e){var t=e.loadingScreen,n=e.onChangeSubscription,r=e.project,a=e.resourceSources,o=e.onChooseResource,i=e.resourceExternalEditors,l=c.useRef(null),u=Object(G.a)();return c.createElement(s.I18n,null,(function(e){var d=e.i18n;return c.createElement(T.a,{expand:!0,noMargin:!0},c.createElement(w.a,{size:"title"},c.createElement(s.Trans,{id:"Background"})),c.createElement(D.b,{noMargin:!0},c.createElement(V.a,{floatingLabelText:c.createElement(s.Trans,{id:"Background image"}),project:r,resourceSources:a,onChooseResource:o,resourceExternalEditors:i,resourceKind:"image",resourceName:t.getBackgroundImageResourceName(),onChange:function(e){t.setBackgroundImageResourceName(e),u()}})),c.createElement(T.b,{noMargin:!0},c.createElement(B.a,{fullWidth:!0,floatingLabelText:c.createElement(s.Trans,{id:"Background color"}),disableAlpha:!0,color:Object(U.a)(t.getBackgroundColor()),onChange:function(e){t.setBackgroundColor(Object(U.f)(e)),u()}}),c.createElement(j.a,{floatingLabelText:c.createElement(s.Trans,{id:"Background fade in duration (in seconds)"}),step:.1,fullWidth:!0,type:"number",value:""+t.getBackgroundFadeInDuration(),onChange:function(e){t.setBackgroundFadeInDuration(Math.max(0,parseFloat(e))),u()}})),c.createElement(w.a,{size:"title"},c.createElement(s.Trans,{id:"Logo"})),c.createElement(v.a,{label:c.createElement(s.Trans,{id:"Display GDevelop logo at startup (in exported game)"}),checked:t.isGDevelopSplashShown(),onCheck:function(e,n){(n||!l.current||l.current.checkHasSubscription())&&(t.showGDevelopSplash(n),u())}}),c.createElement(E.a,{fullWidth:!0,floatingLabelText:c.createElement(s.Trans,{id:"GDevelop logo style"}),value:t.getGDevelopLogoStyle(),onChange:function(e,n,r){t.setGDevelopLogoStyle(r),u()}},c.createElement(y.a,{value:"light",primaryText:{id:"Light (plain)"}}),c.createElement(y.a,{value:"light-colored",primaryText:{id:"Light (colored)"}}),c.createElement(y.a,{value:"dark",primaryText:{id:"Dark (plain)"}}),c.createElement(y.a,{value:"dark-colored",primaryText:{id:"Dark (colored)"}})),c.createElement(T.b,{noMargin:!0},c.createElement(j.a,{floatingLabelText:c.createElement(s.Trans,{id:"Logo and progress fade in delay (in seconds)"}),step:.1,fullWidth:!0,type:"number",value:""+t.getLogoAndProgressLogoFadeInDelay(),onChange:function(e){t.setLogoAndProgressLogoFadeInDelay(Math.max(0,parseFloat(e))),u()}}),c.createElement(j.a,{floatingLabelText:c.createElement(s.Trans,{id:"Logo and progress fade in duration (in seconds)"}),step:.1,fullWidth:!0,type:"number",value:""+t.getLogoAndProgressFadeInDuration(),onChange:function(e){t.setLogoAndProgressFadeInDuration(Math.max(0,parseFloat(e))),u()}})),c.createElement(w.a,{size:"title"},c.createElement(s.Trans,{id:"Progress bar"})),c.createElement(v.a,{label:c.createElement(s.Trans,{id:"Show progress bar"}),checked:t.getShowProgressBar(),onCheck:function(e,n){t.setShowProgressBar(n),u()}}),c.createElement(T.b,{noMargin:!0},c.createElement(j.a,{floatingLabelText:c.createElement(s.Trans,{id:"Progress bar minimum width"}),fullWidth:!0,type:"number",value:""+t.getProgressBarMinWidth(),onChange:function(e){t.setProgressBarMinWidth(Math.max(0,parseFloat(e))),u()},helperMarkdownText:d._({id:"In pixels. 0 to ignore."})}),c.createElement(j.a,{floatingLabelText:c.createElement(s.Trans,{id:"Progress bar width"}),fullWidth:!0,type:"number",value:""+t.getProgressBarWidthPercent(),onChange:function(e){t.setProgressBarWidthPercent(Math.min(100,Math.max(1,parseFloat(e)))),u()},helperMarkdownText:d._({id:"As a percent of the game width."})}),c.createElement(j.a,{floatingLabelText:c.createElement(s.Trans,{id:"Progress bar maximum width"}),fullWidth:!0,type:"number",value:""+t.getProgressBarMaxWidth(),onChange:function(e){t.setProgressBarMaxWidth(Math.max(0,parseFloat(e))),u()},helperMarkdownText:d._({id:"In pixels. 0 to ignore."})})),c.createElement(j.a,{floatingLabelText:c.createElement(s.Trans,{id:"Progress bar height"}),fullWidth:!0,type:"number",value:""+t.getProgressBarHeight(),onChange:function(e){t.setProgressBarHeight(Math.max(1,parseFloat(e))),u()}}),c.createElement(B.a,{fullWidth:!0,floatingLabelText:c.createElement(s.Trans,{id:"Progress bar color"}),disableAlpha:!0,color:Object(U.a)(t.getProgressBarColor()),onChange:function(e){t.setProgressBarColor(Object(U.f)(e)),u()}}),c.createElement(w.a,{size:"title"},c.createElement(s.Trans,{id:"Duration"})),c.createElement(j.a,{floatingLabelText:c.createElement(s.Trans,{id:"Minimum duration of the screen (in seconds)"}),step:.1,fullWidth:!0,type:"number",value:""+t.getMinDuration(),onChange:function(e){t.setMinDuration(Math.max(0,parseFloat(e))),u()},helperMarkdownText:d._({id:"When previewing the game in the editor, this duration is ignored (the game preview starts as soon as possible)."})}),c.createElement(L.a,{ref:l,onChangeSubscription:n,mode:"mandatory",id:"Disable GDevelop splash at startup",title:c.createElement(s.Trans,{id:"Disable GDevelop splash at startup"})}))}))},H=n(355),z=n(724);var Y=function(e){var t=e.project,n=e.hotReloadPreviewButtonProps,r=c.useMemo((function(){return function(e){return{gameResolutionWidth:e.getGameResolutionWidth(),gameResolutionHeight:e.getGameResolutionHeight(),adaptGameResolutionAtRuntime:e.getAdaptGameResolutionAtRuntime(),name:e.getName(),author:e.getAuthor(),authorIds:e.getAuthorIds().toJSArray(),version:e.getVersion(),packageName:e.getPackageName(),orientation:e.getOrientation(),scaleMode:e.getScaleMode(),pixelsRounding:e.getPixelsRounding(),sizeOnStartupMode:e.getSizeOnStartupMode(),minFPS:e.getMinimumFPS(),maxFPS:e.getMaximumFPS(),isFolderProject:e.isFolderProject(),useDeprecatedZeroAsDefaultZOrder:e.getUseDeprecatedZeroAsDefaultZOrder()}}(t)}),[t]),a=c.useState(r.name),o=Object(g.a)(a,2),i=o[0],l=o[1],u=c.useState(r.authorIds),d=Object(g.a)(u,2),p=d[0],m=d[1],h=c.useState(r.gameResolutionWidth),S=Object(g.a)(h,2),P=S[0],_=S[1],L=c.useState(r.gameResolutionHeight),B=Object(g.a)(L,2),D=B[0],U=B[1],G=c.useState(r.adaptGameResolutionAtRuntime),V=Object(g.a)(G,2),Y=V[0],q=V[1],X=c.useState(r.author),K=Object(g.a)(X,2),J=K[0],Z=K[1],Q=c.useState(r.version),$=Object(g.a)(Q,2),ee=$[0],te=$[1],ne=c.useState(r.packageName),re=Object(g.a)(ne,2),ae=re[0],oe=re[1],ie=c.useState(r.orientation),se=Object(g.a)(ie,2),ce=se[0],le=se[1],ue=c.useState(r.scaleMode),de=Object(g.a)(ue,2),pe=de[0],me=de[1],fe=c.useState(r.pixelsRounding),he=Object(g.a)(fe,2),ge=he[0],be=he[1],ve=c.useState(r.sizeOnStartupMode),Ee=Object(g.a)(ve,2),ye=Ee[0],Ce=Ee[1],je=c.useState(r.minFPS),Oe=Object(g.a)(je,2),xe=Oe[0],ke=Oe[1],Te=c.useState(r.maxFPS),we=Object(g.a)(Te,2),Se=we[0],Pe=we[1],_e=c.useState(r.isFolderProject),Ie=Object(g.a)(_e,2),Ne=Ie[0],Ae=Ie[1],Re=c.useState(r.useDeprecatedZeroAsDefaultZOrder),Me=Object(g.a)(Re,2),Fe=Me[0],Le=Me[1],Be=c.useState(e.initialTab),De=Object(g.a)(Be,2),Ue=De[0],Ge=De[1],Ve=Object(N.a)({serializableObject:t.getLoadingScreen(),onCancel:e.onClose}),We=Object(N.a)({serializableObject:t.getExtensionProperties(),onCancel:Ve}),He=function(){(function(e,t){var n=function(e){return e},r=t.gameResolutionWidth,a=t.gameResolutionHeight,o=t.adaptGameResolutionAtRuntime,i=t.name,s=t.authorIds,c=t.author,l=t.version,u=t.packageName,d=t.orientation,p=t.scaleMode,m=t.pixelsRounding,f=t.sizeOnStartupMode,h=t.minFPS,g=t.maxFPS,b=t.isFolderProject,v=t.useDeprecatedZeroAsDefaultZOrder;e.setGameResolutionSize(r,a),e.setAdaptGameResolutionAtRuntime(o),e.setName(i);var E=e.getAuthorIds();return E.clear(),s.forEach((function(e){return E.push_back(e)})),e.setAuthor(c),e.setVersion(l),e.setPackageName(u),e.setOrientation(d),e.setScaleMode(p),e.setPixelsRounding(m),e.setSizeOnStartupMode(f),e.setMinimumFPS(h),e.setMaximumFPS(g),e.setFolderProject(b),e.setUseDeprecatedZeroAsDefaultZOrder(v),Object(O.a)(n,Object(O.c)(n,e))})(t,{gameResolutionWidth:P,gameResolutionHeight:D,adaptGameResolutionAtRuntime:Y,name:i,author:J,authorIds:p,version:ee,packageName:ae,orientation:ce,scaleMode:pe,pixelsRounding:ge,sizeOnStartupMode:ye,minFPS:xe,maxFPS:Se,isFolderProject:Ne,useDeprecatedZeroAsDefaultZOrder:Fe})&&e.onApply()};return c.createElement(s.I18n,null,(function(r){var a=r.i18n;return c.createElement(c.Fragment,null,c.createElement(C.a,{onApply:He,actions:[c.createElement(b.a,{label:c.createElement(s.Trans,{id:"Cancel"}),primary:!1,onClick:We,key:"cancel"}),c.createElement(b.a,{label:c.createElement(s.Trans,{id:"Apply"}),primary:!0,onClick:He,key:"apply"})],secondaryActions:[c.createElement(k.a,{helpPagePath:"/interface/project-manager/properties",key:"help"}),n?c.createElement(b.a,{key:"hot-reload-preview-button",icon:c.createElement(H.a,null),label:c.createElement(s.Trans,{id:"Run a preview (with loading screen)"}),onClick:n.launchProjectWithLoadingScreenPreview}):null],noTitleMargin:!0,open:e.open,onRequestClose:We,fullHeight:!0,flexBody:!0,title:c.createElement("div",null,c.createElement(F.b,{value:Ue,onChange:Ge},c.createElement(F.a,{label:c.createElement(s.Trans,{id:"Properties"}),value:"properties",key:"properties"}),c.createElement(F.a,{label:c.createElement(s.Trans,{id:"Loading Screen"}),value:"loading-screen",key:"loading-screen"})))},"properties"===Ue&&c.createElement(T.a,{expand:!0,noMargin:!0},c.createElement(w.a,{size:"title"},c.createElement(s.Trans,{id:"Game Info"})),c.createElement(z.a,{name:i,setName:l,project:t,authorIds:p,setAuthorIds:m}),c.createElement(w.a,{size:"title"},c.createElement(s.Trans,{id:"Packaging"})),c.createElement(j.a,{floatingLabelText:c.createElement(s.Trans,{id:"Package name (for iOS and Android)"}),fullWidth:!0,hintText:"com.example.mygame",type:"text",value:ae,onChange:oe,errorText:Object(O.d)(ae)?void 0:c.createElement(s.Trans,{id:'The package name is containing invalid characters or not following the convention "xxx.yyy.zzz" (numbers allowed after a letter only).'})}),c.createElement(j.a,{floatingLabelText:c.createElement(s.Trans,{id:"Version number (X.Y.Z)"}),fullWidth:!0,hintText:"1.0.0",type:"text",value:ee,onChange:te}),c.createElement(j.a,{floatingLabelText:c.createElement(s.Trans,{id:"Publisher name"}),fullWidth:!0,hintText:{id:"Your name"},helperMarkdownText:a._({id:"This will be used when packaging and submitting your application to the stores."}),type:"text",value:J,onChange:Z}),Fe?c.createElement(c.Fragment,null,c.createElement(w.a,{size:"title"},c.createElement(s.Trans,{id:"Z Order of objects created from events"})),c.createElement(R.a,{kind:"info"},c.createElement(s.Trans,{id:"When you create an object using an action, GDevelop now sets the Z order of the object to the maximum value that was found when starting the scene for each layer. This allow to make sure that objects that you create are in front of others. This game was created before this change, so GDevelop maintains the old behavior: newly created objects Z order is set to 0. It's recommended that you switch to the new behavior by clicking the following button."})),c.createElement(A.a,{onClick:function(){f.b.showConfirmDialog(a._({id:"Make sure to verify all your events creating objects, and optionally add an action to set the Z order back to 0 if it's important for your game. Do you want to continue (recommened)?"}))&&Le(!1)},label:c.createElement(s.Trans,{id:"Switch to create objects with the highest Z order of the layer"})})):null,c.createElement(w.a,{size:"title"},c.createElement(s.Trans,{id:"Analytics"})),c.createElement(M.a,{project:t}),c.createElement(w.a,{size:"title"},c.createElement(s.Trans,{id:"Resolution and rendering"})),c.createElement(T.b,{noMargin:!0},c.createElement(j.a,{floatingLabelText:c.createElement(s.Trans,{id:"Game resolution width"}),fullWidth:!0,type:"number",value:""+P,onChange:function(e){return _(Math.max(1,parseInt(e,10)))}}),c.createElement(j.a,{floatingLabelText:c.createElement(s.Trans,{id:"Game resolution height"}),fullWidth:!0,type:"number",value:""+D,onChange:function(e){return U(Math.max(1,parseInt(e,10)))}})),c.createElement(E.a,{fullWidth:!0,floatingLabelText:c.createElement(s.Trans,{id:"Game resolution resize mode (fullscreen or window)"}),value:ye,onChange:function(e,t,n){return Ce(n)}},c.createElement(y.a,{value:"",primaryText:{id:"No changes to the game size"}}),c.createElement(y.a,{value:"adaptWidth",primaryText:{id:"Change width to fit the screen or window size"}}),c.createElement(y.a,{value:"adaptHeight",primaryText:{id:"Change height to fit the screen or window size"}})),c.createElement(v.a,{label:c.createElement(s.Trans,{id:"Update resolution during the game to fit the screen or window size"}),disabled:""===ye,checked:Y,onCheck:function(e,t){return q(t)}}),c.createElement(T.b,{noMargin:!0},c.createElement(j.a,{floatingLabelText:c.createElement(s.Trans,{id:"Minimum FPS"}),fullWidth:!0,type:"number",value:""+xe,onChange:function(e){return ke(Math.max(0,parseInt(e,10)))}}),c.createElement(j.a,{floatingLabelText:c.createElement(s.Trans,{id:"Maximum FPS (0 for unlimited)"}),fullWidth:!0,type:"number",value:""+Se,onChange:function(e){return Pe(Math.max(0,parseInt(e,10)))}})),Se>0&&Se<60&&c.createElement(x.a,{identifier:"maximum-fps-too-low",kind:"warning"},c.createElement(s.Trans,{id:"Most monitors have a refresh rate of 60 FPS. Setting a maximum number of FPS under 60 will force the game to skip frames, and the real number of FPS will be way below 60, making the game laggy and impacting the gameplay negatively. Consider putting 60 or more for the maximum number or FPS, or disable it by setting 0."})),xe<20&&c.createElement(x.a,{identifier:"minimum-fps-too-low",kind:"warning"},c.createElement(s.Trans,{id:"Setting the minimum number of FPS below 20 will increase a lot the time that is allowed between the simulation of two frames of the game. If case of a sudden slowdown, or on slow computers, this can create buggy behaviors like objects passing beyond a wall. Consider setting 20 as the minimum FPS."})),c.createElement(E.a,{fullWidth:!0,floatingLabelText:c.createElement(s.Trans,{id:"Device orientation (for iOS and Android)"}),value:ce,onChange:function(e,t,n){return le(n)}},c.createElement(y.a,{value:"default",primaryText:{id:"Platform default"}}),c.createElement(y.a,{value:"landscape",primaryText:{id:"Landscape"}}),c.createElement(y.a,{value:"portrait",primaryText:{id:"Portrait"}})),c.createElement(E.a,{fullWidth:!0,floatingLabelText:c.createElement(s.Trans,{id:'Scale mode (also called "Sampling")'}),value:pe,onChange:function(e,t,n){return me(n)}},c.createElement(y.a,{value:"linear",primaryText:{id:"Linear (antialiased rendering, good for most games)"}}),c.createElement(y.a,{value:"nearest",primaryText:{id:"Nearest (no antialiasing, good for pixel perfect games)"}})),c.createElement(v.a,{label:c.createElement(s.Trans,{id:"Round pixels when rendering, useful for pixel perfect games."}),checked:ge,onCheck:function(e,t){return be(t)}}),"nearest"===pe&&c.createElement(x.a,{identifier:"use-non-smoothed-textures",kind:"info"},c.createElement(s.Trans,{id:"To obtain the best pixel-perfect effect possible, go in the resources editor and disable the Smoothing for all images of your game. It will be done automatically for new images added from now."})),c.createElement(w.a,{size:"title"},c.createElement(s.Trans,{id:"Project files"})),c.createElement(E.a,{fullWidth:!0,floatingLabelText:c.createElement(s.Trans,{id:"Project file type"}),value:Ne?"folder-project":"single-file",onChange:function(e,t,n){return Ae("folder-project"===n)}},c.createElement(y.a,{value:"single-file",primaryText:{id:"Single file (default)"}}),c.createElement(y.a,{value:"folder-project",primaryText:{id:"Multiple files, saved in folder next to the main file"}})),c.createElement(I,{project:t})),"loading-screen"===Ue&&c.createElement(W,{loadingScreen:t.getLoadingScreen(),onChangeSubscription:function(){We(),e.onChangeSubscription()},project:t,resourceSources:e.resourceSources,onChooseResource:e.onChooseResource,resourceExternalEditors:e.resourceExternalEditors})))}))},q=n(359),X=n(167),K=n(272),J=n(176),Z=n(727),Q=n(1321),$=n.n(Q),ee=n(351),te=n.n(ee),ne=n(1318),re=n.n(ne),ae=n(1319),oe=n.n(ae),ie=n(1316),se=n.n(ie),ce=n(1313),le=n.n(ce),ue=n(662),de=l.a.memo((function(e){return l.a.createElement(ue.a,e,l.a.createElement("path",{d:"M22 11V3h-7v3H9V3H2v8h7V8h2v10h4v3h7v-8h-7v3h-2V8h2v3z"}))})),pe=n(1320),me=n.n(pe),fe=n(1315),he=n.n(fe),ge=n(1314),be=n.n(ge),ve=n(1317),Ee=n.n(ve),ye=n(540),Ce=n.n(ye),je=n(750),Oe=n(752),xe=n(753),ke=n(246),Te=function(e){return Object(ke.a)("OPEN_PROJECT_PROPERTIES",!!e.project,{handler:e.onOpenProjectProperties}),Object(ke.a)("OPEN_PROJECT_LOADING_SCREEN",!!e.project,{handler:e.onOpenProjectLoadingScreen}),Object(ke.a)("OPEN_PROJECT_VARIABLES",!!e.project,{handler:e.onOpenProjectVariables}),Object(ke.a)("OPEN_PLATFORM_SPECIFIC_ASSETS_DIALOG",!!e.project,{handler:e.onOpenPlatformSpecificAssetsDialog}),Object(ke.a)("OPEN_PROJECT_RESOURCES",!!e.project,{handler:e.onOpenResourcesDialog}),Object(ke.a)("OPEN_SEARCH_EXTENSIONS_DIALOG",!!e.project,{handler:e.onOpenSearchExtensionDialog}),null},we=n(278),Se=n(0),Pe=n.n(Se),_e=n(1),Ie=n(745),Ne=n(276),Ae=n(547);var Re=function(e){var t=e.project,n=e.onClose,r=e.extensionShortHeader,a=e.extensionName,o=e.onInstallExtension,i=e.onOpenEventsFunctionsExtension,c=l.a.useState(!1),u=Object(g.a)(c,2),d=u[0],p=u[1],m=l.a.useContext(Ne.a),f=function(){var e=Object(_e.a)(Pe.a.mark((function e(n){return Pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.prev=1,o(r),e.next=5,Object(Ae.b)(n,t,m,r);case 5:return e.prev=5,p(!1),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[1,,5,8]])})));return function(t){return e.apply(this,arguments)}}();return l.a.createElement(s.I18n,null,(function(e){var t=e.i18n;return l.a.createElement(Ie.a,{alreadyInstalled:!0,isInstalling:d,onClose:n,onInstall:function(){return f(t)},extensionShortHeader:r,onEdit:function(){i(a),n()}})}))},Me=n(18),Fe=n(119),Le=n(305),Be=n.n(Le),De=n(361),Ue=n(153),Ge=n(135),Ve=n(163),We=n(511),He=n(542),ze={noIndentNestedList:{padding:0},itemTextField:{top:Ge.c}},Ye=function(e){return c.createElement(Ue.a,null,(function(t){var n=e.error,r=e.leftIcon,a=e.onRefresh,o=e.indentNestedItems,i=e.autoGenerateNestedIndicator,s=e.initiallyOpen,l=e.open,d=e.primaryText,p=e.renderNestedItems;return c.createElement(u.b,{open:l,autoGenerateNestedIndicator:i,initiallyOpen:s,primaryText:d,renderNestedItems:p,onReload:a,style:{backgroundColor:t.listItem.groupBackgroundColor,borderBottom:"1px solid ".concat(t.listItem.separatorColor)},nestedListStyle:o?void 0:ze.noIndentNestedList,leftIcon:n?c.createElement(Be.a,null):r,displayReloadButton:!!n,reloadButtonTooltip:"An error has occured in functions. Click to reload them."})}))},qe=function(e){var t=e.primaryText,n=e.textEndAdornment,r=e.editingName,a=e.leftIcon,o=e.onEdit,i=e.onDelete,l=e.addLabel,d=e.onAdd,p=e.onRename,m=e.onEditName,f=e.onCopy,h=e.onCut,g=e.onPaste,b=e.onDuplicate,v=e.canPaste,E=e.canMoveUp,y=e.onMoveUp,C=e.canMoveDown,j=e.onMoveDown,O=e.buildExtraMenuTemplate,x=e.style,k=c.useRef(null);c.useEffect((function(){r&&setTimeout((function(){k.current&&k.current.focus()}),100)}),[r]);var T=r?c.createElement(Ge.b,{id:"rename-item-field",margin:"none",ref:k,defaultValue:t,onBlur:function(e){return p(e.currentTarget.value)},onKeyPress:function(e){Object(Ve.f)(e)&&k.current&&k.current.blur()},fullWidth:!0,style:ze.itemTextField}):c.createElement("div",{style:{display:"inline-flex",width:"100%",alignItems:"center"}},c.createElement("span",{style:We.a,title:t},t),n&&c.createElement("span",{style:{marginLeft:5,display:"flex"}},n));return c.createElement(Ue.a,null,(function(e){return c.createElement(s.I18n,null,(function(t){t.i18n;return c.createElement(u.b,{style:Object(Fe.a)({borderBottom:"1px solid ".concat(e.listItem.separatorColor)},x),primaryText:T,leftIcon:a,displayMenuButton:!0,buildMenuTemplate:function(e){return[{label:e._({id:"Edit"}),click:o}].concat(Object(Me.a)(O?O(e):[]),[{type:"separator"},{label:e._({id:"Rename"}),click:m},{label:e._({id:"Delete"}),click:i},{label:e._(l),visible:!!d,click:d},{type:"separator"},{label:e._({id:"Copy"}),click:f},{label:e._({id:"Cut"}),click:h},{label:e._({id:"Paste"}),enabled:v(),click:g},{label:e._({id:"Duplicate"}),click:b},{type:"separator"},{label:e._({id:"Move up"}),enabled:E,click:y},{label:e._({id:"Move down"}),enabled:C,click:j}])},onClick:function(){r||o()}})}))}))},Xe=function(e){var t=e.eventsFunctionsExtension,n=e.onEdit,r=e.onRename,a=e.onEditName,o=e.isEditingName,i=e.onDelete,s=e.onAdd,l=e.onCopy,u=e.onCut,d=e.onPaste,p=e.onDuplicate,m=e.canPaste,f=e.canMoveUp,h=e.onMoveUp,g=e.canMoveDown,b=e.onMoveDown,v=t.getName(),E=t.getIconUrl(),y=c.useContext(He.a).extensionShortHeadersByName;return c.createElement(qe,{leftIcon:E?c.createElement(De.a,{size:24,alt:t.getFullName(),src:E}):null,primaryText:v,editingName:o,onEdit:function(){return n(y)},onDelete:i,addLabel:{id:"Add a New Extension"},onAdd:s,onRename:r,onEditName:a,onCopy:l,onCut:u,onPaste:d,onDuplicate:p,canPaste:m,canMoveUp:f,onMoveUp:h,canMoveDown:g,onMoveDown:b})},Ke=n(2078);n.d(t,"a",(function(){return Ze}));var Je={container:{flex:1,display:"flex",flexDirection:"column",overflowY:"hidden"},list:{flex:1,overflowY:"scroll",padding:0}},Ze=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={editedPropertiesLayout:null,editedVariablesLayout:null,renamedItemKind:null,renamedItemName:"",searchText:"",projectPropertiesDialogOpen:!1,projectPropertiesDialogInitialTab:"properties",projectVariablesEditorOpen:!1,extensionsSearchDialogOpen:!1,openedExtensionShortHeader:null,openedExtensionName:null,isInstallingExtension:!1,layoutPropertiesDialogOpen:!1,layoutVariablesDialogOpen:!1},e._openProjectProperties=function(){e.setState({projectPropertiesDialogOpen:!0,projectPropertiesDialogInitialTab:"properties"})},e._openProjectLoadingScreen=function(){e.setState({projectPropertiesDialogOpen:!0,projectPropertiesDialogInitialTab:"loading-screen"})},e._openProjectVariables=function(){e.setState({projectVariablesEditorOpen:!0})},e._openSearchExtensionDialog=function(){e.setState({extensionsSearchDialogOpen:!0})},e._onEditName=function(t,n){e.setState({renamedItemKind:t,renamedItemName:n})},e._copyLayout=function(e){K.b.set("Layout",{layout:Object(J.b)(e),name:e.getName()})},e._cutLayout=function(t){e._copyLayout(t),e.props.onDeleteLayout(t)},e._pasteLayout=function(t){if(K.b.has("Layout")){var n=K.b.get("Layout"),r=K.a.extractObjectProperty(n,"layout"),a=K.a.extractStringProperty(n,"name");if(a&&r){var o=e.props.project,i=Object(X.a)(a,(function(e){return o.hasLayoutNamed(e)})),s=o.insertNewLayout(i,t);Object(J.c)(s,r,"unserializeFrom",o),s.setName(i),s.updateBehaviorsSharedData(o),e._onProjectItemModified()}}},e._duplicateLayout=function(t,n){e._copyLayout(t),e._pasteLayout(n)},e._addLayout=function(t,n){var r=e.props.project,a=Object(X.a)(n._({id:"Untitled scene"}),(function(e){return r.hasLayoutNamed(e)})),o=r.insertNewLayout(a,t+1);o.setName(a),o.updateBehaviorsSharedData(r),e._onProjectItemModified()},e._onOpenLayoutProperties=function(t){e.setState({editedPropertiesLayout:t})},e._onOpenLayoutVariables=function(t){e.setState({editedVariablesLayout:t})},e._addExternalEvents=function(t,n){var r=e.props.project,a=Object(X.a)(n._({id:"Untitled external events"}),(function(e){return r.hasExternalEventsNamed(e)}));r.insertNewExternalEvents(a,t+1),e._onProjectItemModified()},e._addExternalLayout=function(t,n){var r=e.props.project,a=Object(X.a)(n._({id:"Untitled external layout"}),(function(e){return r.hasExternalLayoutNamed(e)}));r.insertNewExternalLayout(a,t+1),e._onProjectItemModified()},e._addEventsFunctionsExtension=function(t,n){var r=e.props.project,a=Object(X.a)(n._({id:"UntitledExtension"}),(function(e){return Object(xe.a)(e,r)}));r.insertNewEventsFunctionsExtension(a,t+1),e._onProjectItemModified()},e._moveUpLayout=function(t){var n=e.props.project;t<=0||(n.swapLayouts(t,t-1),e._onProjectItemModified())},e._moveDownLayout=function(t){var n=e.props.project;t>=n.getLayoutsCount()-1||(n.swapLayouts(t,t+1),e._onProjectItemModified())},e._copyExternalEvents=function(e){K.b.set("External events",{externalEvents:Object(J.b)(e),name:e.getName()})},e._cutExternalEvents=function(t){e._copyExternalEvents(t),e.props.onDeleteExternalEvents(t)},e._pasteExternalEvents=function(t){if(K.b.has("External events")){var n=K.b.get("External events"),r=K.a.extractObjectProperty(n,"externalEvents"),a=K.a.extractStringProperty(n,"name");if(a&&r){var o=e.props.project,i=Object(X.a)(a,(function(e){return o.hasExternalEventsNamed(e)})),s=o.insertNewExternalEvents(i,t);Object(J.c)(s,r,"unserializeFrom",o),s.setName(i),e._onProjectItemModified()}}},e._duplicateExternalEvents=function(t,n){e._copyExternalEvents(t),e._pasteExternalEvents(n)},e._moveUpExternalEvents=function(t){var n=e.props.project;t<=0||(n.swapExternalEvents(t,t-1),e._onProjectItemModified())},e._moveDownExternalEvents=function(t){var n=e.props.project;t>=n.getExternalEventsCount()-1||(n.swapExternalEvents(t,t+1),e._onProjectItemModified())},e._copyExternalLayout=function(e){K.b.set("External layout",{externalLayout:Object(J.b)(e),name:e.getName()})},e._cutExternalLayout=function(t){e._copyExternalLayout(t),e.props.onDeleteExternalLayout(t)},e._pasteExternalLayout=function(t){if(K.b.has("External layout")){var n=K.b.get("External layout"),r=K.a.extractObjectProperty(n,"externalLayout"),a=K.a.extractStringProperty(n,"name");if(a&&r){var o=e.props.project,i=Object(X.a)(a,(function(e){return o.hasExternalLayoutNamed(e)})),s=o.insertNewExternalLayout(i,t);Object(J.c)(s,r),s.setName(i),e._onProjectItemModified()}}},e._duplicateExternalLayout=function(t,n){e._copyExternalLayout(t),e._pasteExternalLayout(n)},e._moveUpExternalLayout=function(t){var n=e.props.project;t<=0||(n.swapExternalLayouts(t,t-1),e._onProjectItemModified())},e._moveDownExternalLayout=function(t){var n=e.props.project;t>=n.getExternalLayoutsCount()-1||(n.swapExternalLayouts(t,t+1),e._onProjectItemModified())},e._copyEventsFunctionsExtension=function(e){K.b.set("Events Functions Extension",{eventsFunctionsExtension:Object(J.b)(e),name:e.getName()})},e._cutEventsFunctionsExtension=function(t){e._copyEventsFunctionsExtension(t),e.props.onDeleteEventsFunctionsExtension(t)},e._duplicateEventsFunctionsExtension=function(t,n){e._copyEventsFunctionsExtension(t),e._pasteEventsFunctionsExtension(n)},e._pasteEventsFunctionsExtension=function(t){if(K.b.has("Events Functions Extension")){var n=K.b.get("Events Functions Extension"),r=K.a.extractObjectProperty(n,"eventsFunctionsExtension"),a=K.a.extractStringProperty(n,"name");if(a&&r){var o=e.props.project,i=Object(X.a)(a,(function(e){return Object(xe.a)(e,o)})),s=o.insertNewEventsFunctionsExtension(i,t);Object(J.c)(s,r,"unserializeFrom",o),s.setName(i),e._onProjectItemModified(),e.props.onReloadEventsFunctionsExtensions()}}},e._moveUpEventsFunctionsExtension=function(t){var n=e.props.project;t<=0||(n.swapEventsFunctionsExtensions(t,t-1),e._onProjectItemModified())},e._moveDownEventsFunctionsExtension=function(t){var n=e.props.project;t>=n.getEventsFunctionsExtensionsCount()-1||(n.swapEventsFunctionsExtensions(t,t+1),e._onProjectItemModified())},e._onEditEventsFunctionExtensionOrSeeDetails=function(t,n,r){if("gdevelop-extension-store"===n.getOriginName()){var a=n.getOriginIdentifier(),o=t[a];if(!o)return console.warn("This extension was downloaded from the store but its reference ".concat(a," couldn't be found in the store. Opening the extension in the editor...")),void e.props.onOpenEventsFunctionsExtension(r);e.setState({openedExtensionShortHeader:o,openedExtensionName:r})}else e.props.onOpenEventsFunctionsExtension(r)},e._onSearchChange=function(t){return e.setState({searchText:t})},e._onRequestSearch=function(){},e._onProjectItemModified=function(){e.forceUpdate(),e.props.unsavedChanges&&e.props.unsavedChanges.triggerUnsavedChanges()},e._setProjectFirstLayout=function(t){e.props.project.setFirstLayout(t),e.forceUpdate()},e}return Object(a.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return t.projectPropertiesDialogOpen!==this.state.projectPropertiesDialogOpen||t.projectVariablesEditorOpen!==this.state.projectVariablesEditorOpen||t.extensionsSearchDialogOpen!==this.state.extensionsSearchDialogOpen||t.openedExtensionShortHeader!==this.state.openedExtensionShortHeader||!e.freezeUpdate}},{key:"componentDidUpdate",value:function(e){!this.props.freezeUpdate&&e.freezeUpdate&&Object(d.b)()&&this._searchBar&&this._searchBar.focus()}},{key:"_renderMenu",value:function(){var e=this;return f.b.hasMainMenu()?null:c.createElement(c.Fragment,null,c.createElement(u.b,{key:"save",primaryText:c.createElement(s.Trans,{id:"Save"}),leftIcon:c.createElement(le.a,null),onClick:function(){return e.props.onSaveProject()}}),c.createElement(u.b,{key:"save-as",primaryText:c.createElement(s.Trans,{id:"Save as..."}),leftIcon:c.createElement(be.a,null),onClick:function(){return e.props.onSaveProjectAs()}}),c.createElement(u.b,{key:"export",primaryText:c.createElement(s.Trans,{id:"Export"}),leftIcon:c.createElement(he.a,null),onClick:function(){return e.props.onExportProject()}}),c.createElement(u.b,{key:"close",primaryText:c.createElement(s.Trans,{id:"Close"}),leftIcon:c.createElement(te.a,null),onClick:function(){return e.props.onCloseProject()}}),c.createElement(u.b,{key:"preferences",primaryText:c.createElement(s.Trans,{id:"Preferences"}),leftIcon:c.createElement(se.a,null),onClick:function(){return e.props.onOpenPreferences()}}),c.createElement(u.b,{key:"profile",primaryText:c.createElement(s.Trans,{id:"My profile"}),leftIcon:c.createElement(Ee.a,null),onClick:function(){return e.props.onOpenProfile()}}),c.createElement(u.b,{key:"games-dashboard",primaryText:c.createElement(s.Trans,{id:"Published Games Dashboard"}),leftIcon:c.createElement(Ce.a,null),onClick:function(){return e.props.onOpenGamesDashboard()}}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.project,r=t.eventsFunctionsExtensionsError,a=t.onReloadEventsFunctionsExtensions,o=t.onInstallExtension,i=this.state,l=i.renamedItemKind,f=i.renamedItemName,g=i.searchText,b=i.openedExtensionShortHeader,v=i.openedExtensionName,E=""!==g||void 0,y=n.getFirstLayout();return c.createElement(s.I18n,null,(function(t){var i=t.i18n;return c.createElement("div",{style:Je.container},c.createElement(Te,{project:e.props.project,onOpenProjectProperties:e._openProjectProperties,onOpenProjectLoadingScreen:e._openProjectLoadingScreen,onOpenProjectVariables:e._openProjectVariables,onOpenResourcesDialog:e.props.onOpenResources,onOpenPlatformSpecificAssetsDialog:e.props.onOpenPlatformSpecificAssets,onOpenSearchExtensionDialog:e._openSearchExtensionDialog}),c.createElement(u.a,{style:Je.list},e._renderMenu(),c.createElement(Ye,{primaryText:c.createElement(s.Trans,{id:"Game settings"}),leftIcon:c.createElement(p.a,{iconSize:24,isGDevelopIcon:!0,src:"res/ribbon_default/projectManager32.png"}),initiallyOpen:!1,autoGenerateNestedIndicator:!0,indentNestedItems:!0,renderNestedItems:function(){return[c.createElement(u.b,{key:"properties",primaryText:c.createElement(s.Trans,{id:"Properties"}),leftIcon:c.createElement(re.a,null),onClick:e._openProjectProperties}),c.createElement(u.b,{key:"global-variables",primaryText:c.createElement(s.Trans,{id:"Global variables"}),leftIcon:c.createElement(de,null),onClick:e._openProjectVariables}),c.createElement(u.b,{key:"icons",primaryText:c.createElement(s.Trans,{id:"Icons"}),leftIcon:c.createElement(oe.a,null),onClick:e.props.onOpenPlatformSpecificAssets}),c.createElement(u.b,{key:"resources",primaryText:c.createElement(s.Trans,{id:"Resources"}),leftIcon:c.createElement(me.a,null),onClick:e.props.onOpenResources})]}}),c.createElement(Ye,{primaryText:c.createElement(s.Trans,{id:"Scenes"}),leftIcon:c.createElement(p.a,{iconSize:24,isGDevelopIcon:!0,src:"res/ribbon_default/sceneadd32.png"}),initiallyOpen:!0,open:E,autoGenerateNestedIndicator:!E,renderNestedItems:function(){return Object(q.e)(Object(q.d)(n),g).map((function(t,r){var a=t.getName();return c.createElement(qe,{key:r,primaryText:a,textEndAdornment:a===y?c.createElement(Ke.a,{title:i._({id:"This scene will be used as the start scene."})},c.createElement($.a,{color:"disabled",fontSize:"small"})):void 0,editingName:"layout"===l&&f===a,onEdit:function(){return e.props.onOpenLayout(a)},onDelete:function(){return e.props.onDeleteLayout(t)},addLabel:{id:"Add a New Scene"},onAdd:function(){return e._addLayout(r,i)},onRename:function(t){e.props.onRenameLayout(a,t),e._onEditName(null,"")},onEditName:function(){return e._onEditName("layout",a)},onCopy:function(){return e._copyLayout(t)},onCut:function(){return e._cutLayout(t)},onPaste:function(){return e._pasteLayout(r)},onDuplicate:function(){return e._duplicateLayout(t,r)},canPaste:function(){return K.b.has("Layout")},canMoveUp:0!==r,onMoveUp:function(){return e._moveUpLayout(r)},canMoveDown:r!==n.getLayoutsCount()-1,onMoveDown:function(){return e._moveDownLayout(r)},buildExtraMenuTemplate:function(n){return[{label:n._({id:"Edit Scene Properties"}),enabled:!0,click:function(){return e._onOpenLayoutProperties(t)}},{label:n._({id:"Edit Scene Variables"}),enabled:!0,click:function(){return e._onOpenLayoutVariables(t)}},{label:n._({id:"Set as start scene"}),enabled:a!==y,click:function(){return e._setProjectFirstLayout(a)}}]}})})).concat(c.createElement(m.a,{key:"add-scene",onClick:function(){return e._addLayout(n.getLayoutsCount(),i)},primaryText:c.createElement(s.Trans,{id:"Click to add a scene"})}))}}),c.createElement(Ye,{primaryText:c.createElement(s.Trans,{id:"External events"}),leftIcon:c.createElement(p.a,{iconSize:24,isGDevelopIcon:!0,src:"res/ribbon_default/externalevents32.png"}),initiallyOpen:!1,open:E,autoGenerateNestedIndicator:!E,renderNestedItems:function(){return Object(q.e)(Object(q.b)(n),g).map((function(t,r){var a=t.getName();return c.createElement(qe,{key:r,primaryText:a,editingName:"external-events"===l&&f===a,onEdit:function(){return e.props.onOpenExternalEvents(a)},onDelete:function(){return e.props.onDeleteExternalEvents(t)},addLabel:{id:"Add New External Events"},onAdd:function(){return e._addExternalEvents(r,i)},onRename:function(t){e.props.onRenameExternalEvents(a,t),e._onEditName(null,"")},onEditName:function(){return e._onEditName("external-events",a)},onCopy:function(){return e._copyExternalEvents(t)},onCut:function(){return e._cutExternalEvents(t)},onPaste:function(){return e._pasteExternalEvents(r)},onDuplicate:function(){return e._duplicateExternalEvents(t,r)},canPaste:function(){return K.b.has("External events")},canMoveUp:0!==r,onMoveUp:function(){return e._moveUpExternalEvents(r)},canMoveDown:r!==n.getExternalEventsCount()-1,onMoveDown:function(){return e._moveDownExternalEvents(r)}})})).concat(c.createElement(m.a,{key:"add-external-events",primaryText:c.createElement(s.Trans,{id:"Click to add external events"}),onClick:function(){return e._addExternalEvents(n.getExternalEventsCount(),i)}}))}}),c.createElement(Ye,{primaryText:c.createElement(s.Trans,{id:"External layouts"}),leftIcon:c.createElement(p.a,{iconSize:24,isGDevelopIcon:!0,src:"res/ribbon_default/externallayout32.png"}),initiallyOpen:!1,open:E,autoGenerateNestedIndicator:!E,renderNestedItems:function(){return Object(q.e)(Object(q.c)(n),g).map((function(t,r){var a=t.getName();return c.createElement(qe,{key:r,primaryText:a,editingName:"external-layout"===l&&f===a,onEdit:function(){return e.props.onOpenExternalLayout(a)},onDelete:function(){return e.props.onDeleteExternalLayout(t)},addLabel:{id:"Add a New External Layout"},onAdd:function(){return e._addExternalLayout(r,i)},onRename:function(t){e.props.onRenameExternalLayout(a,t),e._onEditName(null,"")},onEditName:function(){return e._onEditName("external-layout",a)},onCopy:function(){return e._copyExternalLayout(t)},onCut:function(){return e._cutExternalLayout(t)},onPaste:function(){return e._pasteExternalLayout(r)},onDuplicate:function(){return e._duplicateExternalLayout(t,r)},canPaste:function(){return K.b.has("External layout")},canMoveUp:0!==r,onMoveUp:function(){return e._moveUpExternalLayout(r)},canMoveDown:r!==n.getExternalLayoutsCount()-1,onMoveDown:function(){return e._moveDownExternalLayout(r)}})})).concat(c.createElement(m.a,{key:"add-external-layout",primaryText:c.createElement(s.Trans,{id:"Click to add an external layout"}),onClick:function(){return e._addExternalLayout(n.getExternalLayoutsCount(),i)}}))}}),c.createElement(Ye,{primaryText:c.createElement(s.Trans,{id:"Functions/Behaviors"}),error:r,onRefresh:a,leftIcon:c.createElement(p.a,{iconSize:24,isGDevelopIcon:!0,src:"res/ribbon_default/function32.png"}),initiallyOpen:!1,open:E,autoGenerateNestedIndicator:!E&&!r,renderNestedItems:function(){return Object(q.e)(Object(q.a)(n),g).map((function(t,r){var a=t.getName();return c.createElement(Xe,{key:r,eventsFunctionsExtension:t,isEditingName:"events-functions-extension"===l&&f===a,onEdit:function(n){return e._onEditEventsFunctionExtensionOrSeeDetails(n,t,a)},onDelete:function(){return e.props.onDeleteEventsFunctionsExtension(t)},onAdd:function(){return e._addEventsFunctionsExtension(r,i)},onRename:function(t){e.props.onRenameEventsFunctionsExtension(a,t),e._onEditName(null,"")},onEditName:function(){return e._onEditName("events-functions-extension",a)},onCopy:function(){return e._copyEventsFunctionsExtension(t)},onCut:function(){return e._cutEventsFunctionsExtension(t)},onPaste:function(){return e._pasteEventsFunctionsExtension(r)},onDuplicate:function(){return e._duplicateEventsFunctionsExtension(t,r)},canPaste:function(){return K.b.has("Events Functions Extension")},canMoveUp:0!==r,onMoveUp:function(){return e._moveUpEventsFunctionsExtension(r)},canMoveDown:r!==n.getEventsFunctionsExtensionsCount()-1,onMoveDown:function(){return e._moveDownEventsFunctionsExtension(r)}})})).concat(c.createElement(m.a,{key:"add-events-functions-extension",primaryText:c.createElement(s.Trans,{id:"Click to add functions and behaviors"}),onClick:function(){return e._addEventsFunctionsExtension(n.getEventsFunctionsExtensionsCount(),i)}})).concat(c.createElement(m.b,{key:"extensions-search",primaryText:c.createElement(s.Trans,{id:"Search for new extensions"}),onClick:e._openSearchExtensionDialog}))}})),c.createElement(d.a,{ref:function(t){return e._searchBar=t},value:g,onRequestSearch:e._onRequestSearch,onChange:e._onSearchChange}),e.state.projectVariablesEditorOpen&&c.createElement(h.a,{title:c.createElement(s.Trans,{id:"Global Variables"}),open:!0,variablesContainer:n.getVariables(),onCancel:function(){return e.setState({projectVariablesEditorOpen:!1})},onApply:function(){e.props.unsavedChanges&&e.props.unsavedChanges.triggerUnsavedChanges(),e.setState({projectVariablesEditorOpen:!1})},emptyExplanationMessage:c.createElement(s.Trans,{id:"Global variables are variables that are shared amongst all the scenes of the game."}),emptyExplanationSecondMessage:c.createElement(s.Trans,{id:"For example, you can have a variable called UnlockedLevelsCount representing the number of levels unlocked by the player."}),helpPagePath:"/all-features/variables/global-variables",hotReloadPreviewButtonProps:e.props.hotReloadPreviewButtonProps,onComputeAllVariableNames:function(){return we.a.findAllGlobalVariables(n.getCurrentPlatform(),n)}}),e.state.projectPropertiesDialogOpen&&c.createElement(Y,{open:!0,initialTab:e.state.projectPropertiesDialogInitialTab,project:n,onClose:function(){return e.setState({projectPropertiesDialogOpen:!1})},onApply:function(){e.props.unsavedChanges&&e.props.unsavedChanges.triggerUnsavedChanges(),e.setState({projectPropertiesDialogOpen:!1})},onChangeSubscription:e.props.onChangeSubscription,resourceSources:e.props.resourceSources,onChooseResource:e.props.onChooseResource,resourceExternalEditors:e.props.resourceExternalEditors,hotReloadPreviewButtonProps:e.props.hotReloadPreviewButtonProps}),!!e.state.editedPropertiesLayout&&c.createElement(je.a,{open:!0,layout:e.state.editedPropertiesLayout,project:e.props.project,onApply:function(){e.props.unsavedChanges&&e.props.unsavedChanges.triggerUnsavedChanges(),e._onOpenLayoutProperties(null)},onClose:function(){return e._onOpenLayoutProperties(null)},onEditVariables:function(){e._onOpenLayoutVariables(e.state.editedPropertiesLayout),e._onOpenLayoutProperties(null)}}),!!e.state.editedVariablesLayout&&c.createElement(Oe.a,{open:!0,project:n,layout:e.state.editedVariablesLayout,onClose:function(){return e._onOpenLayoutVariables(null)},onApply:function(){e.props.unsavedChanges&&e.props.unsavedChanges.triggerUnsavedChanges(),e._onOpenLayoutVariables(null)},hotReloadPreviewButtonProps:e.props.hotReloadPreviewButtonProps}),e.state.extensionsSearchDialogOpen&&c.createElement(Z.a,{project:n,onClose:function(){return e.setState({extensionsSearchDialogOpen:!1})},onInstallExtension:o}),b&&v&&c.createElement(Re,{project:n,onClose:function(){return e.setState({openedExtensionShortHeader:null,openedExtensionName:null})},onOpenEventsFunctionsExtension:e.props.onOpenEventsFunctionsExtension,extensionShortHeader:b,extensionName:v,onInstallExtension:o}))}))}}]),n}(c.Component)},function(e,t,n){"use strict";var r=n(26),a=n(115),o=n(15),i=n.n(o),s=n(124),c=n(172),l=n(128),u=n(117),d=n(535),p=n(119),m=n(158),f=n(129),h=n(156),g=n(538),b=n(927),v=n(245),E=function(e){var t,n,i=e.onEditProfile,c=e.onChangeEmail,l=e.authenticatedUser,u=l.profile,d=l.firebaseUser,E=Object(g.a)(),y=o.useState(!1),C=Object(r.a)(y,2),j=C[0],O=C[1],x=o.useCallback((function(){l.onSendEmailVerification(),O(!0),setTimeout((function(){E.current&&O(!1)}),3e3)}),[l,E]);return t=o.useCallback((function(){return Object(v.k)(l)}),[l]),n=5e3,Object(o.useEffect)((function(){var e=setTimeout(t,n);return function(){return clearTimeout(e)}}),[t,n]),d&&u?o.createElement(f.a,{noMargin:!0},d&&!d.emailVerified&&o.createElement(h.a,{kind:"info",renderRightButton:function(){return o.createElement(s.a,{label:j?o.createElement(a.Trans,{id:"Email sent!"}):o.createElement(a.Trans,{id:"Send it again"}),onClick:x,disabled:j,primary:!0})}},o.createElement(a.Trans,{id:"It looks like your email is not verified. Click on the link received by email to verify your account. Didn't receive it?"})),o.createElement(b.a,{profile:l.profile?Object(p.a)(Object(p.a)({},l.profile),{},{email:d.email}):null,isAuthenticatedUserProfile:!0,onChangeEmail:c,onEditProfile:i,badges:l.badges})):o.createElement(m.a,null)},y=n(142),C=n(127),j=n(125),O=function(e){var t=e.subscription,n=e.onChangeSubscription;return t?o.createElement(u.a,null,o.createElement(u.b,{alignItems:"center"},o.createElement(j.a,{size:"title"},"My online services subscriptions")),t.planId?o.createElement(o.Fragment,null,o.createElement(u.b,null,o.createElement(j.a,null,o.createElement(a.Trans,{id:"You are subscribed to {0}. Congratulations! You have access to more online services, including building your game for Android, Windows, macOS and Linux in one click!",values:{0:t.planId}}))),o.createElement(u.b,{justifyContent:"flex-end"},o.createElement(C.a,{label:o.createElement(a.Trans,{id:"Upgrade/change"}),primary:!0,onClick:n}))):o.createElement(o.Fragment,null,o.createElement(u.b,null,o.createElement(j.a,null,o.createElement(a.Trans,{id:"If you don't have a subscription, consider getting one now. Accounts allow you to access all of the online services. With just one click, you can build your game for Android, Windows, macOS and Linux!"}))),o.createElement(u.b,{justifyContent:"flex-end"},o.createElement(C.a,{label:o.createElement(a.Trans,{id:"Choose a subscription"}),primary:!0,onClick:n})))):o.createElement(m.a,null)},x=n(0),k=n.n(x),T=n(1),w=n(551),S=n(361),P=n(360),_=n(317),I=n(193),N=n(136),A=function(e){var t=e.fullName,n=e.previewIconUrl,r=e.shortDescription;return o.createElement(u.b,null,n&&o.createElement(S.a,{alt:t,src:n,size:64}),o.createElement(u.a,{expand:!0},o.createElement(j.a,{noMargin:!0},t),o.createElement(j.a,{noMargin:!0,size:"body2"},r)))},R=function(e){var t=e.examples;return e.exampleError?o.createElement(u.a,null,o.createElement(u.b,{alignItems:"center"},o.createElement(j.a,null,o.createElement(a.Trans,{id:"Error retrieving the examples"})))):o.createElement(w.a,null,o.createElement(w.c,null,o.createElement(j.a,{displayInlineAsSpan:!0},o.createElement(a.Trans,{id:"Examples ({0})",values:{0:t.length}}))),o.createElement(w.b,{disableGutters:!0},0===t.length?o.createElement(N.a,null,o.createElement(a.Trans,{id:"You haven't contributed any examples"})):o.createElement(u.a,null,t.map((function(e){return o.createElement(A,{key:e.name,shortDescription:e.shortDescription,fullName:e.name,previewIconUrl:e.previewImageUrls?e.previewImageUrls[0]:""})})))))},M=function(e){var t=e.extensions;return e.extensionError?o.createElement(u.a,null,o.createElement(u.b,{alignItems:"center"},o.createElement(j.a,null,o.createElement(a.Trans,{id:"Error retrieving the extensions"})))):o.createElement(w.a,null,o.createElement(w.c,null,o.createElement(j.a,{displayInlineAsSpan:!0},o.createElement(a.Trans,{id:"Extensions ({0})",values:{0:t.length}}))),o.createElement(w.b,{disableGutters:!0},0===t.length?o.createElement(N.a,null,o.createElement(a.Trans,{id:"You haven't contributed any extensions"})):o.createElement(u.a,null,t.map((function(e){return o.createElement(A,{key:e.name,shortDescription:e.shortDescription,fullName:e.fullName,previewIconUrl:e.previewIconUrl})})))))},F=function(e){e.examples;return o.createElement(w.a,{disabled:!0},o.createElement(w.c,null,o.createElement(j.a,{displayInlineAsSpan:!0},o.createElement(a.Trans,{id:"Assets (coming soon!)"}))))},L=function(e){var t=e.userId,n=o.useState(null),i=Object(r.a)(n,2),s=i[0],c=i[1],l=o.useState(null),d=Object(r.a)(l,2),p=d[0],f=d[1],h=o.useState(null),g=Object(r.a)(h,2),b=g[0],v=g[1],E=o.useState(null),y=Object(r.a)(E,2),C=y[0],O=y[1],x=o.useCallback((function(){Object(T.a)(k.a.mark((function e(){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Object(P.d)(t);case 5:n=e.sent,c(n),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Error while loading extensions:",e.t0),v(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})))()}),[t]);o.useEffect((function(){x()}),[x]);var w=o.useCallback((function(){Object(T.a)(k.a.mark((function e(){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,Object(_.b)(t);case 5:n=e.sent,f(n),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.error("Error while loading examples:",e.t0),O(e.t0);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})))()}),[t]);return o.useEffect((function(){w()}),[w]),o.createElement(o.Fragment,null,o.createElement(u.a,null,o.createElement(u.b,{alignItems:"center"},o.createElement(j.a,{size:"title"},o.createElement(a.Trans,{id:"Contributions"})))),p&&s?o.createElement(o.Fragment,null,o.createElement(M,{extensions:s,extensionError:b}),o.createElement(R,{examples:p,exampleError:C}),o.createElement(F,{examples:p}),o.createElement(u.a,null,o.createElement(I.a,null,o.createElement(a.Trans,{id:"Missing some contributions? If you are the author, create a Pull Request on the corresponding GitHub repository after adding your username in the authors of the example or the extension - or directly ask the original author to add your username."})))):o.createElement(m.a,null))},B=n(183),D=n(18),U=n(223),G=n(242),V=n(2114),W=n(2115),H=n(2217),z=n(2116),Y=n(540),q=n.n(Y),X=n(1328),K=n.n(X),J=n(760),Z=n.n(J),Q=n(16),$=function(e){var t=e.game,n=e.isCurrentGame,r=e.onOpenDetails,i=e.onOpenBuilds,c=e.onOpenAnalytics,l=function(){var e=Object(G.d)(t);e&&Q.b.openExternalURL(e)};return o.createElement(a.I18n,null,(function(e){var d=e.i18n;return o.createElement(V.a,{key:t.id},o.createElement(W.a,{title:t.gameName,subheader:o.createElement(u.b,{alignItems:"center",noMargin:!0},o.createElement(a.Trans,{id:"Created on {0}",values:{0:d.date(1e3*t.createdAt)}}),n&&o.createElement(o.Fragment,null,o.createElement(u.c,null),o.createElement(H.a,{size:"small",label:o.createElement(a.Trans,{id:"Currently edited"}),color:"primary"})),t.publicWebBuildId&&o.createElement(o.Fragment,null,o.createElement(u.c,null),o.createElement(H.a,{size:"small",label:o.createElement(a.Trans,{id:"Published on Liluo"})})))}),o.createElement(z.a,null,o.createElement(f.b,{expand:!0,noMargin:!0,justifyContent:"flex-end"},t.publicWebBuildId&&o.createElement(C.a,{label:o.createElement(a.Trans,{id:"Open"}),onClick:l,primary:!0}),o.createElement(s.a,{icon:o.createElement(Z.a,null),label:o.createElement(a.Trans,{id:"Details"}),onClick:r}),o.createElement(s.a,{icon:o.createElement(K.a,null),label:o.createElement(a.Trans,{id:"Builds"}),onClick:i}),o.createElement(s.a,{icon:o.createElement(q.a,null),label:o.createElement(a.Trans,{id:"Analytics"}),onClick:c}))))}))},ee=n(534),te=n(931),ne=function(e){var t=o.useState(null),n=Object(r.a)(t,2),i=n[0],s=n[1],c=o.useState(null),l=Object(r.a)(c,2),u=l[0],d=l[1],p=o.useContext(B.a),h=p.authenticated,g=p.firebaseUser,b=p.getAuthorizationHeader,v=o.useState(null),E=Object(r.a)(v,2),y=E[0],C=E[1],j=o.useState("details"),O=Object(r.a)(j,2),x=O[0],w=O[1],S=o.useCallback(Object(T.a)(k.a.mark((function e(){var t;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h&&g){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,s(null),e.next=6,Object(G.e)(b,g.uid);case 6:t=e.sent,d(t),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),console.error("Error while loading user games.",e.t0),s(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,10]])}))),[h,g,b]);if(o.useEffect((function(){S()}),[S]),!h)return null;if(!u&&i)return o.createElement(U.a,{onRetry:function(){S()}},o.createElement(a.Trans,{id:"Can't load the games. Verify your internet connection or retry later."}));if(!u)return o.createElement(m.a,null);var P=e.project?e.project.getProjectUuid():null,_=u.find((function(e){return!!P&&e.id===P})),I=[_].concat(Object(D.a)(u.filter((function(e){return e!==_})))).filter(Boolean);return o.createElement(f.a,{noMargin:!0},o.createElement(ee.a,{project:e.project,hideIfRegistered:!0,hideLoader:!0,onGameRegistered:function(){S()}}),I.map((function(e){return o.createElement($,{key:e.id,isCurrentGame:!!P&&e.id===P,game:e,onOpenDetails:function(){w("details"),C(e)},onOpenBuilds:function(){w("builds"),C(e)},onOpenAnalytics:function(){w("analytics"),C(e)}})})),y&&o.createElement(te.a,{game:y,project:P&&y.id===P?e.project:null,initialTab:x,onClose:function(){C(null)},onGameUpdated:function(e){d(u.map((function(t){return t===y?e:t}))),C(e)},onGameDeleted:function(){C(null),S()}}))};t.a=function(e){var t=e.currentProject,n=e.open,o=e.onClose,p=e.onChangeSubscription,m=e.initialTab,h=i.a.useState(m),g=Object(r.a)(h,2),b=g[0],v=g[1],C=i.a.useContext(B.a),j=i.a.useCallback((function(e){v(e)}),[v]);return i.a.useEffect((function(){n&&C.onRefreshUserProfile()}),[C.onRefreshUserProfile,n]),i.a.createElement(l.a,{actions:[i.a.createElement(s.a,{label:i.a.createElement(a.Trans,{id:"Close"}),key:"close",primary:!1,onClick:o})],secondaryActions:[i.a.createElement(y.a,{key:"help",helpPagePath:"games-dashboard"===b?"/interface/games-dashboard":"/interface/profile"}),C.authenticated&&C.profile&&i.a.createElement(s.a,{label:i.a.createElement(a.Trans,{id:"Logout"}),key:"logout",onClick:C.onLogout})],onRequestClose:o,cannotBeDismissed:!1,open:n,noMargin:!0,noTitleMargin:!0,title:i.a.createElement(c.b,{value:b,onChange:j},i.a.createElement(c.a,{label:i.a.createElement(a.Trans,{id:"My Profile"}),value:"profile"}),i.a.createElement(c.a,{label:i.a.createElement(a.Trans,{id:"Games Dashboard"}),value:"games-dashboard"}))},"profile"===b&&(C.authenticated&&C.profile?i.a.createElement(u.a,{noMargin:!0},i.a.createElement(E,{authenticatedUser:C,onEditProfile:C.onEdit,onChangeEmail:C.onChangeEmail}),i.a.createElement(O,{subscription:C.subscription,onChangeSubscription:p}),i.a.createElement(L,{userId:C.profile.id})):i.a.createElement(u.a,null,i.a.createElement(d.a,{onLogin:C.onLogin,onCreateAccount:C.onCreateAccount}))),"games-dashboard"===b&&(C.authenticated?i.a.createElement(u.b,null,i.a.createElement(f.a,{expand:!0},i.a.createElement(ne,{project:t}))):i.a.createElement(u.a,null,i.a.createElement(d.a,{onLogin:C.onLogin,onCreateAccount:C.onCreateAccount,message:i.a.createElement(a.Trans,{id:"Create an account to register your games and to get access to metrics collected anonymously, like the number of daily players and retention of the players after a few days."})}))))}},function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n(26),s=n(119),c=n(179),l=n(15),u=n(115),d=n(1740),p=n.n(d),m=n(1738),f=n.n(m),h=n(1739),g=n.n(h),b=n(1737),v=n.n(b),E=n(124),y=n(138),C=n(117),j=n(127),O=n(2205),x=n(2132),k=n(2134),T=n(2135),w=n(1722),S=n.n(w),P=n(1724),_=n.n(P),I=n(1723),N=n.n(I),A=n(2133),R=n(16),M=n(125),F=n(146),L=n(163),B=n(156),D={imageHeight:{small:120,medium:130,large:140},arrowWidth:{small:24,medium:30,large:36}},U=Array(4).fill(0).map((function(e){return Math.random()})),G={itemTitle:{textOverflow:"ellipsis",overflow:"hidden",overflowWrap:"break-word",whiteSpace:"nowrap"},gridList:{position:"relative"},image:{display:"block",objectFit:"cover"},error:{display:"flex",justifyContent:"center",alignItems:"center"},itemTitleContainer:{height:24},arrowContainer:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginTop:32}},V=Object(O.a)({root:{overflowX:"scroll",overflowY:"hidden",flexWrap:"nowrap",scrollbarWidth:"none","-ms-overflow-style":"none","&::-webkit-scrollbar":{height:0}}}),W=Object(O.a)((function(e){return Object(x.a)({root:{width:"unset !important","&:focus":{border:"".concat(2,"px solid ").concat(e.palette.primary.main),outline:"none"},"&:focus-visible":{outline:"unset"}},tile:{display:"flex",flexDirection:"column"}})})),H=Object(O.a)({arrow:{"& > path":{transform:"translate(5px, 0px)"}}}),z=function(e){var t=e.title,n=e.items,r=e.browseAllLink,a=e.onBrowseAllClick,o=e.browseAllLabel,c=e.error,u=e.displayItemTitles,d=void 0===u||u,p=l.useState(!1),m=Object(i.a)(p,2),f=m[0],h=m[1],g=V(),b=W(),v=H(),y=l.useRef(null),j=l.useState(null),O=Object(i.a)(j,2),x=O[0],w=O[1],P=n&&n.length>0,I=n&&n.length>0?n:Array(4).fill({skeleton:!0,title:"",thumbnail:""}).map((function(e,t){return Object(s.a)(Object(s.a)({},e),{},{id:"skeleton".concat(t)})})),z=Object(F.b)(),Y=D.imageHeight[z],q=D.arrowWidth[z],X=16/9*Y,K=X+12,J=Y+(d?28:4),Z=l.useCallback((function(e){return l.createElement("img",{src:e.thumbnailUrl,style:Object(s.a)(Object(s.a)({},G.image),{},{height:Y,minHeight:Y,width:X}),alt:e.title,title:e.title})}),[X,Y]),Q=function(e){return function(){R.b.openExternalURL(e)}},$=l.useCallback((function(e){return e.skeleton||e.link||e.thumbnailUrl?e.thumbnailUrl||e.link?Z(e):e.skeleton?l.createElement(A.a,{variant:"rect",height:Y,width:X}):void 0:null}),[Z,X,Y]),ee=l.useCallback((function(e,t){return d?l.createElement(l.Fragment,null,l.createElement(C.c,null),e.title?l.createElement("div",{style:Object(s.a)(Object(s.a)({},G.itemTitleContainer),{},{width:X})},l.createElement(M.a,{noMargin:!0,style:G.itemTitle},e.title)):l.createElement(A.a,{variant:"rect",height:24,width:X/3*(1+2*U[t])})):null}),[X,d]),te=l.useCallback((function(e){return Math.round(e/K)*K}),[K]),ne=l.useCallback((function(e){return Math.max(Math.floor(e.offsetWidth/K),1)}),[K]),re=l.useCallback((function(e,t){var n=ne(t),r=n*K,a=t.scrollLeft,o=Math.round(a/K);return"right"===e&&o>I.length-n-1?0:te(t.scrollLeft+r*("left"===e?-1:1))}),[K,I,te,ne]),ae=l.useCallback((function(e){return function(){var t=y.current;if(t){var n=re(e,t);t.scrollTo({left:n,behavior:"smooth"})}}}),[re]),oe=l.useCallback((function(){var e=y.current;e&&(f||h(0!==e.scrollLeft))}),[f]),ie=l.useCallback((function(){var e=y.current;e&&e.scrollTo({left:te(e.scrollLeft),behavior:"smooth"})}),[te]),se=l.useCallback((function(e,t){if(e.currentTarget!==x){var n=e.currentTarget,r=n.offsetParent;if(!r||!(r instanceof HTMLElement))return;var a=ne(r),o=n.getBoundingClientRect(),i=r.getBoundingClientRect(),s=Math.round(o.left-i.left)<0,c=Math.round(o.right-i.right)>=0;s?r.scroll({left:n.offsetLeft}):c&&r.scroll({left:K*(t-a+1)})}}),[ne,x,K]);return l.useEffect((function(){var e=y.current;e&&(e.addEventListener("scroll",oe),e.addEventListener("touchend",ie),e.addEventListener("touchleave",ie))}),[oe,ie]),l.createElement(C.b,{noMargin:!0},l.createElement("div",{style:Object(s.a)(Object(s.a)({},G.arrowContainer),{},{width:q}),onClick:ae("left")},P&&f&&l.createElement(S.a,{className:v.arrow})),l.createElement("div",{style:{width:"calc(100% - ".concat(2*q,"px - ").concat(6,"px)")}},l.createElement(C.b,{noMargin:!0,justifyContent:"space-between",alignItems:"center"},l.createElement(M.a,{size:"bold-title"},t),l.createElement(E.a,{onClick:a||(r?Q(r):function(){}),label:o,icon:l.createElement(N.a,null)})),c?l.createElement("div",{style:Object(s.a)(Object(s.a)({},G.error),{},{height:J})},l.createElement(B.a,{kind:"warning"},c)):l.createElement(k.a,{classes:g,cols:I.length,cellHeight:J,spacing:12,style:G.gridList,ref:y},I.map((function(e,t){return l.createElement(T.a,{classes:b,key:e.id,tabIndex:0,onFocus:function(e){return se(e,t)},onMouseEnter:function(e){return w(e.currentTarget)},onMouseLeave:function(){return w(null)},onKeyPress:function(t){Object(L.f)(t)&&(e.link&&Q(e.link)(),e.onClick&&e.onClick())},onClick:e.link?Q(e.link):e.onClick?e.onClick:null},$(e),ee(e,t))})))),P&&l.createElement("div",{style:Object(s.a)(Object(s.a)({},G.arrowContainer),{},{width:q,marginLeft:6}),onClick:ae("right")},l.createElement(_.a,null)))},Y=n(129),q=n(430),X=n(2085),K={flex:1,display:"flex",overflowY:"scroll"},J=function(e){var t=e.children;return l.createElement(X.a,{style:Object(s.a)({},K),square:!0},t)},Z=n(610),Q=n(128),$=n(350),ee=n(192),te=n(203),ne=n(924),re=n(895),ae={image:{width:"100%",maxHeight:"300px",objectFit:"cover"}},oe=function(e){var t=e.open,n=e.onClose,r=e.showcasedGame;return l.createElement(Q.a,{maxWidth:"xs",open:t,actions:[l.createElement(E.a,{label:l.createElement(u.Trans,{id:"Close"}),key:"close",primary:!1,onClick:n})]},l.createElement(C.a,{noMargin:!0,expand:!0},l.createElement(te.a,{style:ae.image,src:r.thumbnailUrl,alt:r.title}),l.createElement(re.a,{showcasedGame:r,forceColumn:!0}),r.genres.length?l.createElement($.a,{tags:r.genres}):null,l.createElement(M.a,{size:"body2",displayInlineAsSpan:!0},l.createElement(ee.a,{source:r.description,allowParagraphs:!0})),l.createElement(C.c,null),l.createElement(ne.a,{showcasedGame:r,forceColumn:!0})))},ie=n(611),se=n(2106),ce=n(2217),le=n(743),ue=n.n(le),de=n(2218),pe=n(756),me=n(757),fe=Object(se.a)({root:{flexDirection:"column"},anchorOriginTopRightCircle:{top:5,right:5}}),he=function(e){var t=e.profile,n=e.onClick,r=e.displayNotificationBadge,a=fe();return l.createElement(me.a,{overlap:"circle",invisible:!r,classes:a},l.createElement(ce.a,{variant:"outlined",avatar:t?l.createElement(de.a,{src:Object(pe.a)(t.email||"",{size:30}),sx:{width:30,height:30}}):l.createElement(ue.a,null),label:t?t.username||t.email:l.createElement("span",null,l.createElement(u.Trans,{id:"Click to connect"})),onClick:n}))},ge=n(183),be=n(612),ve=n(928),Ee=n(374),ye=n(143),Ce=n(27),je=function(e){if(!e.authenticated)return!1;var t=e.badges;return!!(t&&t.length>0)&&t.some((function(e){return!e.seen}))},Oe=n(17),xe=n.n(Oe);n.d(t,"a",(function(){return _e}));var ke=xe()("electron"),Te={container:{display:"flex",flexDirection:"column",width:"100%"},content:{display:"flex",flexDirection:"column",flex:1,maxWidth:1200,marginTop:10,marginBottom:20,padding:0,alignSelf:"center",width:"100%"}},we=function(e){return e.slice(0,16).map((function(e){var t=e.link,n=Object(c.a)(e,["link"]);return Object(s.a)(Object(s.a)({},n),{},{onClick:function(){Object(Ce.r)(e.id),R.b.openExternalURL(t)}})}))},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Array(6).fill(0).map((function(t,n){return l.createElement(C.c,{key:"spacer".concat(n+e)})}))},Pe=l.memo(l.forwardRef((function(e,t){var n=e.project,r=e.canOpen,c=e.onOpen,d=e.onOpenRecentFile,m=e.onCreateFromExampleShortHeader,h=e.onCreateBlank,b=e.onOpenProjectAfterCreation,O=e.onOpenExamples,x=e.onOpenProjectManager,k=e.onCloseProject,T=e.onOpenTutorials,w=e.onOpenGamesShowcase,S=e.onOpenHelpFinder,P=e.onOpenLanguageDialog,_=e.onOpenProfile,I=e.setToolbar,N=function(){},A=function(){I&&I(null)},M=function(){};l.useImperativeHandle(t,(function(){return{getProject:N,updateToolbar:A,forceUpdateEditor:M}}));var L=Object(F.b)(),B=l.useContext(ge.a),D=l.useContext(ye.a).getRecentProjectFiles,U=l.useContext(q.a),G=U.tutorials,V=U.fetchTutorials,W=U.error,H=l.useContext(Z.a),X=H.allShowcasedGames,K=H.fetchShowcasedGamesAndFilters,Q=H.error,$=l.useContext(ie.a),ee=$.allExamples,te=$.fetchExamplesAndFilters,ne=$.error;l.useEffect((function(){K(),te(),V()}),[te,K,V,D]);var re=l.useState(!1),ae=Object(i.a)(re,2),se=ae[0],ce=ae[1],le=l.useState(!1),ue=Object(i.a)(le,2),de=ue[0],pe=ue[1],me=l.useState(null),fe=Object(i.a)(me,2),Ce=fe[0],Oe=fe[1],xe=l.useState(null),Pe=Object(i.a)(xe,2),_e=Pe[0],Ie=Pe[1],Ne=l.useCallback((function(e){var t=D();return t.length?t.map((function(e){return{label:e.fileMetadata.fileIdentifier,click:function(){return d(e)}}})):[{label:e._({id:"No project opened recently"}),disabled:!0}]}),[D,d]),Ae=l.useCallback((function(e){return e.filter((function(e){return e.previewImageUrls.length&&e.tags.includes("Starter")})).slice(0,16).map((function(e){return{id:e.id,title:e.name,thumbnailUrl:e.previewImageUrls.find((function(e){return e.endsWith("preview.png")}))||e.previewImageUrls[0],onClick:function(){return Ie(e)}}}))}),[]),Re=l.useCallback((function(e){return e.slice(0,16).map((function(e){return{id:e.title,title:e.title,thumbnailUrl:e.thumbnailUrl,onClick:function(){return Oe(e)}}}))}),[]),Me=function(){var e=Object(o.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(pe(!0),e.prev=1,!_e){e.next=8;break}return e.next=5,m({i18n:t,exampleShortHeader:_e,settings:n});case 5:r=e.sent,e.next=11;break;case 8:return e.next=10,h({i18n:t,settings:n});case 10:r=e.sent;case 11:if(r){e.next=13;break}return e.abrupt("return");case 13:ce(!1),Ie(null),b(Object(s.a)({},r));case 16:return e.prev=16,pe(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,,16,19]])})));return function(t,n){return e.apply(this,arguments)}}();return l.createElement(u.I18n,null,(function(e){var t=e.i18n;return l.createElement(l.Fragment,null,l.createElement(J,null,l.createElement("div",{style:Te.container},l.createElement("div",{style:Te.content},l.createElement("div",{style:{margin:"0px ".concat("small"===L?15:35,"px")}},l.createElement(Y.b,{justifyContent:"space-between"},l.createElement(he,{profile:B.profile,onClick:_,displayNotificationBadge:je(B)}),l.createElement(Y.b,{justifyContent:"flex-end",noColumnMargin:!0},!n&&l.createElement(j.a,{primary:!0,label:l.createElement(u.Trans,{id:"Create a blank project"}),onClick:function(){ce(!0)},icon:l.createElement(v.a,null)}),!n&&r&&l.createElement(Ee.a,{label:l.createElement(u.Trans,{id:"Open a project"}),onClick:c,buildMenuTemplate:Ne}),!!n&&l.createElement(l.Fragment,null,l.createElement(j.a,{label:l.createElement(u.Trans,{id:"Open Project Manager"}),onClick:x,primary:!0}),l.createElement(C.c,null),l.createElement(E.a,{label:l.createElement(u.Trans,{id:"Close project"}),onClick:function(){k()}}))))),l.createElement(z,{title:l.createElement(u.Trans,{id:"Start from an example"}),items:ee?Ae(ee):null,displayItemTitles:!0,onBrowseAllClick:O,browseAllLabel:l.createElement(u.Trans,{id:"More examples"}),error:ne&&l.createElement(l.Fragment,null,l.createElement(u.Trans,{id:"An error ocurred while loading examples."})," ",l.createElement(u.Trans,{id:"Please check your internet connection or try again later."}))}),Se(),l.createElement(z,{title:l.createElement(u.Trans,{id:"Learn game making"}),items:G?we(G):null,displayItemTitles:!1,onBrowseAllClick:T,browseAllLabel:l.createElement(u.Trans,{id:"All tutorials"}),error:W&&l.createElement(l.Fragment,null,l.createElement(u.Trans,{id:"An error ocurred while loading tutorials."})," ",l.createElement(u.Trans,{id:"Please check your internet connection or try again later."}))}),Se(6),l.createElement(z,{title:l.createElement(u.Trans,{id:"Games made by the community"}),items:X?Re(X):null,displayItemTitles:!0,onBrowseAllClick:w,browseAllLabel:l.createElement(u.Trans,{id:"Browse all"}),error:Q&&l.createElement(l.Fragment,null,l.createElement(u.Trans,{id:"An error ocurred while loading showcased games."})," ",l.createElement(u.Trans,{id:"Please check your internet connection or try again later."}))})),l.createElement(C.b,{noMargin:!0},l.createElement(Y.b,{alignItems:"center",justifyContent:"space-between",expand:!0},l.createElement(Y.b,{noMargin:!0,justifyContent:"center"},l.createElement(E.a,{icon:l.createElement(f.a,null),label:l.createElement(u.Trans,{id:"Community Forums"}),onClick:function(){return R.b.openExternalURL("https://forum.gdevelop-app.com")}}),l.createElement(E.a,{icon:l.createElement(g.a,null),label:l.createElement(u.Trans,{id:"Help and documentation"}),onClick:S}),!ke&&l.createElement(j.a,{label:l.createElement(u.Trans,{id:"Download the full desktop version"}),onClick:function(){return R.b.openExternalURL("https://gdevelop.io/download")}})),l.createElement(C.b,{noMargin:!0,alignItems:"center",justifyContent:"center"},l.createElement(y.a,{className:"icon-youtube",onClick:function(){return R.b.openExternalURL("https://www.youtube.com/c/GDevelopApp")},tooltip:{id:"Tutorials on YouTube"}}),l.createElement(y.a,{className:"icon-discord",onClick:function(){return R.b.openExternalURL("https://discord.gg/gdevelop")},tooltip:{id:"GDevelop on Discord"}}),l.createElement(y.a,{className:"icon-reddit",onClick:function(){return R.b.openExternalURL("https://www.reddit.com/r/gdevelop")},tooltip:{id:"GDevelop on Reddit"}}),l.createElement(y.a,{className:"icon-twitter",onClick:function(){return R.b.openExternalURL("https://twitter.com/GDevelopApp")},tooltip:{id:"GDevelop on Twitter"}}),l.createElement(y.a,{className:"icon-facebook",onClick:function(){return R.b.openExternalURL("https://www.facebook.com/GDevelopApp")},tooltip:{id:"GDevelop on Facebook"}}),l.createElement(E.a,{label:t.language,onClick:P,icon:l.createElement(p.a,null)})))))),Ce&&l.createElement(oe,{open:!0,onClose:function(){return Oe(null)},showcasedGame:Ce}),_e&&l.createElement(be.a,{isOpening:de,onClose:function(){return Ie(null)},exampleShortHeader:_e,onOpen:function(){ce(!0)}}),se&&l.createElement(ve.a,{open:!0,isOpening:de,onClose:function(){return ce(!1)},onCreate:function(e){return Me(t,e)}}))}))})),(function(e,t){return e.isActive||t.isActive})),_e=function(e){return l.createElement(Pe,{ref:e.ref,project:e.project,isActive:e.isActive,projectItemName:e.projectItemName,setToolbar:e.setToolbar,canOpen:e.canOpen,onOpen:e.onOpen,onOpenRecentFile:e.onOpenRecentFile,onOpenExamples:e.onOpenExamples,onCreateFromExampleShortHeader:e.onCreateFromExampleShortHeader,onCreateBlank:e.onCreateBlank,onOpenProjectAfterCreation:e.onOpenProjectAfterCreation,onOpenProjectManager:e.onOpenProjectManager,onCloseProject:e.onCloseProject,onOpenTutorials:e.onOpenTutorials,onOpenGamesShowcase:e.onOpenGamesShowcase,onOpenHelpFinder:e.onOpenHelpFinder,onOpenLanguageDialog:e.onOpenLanguageDialog,onOpenProfile:e.onOpenProfile})}},function(e,t,n){"use strict";var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n(273),u=n(312),d=n(136),p=n(117),m=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props,t=e.behavior,n=e.behaviorContent,r=e.object,a=t.getProperties(n.getContent()),o=Object(u.a)(a,(function(e){return t.getProperties(e.getContent())}),(function(e,n,r){t.updateProperty(e.getContent(),n,r)}),r);return c.createElement(p.a,{expand:!0},o.length?c.createElement(l.a,{schema:o,instances:[n]}):c.createElement(d.a,null,c.createElement(s.Trans,{id:"There is nothing to configure for this behavior. You can still use events to interact with the object and this behavior."})))}}]),n}(c.Component),f=n(26),h=n(175),g=n(154),b=n(155),v=n(141),E=n(375),y=n(260),C=n(144),j=n(148),O=function(e){var t=c.useRef(null),n=c.useState({draggedVertex:null,draggedIndex:-1}),r=Object(f.a)(n,2),a=r[0],o=r[1],i=Object(j.a)(),s=function(t,n){var r=e.width*e.zoomFactor,a=e.height*e.zoomFactor;return{frameX:Math.min(r,Math.max(t,0)),frameY:Math.min(a,Math.max(n,0))}},l={position:"absolute",top:e.frameOffsetTop||0,left:e.frameOffsetLeft||0,width:e.width*e.zoomFactor,height:e.height*e.zoomFactor,overflow:"visible"};return c.createElement("div",{style:{position:"relative",width:"100%",height:"100%"},onPointerMove:function(n){var r=e.polygonOrigin,o=e.width,c=e.height,l=e.zoomFactor,u=a.draggedVertex;if(u){var d=t.current.createSVGPoint();d.x=n.clientX,d.y=n.clientY;var p=t.current.getScreenCTM().inverse(),m=d.matrixTransform(p),f=s(m.x,m.y),h=f.frameX,g=f.frameY;u.x=h/l-e.offsetX-("Center"===r?o/2:0),u.y=g/l-e.offsetY-("Center"===r?c/2:0),i()}},onPointerUp:function(){var t=a.draggedVertex,n=a.draggedIndex;!!t&&e.onMoveVertex(n,Math.round(t?t.x:0),Math.round(t?t.y:0)),o({draggedVertex:null,draggedIndex:-1})}},c.createElement("svg",{style:l,ref:t},"Box"===e.shape&&function(){var t=e.dimensionA,n=e.dimensionB,r=e.width,a=e.height,o=e.offsetX,i=e.offsetY,s=e.zoomFactor,l=t>0?t:r>0?r:1,u=n>0?n:a>0?a:1;return c.createElement("rect",{key:"boxShape",fill:"rgba(255,0,0,0.75)",strokeWidth:1,x:(o+r/2-l/2)*s,y:(i+a/2-u/2)*s,width:l*s,height:u*s})}(),"Circle"===e.shape&&function(){var t=e.dimensionA,n=e.width,r=e.height,a=e.offsetX,o=e.offsetY,i=e.zoomFactor;return c.createElement("circle",{key:"circleShape",fill:"rgba(255,0,0,0.75)",strokeWidth:1,cx:(a+n/2)*i,cy:(o+r/2)*i,r:(t>0?t:n+r>0?(n+r)/4:1)*i})}(),"Edge"===e.shape&&function(){var t=e.dimensionA,n=e.dimensionB,r=e.width,a=e.height,o=e.offsetX,i=e.offsetY,s=e.zoomFactor,l=(t>0?t:r>0?r:1)/2,u=Math.cos(n*Math.PI/180),d=Math.sin(n*Math.PI/180);return c.createElement("line",{key:"edgeShape",stroke:"rgba(255,0,0,0.75)",strokeWidth:2,x1:(o+r/2-l*u)*s,y1:(i+a/2-l*d)*s,x2:(o+r/2+l*u)*s,y2:(i+a/2+l*d)*s})}(),"Polygon"===e.shape&&function(){var t=e.vertices,n=e.polygonOrigin,r=e.width,i=e.height,s=e.offsetX,l=e.offsetY,u=e.zoomFactor;return c.createElement(c.Fragment,null,c.createElement("polygon",{key:"polygonShape",fill:"rgba(255,0,0,0.75)",strokeWidth:1,fillRule:"evenodd",points:t.map((function(e){return"".concat((e.x+s+("Center"===n?r/2:0))*u,",").concat((e.y+l+("Center"===n?i/2:0))*u)})).join(" ")}),t.map((function(e,t){return c.createElement("circle",{onPointerDown:function(){return function(e,t){a.draggedVertex||o({draggedVertex:e,draggedIndex:t})}(e,t)},key:"vertex-".concat(t),fill:"rgba(150,0,0,0.75)",strokeWidth:1,style:{cursor:"move"},cx:(e.x+s+("Center"===n?r/2:0))*u,cy:(e.y+l+("Center"===n?i/2:0))*u,r:5})})))}()))},x=n(254),k=n(305),T=n.n(k),w=n(138),S=n(153),P=n(681),_=n.n(P),I=n(221),N=n.n(I),A=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"_isPolygonConvex",value:function(e){for(var t=[],n=null,r=null,a=0;a<e.length;a++)n=e[a],r=a+1>=e.length?e[0]:e[a+1],t.push({x:r.x-n.x,y:r.y-n.y});if(t.length<3)return!1;for(var o=t[0].x*t[1].y-t[0].y*t[1].x>0,i=1;i<t.length-1;++i){if(t[i].x*t[i+1].y-t[i].y*t[i+1].x>0!==o)return!1}if(t[t.length-1].x*t[0].y-t[t.length-1].y*t[0].x>0!==o)return!1;for(var s=0;s<e.length-1;++s)for(var c=s+1;c<e.length;++c)if(e[s].x===e[c].x&&e[s].y===e[c].y)return!1;for(var l=!0,u=!0,d=0;d<e.length-1;++d)e[d].x!==e[d+1].x&&(l=!1),e[d].y!==e[d+1].y&&(u=!1);return!l&&!u}},{key:"render",value:function(){var e=this,t=this.props,n=t.vertices,r=t.onChangeVertexX,a=t.onChangeVertexY,o=t.onAdd,i=t.onRemove;return c.createElement(S.a,null,(function(t){return c.createElement(x.a,null,c.createElement(x.c,null,c.createElement(x.e,null,c.createElement(x.d,null),c.createElement(x.d,null,"X"),c.createElement(x.d,null,"Y"),c.createElement(x.f,null))),c.createElement(x.b,null,n.map((function(o,s){return c.createElement(x.e,{key:"vertexRow".concat(s),style:{backgroundColor:t.list.itemsBackgroundColor}},c.createElement(x.f,null,!e._isPolygonConvex(n)&&c.createElement(T.a,null)),c.createElement(x.f,null,c.createElement(v.a,{margin:"none",fullWidth:!0,value:o.x.toString(10),onChange:function(e){return r(parseFloat(e)||0,s)},type:"number"})),c.createElement(x.f,null,c.createElement(v.a,{margin:"none",fullWidth:!0,value:o.y.toString(10),onChange:function(e){return a(parseFloat(e)||0,s)},type:"number"})),c.createElement(x.f,null,c.createElement(w.a,{size:"small",onClick:function(){return i(s)}},c.createElement(N.a,null))))})),c.createElement(x.e,null,c.createElement(x.f,null),c.createElement(x.f,null),c.createElement(x.f,null),c.createElement(x.f,null,c.createElement(w.a,{onClick:o},c.createElement(_.a,null))))))}))}}]),n}(c.Component),R=n(125),M=n(209),F=n(129),L=n(2092),B=n(2131),D=function(e){var t=e.properties,n=e.propertyName,r=e.step,a=e.onUpdate;return c.createElement(v.a,{fullWidth:!0,value:t.get(n).getValue(),key:n,floatingLabelText:t.get(n).getLabel(),step:r,onChange:a,type:"number"})},U=function(e){return c.createElement("div",{style:{overflowX:"auto",flex:1}},c.createElement(B.a,{disableElevation:!0,fullWidth:!0},e.bits.map((function(t,n){return c.createElement(L.a,{key:n,variant:t?"contained":"outlined",color:t?"primary":"default",onClick:function(){return e.onChange(n,!t)}},n+1)}))))},G=function(e){var t=c.useRef(C.a).current,n=c.useState(""),r=Object(f.a)(n,2),a=r[0],o=r[1],i=e.behavior,l=e.behaviorContent,u=Object(j.a)(),m=function(e,t){return!!(e&1<<t)},x=function(e,t,n){return n?e|=1<<t:e&=~(1<<t),e},k=i.getProperties(l.getContent()),T=Array(16).fill(null),w=k.get("shape").getValue(),S=parseInt(k.get("layers").getValue(),10),P=parseInt(k.get("masks").getValue(),10);return c.createElement(p.a,{expand:!0,noOverflowParent:!0},c.createElement(p.b,null,c.createElement(g.a,{key:"bodyType",fullWidth:!0,floatingLabelText:k.get("bodyType").getLabel(),value:k.get("bodyType").getValue(),onChange:function(e,t,n){i.updateProperty(l.getContent(),"bodyType",n),u()}},[c.createElement(b.a,{key:"dynamic",value:"Dynamic",primaryText:{id:"Dynamic"}}),c.createElement(b.a,{key:"static",value:"Static",primaryText:{id:"Static"}}),c.createElement(b.a,{key:"kinematic",value:"Kinematic",primaryText:{id:"Kinematic"}})])),c.createElement(F.b,null,c.createElement(h.a,{label:k.get("bullet").getLabel(),checked:"true"===k.get("bullet").getValue(),onCheck:function(e,t){i.updateProperty(l.getContent(),"bullet",t?"1":"0"),u()}}),c.createElement(h.a,{label:k.get("fixedRotation").getLabel(),checked:"true"===k.get("fixedRotation").getValue(),onCheck:function(e,t){i.updateProperty(l.getContent(),"fixedRotation",t?"1":"0"),u()}}),c.createElement(h.a,{label:k.get("canSleep").getLabel(),checked:"true"===k.get("canSleep").getValue(),onCheck:function(e,t){i.updateProperty(l.getContent(),"canSleep",t?"1":"0"),u()}})),c.createElement(p.b,null,c.createElement(M.a,{identifier:"physics2-shape-collisions",kind:"info"},c.createElement(s.Trans,{id:'The shape used in the Physics behavior is independent from the collision mask of the object. Be sure to use the "Collision" condition provided by the Physics behavior in the events. The usual "Collision" condition won\'t take into account the shape that you\'ve set up here.'}))),c.createElement(p.b,null,c.createElement(g.a,{fullWidth:!0,floatingLabelText:k.get("shape").getLabel(),value:k.get("shape").getValue(),onChange:function(e,t,n){i.updateProperty(l.getContent(),"shape",n),u()}},c.createElement(b.a,{key:"box",value:"Box",primaryText:{id:"Box"}}),c.createElement(b.a,{key:"circle",value:"Circle",primaryText:{id:"Circle"}}),c.createElement(b.a,{key:"edge",value:"Edge",primaryText:{id:"Edge"}}),c.createElement(b.a,{key:"polygon",value:"Polygon",primaryText:{id:"Polygon"}}))),c.createElement(F.b,null,"Polygon"!==w&&c.createElement(v.a,{fullWidth:!0,value:k.get("Polygon"===w?"PolygonOriginX":"shapeDimensionA").getValue(),key:"shapeDimensionA",floatingLabelText:"Circle"===w?"Radius":"Edge"===w?"Length":"Width",min:0,onChange:function(e){i.updateProperty(l.getContent(),"Polygon"===w?"PolygonOriginX":"shapeDimensionA",e),u()},type:"number"}),"Polygon"!==w&&"Circle"!==w&&c.createElement(v.a,{fullWidth:!0,value:k.get("Polygon"===w?"PolygonOriginY":"shapeDimensionB").getValue(),key:"shapeDimensionB",floatingLabelText:"Edge"===w?"Angle":"Height",min:"Edge"===w?void 0:0,onChange:function(e){i.updateProperty(l.getContent(),"Polygon"===w?"PolygonOriginY":"shapeDimensionB",e),u()},type:"number"}),"Polygon"===w&&c.createElement(g.a,{fullWidth:!0,floatingLabelText:k.get("polygonOrigin").getLabel(),value:k.get("polygonOrigin").getValue(),onChange:function(e,t,n){i.updateProperty(l.getContent(),"polygonOrigin",n),u()}},[c.createElement(b.a,{key:"center",value:"Center",primaryText:{id:"Center"}}),c.createElement(b.a,{key:"origin",value:"Origin",primaryText:{id:"Origin"}}),c.createElement(b.a,{key:"topLeft",value:"TopLeft",primaryText:{id:"Top-Left"}})]),c.createElement(D,{properties:k,propertyName:"shapeOffsetX",step:1,onUpdate:function(e){i.updateProperty(l.getContent(),"shapeOffsetX",e),u()}}),c.createElement(D,{properties:k,propertyName:"shapeOffsetY",step:1,onUpdate:function(e){i.updateProperty(l.getContent(),"shapeOffsetY",e),u()}})),c.createElement(p.b,null,c.createElement(y.a,{floatingLabelText:c.createElement(s.Trans,{id:"A temporary image to help you visualize the shape/polygon"}),project:e.project,resourceSources:e.resourceSources,onChooseResource:e.onChooseResource,resourceExternalEditors:e.resourceExternalEditors,resourcesLoader:t,resourceKind:"image",initialResourceName:"",fullWidth:!0,onChange:function(e){o(e),u()}})),!a&&c.createElement(p.b,null,c.createElement(d.a,null,c.createElement(s.Trans,{id:"To preview the shape that the Physics engine will use for this object, choose first a temporary image to use for the preview."}))),a&&c.createElement(p.b,null,c.createElement("div",{style:{width:"100%"}},c.createElement(E.a,{resourceName:a,project:e.project,resourcesLoader:t,fixedHeight:200,renderOverlay:function(e){var t=i.getProperties(l.getContent());return c.createElement(O,{shape:t.get("shape").getValue(),dimensionA:parseFloat(t.get("shapeDimensionA").getValue()),dimensionB:parseFloat(t.get("shapeDimensionB").getValue()),offsetX:parseFloat(t.get("shapeOffsetX").getValue()),offsetY:parseFloat(t.get("shapeOffsetY").getValue()),polygonOrigin:t.get("polygonOrigin").getValue(),vertices:JSON.parse(t.get("vertices").getValue()),width:e.imageWidth,height:e.imageHeight,frameOffsetTop:e.offsetTop,frameOffsetLeft:e.offsetLeft,zoomFactor:e.imageZoomFactor,onMoveVertex:function(e,n,r){var a=JSON.parse(t.get("vertices").getValue());a[e].x=n,a[e].y=r,i.updateProperty(l.getContent(),"vertices",JSON.stringify(a)),u()}})}}))),"Polygon"===w&&c.createElement(p.b,null,c.createElement(A,{vertices:JSON.parse(k.get("vertices").getValue()),onChangeVertexX:function(e,t){var n=JSON.parse(k.get("vertices").getValue());n[t].x=e,i.updateProperty(l.getContent(),"vertices",JSON.stringify(n)),u()},onChangeVertexY:function(e,t){var n=JSON.parse(k.get("vertices").getValue());n[t].y=e,i.updateProperty(l.getContent(),"vertices",JSON.stringify(n)),u()},onAdd:function(){var e=JSON.parse(k.get("vertices").getValue());e.length>=8||(e.push({x:0,y:0}),i.updateProperty(l.getContent(),"vertices",JSON.stringify(e)),u())},onRemove:function(e){var t=JSON.parse(k.get("vertices").getValue());t.splice(e,1),i.updateProperty(l.getContent(),"vertices",JSON.stringify(t)),u()}})),c.createElement(F.b,null,c.createElement(D,{properties:k,propertyName:"density",step:.1,onUpdate:function(e){i.updateProperty(l.getContent(),"density",parseFloat(e)>0?e:"0"),u()}}),c.createElement(D,{properties:k,propertyName:"gravityScale",step:.1,onUpdate:function(e){i.updateProperty(l.getContent(),"gravityScale",e),u()}})),c.createElement(F.b,null,c.createElement(D,{properties:k,propertyName:"friction",step:.1,onUpdate:function(e){i.updateProperty(l.getContent(),"friction",parseFloat(e)>0?e:"0"),u()}}),c.createElement(D,{properties:k,propertyName:"restitution",step:.1,onUpdate:function(e){i.updateProperty(l.getContent(),"restitution",parseFloat(e)>0?e:"0"),u()}})),c.createElement(F.b,null,c.createElement(D,{properties:k,propertyName:"linearDamping",step:.05,onUpdate:function(e){i.updateProperty(l.getContent(),"linearDamping",e),u()}}),c.createElement(D,{properties:k,propertyName:"angularDamping",step:.05,onUpdate:function(e){i.updateProperty(l.getContent(),"angularDamping",e),u()}})),c.createElement(p.b,null,c.createElement(R.a,{style:{marginRight:10}},k.get("layers").getLabel()),c.createElement(U,{bits:T.map((function(e,t){return m(S,t)})),onChange:function(e,t){var n=x(S,e,t);i.updateProperty(l.getContent(),"layers",n.toString(10)),u()}})),c.createElement(p.b,null,c.createElement(R.a,{style:{marginRight:10}},k.get("masks").getLabel()),c.createElement(U,{bits:T.map((function(e,t){return m(P,t)})),onChange:function(e,t){var n=x(P,e,t);i.updateProperty(l.getContent(),"masks",n.toString(10)),u()}})))};t.a={getEditor(e){return this.components[e]?this.components[e].component:m},components:{"Physics2::Physics2Behavior":{component:G}}}},function(e,t,n){"use strict";var r=n(26),a=n(115),o=n(15),i=n.n(o),s=n(154),c=n(124),l=n(155),u=n(502),d=n(128),p=n(117),m=n(923),f=n(921),h=n(16),g=n(17),b=n.n(g),v=n(143),E=n(125),y=n(129),C=n(172),j=n(127),O=n(2086),x=n(2091),k=n(2085),T=n(292),w={shortcutBox:{padding:15,textAlign:"center"}},S=function(e){var t=o.useState(""),n=Object(r.a)(t,2),i=n[0],s=n[1],l=o.useState(!1),u=Object(r.a)(l,2),p=u[0],m=u[1];return o.useEffect((function(){var e=function(e){e.preventDefault();var t=Object(T.c)(e);"keyup"!==e.type&&(m(t.isValid),s(t.shortcutString))};return document.addEventListener("keyup",e),document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e),document.removeEventListener("keyup",e)}}),[]),o.createElement(d.a,{open:!0,title:o.createElement(a.Trans,{id:"Set shortcut"}),onRequestClose:e.onClose,cannotBeDismissed:!1,maxWidth:"xs",actions:[o.createElement(c.a,{key:"Cancel",label:o.createElement(a.Trans,{id:"Cancel"}),onClick:e.onClose}),o.createElement(c.a,{label:o.createElement(a.Trans,{id:"Set shortcut"}),primary:!0,key:"Set",onClick:function(){i&&e.onSet(i),e.onClose()},disabled:!p})],secondaryActions:[o.createElement(c.a,{key:"Remove",label:o.createElement(a.Trans,{id:"Remove shortcut"}),onClick:function(){e.onSet(""),e.onClose()}})]},o.createElement(x.a,null,e.commandText),o.createElement(k.a,{variant:"outlined",style:w.shortcutBox},o.createElement(x.a,null,i?Object(T.b)(i):o.createElement(a.Trans,{id:"Press a shortcut combination..."}))))},P=n(209),_=n(504),I=n(2083),N=n(2090),A=n(2103),R=n(2217),M=n(138),F=n(1106),L=n.n(F),B=n(305),D=n.n(B),U=n(345),G={shortcutChip:{borderRadius:3}},V=function(e){return o.createElement(I.a,null,o.createElement(N.a,{primary:e.i18n._(U.b[e.commandName].displayText)}),o.createElement(A.a,null,e.isClashing&&o.createElement(M.a,{tooltip:{id:"This shortcut clashes with another action."}},o.createElement(D.a,null)),o.createElement(R.a,{style:G.shortcutChip,label:e.shortcutString||o.createElement(a.Trans,{id:"No shortcut"}),onClick:e.onEditShortcut,title:e.i18n._({id:"Edit shortcut"}),color:e.shortcutString?"secondary":"default"}),!e.isDefault&&o.createElement(M.a,{onClick:e.onResetShortcut,tooltip:{id:"Reset to default"}},o.createElement(L.a,null))))},W=function(e){var t=o.useState(null),n=Object(r.a)(t,2),i=n[0],s=n[1],c=function(e){var t={},n={};return Object.keys(U.b).filter((function(e){return!U.b[e].noShortcut})).forEach((function(r){var a=U.b[r].area;t[a]||(t[a]=[]),t[a].push(r);var o=e[r],i=_.a[r]||"",s=o||i;""!==s&&(n[s]=(n[s]||[]).concat(r))})),[t,n]}(e.userShortcutMap),l=Object(r.a)(c,2),u=l[0],d=l[1],m=Object(T.b)(e.userShortcutMap.OPEN_COMMAND_PALETTE||_.a.OPEN_COMMAND_PALETTE);return o.createElement(o.Fragment,null,o.createElement(p.b,null,o.createElement(P.a,{kind:"info",identifier:"command-palette-shortcut"},o.createElement(a.Trans,{id:"You can open the command palette by pressing"})," ",m)),o.createElement(p.b,null,o.createElement(j.a,{label:o.createElement(a.Trans,{id:"Reset all shortcuts to default"}),onClick:function(){h.b.showConfirmDialog(e.i18n._({id:"Are you sure you want to reset all shortcuts to their default values?"}),"question")&&e.onReset()}})),o.createElement(O.a,null,Object.keys(u).map((function(t){return o.createElement(o.Fragment,{key:t},o.createElement(E.a,{size:"title"},e.i18n._(U.a[t])),u[t].map((function(t){var n=e.userShortcutMap[t],r=_.a[t]||"",a=n||r,i=Object(T.b)(a),c=d[a],l=c&&c.length>1;return o.createElement(V,{i18n:e.i18n,key:t,shortcutString:i,commandName:t,isDefault:!n,isClashing:l,onEditShortcut:function(){return s(t)},onResetShortcut:function(){return function(t){e.onEdit(t,_.a[t])}(t)}})})))}))),i&&o.createElement(S,{commandText:e.i18n._(U.b[i].displayText),onClose:function(){return s(null)},onSet:function(t){e.onEdit(i,t)}}))},H=b()("electron");t.a=function(e){var t=e.i18n,n=e.onClose,o=i.a.useState("preferences"),g=Object(r.a)(o,2),b=g[0],O=g[1],x=i.a.useContext(v.a),k=x.values,T=x.setThemeName,w=x.setCodeEditorThemeName,S=x.setAutoDownloadUpdates,P=x.showAllAlertMessages,_=x.showAllTutorialHints,I=x.setAutoDisplayChangelog,N=x.setEventsSheetShowObjectThumbnails,A=x.setAutosaveOnPreview,R=x.setUseNewInstructionEditorDialog,M=x.setUseUndefinedVariablesInAutocompletion,F=x.setUseGDJSDevelopmentWatcher,L=x.setEventsSheetUseAssignmentOperators,B=x.getDefaultEditorMosaicNode,D=x.setDefaultEditorMosaicNode,U=x.setAutoOpenMostRecentProject,G=x.resetShortcutsToDefault,V=x.setShortcutForCommand,z=x.setIsMenuBarHiddenInPreview,Y=x.setBackdropClickBehavior,q=x.setIsAlwaysOnTopInPreview,X=x.setEventsSheetCancelInlineParameter;return i.a.createElement(d.a,{actions:[i.a.createElement(c.a,{key:"close",label:i.a.createElement(a.Trans,{id:"Close"}),primary:!1,onClick:n})],onRequestClose:n,cannotBeDismissed:!0,open:!0,noTitleMargin:!0,maxWidth:"sm",noMargin:!0,title:i.a.createElement(C.b,{value:b,onChange:O},i.a.createElement(C.a,{label:i.a.createElement(a.Trans,{id:"Preferences"}),value:"preferences"}),i.a.createElement(C.a,{label:i.a.createElement(a.Trans,{id:"Keyboard Shortcuts"}),value:"shortcuts"}))},"preferences"===b&&i.a.createElement(p.a,null,i.a.createElement(E.a,{size:"title"},i.a.createElement(a.Trans,{id:"Appearance"})),i.a.createElement(y.b,{noMargin:!0},i.a.createElement(s.a,{floatingLabelText:i.a.createElement(a.Trans,{id:"UI Theme"}),value:k.themeName,onChange:function(e,t,n){return T(n)},fullWidth:!0},Object.keys(m.b).map((function(e){return i.a.createElement(l.a,{value:e,primaryText:e,key:e})}))),i.a.createElement(s.a,{floatingLabelText:i.a.createElement(a.Trans,{id:"Code editor Theme"}),value:k.codeEditorThemeName,onChange:function(e,t,n){return w(n)},fullWidth:!0},Object(f.a)().map((function(e){return i.a.createElement(l.a,{value:e.themeName,primaryText:e.name,key:e.themeName})})))),i.a.createElement(p.b,{noMargin:!0},i.a.createElement(E.a,null,i.a.createElement(a.Trans,{id:"You can contribute and create your own themes:"})),i.a.createElement(c.a,{label:i.a.createElement(a.Trans,{id:"Learn more"}),onClick:function(){h.b.openExternalURL("https://github.com/4ian/GDevelop/tree/master/newIDE#theming")}})),i.a.createElement(E.a,{size:"title"},i.a.createElement(a.Trans,{id:"Layouts"})),i.a.createElement(p.b,null,i.a.createElement(p.a,null,i.a.createElement(j.a,{label:i.a.createElement(a.Trans,{id:"Reset Scene Editor layout"}),onClick:function(){return D("scene-editor",null)},disabled:!B("scene-editor")}),i.a.createElement(p.c,null),i.a.createElement(j.a,{label:i.a.createElement(a.Trans,{id:"Reset Scene Editor (small window) layout"}),onClick:function(){return D("scene-editor-small",null)},disabled:!B("scene-editor-small")}),i.a.createElement(p.c,null),i.a.createElement(j.a,{label:i.a.createElement(a.Trans,{id:"Reset Debugger layout"}),onClick:function(){return D("debugger",null)},disabled:!B("debugger")}),i.a.createElement(p.c,null),i.a.createElement(j.a,{label:i.a.createElement(a.Trans,{id:"Reset Resource Editor layout"}),onClick:function(){return D("resources-editor",null)},disabled:!B("resources-editor")}),i.a.createElement(p.c,null),i.a.createElement(j.a,{label:i.a.createElement(a.Trans,{id:"Reset Extension Editor layout"}),onClick:function(){return D("events-functions-extension-editor",null)},disabled:!B("events-functions-extension-editor")}))),i.a.createElement(E.a,{size:"title"},i.a.createElement(a.Trans,{id:"Dialogs"})),i.a.createElement(p.b,null,i.a.createElement(s.a,{floatingLabelText:i.a.createElement(a.Trans,{id:"Dialog backdrop click behavior"}),value:k.backdropClickBehavior,onChange:function(e,t,n){return Y(n)},fullWidth:!0},i.a.createElement(l.a,{value:"cancel",primaryText:{id:"Cancel changes"}}),i.a.createElement(l.a,{value:"apply",primaryText:{id:"Apply changes"}}),i.a.createElement(l.a,{value:"nothing",primaryText:{id:"Do nothing"}}))),i.a.createElement(E.a,{size:"title"},i.a.createElement(a.Trans,{id:"Updates"})),i.a.createElement(p.b,null,i.a.createElement(u.a,{onToggle:function(e,t){return S(t)},toggled:k.autoDownloadUpdates,labelPosition:"right",label:i.a.createElement(a.Trans,{id:"Auto download and install updates (recommended)"})})),i.a.createElement(p.b,null,i.a.createElement(u.a,{onToggle:function(e,t){return I(t)},toggled:k.autoDisplayChangelog,labelPosition:"right",label:i.a.createElement(a.Trans,{id:"Display What's New when a new version is launched (recommended)"})})),i.a.createElement(E.a,{size:"title"},i.a.createElement(a.Trans,{id:"Events Sheet"})),i.a.createElement(p.b,null,i.a.createElement(u.a,{onToggle:function(e,t){return N(t)},toggled:k.eventsSheetShowObjectThumbnails,labelPosition:"right",label:i.a.createElement(a.Trans,{id:"Display object thumbnails in Events Sheets"})})),i.a.createElement(p.b,null,i.a.createElement(u.a,{onToggle:function(e,t){return L(t)},toggled:k.eventsSheetUseAssignmentOperators,labelPosition:"right",label:i.a.createElement(a.Trans,{id:"Display assignment operators in Events Sheets"})})),i.a.createElement(p.b,null,i.a.createElement(u.a,{onToggle:function(e,t){return R(t)},toggled:k.useNewInstructionEditorDialog,labelPosition:"right",label:i.a.createElement(a.Trans,{id:"Use the new action/condition editor"})})),i.a.createElement(p.b,null,i.a.createElement(u.a,{onToggle:function(e,t){return M(t)},toggled:k.useUndefinedVariablesInAutocompletion,labelPosition:"right",label:i.a.createElement(a.Trans,{id:"Suggest names of variables used in events but not declared in the list of variables"})})),i.a.createElement(p.b,null,i.a.createElement(s.a,{floatingLabelText:i.a.createElement(a.Trans,{id:"Escape key behavior when editing an parameter inline"}),value:k.eventsSheetCancelInlineParameter,onChange:function(e,t,n){X(n)},fullWidth:!0},i.a.createElement(l.a,{value:"cancel",primaryText:{id:"Cancel changes"}}),i.a.createElement(l.a,{value:"apply",primaryText:{id:"Apply changes"}}))),i.a.createElement(E.a,{size:"title"},i.a.createElement(a.Trans,{id:"Embedded help and tutorials"})),i.a.createElement(p.b,null,i.a.createElement(p.a,{noMargin:!0},i.a.createElement(p.b,null,i.a.createElement(j.a,{label:i.a.createElement(a.Trans,{id:"Reset hidden embedded explanations"}),onClick:function(){return P()},disabled:!Object.keys(k.hiddenAlertMessages).length})),i.a.createElement(p.b,null,i.a.createElement(j.a,{label:i.a.createElement(a.Trans,{id:"Reset hidden embedded tutorials"}),onClick:function(){return _()},disabled:!Object.keys(k.hiddenTutorialHints).length})))),i.a.createElement(E.a,{size:"title"},i.a.createElement(a.Trans,{id:"Advanced"})),i.a.createElement(p.b,null,i.a.createElement(u.a,{onToggle:function(e,t){return A(t)},toggled:k.autosaveOnPreview,labelPosition:"right",label:i.a.createElement(a.Trans,{id:"Auto-save project on Preview"})})),i.a.createElement(p.b,null,i.a.createElement(u.a,{onToggle:function(e,t){return U(t)},toggled:k.autoOpenMostRecentProject,labelPosition:"right",label:i.a.createElement(a.Trans,{id:"Automatically re-open the project edited during last session"})})),H&&i.a.createElement(i.a.Fragment,null,i.a.createElement(p.b,null,i.a.createElement(u.a,{onToggle:function(e,t){return z(t)},toggled:k.isMenuBarHiddenInPreview,labelPosition:"right",label:i.a.createElement(a.Trans,{id:"Hide the menu bar in the preview window"})})),i.a.createElement(p.b,null,i.a.createElement(u.a,{onToggle:function(e,t){return q(t)},toggled:k.isAlwaysOnTopInPreview,labelPosition:"right",label:i.a.createElement(a.Trans,{id:"Always display the preview window on top of the editor"})}))),h.b.isDev()&&i.a.createElement(p.b,null,i.a.createElement(u.a,{onToggle:function(e,t){return F(t)},toggled:k.useGDJSDevelopmentWatcher,labelPosition:"right",label:i.a.createElement(a.Trans,{id:"Watch changes in game engine (GDJS) sources and auto import them (dev only)"})}))),"shortcuts"===b&&i.a.createElement(p.a,null,i.a.createElement(W,{i18n:t,userShortcutMap:k.userShortcutMap,onEdit:V,onReset:G})))}},function(e,t,n){"use strict";var r=n(119),a=n(3),o=n(4),i=n(6),s=n(5),c=n(115),l=n(15),u=n.n(l),d=n(251),p=n(167),m=n(131),f=n(510),h=n(310),g=n(322),b=n.n(g),v=n(284),E=n.n(v),y=n(1664),C=n.n(y),j=n(138),O=n(221),x=n.n(O),k=n(135),T=n(402),w=n(186),S=n(347),P=n.n(S),_=n(1665),I=n.n(_),N=n(533),A=n.n(N),R=n(2121),M=function(e){return l.createElement(R.a,e)},F=n(356),L=function(e){var t=e.layout,n=e.onBackgroundColorChanged;return u.a.createElement(c.I18n,null,(function(e){var r=e.i18n;return u.a.createElement(f.b,null,u.a.createElement(f.a,null,u.a.createElement(T.a,{disabled:!0})),u.a.createElement(f.a,{expand:!0},u.a.createElement(k.b,{fullWidth:!0,value:r._({id:"Background color"}),margin:"none",disabled:!0})),u.a.createElement(f.a,null,u.a.createElement(F.a,{disableAlpha:!0,color:{r:t.getBackgroundColorRed(),g:t.getBackgroundColorGreen(),b:t.getBackgroundColorBlue(),a:255},onChangeComplete:function(e){t.setBackgroundColor(e.rgb.r,e.rgb.g,e.rgb.b),n()}})))}))},B=n(117),D=n(173),U=n.n(D),G=n(164),V=n(884),W=n(160),H=n(374);n.d(t,"a",(function(){return X}));var z=Object(d.SortableElement)((function(e){var t=e.layerName,n=e.nameError,r=e.onBlur,a=e.onRemove,o=e.isVisible,i=e.effectsCount,s=e.onEditEffects,l=e.onChangeVisibility,d=e.width,p=e.isLightingLayer,m=e.onEdit;return u.a.createElement(c.I18n,null,(function(e){var g=e.i18n;return u.a.createElement(f.b,null,u.a.createElement(f.a,null,u.a.createElement(T.a,null)),u.a.createElement(f.a,{expand:!0},u.a.createElement(k.b,{margin:"none",defaultValue:t||g._({id:"Base layer"}),id:t,errorText:n?u.a.createElement(c.Trans,{id:"This name is already taken"}):void 0,disabled:!t,onBlur:r,fullWidth:!0})),u.a.createElement(f.a,null,d<350?u.a.createElement(w.a,{element:u.a.createElement(j.a,{size:"small"},u.a.createElement(P.a,null)),buildMenuTemplate:function(e){return[{label:p?e._({id:"Edit lighting properties"}):e._({id:"Edit properties"}),click:m},{label:e._({id:"Edit effects ({effectsCount})",values:{effectsCount:i}}),click:s},{type:"checkbox",label:e._({id:"Visible"}),checked:o,click:function(){return l(!o)}},{type:"separator"},{label:e._({id:"Delete"}),enabled:!!t,click:a}]}}):u.a.createElement(u.a.Fragment,null,u.a.createElement(h.a,{checked:o,checkedIcon:u.a.createElement(b.a,null),uncheckedIcon:u.a.createElement(E.a,null),onCheck:function(e,t){return l(t)},tooltipOrHelperText:o?u.a.createElement(c.Trans,{id:"Hide layer"}):u.a.createElement(c.Trans,{id:"Show layer"})}),u.a.createElement(j.a,{size:"small",onClick:s,tooltip:{id:"Edit effects ({effectsCount})",values:{effectsCount:i}}},u.a.createElement(M,{badgeContent:i,color:"primary"},u.a.createElement(C.a,null))),u.a.createElement(j.a,{size:"small",onClick:m,tooltip:p?{id:"Edit lighting properties"}:{id:"Edit properties"}},p?u.a.createElement(I.a,null):u.a.createElement(A.a,null)),u.a.createElement(j.a,{size:"small",onClick:a,disabled:!t,tooltip:{id:"Delete the layer"}},u.a.createElement(x.a,null)))))}))})),Y=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={nameErrors:{}},e._onLayerModified=function(){e.props.unsavedChanges&&e.props.unsavedChanges.triggerUnsavedChanges(),e.forceUpdate()},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.layersContainer,a=t.onEditEffects,o=t.onEdit,i=t.width,s=n.getLayersCount(),c=Object(m.mapReverseFor)(0,s,(function(t){var c=n.getLayerAt(t),l=c.getName(),d=c.isLightingLayer();return u.a.createElement(z,{index:s-1-t,key:"layer-"+l,layer:c,layerName:l,isLightingLayer:d,nameError:e.state.nameErrors[l],effectsCount:c.getEffects().getEffectsCount(),onEditEffects:function(){return a(c)},onEdit:function(){return o(c)},onBlur:function(t){var a=t.target.value;if(l!==a){var o=!0;n.hasLayerNamed(a)?o=!1:e.props.onRenameLayer(l,a,(function(e){e&&n.getLayer(l).setName(a)})),e.setState({nameErrors:Object(r.a)(Object(r.a)({},e.state.nameErrors),{},{[l]:!o})})}},onRemove:function(){e.props.onRemoveLayer(l,(function(t){t&&(n.removeLayer(l),e._onLayerModified())}))},isVisible:c.getVisibility(),onChangeVisibility:function(t){c.setVisibility(t),e._onLayerModified()},width:i})}));return u.a.createElement(B.a,{noMargin:!0,expand:!0},c,u.a.createElement(L,{layout:n,onBackgroundColorChanged:function(){return e._onLayerModified()}}))}}]),n}(l.Component),q=Object(d.SortableContainer)(Y),X=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o)))._addLayer=function(){var t=e.props.layersContainer,n=Object(p.a)("Layer",(function(e){return t.hasLayerNamed(e)}));t.insertNewLayer(n,t.getLayersCount()),e._onLayerModified()},e._addLightingLayer=function(){var t=e.props.layersContainer,n=Object(p.a)("Lighting",(function(e){return t.hasLayerNamed(e)}));t.insertNewLayer(n,t.getLayersCount());var r=t.getLayer(n);r.setLightingLayer(!0),r.setFollowBaseLayerCamera(!0),r.setAmbientLightColor(200,200,200),e._onLayerModified()},e._onLayerModified=function(){e.props.unsavedChanges&&e.props.unsavedChanges.triggerUnsavedChanges(),e.forceUpdate()},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props.layersContainer.ptr,n=function(e){var t=e.getLayersCount();return Object(m.mapReverseFor)(0,t,(function(t){return e.getLayerAt(t).isLightingLayer()})).filter(Boolean).length>0}(this.props.layersContainer);return u.a.createElement(W.a,null,u.a.createElement(G.a,{autoHideScrollbar:!0},u.a.createElement(V.a,null,(function(n){var r=n.width;return u.a.createElement(q,{key:t,layersContainer:e.props.layersContainer,onEditEffects:e.props.onEditLayerEffects,onEdit:e.props.onEditLayer,onRemoveLayer:e.props.onRemoveLayer,onRenameLayer:e.props.onRenameLayer,onSortEnd:function(t){var n=t.oldIndex,r=t.newIndex,a=e.props.layersContainer.getLayersCount();e.props.layersContainer.moveLayer(a-1-n,a-1-r),e._onLayerModified()},helperClass:"sortable-helper",useDragHandle:!0,unsavedChanges:e.props.unsavedChanges,width:r})})),u.a.createElement(B.a,null,u.a.createElement(B.b,{justifyContent:"flex-end",expand:!0},u.a.createElement(H.a,{label:u.a.createElement(c.Trans,{id:"Add a layer"}),primary:!0,onClick:this._addLayer,icon:u.a.createElement(U.a,null),buildMenuTemplate:function(t){return[{label:t._({id:"Add lighting layer"}),enabled:!n,click:e._addLightingLayer}]}})))))}}]),n}(l.Component)},function(e,t,n){"use strict";var r=n(246),a=n(15),o=n(226),i=n(227),s=function(e,t,n,r){return Object(o.c)(e,t).containerObjectsList.map((function(t){return{text:t.object.getName(),handler:function(){return n(t.object,r)},iconSrc:i.a.getThumbnail.bind(i.a)(e,t.object)}}))},c=function(e){var t=e.project,n=e.layout,o=e.onEditObject,i=e.onEditObjectVariables;Object(r.b)("EDIT_OBJECT",!0,{generateOptions:a.useCallback((function(){return s(t,n,o)}),[t,n,o])}),Object(r.b)("EDIT_OBJECT_BEHAVIORS",!0,{generateOptions:a.useCallback((function(){return s(t,n,o,"behaviors")}),[t,n,o])}),Object(r.b)("EDIT_OBJECT_EFFECTS",!0,{generateOptions:a.useCallback((function(){return s(t,n,o,"effects")}),[t,n,o])}),Object(r.b)("EDIT_OBJECT_VARIABLES",!0,{generateOptions:a.useCallback((function(){return s(t,n,i)}),[t,n,i])})},l=n(18),u=function(e){var t=e.project,n=e.layout,i=e.onEditObjectGroup;Object(r.b)("EDIT_OBJECT_GROUP",!0,{generateOptions:a.useCallback((function(){return[].concat(Object(l.a)(Object(o.a)(n.getObjectGroups())),Object(l.a)(Object(o.a)(t.getObjectGroups()))).map((function(e){return{text:e.getName(),handler:function(){return i(e)}}}))}),[i,t,n])})},d=n(131),p=function(e){var t=e.layout,n=e.onEditLayerEffects,o=e.onEditLayer;Object(r.b)("EDIT_LAYER_EFFECTS",!0,{generateOptions:a.useCallback((function(){var e=t.getLayersCount();return Object(d.mapReverseFor)(0,e,(function(e){var r=t.getLayerAt(e);return{text:r.getName()||"Base layer",handler:function(){return n(r)}}}))}),[t,n])}),Object(r.b)("EDIT_LAYER",!0,{generateOptions:a.useCallback((function(){var e=t.getLayersCount();return Object(d.mapReverseFor)(0,e,(function(e){var n=t.getLayerAt(e);return{text:n.getName()||"Base layer",handler:function(){return o(n)}}}))}),[t,o])})};t.a=function(e){var t=e.project,n=e.layout,a=e.onEditObject,o=e.onEditObjectVariables,i=e.onOpenSceneProperties,s=e.onOpenSceneVariables,l=e.onEditObjectGroup,d=e.onEditLayerEffects,m=e.onEditLayer;return Object(r.a)("OPEN_SCENE_PROPERTIES",!0,{handler:i}),Object(r.a)("OPEN_SCENE_VARIABLES",!0,{handler:s}),c({project:t,layout:n,onEditObject:a,onEditObjectVariables:o}),u({project:t,layout:n,onEditObjectGroup:l}),p({layout:n,onEditLayerEffects:d,onEditLayer:m}),null}},function(e,t,n){"use strict";var r=n(26),a=n(15),o=n.n(a),i=n(115),s=n(2097),c=n(2106),l=n(421),u=n(210),d=n(292),p=n(2083),m=n(2089),f=n(2090),h=n(2103),g=n(2217),b=n(2200),v=n(432),E=n.n(v),y=n(2208),C=n(793),j=function(e,t){var n=t.inputValue.toLowerCase();if(""===n)return e;var r=[],a=[];return e.forEach((function(e){var o=t.getOptionLabel(e).toLowerCase();return o.includes(n)?r.push(e):Object(C.a)(n,o)?a.push(e):void 0})),[].concat(r,a)},O=n(345),x=Object(c.a)({shortcutChip:{borderRadius:3},listItemContainer:{width:"100%"}}),k=function(e){var t=a.useState(!0),n=Object(r.a)(t,2),o=n[0],i=n[1],s=Object(d.e)(),c=x(),l=function(t){if(t.text)return t.text;if(t.name){var n=O.b[t.name],r=n.area,a=n.displayText,o=O.a[r];return e.i18n._(o)+" \u3009"+e.i18n._(a)}};return a.createElement(y.a,{open:o,onClose:function(t,n){"select-option"!==n&&e.onClose()},onOpen:function(){return i(!0)},options:e.items,getOptionLabel:l,onChange:function(t,n){e.onSelect(n)},openOnFocus:!0,autoHighlight:!0,filterOptions:j,renderInput:function(t){return a.createElement(b.a,Object.assign({},t,{placeholder:e.i18n._(e.placeholder),variant:"outlined",autoFocus:!0}))},renderOption:function(e){return a.createElement(p.a,{dense:!0,component:"div",ContainerComponent:"div",classes:{container:c.listItemContainer}},a.createElement(m.a,null,function(e){return e.text&&e.iconSrc?a.createElement(u.a,{iconSize:20,src:e.iconSrc}):a.createElement(E.a,null)}(e)),a.createElement(f.a,{primary:l(e)}),function(e){if(e.text)return null;if(e.name){var t=s[e.name];if(!t)return null;var n=Object(d.b)(t);return a.createElement(h.a,null,a.createElement(g.a,{className:c.shortcutChip,label:n}))}}(e))}})},T=Object(c.a)({scrollPaper:{alignItems:"flex-start"}}),w=o.a.forwardRef((function(e,t){var n=T(),a=o.a.useContext(l.b),c=o.a.useState("closed"),u=Object(r.a)(c,2),d=u[0],p=u[1],m=o.a.useState(null),f=Object(r.a)(m,2),h=f[0],g=f[1],b=o.a.useCallback((function(e){e.handler?(e.handler(),"OPEN_COMMAND_PALETTE"!==e.name&&p("closed")):(g(e),p("option"))}),[g,p]),v=function(e){e.handler(),p("closed")},E=o.a.useCallback((function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];p(e?"command":"closed")}),[]),y=o.a.useCallback((function(e){var t=a.getNamedCommand(e);t&&b(t)}),[b,a]);return o.a.useImperativeHandle(t,(function(){return{open:E,launchCommand:y}})),o.a.createElement(i.I18n,null,(function(e){var t=e.i18n;return o.a.createElement(s.a,{onClose:function(){return p("closed")},"aria-label":"command-palette",open:"closed"!==d,fullWidth:!0,hideBackdrop:!0,maxWidth:"sm",classes:n,transitionDuration:0},"command"===d&&o.a.createElement(k,{i18n:t,items:a.getAllNamedCommands().filter((function(e){return!O.b[e.name].ghost})),placeholder:{id:"Start typing a command..."},onClose:function(){return p("closed")},onSelect:b}),"option"===d&&h&&o.a.createElement(k,{i18n:t,items:h.generateOptions(),placeholder:O.b[h.name],onClose:function(){return p("closed")},onSelect:v}))}))}));t.a=w},function(e,t,n){"use strict";var r=n(179),a=n(3),o=n(4),i=n(6),s=n(5),c=n(115),l=n(15),u=n.n(l),d=n(128),p=n(124),m=n(2085),f=n(428),h=n(365),g=n(258),b=n(366),v={flex:1,display:"flex",flexDirection:"column"},E=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).instructionsInfo=Object(b.a)(Object(g.b)(e.props.isCondition),e.props.scope),e.instructionsInfoTree=Object(h.a)(e.instructionsInfo),e}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=(e.isCondition,e.scope,Object(r.a)(e,["isCondition","scope"]));return u.a.createElement(f.a,Object.assign({style:v,instructionsInfo:this.instructionsInfo,instructionsInfoTree:this.instructionsInfoTree,iconSize:24,useSubheaders:!0},t))}}]),n}(l.Component),y=n(805),C={container:{display:"flex",flex:1},parametersEditor:{flex:2,display:"flex",zIndex:1}},j=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).chooseType=function(t){e.props.instruction.setType(t),e.forceUpdate((function(){e._instructionParametersEditor&&e._instructionParametersEditor.focus()}))},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.instruction,r=t.isCondition,a=t.project,o=t.globalObjectsContainer,i=t.objectsContainer,s=t.scope;return l.createElement("div",{style:C.container},l.createElement(E,{isCondition:r,selectedType:n.getType(),onChoose:this.chooseType,focusOnMount:!n.getType(),scope:s}),l.createElement(m.a,{style:C.parametersEditor,square:!0,elevation:2},l.createElement(y.a,{project:a,scope:s,globalObjectsContainer:o,objectsContainer:i,isCondition:r,instruction:n,resourceSources:this.props.resourceSources,onChooseResource:this.props.onChooseResource,resourceExternalEditors:this.props.resourceExternalEditors,openInstructionOrExpression:this.props.openInstructionOrExpression,ref:function(t){return e._instructionParametersEditor=t},focusOnMount:!!n.getType()})))}}]),n}(l.Component);n.d(t,"a",(function(){return O}));var O=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props,t=(e.isNewInstruction,e.onCancel),n=e.onSubmit,a=e.open,o=(e.canPasteInstructions,e.onPasteInstructions,Object(r.a)(e,["isNewInstruction","onCancel","onSubmit","open","canPasteInstructions","onPasteInstructions"])),i=[l.createElement(p.a,{key:"cancel",label:l.createElement(c.Trans,{id:"Cancel"}),primary:!1,onClick:t}),l.createElement(p.a,{key:"ok",label:l.createElement(c.Trans,{id:"Ok"}),primary:!0,keyboardFocused:!1,onClick:n})];return l.createElement(d.a,{onApply:n,actions:i,open:a,cannotBeDismissed:!0,onRequestClose:t,maxWidth:!1,flexBody:!0,noMargin:!0},l.createElement(j,o))}}]),n}(l.Component)},function(e,t,n){"use strict";var r=n(26),a=n(115),o=n(15),i=n.n(o),s=n(128),c=n(124),l=n(1643),u=n.n(l),d=n(117),p=n(142),m=n(276),f=n(127),h=n(16),g=n(125),b=n(0),v=n.n(b),E=n(1),y=n(135),C=n(129),j=n(141),O=n(933),x=n(148),k=n(269),T=n(20),w=n.n(T),S=n(538),P=n(30),_=n(936),I=n(212),N=function(){var e=Object(E.a)(v.a.mark((function e(t){var n,r,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.get(t,{responseType:"arraybuffer"});case 3:if(n=e.sent,!((r=btoa(new Uint8Array(n.data).reduce((function(e,t){return e+String.fromCharCode(t)}),""))).length>102400)){e.next=7;break}throw new Error("Icon is too big (size after base64 conversion: ".concat(r.length,")"));case 7:if("image/svg+xml"===(a=n.headers?n.headers["content-type"].toLowerCase():"")){e.next=10;break}throw new Error('Wrong content type. Got: "'.concat(a,'", expected "image/svg+xml"'));case 10:return e.abrupt("return","data:".concat(a,";base64,").concat(r));case 13:throw e.prev=13,e.t0=e.catch(0),console.error("Unable to import the icon.",e.t0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),A=function(e){var t=e.i18n,n=e.helpPath,r=e.onChangeHelpPath,o=Object(k.b)(n),s=Object(k.c)(n),c=n?(s?t._({id:"This is a relative path that will open in the GDevelop wiki."}):t._({id:"This is link to a webpage."}))+" [".concat(t._({id:"Click here to test the link."}),"](").concat(Object(k.a)(n),")"):t._({id:"This can either be a URL to a web page, or a path starting with a slash that will be opened in the GDevelop wiki. Leave empty if there is no help page, although it's recommended you eventually write one if you distribute the extension."});return i.a.createElement(y.b,{floatingLabelText:i.a.createElement(a.Trans,{id:"Help page URL"}),value:n,onChange:function(e,t){r(t)},errorText:!n||o||s?null:i.a.createElement(a.Trans,{id:'This is not a URL starting with "http://" or "https://".'}),helperMarkdownText:c,fullWidth:!0})},R=function(e){var t=e.eventsFunctionsExtension,n=e.onLoadChange,o=e.isLoading,l=Object(x.a)(),u=i.a.useState(!1),d=Object(r.a)(u,2),p=d[0],m=d[1],h=Object(S.a)();return i.a.createElement(a.I18n,null,(function(e){var r=e.i18n;return i.a.createElement(C.a,{noMargin:!0},i.a.createElement(y.b,{floatingLabelText:i.a.createElement(a.Trans,{id:"Name"}),value:t.getName(),disabled:!0,fullWidth:!0}),i.a.createElement(C.c,{renderButton:function(e){return i.a.createElement(f.a,{onClick:function(){m(!0)},primary:!0,label:i.a.createElement(a.Trans,{id:"Choose"}),disabled:o,style:e})},renderTextField:function(){return i.a.createElement(j.a,{floatingLabelText:i.a.createElement(a.Trans,{id:"Icon URL"}),value:t.getPreviewIconUrl(),onChange:function(e){t.setPreviewIconUrl(e)},disabled:!0,fullWidth:!0})}}),i.a.createElement(y.b,{floatingLabelText:i.a.createElement(a.Trans,{id:"Name displayed in editor"}),value:t.getFullName(),onChange:function(e,n){t.setFullName(n),l()},fullWidth:!0}),i.a.createElement(y.b,{floatingLabelText:i.a.createElement(a.Trans,{id:"Short description"}),value:t.getShortDescription(),onChange:function(e,n){t.setShortDescription(n),l()},multiline:!0,fullWidth:!0,rows:2,rowsMax:2}),i.a.createElement(y.b,{floatingLabelText:i.a.createElement(a.Trans,{id:"Description (markdown supported)"}),value:t.getDescription(),onChange:function(e,n){t.setDescription(n),l()},multiline:!0,fullWidth:!0,rows:5,rowsMax:15}),i.a.createElement(y.b,{floatingLabelText:i.a.createElement(a.Trans,{id:"Version"}),value:t.getVersion(),onChange:function(e,n){t.setVersion(n),l()},fullWidth:!0}),i.a.createElement(I.a,{floatingLabelText:i.a.createElement(a.Trans,{id:"Category (shown in the editor)"}),fullWidth:!0,value:t.getCategory(),onChange:function(e){t.setCategory(e),l()},dataSource:[{text:"",value:"General"},{text:"Ads",value:"Ads"},{text:"Advanced",value:"Advanced"},{text:"Device",value:"Device"},{text:"Input",value:"Input"},{text:"Network",value:"Network"},{text:"Third-party",value:"Third-party"}]}),i.a.createElement(j.a,{floatingLabelText:i.a.createElement(a.Trans,{id:"Tags (comma separated)"}),value:t.getTags().toJSArray().join(", "),onChange:function(e){var n=t.getTags();n.clear(),e.split(",").map((function(e){return e.trim()})).filter(Boolean).forEach((function(e){n.push_back(e)})),l()},fullWidth:!0}),i.a.createElement(A,{i18n:r,helpPath:t.getHelpPath(),onChangeHelpPath:function(e){t.setHelpPath(e),l()}}),i.a.createElement(_.a,{userIds:t.getAuthorIds().toJSArray(),onChange:function(e){var n=t.getAuthorIds();n.clear(),e.forEach((function(e){return n.push_back(e)}))},floatingLabelText:i.a.createElement(a.Trans,{id:"Authors"}),helperText:i.a.createElement(a.Trans,{id:"Select the usernames of the contributors to this extension. They will be displayed in the order selected. Do not see your name? Go to the Profile section and create an account!"})}),p&&i.a.createElement(s.a,{title:i.a.createElement(a.Trans,{id:"Choose an icon for the extension"}),actions:[i.a.createElement(c.a,{key:"cancel",label:i.a.createElement(a.Trans,{id:"Cancel"}),primary:!1,onClick:function(){m(!1)}})],cannotBeDismissed:!1,open:!0,noMargin:!0},i.a.createElement(O.a,{onChoose:function(e){m(!1),n(!0),N(e.url).then((function(n){h.current&&(t.setPreviewIconUrl(e.url),t.setIconUrl(n))}),(function(e){h.current&&Object(P.a)({message:r._({id:"Unable to download the icon. Verify your internet connection or try again later."}),rawError:e,errorId:"icon-download-error"})})).then((function(){h.current&&n(!1)}))},resourceKind:"svg"})))}))},M=n(172),F=n(2128),L=n(254),B=n(2085),D=n(138),U=n(173),G=n.n(U),V=n(221),W=n.n(V),H=n(154),z=n(155),Y=n(131),q=n(167),X=n(193),K=function(e,t){for(var n=0;n<t.size();n++)if(t.at(n).getName()===e)return!0;return!1},J=function(e){var t=e.eventsFunctionsExtension,n=t.getAllDependencies(),r=Object(x.a)();return i.a.createElement(d.a,null,i.a.createElement(d.b,{expand:!0},i.a.createElement(F.a,{component:function(e){var t=e.children;return i.a.createElement(B.a,{elevation:4,style:{minWidth:"100%"}},t)}},i.a.createElement(L.a,null,i.a.createElement(L.c,null,i.a.createElement(L.e,null,i.a.createElement(L.d,null,i.a.createElement(a.Trans,{id:"Name"})),i.a.createElement(L.d,null,i.a.createElement(a.Trans,{id:"Export name"})),i.a.createElement(L.d,null,i.a.createElement(a.Trans,{id:"Version"})),i.a.createElement(L.d,null,i.a.createElement(a.Trans,{id:"Dependency type"})),i.a.createElement(L.d,null,i.a.createElement(a.Trans,{id:"Action"})))),i.a.createElement(L.b,null,Object(Y.mapVector)(t.getAllDependencies(),(function(e,a){return i.a.createElement(L.e,{key:e.getName()},i.a.createElement(L.f,null,i.a.createElement(j.a,{commitOnBlur:!0,value:e.getName(),onChange:function(t){t!==e.getName()&&(K(t,n)?Object(P.c)("This name is already in use! Please use a unique name.",{delayToNextTick:!0}):(e.setName(t),r()))},margin:"none"})),i.a.createElement(L.f,null,i.a.createElement(j.a,{commitOnBlur:!0,value:e.getExportName(),onChange:function(t){t!==e.getExportName()&&(e.setExportName(t),r())},margin:"none"})),i.a.createElement(L.f,null,i.a.createElement(j.a,{commitOnBlur:!0,value:e.getVersion(),onChange:function(t){t!==e.getVersion()&&(e.setVersion(t),r())},margin:"none"})),i.a.createElement(L.f,null,i.a.createElement(H.a,{value:e.getDependencyType(),onChange:function(t,n,a){a!==e.getDependencyType()&&(e.setDependencyType(a),r())},margin:"none"},i.a.createElement(z.a,{value:"npm",primaryText:{id:"NPM"}}),i.a.createElement(z.a,{value:"cordova",primaryText:{id:"Cordova"}}))),i.a.createElement(L.f,null,i.a.createElement(D.a,{tooltip:{id:"Remove"},onClick:function(){t.removeDependencyAt(a),r()},size:"small"},i.a.createElement(W.a,null))))})))),i.a.createElement(d.a,{expand:!0},i.a.createElement(d.b,{justifyContent:"flex-end"},i.a.createElement(f.a,{primary:!0,icon:i.a.createElement(G.a,null),label:i.a.createElement(a.Trans,{id:"Add"}),onClick:function(){t.addDependency().setName(Object(q.a)("New Dependency",(function(e){return K(e,n)}))).setExportName("my-dependency").setVersion("1.0.0").setDependencyType("cordova"),r()}}))))),i.a.createElement(d.b,null,i.a.createElement(X.a,null,i.a.createElement(a.Trans,{id:"Dependencies allow to add additional libraries in the exported games. NPM dependencies will be included for Electron builds (Windows, macOS, Linux) and Cordova dependencies will be included for Cordova builds (Android, iOS). Note that this is intended for usage in JavaScript events only. If you are only using standard events, you should not worry about this."}))))};n.d(t,"a",(function(){return Q}));var Z=function(){h.b.openExternalURL("https://github.com/4ian/GDevelop-extensions/issues/new?body=".concat(encodeURIComponent('\n**\u26a0\ufe0f Please edit and complete this before submitting your extension:**\n\n## Describe the extension\nA clear and concise description of what the extension is, how useful it is.\n\n## Checklist\n\n- [ ] Extension has a proper name and description.\n- [ ] Extension has tags (for example: "platform, brick, breakable").\n- [ ] All behaviors have a description.\n- [ ] All functions (actions, conditions, expressions) have descriptions.\n- [ ] I confirm that this extension can be intergrated to this GitHub repository, distributed and MIT licensed.\n\n## Extension file\n\nFinally, attach the .json file of your extension here.\n\nYou also may have to create an account on GitHub before posting.\nIf your extension is high quality and useful, it will be added to the list of GDevelop community extensions.\nWhen you\'re ready, remove this last paragraph and click on "Submit new issue". Thanks \ud83d\ude4c'),"&title=New%20extension"))};function Q(e){var t=e.eventsFunctionsExtension,n=e.onClose,i=e.open,l=o.useState("options"),h=Object(r.a)(l,2),b=h[0],v=h[1],E=o.useState(!1),y=Object(r.a)(E,2),C=y[0],j=y[1],O=o.useState(!1),x=Object(r.a)(O,2),k=x[0],T=x[1],w=o.useContext(m.a),S=w.getEventsFunctionsExtensionWriter();return o.createElement(s.a,{secondaryActions:[o.createElement(p.a,{key:"help",helpPagePath:"/extensions/create"}),S?o.createElement(c.a,{icon:o.createElement(u.a,null),key:"export",label:o.createElement(a.Trans,{id:"Export extension"}),onClick:function(){T(!0)},disabled:C}):null],actions:[o.createElement(c.a,{label:o.createElement(a.Trans,{id:"Close"}),primary:!0,keyboardFocused:!0,onClick:function(){return n()},disabled:C,key:"close"})],cannotBeDismissed:!0,open:i,noTitleMargin:!0,title:o.createElement(M.b,{value:b,onChange:v},o.createElement(M.a,{label:o.createElement(a.Trans,{id:"Options"}),value:"options"}),o.createElement(M.a,{label:o.createElement(a.Trans,{id:"Dependencies"}),value:"dependencies"})),onRequestClose:C?function(){}:n},"options"===b&&o.createElement(R,{eventsFunctionsExtension:t,onLoadChange:j,isLoading:C}),"dependencies"===b&&o.createElement(J,{eventsFunctionsExtension:t}),k&&o.createElement(s.a,{secondaryActions:[o.createElement(p.a,{key:"help",helpPagePath:"/extensions/share"})],actions:[o.createElement(c.a,{label:o.createElement(a.Trans,{id:"Close"}),keyboardFocused:!0,onClick:function(){T(!1)},key:"close"})],open:!0,cannotBeDismissed:!1,onRequestClose:function(){T(!1)}},o.createElement(d.a,{expand:!0},o.createElement(d.b,null,o.createElement(g.a,null,o.createElement(a.Trans,{id:"You can export the extension to a file to easily import it in another project. If your extension is providing useful and reusable functions or behaviors, consider sharing it with the GDevelop community!"}))),o.createElement(d.b,null,o.createElement(f.a,{icon:o.createElement(u.a,null),primary:!0,label:o.createElement(a.Trans,{id:"Export to a file"}),onClick:function(){!function(e,t){var n=e.getEventsFunctionsExtensionWriter();n?n.chooseEventsFunctionExtensionFile().then((function(e){e&&n.writeEventsFunctionsExtension(t,e).then()})):Promise.reject(new Error("Not supported"))}(w,t)}}),o.createElement(c.a,{label:o.createElement(a.Trans,{id:"Submit extension to the community"}),onClick:Z})))))}},function(e,t,n){"use strict";var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n(160),u=n(136),d=n(273),p=(n(144),n(375)),m=n(313),f={previewContainer:{position:"relative",display:"flex",width:"100%",alignItems:"center",justifyContent:"center",height:200},iconContainer:{display:"flex",flex:1,height:"100%",alignItems:"center",justifyContent:"center",position:"relative"},icon:{width:60,height:60}},h=function(e){var t=e.renderIcon;return c.createElement("div",{style:f.previewContainer},c.createElement(m.a,null),c.createElement("div",{style:f.iconContainer},t({style:f.icon})))},g=n(1701),b=n.n(g),v=n(865),E=n.n(v),y=n(866),C=n.n(y),j=n(867),O=n.n(j),x=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state=e._loadFrom(e.props),e}return Object(a.a)(n,[{key:"componentWillReceiveProps",value:function(e){e.resourceName===this.props.resourceName&&e.project===this.props.project&&e.resourcePath===this.props.resourcePath||this.setState(this._loadFrom(e))}},{key:"_loadFrom",value:function(e){var t=e.project,n=e.resourceName,r=t.getResourcesManager();return{resourceKind:r.hasResource(n)?r.getResource(n).getKind():null}}},{key:"render",value:function(){switch(this.state.resourceKind){case"image":return c.createElement(p.a,{project:this.props.project,resourceName:this.props.resourceName,resourcesLoader:this.props.resourcesLoader,onSize:this.props.onSize,resourcePath:this.props.resourcePath});case"audio":return c.createElement(h,{renderIcon:function(e){return c.createElement(b.a,e)}});case"json":return c.createElement(h,{renderIcon:function(e){return c.createElement(E.a,e)}});case"video":return c.createElement(h,{renderIcon:function(e){return c.createElement(C.a,e)}});case"font":case"bitmapFont":return c.createElement(h,{renderIcon:function(e){return c.createElement(O.a,e)}});default:return null}}}]),n}(c.PureComponent),k=n(312);n.d(t,"a",(function(){return w}));var T={propertiesContainer:{padding:8,overflowY:"scroll",overflowX:"hidden",flex:2}},w=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).schema=[{name:"Resource name",valueType:"string",disabled:!0,getValue:function(e){return e.getName()},setValue:function(e,t){return e.setName(t)}},{name:"File",valueType:"string",getValue:function(e){return e.getFile()},setValue:function(e,t){return e.setFile(t)},onEditButtonClick:function(){return e._chooseResourcePath()}}],e._chooseResourcePath=function(){var t=e.props,n=t.resources,r=t.onResourcePathUpdated,a=t.onChooseResource,o=t.resourceSources,i=n[0],s=o.filter((function(e){return e.kind===i.getKind()}));s.length&&a({initialSourceName:s[0].name,multiSelection:!0,resourceKind:i.getKind()}).then((function(t){t.length&&(i.setFile(t[0].getFile()),t.forEach((function(e){return e.delete()})),r(),e.forceUpdate())}))},e}return Object(a.a)(n,[{key:"_renderEmpty",value:function(){return c.createElement(u.a,null,c.createElement(s.Trans,{id:"Resources are automatically added to your project whenever you add an image, a font or a video to an object or when you choose an audio file in events. Choose a resource to display its properties."}))}},{key:"_renderResourcesProperties",value:function(){var e=this.props.resources,t=e[0].getProperties(),n=Object(k.a)(t,(function(e){return e.getProperties()}),(function(e,t,n){return e.updateProperty(t,n)}));return c.createElement("div",{style:T.propertiesContainer,key:e.map((function(e){return""+e.ptr})).join(";")},c.createElement(d.a,{schema:this.schema.concat(n),instances:e}))}},{key:"_renderPreview",value:function(){var e=this.props,t=e.resources,n=e.project,r=e.resourcesLoader;if(t&&t.length)return c.createElement(x,{resourceName:t[0].getName(),resourcePath:t[0].getFile(),resourcesLoader:r,project:n})}},{key:"render",value:function(){var e=this.props.resources;return c.createElement(l.a,{maxWidth:!0},this._renderPreview(),e&&e.length?this._renderResourcesProperties():this._renderEmpty())}}]),n}(c.Component)},,function(e,t,n){"use strict";var r=n(26),a=n(15),o=n(338),i=n(299),s=n(344),c=n(186),l=n(16),u=n(18),d=n(115),p=n(124),m=n(170);function f(e){var t=e.onPreviewWithoutHotReload,n=e.onNetworkPreview,r=e.onOpenDebugger,o=e.onHotReloadPreview,s=e.canDoNetworkPreview,l=e.isPreviewEnabled,f=e.hasPreviewsRunning,h=e.previewState,g=e.setPreviewOverride,b=e.exportProject,v=e.hasProject,E=a.useContext(m.a),y=a.useCallback((function(e){return[{label:e._({id:"Start Network Preview (Preview over WiFi/LAN)"}),click:n,enabled:s},{type:"separator"},{label:e._({id:"Start Preview with Debugger and Performance Profiler"}),click:r}]}),[n,r,s]),C=a.useCallback((function(e){return[{label:e._({id:"Launch another preview in a new window"}),click:t,enabled:l&&f},{type:"separator"}].concat(Object(u.a)(h.overridenPreviewLayoutName?[{type:"checkbox",label:h.overridenPreviewExternalLayoutName?e._({id:"Start all previews from external layout {0}",values:{0:h.overridenPreviewExternalLayoutName}}):e._({id:"Start all previews from scene {0}",values:{0:h.overridenPreviewLayoutName}}),checked:h.isPreviewOverriden,click:function(){return g({isPreviewOverriden:!h.isPreviewOverriden,overridenPreviewLayoutName:h.overridenPreviewLayoutName,overridenPreviewExternalLayoutName:h.overridenPreviewExternalLayoutName})}},{type:"separator"}]:[]),[{label:h.previewExternalLayoutName?e._({id:"Use this external layout inside this scene to start all previews"}):e._({id:"Use this scene to start all previews"}),click:function(){return g({isPreviewOverriden:!0,overridenPreviewLayoutName:h.previewLayoutName,overridenPreviewExternalLayoutName:h.previewExternalLayoutName})},enabled:h.previewLayoutName!==h.overridenPreviewLayoutName||h.previewExternalLayoutName!==h.overridenPreviewExternalLayoutName}])}),[t,l,f,g,h]);return a.createElement(a.Fragment,null,a.createElement(c.a,{element:a.createElement(i.a,{disabled:!l,src:"res/ribbon_default/bug32.png",tooltip:{id:"Advanced preview options (debugger, network preview...)"}}),buildMenuTemplate:y}),a.createElement(c.a,{element:a.createElement(p.a,{onClick:o,disabled:!l,icon:a.createElement("img",{alt:"Preview",src:f?"res/ribbon_default/hotReload64.png":h.isPreviewOverriden?"res/ribbon_default/previewOverride32.png":"res/ribbon_default/preview64.png",width:32,height:32,style:{filter:l?E.gdevelopIconsCSSFilter:"grayscale(100%)"}}),label:f?a.createElement(d.Trans,{id:"Update"}):a.createElement(d.Trans,{id:"Preview"}),exceptionalTooltipForToolbar:f?a.createElement(d.Trans,{id:"Apply changes to the running preview, right click for more"}):h.isPreviewOverriden?a.createElement(d.Trans,{id:"Preview is overridden, right click for more"}):h.previewExternalLayoutName?a.createElement(d.Trans,{id:"Launch a preview of the external layout inside the scene, right click for more"}):a.createElement(d.Trans,{id:"Launch a preview of the scene, right click for more"})}),openMenuWithSecondaryClick:!0,buildMenuTemplate:C}),a.createElement(p.a,{onClick:b,disabled:!v,icon:a.createElement("img",{alt:"Publish",src:"res/ribbon_default/networkicon32.png",width:32,height:32,style:{filter:v?E.gdevelopIconsCSSFilter:"grayscale(100%)"}}),label:a.createElement(d.Trans,{id:"Publish"}),exceptionalTooltipForToolbar:a.createElement(d.Trans,{id:"Export the game (Web, Android, iOS...)"})}))}t.a=a.forwardRef((function(e,t){var n=l.b.isDev(),u=a.useState(null),d=Object(r.a)(u,2),p=d[0],m=d[1];return a.useImperativeHandle(t,(function(){return{setEditorToolbar:m}})),a.createElement(o.a,null,a.createElement(o.b,{firstChild:!0},e.showProjectIcons&&a.createElement(i.a,{onClick:e.toggleProjectManager,src:"res/ribbon_default/projectManager32.png",disabled:!e.hasProject,tooltip:{id:"Project manager"}}),n&&e.showProjectIcons&&a.createElement(s.a,null),n&&a.createElement(c.a,{element:a.createElement(i.a,{src:"res/ribbon_default/bug32.png"}),buildMenuTemplate:function(){return[{label:"Simulate update downloaded",disabled:!e.simulateUpdateDownloaded,click:function(){e.simulateUpdateDownloaded&&e.simulateUpdateDownloaded()}},{label:"Simulate update available",disabled:!e.simulateUpdateAvailable,click:function(){e.simulateUpdateAvailable&&e.simulateUpdateAvailable()}}]}})),a.createElement(o.b,null,a.createElement(f,{onPreviewWithoutHotReload:e.onPreviewWithoutHotReload,onOpenDebugger:e.onOpenDebugger,onNetworkPreview:e.onNetworkPreview,onHotReloadPreview:e.onHotReloadPreview,setPreviewOverride:e.setPreviewOverride,canDoNetworkPreview:e.canDoNetworkPreview,isPreviewEnabled:e.isPreviewEnabled,previewState:e.previewState,hasPreviewsRunning:e.hasPreviewsRunning,exportProject:e.exportProject,hasProject:e.hasProject})),p||a.createElement(o.b,null))}))},function(e,t,n){"use strict";var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n(128),u=n(124),d=n(16),p=n(119),m=n(135),f=n(151),h=n(117),g=n(1703),b=n.n(g),v=n(253),E=n.n(v),y=n(125),C={maxHeight:300,overflowY:"scroll"},j=function(e){return e.replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#x27;/g,"'")},O="69c73fc1a710bb79543d4b91f6b81c08",x={hitsPerPage:5},k=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).client=b()("BH4D9OD16A",O,x),e.state={results:null,error:null},e._handleSearchTextChange=function(t){e.props.onChange(t)},e._launchSearchRequest=E()((function(){e.props.value&&e.client.search([{indexName:"gdevelop",query:e.props.value,params:x}]).then((function(t){var n=t.results[0].hits;console.log(n),e.setState({results:n,error:null})}),(function(t){e.setState({error:t})}))}),200),e._renderResult=function(e){var t=e.hierarchy.lvl0||e.hierarchy.lvl1||e.hierarchy.lvl2||e.hierarchy.lvl3||e.hierarchy.lvl4||e.hierarchy.lvl5||e.hierarchy.lvl6||"",n=[e.hierarchy.lvl0,e.hierarchy.lvl1,e.hierarchy.lvl2,e.hierarchy.lvl3,e.hierarchy.lvl4,e.hierarchy.lvl5,e.hierarchy.lvl6].filter((function(e){return!!e})).filter((function(e){return e!==t})).join(" - ");return c.createElement(f.b,{key:e.objectID,primaryText:j(t),secondaryText:j(e.content||n),secondaryTextLines:2,onClick:function(){d.b.openExternalURL(e.url)}})},e}return Object(a.a)(n,[{key:"componentDidUpdate",value:function(e){e.value!==this.props.value&&this.props.value&&this._launchSearchRequest()}},{key:"render",value:function(){var e=this;return c.createElement("div",null,c.createElement(m.b,{id:"help-finder-search-bar",fullWidth:!0,hintText:{id:"Search on the documentation."},value:this.props.value,onChange:function(t,n){return e.props.onChange(n)}}),c.createElement("div",{id:"help-finder-dropdown-menu-container",className:"algolia-autocomplete",style:Object(p.a)(Object(p.a)({},C),{},{visibility:this.props.value?void 0:"hidden"})}),this.state.error?c.createElement(y.a,null,c.createElement(s.Trans,{id:"Unable to search in the documentation. Are you sure you are online and have a proper internet connection?"})):this.state.results?c.createElement(f.a,null,this.state.results.map((function(t){return e._renderResult(t)}))):c.createElement(c.Fragment,null,c.createElement(y.a,null,c.createElement(s.Trans,{id:"Examples:"})),c.createElement(h.a,{expand:!0},c.createElement(y.a,null,"Coins in platformer",c.createElement("br",null),"Export on Android",c.createElement("br",null),"Add a score",c.createElement("br",null),"Move enemies",c.createElement("br",null),"...",c.createElement("br",null)))),c.createElement(y.a,{align:"right"},"This search is powered by"," ",c.createElement(u.a,{onClick:function(){return d.b.openExternalURL("http://algolia.com/")},label:"Algolia"})))}}]),n}(c.Component),T=n(27);n.d(t,"a",(function(){return w}));var w=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={searchText:""},e._handleSearchTextChange=function(t){e.setState({searchText:t}),e._sendHelpSearch()},e._sendHelpSearch=E()((function(){e.state.searchText&&Object(T.i)(e.state.searchText.trim())}),2900),e}return Object(a.a)(n,[{key:"componentWillReceiveProps",value:function(e){e.open&&!this.props.open&&Object(T.h)()}},{key:"render",value:function(){var e=this.props,t=e.open,n=e.onClose;return c.createElement(l.a,{title:c.createElement(s.Trans,{id:"Help!"}),onRequestClose:n,actions:[c.createElement(u.a,{label:c.createElement(s.Trans,{id:"Close"}),key:"close",primary:!1,onClick:n})],secondaryActions:[c.createElement(u.a,{key:"forum",primary:!1,onClick:function(){d.b.openExternalURL("https://forum.gdevelop-app.com")},label:c.createElement(s.Trans,{id:"Community forum"})}),c.createElement(u.a,{key:"wiki",primary:!1,onClick:function(){d.b.openExternalURL("http://wiki.compilgames.net/doku.php/gdevelop5/start")},label:c.createElement(s.Trans,{id:"Browse the documentation"})})],cannotBeDismissed:!1,open:t},c.createElement(k,{value:this.state.searchText,onChange:this._handleSearchTextChange}))}}]),n}(c.PureComponent)},function(e,t,n){"use strict";var r=n(119),a=n(3),o=n(4),i=n(6),s=n(5),c=n(115),l=n(15),u=n.n(l),d=n(2114),p=n(2115),m=n(2136),f=n(2116),h=n(124),g=n(128),b=n(183),v=n(117),E=n(417),y=n(127),C=n(1741),j=n.n(C),O=n(136),x=n(30),k=n(244),T=n(315),w=n(27),S=n(2105),P=n(193),_=n(900),I=n.n(_),N=n(125),A=n(899);function R(e){var t=e.onClose,n=e.authenticatedUser,r=!!n&&!!n.subscription&&!!n.subscription.planId;return Object(A.a)((function(){n.onRefreshUserProfile().catch((function(){}))}),r?null:3900),u.a.createElement(g.a,{actions:[r?u.a.createElement(y.a,{label:u.a.createElement(c.Trans,{id:"Done!"}),key:"close",primary:!0,onClick:t}):u.a.createElement(h.a,{label:u.a.createElement(c.Trans,{id:"Cancel and close"}),key:"close",primary:!1,onClick:t})],maxWidth:"sm",cannotBeDismissed:!0,open:!0,noMargin:!0},r?u.a.createElement(v.a,null,u.a.createElement(v.b,null,u.a.createElement(N.a,null,u.a.createElement(c.Trans,{id:"Thanks for getting a subscription and supporting GDevelop!"})," ","\u2764\ufe0f")),u.a.createElement(v.b,{justifyContent:"center",alignItems:"center"},u.a.createElement(I.a,null),u.a.createElement(v.c,null),u.a.createElement(N.a,null,u.a.createElement("b",null,u.a.createElement(c.Trans,{id:"Your new plan is now activated"})))),u.a.createElement(v.c,null),u.a.createElement(v.b,{justifyContent:"center"},u.a.createElement(P.a,null,u.a.createElement(c.Trans,{id:"Your account is upgraded, with the extra exports and online services. If you wish to change later, come back to your profile and choose another plan."})))):u.a.createElement(v.a,null,u.a.createElement(v.b,null,u.a.createElement(N.a,null,u.a.createElement(c.Trans,{id:"Thanks for getting a subscription and supporting GDevelop!"})," ","\u2764\ufe0f",u.a.createElement("b",null,u.a.createElement(c.Trans,{id:"Your browser will now open to enter your payment details (handled securely by Stripe.com)."})))),u.a.createElement(v.b,{justifyContent:"center",alignItems:"center"},u.a.createElement(S.a,{size:20}),u.a.createElement(v.c,null),u.a.createElement(N.a,null,"Waiting for the subscription confirmation...")),u.a.createElement(v.c,null),u.a.createElement(v.b,{justifyContent:"center"},u.a.createElement(P.a,null,u.a.createElement(c.Trans,{id:"Once you're done, come back to GDevelop and your account will be upgraded automatically, unlocking the extra exports and online services."})))))}var M=n(16),F=n(153);n.d(t,"a",(function(){return B}));var L={descriptionText:{marginLeft:16,marginRight:16},card:{margin:16},actions:{textAlign:"right",display:"flex",justifyContent:"flex-end"},bulletIcon:{width:20,height:20,marginLeft:5,marginRight:10},bulletText:{flex:1}},B=function(e){Object(i.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={isLoading:!1,subscriptionPendingDialogOpen:!1},e.choosePlan=function(t,n,r){var a=n.getAuthorizationHeader,o=n.subscription,i=n.firebaseUser;if(i&&o)if(Object(w.d)(r.planId),o.stripeSubscriptionId){if(!M.b.showConfirmDialog(r.planId?t._({id:"Are you sure you want to subscribe to this new plan?"}):t._({id:"Are you sure you want to cancel your subscription?"})))return;e.setState({isLoading:!0}),Object(E.a)(a,i.uid,{planId:r.planId}).then((function(){return e.handleUpdatedSubscriptionSuccess(t,n,r)}),(function(n){return e.handleUpdatedSubscriptionFailure(t,n)}))}else e.setState({subscriptionPendingDialogOpen:!0}),M.b.openExternalURL(Object(E.b)(r.planId||"",i.uid,i.email||""))},e.handleUpdatedSubscriptionSuccess=function(t,n,r){n.onRefreshUserProfile(),e.setState({isLoading:!1}),r.planId?Object(x.b)(t._({id:"Congratulations, your new subscription is now active!\\n\\nYou can now use the services unlocked with this plan."})):Object(x.b)(t._({id:"Your subscription was properly cancelled. Sorry to see you go!"}))},e.handleUpdatedSubscriptionFailure=function(t,n){e.setState({isLoading:!1}),Object(x.a)({message:t._({id:"Your subscription could not be updated. Please try again later!"}),rawError:n,errorId:"subscription-update-error"})},e._isLoading=function(t){return!t.subscription||!t.profile||e.state.isLoading},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.props.open&&Object(w.q)()}},{key:"componentWillReceiveProps",value:function(e){!this.props.open&&e.open&&Object(w.q)()}},{key:"_renderPrice",value:function(e){return e.monthlyPriceInEuros?l.createElement(c.Trans,{id:"{0}\u20ac/month",values:{0:e.monthlyPriceInEuros}}):l.createElement(c.Trans,{id:"Free"})}},{key:"render",value:function(){var e=this,t=this.props,n=t.open,a=t.onClose,o=this.state.subscriptionPendingDialogOpen;return l.createElement(c.I18n,null,(function(t){var i=t.i18n;return l.createElement(b.a.Consumer,null,(function(t){return l.createElement(F.a,null,(function(s){return l.createElement(g.a,{actions:[l.createElement(h.a,{label:l.createElement(c.Trans,{id:"Close"}),key:"close",primary:!1,onClick:a})],onRequestClose:a,cannotBeDismissed:!0,open:n,noMargin:!0},l.createElement(v.a,null,l.createElement(v.b,null,l.createElement(N.a,null,l.createElement(c.Trans,{id:"Get a subscription to gain more one-click exports, remove the GDevelop splashscreen and messages asking you to get a subscription. With a subscription, you're also supporting the development of GDevelop, which is an open-source software maintained by volunteers in their free time."})))),Object(E.d)().map((function(n){return l.createElement(d.a,{key:n.planId||"",style:L.card},l.createElement(p.a,{title:l.createElement("span",null,l.createElement("b",null,n.name)," - ",e._renderPrice(n)),subheader:n.smallDescription?i._(n.smallDescription):""}),l.createElement(m.a,null,n.descriptionBullets.map((function(e,a){return l.createElement(v.a,{key:a,expand:!0},l.createElement(v.b,{noMargin:!0,alignItems:"center"},t.subscription&&t.subscription.planId===n.planId?l.createElement(j.a,{style:Object(r.a)(Object(r.a)({},L.bulletIcon),{},{color:s.message.valid})}):l.createElement(j.a,{style:L.bulletIcon}),l.createElement(N.a,{style:L.bulletText},i._(e.message)," ",e.isLocalAppOnly&&l.createElement(c.Trans,{id:"(on the desktop app only)"}))))})),l.createElement(N.a,{style:L.descriptionText},n.extraDescription?i._(n.extraDescription):"")),l.createElement(f.a,{style:L.actions},t.subscription&&t.subscription.planId===n.planId?l.createElement(h.a,{disabled:!0,label:l.createElement(c.Trans,{id:"This is your current plan"}),onClick:function(){return e.choosePlan(i,t,n)}}):n.planId?l.createElement(k.a,{isLoading:e._isLoading(t)},l.createElement(y.a,{primary:!0,disabled:e._isLoading(t),label:l.createElement(c.Trans,{id:"Choose this plan"}),onClick:function(){return e.choosePlan(i,t,n)}})):l.createElement(k.a,{isLoading:e._isLoading(t)},l.createElement(h.a,{disabled:e._isLoading(t),label:l.createElement(c.Trans,{id:"Cancel your subscription"}),onClick:function(){return e.choosePlan(i,t,n)}}))))})),l.createElement(v.a,null,l.createElement(v.b,null,l.createElement(O.a,null,l.createElement(c.Trans,{id:"Subscriptions can be stopped at any time. GDevelop uses Stripe.com for secure payment. No credit card data is stored by GDevelop: everything is managed by Stripe secure infrastructure."})))),!t.authenticated&&l.createElement(T.a,null,l.createElement(N.a,null,l.createElement(c.Trans,{id:"Create a GDevelop account to continue. It's free and you'll be able to access to online services like one-click builds:"})),l.createElement(y.a,{label:l.createElement(c.Trans,{id:"Create my account"}),primary:!0,onClick:t.onLogin}),l.createElement(h.a,{label:l.createElement(c.Trans,{id:"Not now, thanks"}),onClick:a})),o&&l.createElement(R,{authenticatedUser:t,onClose:function(){e.setState({subscriptionPendingDialogOpen:!1},(function(){return t.onRefreshUserProfile()}))}}))}))}))}))}}]),n}(l.Component)},function(e,t,n){"use strict";var r=n(3),a=n(4),o=n(6),i=n(5),s=n(15),c=n(115),l=n(128),u=n(124),d=n(929),p=n(125),m=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.open,r=t.onClose;if(!n)return null;var a=[s.createElement(u.a,{key:"close",label:s.createElement(c.Trans,{id:"Close"}),primary:!0,onClick:r})];return s.createElement(l.a,{title:s.createElement(c.Trans,{id:"What's new in GDevelop?"}),actions:a,open:n,onRequestClose:r,cannotBeDismissed:!1},s.createElement(p.a,null,s.createElement(c.Trans,{id:"GDevelop was upgraded to a new version! Check out the changes."})),s.createElement(d.a,{onUpdated:function(){e.forceUpdate()}}))}}]),n}(s.Component),f=n(143),h=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={open:e.props.defaultOpen},e}return Object(a.a)(n,[{key:"render",value:function(){var e=this,t=this.state.open;return s.createElement(m,{open:t,onClose:function(){return e.setState({open:!1})}})}}]),n}(s.Component);t.a=function(e){return s.createElement(f.a.Consumer,null,(function(e){var t=e.values,n=e.verifyIfIsNewVersion;return s.createElement(h,{defaultOpen:n()&&t.autoDisplayChangelog})}))}},,,function(e,t,n){"use strict";var r=n(3),a=n(4),o=n(6),i=n(5),s=n(15),c=n.n(s),l=n(338),u=n(344),d=n(299),p=n(186),m=n(246),f=function(e){var t=e.onAddEvent;return Object(m.a)("ADD_STANDARD_EVENT",!0,{handler:e.onAddStandardEvent}),Object(m.a)("ADD_SUBEVENT",e.canAddSubEvent,{handler:e.onAddSubEvent}),Object(m.a)("ADD_COMMENT_EVENT",!0,{handler:e.onAddCommentEvent}),Object(m.b)("CHOOSE_AND_ADD_EVENT",!0,{generateOptions:s.useCallback((function(){return e.allEventsMetadata.map((function(e){return{text:e.fullName,handler:function(){t(e.type)}}}))}),[e.allEventsMetadata,t])}),Object(m.a)("DELETE_SELECTION",e.canRemove,{handler:e.onRemove}),Object(m.a)("EVENTS_EDITOR_UNDO",e.canUndo,{handler:e.undo}),Object(m.a)("EVENTS_EDITOR_REDO",e.canRedo,{handler:e.redo}),Object(m.a)("SEARCH_EVENTS",!0,{handler:e.onToggleSearchPanel}),Object(m.a)("OPEN_EXTENSION_SETTINGS",!!e.onOpenSettings,{handler:e.onOpenSettings||function(){}}),null},h=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this;return c.a.createElement(c.a.Fragment,null,c.a.createElement(f,this.props),c.a.createElement(l.b,{lastChild:!0},c.a.createElement(d.a,{onClick:this.props.onAddStandardEvent,src:"res/ribbon_default/eventadd32.png",tooltip:{id:"Add a new empty event"}}),c.a.createElement(d.a,{onClick:this.props.onAddSubEvent,src:"res/ribbon_default/subeventadd32.png",disabled:!this.props.canAddSubEvent,tooltip:{id:"Add a sub-event to the selected event"}}),c.a.createElement(d.a,{onClick:this.props.onAddCommentEvent,src:"res/ribbon_default/commentaireadd32.png",tooltip:{id:"Add a comment"}}),c.a.createElement(p.a,{element:c.a.createElement(d.a,{src:"res/ribbon_default/add32.png",tooltip:{id:"Choose and add an event"}}),buildMenuTemplate:function(){return e.props.allEventsMetadata.map((function(t){return{label:t.fullName,click:function(){e.props.onAddEvent(t.type)}}}))}}),c.a.createElement(u.a,null),c.a.createElement(d.a,{onClick:this.props.onRemove,src:"res/ribbon_default/deleteselected32.png",disabled:!this.props.canRemove,tooltip:{id:"Delete the selected event(s)"}}),c.a.createElement(d.a,{onClick:this.props.undo,src:"res/ribbon_default/undo32.png",disabled:!this.props.canUndo,tooltip:{id:"Undo the last changes"}}),c.a.createElement(d.a,{onClick:this.props.redo,src:"res/ribbon_default/redo32.png",disabled:!this.props.canRedo,tooltip:{id:"Redo the last changes"}}),c.a.createElement(u.a,null),c.a.createElement(d.a,{onClick:function(){return e.props.onToggleSearchPanel()},src:"res/ribbon_default/search32.png",tooltip:{id:"Search in events"},acceleratorString:"CmdOrCtrl+F"}),this.props.onOpenSettings&&c.a.createElement(u.a,null),this.props.onOpenSettings&&c.a.createElement(d.a,{onClick:this.props.onOpenSettings,src:"res/ribbon_default/pref32.png",tooltip:{id:"Open settings"}})))}}]),n}(s.PureComponent);t.a=h},function(e,t,n){"use strict";var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n(205),u=n(465),d=n(187),p=n(30),m=n(160),f=n(167),h=n(131),g=n(272),b=n(16),v=n(176);n.d(t,"a",(function(){return C}));var E={listContainer:{flex:1}},y=function(e){return e.getName()},C=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={renamedEventsBasedBehavior:null,searchText:""},e._deleteEventsBasedBehavior=function(t,n){var r=n.askForConfirmation,a=e.props.eventsBasedBehaviorsList;if(r&&!b.b.showConfirmDialog("Are you sure you want to remove this behavior? This can't be undone."))return;e.props.onDeleteEventsBasedBehavior(t,(function(n){n&&(a.remove(t.getName()),e._onEventsBasedBehaviorModified())}))},e._editName=function(t){e.setState({renamedEventsBasedBehavior:t},(function(){e.sortableList&&e.sortableList.forceUpdateGrid()}))},e._rename=function(t,n){var r=e.props.eventsBasedBehaviorsList;e.setState({renamedEventsBasedBehavior:null}),t.getName()!==n&&(r.has(n)?Object(p.c)("Another behavior with this name already exists.",{delayToNextTick:!0}):e.props.onRenameEventsBasedBehavior(t,n,(function(r){r&&(t.setName(n),e._onEventsBasedBehaviorModified(),e.props.onEventsBasedBehaviorRenamed(t))})))},e._moveSelectionTo=function(t){var n=e.props,r=n.eventsBasedBehaviorsList,a=n.selectedEventsBasedBehavior;a&&(r.move(r.getPosition(a),r.getPosition(t)),e.forceUpdateList())},e.forceUpdateList=function(){e._onEventsBasedBehaviorModified(),e.sortableList&&e.sortableList.forceUpdateGrid()},e._copyEventsBasedBehavior=function(e){g.b.set("Events Based Behavior",{eventsBasedBehavior:Object(v.b)(e),name:e.getName()})},e._cutEventsBasedBehavior=function(t){e._copyEventsBasedBehavior(t),e._deleteEventsBasedBehavior(t,{askForConfirmation:!1})},e._pasteEventsBasedBehavior=function(t){if(g.b.has("Events Based Behavior")){var n=g.b.get("Events Based Behavior"),r=g.a.extractObjectProperty(n,"eventsBasedBehavior"),a=g.a.extractStringProperty(n,"name");if(a&&r){var o=e.props,i=o.project,s=o.eventsBasedBehaviorsList,c=Object(f.a)(a,(function(e){return s.has(e)})),l=s.insertNew(c,t);Object(v.c)(l,r,"unserializeFrom",i),l.setName(c),e._onEventsBasedBehaviorModified()}}},e._renderEventsBasedBehaviorMenuTemplate=function(t){return function(n,r){return[{label:t._({id:"Properties"}),click:function(){return e.props.onEditProperties(n)}},{type:"separator"},{label:t._({id:"Rename"}),click:function(){return e._editName(n)}},{label:t._({id:"Remove"}),click:function(){return e._deleteEventsBasedBehavior(n,{askForConfirmation:!0})}},{type:"separator"},{label:t._({id:"Copy"}),click:function(){return e._copyEventsBasedBehavior(n)}},{label:t._({id:"Cut"}),click:function(){return e._cutEventsBasedBehavior(n)}},{label:t._({id:"Paste"}),enabled:g.b.has("Events Based Behavior"),click:function(){return e._pasteEventsBasedBehavior(r)}}]}},e._addNewEventsBasedBehavior=function(){var t=e.props.eventsBasedBehaviorsList,n=Object(f.a)("MyBehavior",(function(e){return t.has(e)}));t.insertNew(n,t.getCount()),e._onEventsBasedBehaviorModified()},e}return Object(a.a)(n,[{key:"_onEventsBasedBehaviorModified",value:function(){this.props.unsavedChanges&&this.props.unsavedChanges.triggerUnsavedChanges(),this.forceUpdate()}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.project,a=n.eventsBasedBehaviorsList,o=n.selectedEventsBasedBehavior,i=n.onSelectEventsBasedBehavior,p=this.state.searchText,f=function(e,t){if(!t)return e;var n=t.toLowerCase();return e.filter((function(e){return-1!==e.getName().toLowerCase().indexOf(n)}))}((e=a,Object(h.mapVector)(e,(function(e){return e}))),p),g=r.ptr+";"+a.ptr;return c.createElement(m.a,null,c.createElement("div",{style:E.listContainer},c.createElement(l.a,null,(function(e){var n=e.height,r=e.width;return c.createElement(s.I18n,null,(function(e){var a=e.i18n;return c.createElement(u.a,{key:g,ref:function(e){return t.sortableList=e},fullList:f,width:r,height:n,onAddNewItem:t._addNewEventsBasedBehavior,addNewItemLabel:c.createElement(s.Trans,{id:"Add a new behavior"}),getItemName:y,selectedItems:o?[o]:[],onItemSelected:i,renamedItem:t.state.renamedEventsBasedBehavior,onRename:t._rename,onMoveSelectionToItem:t._moveSelectionTo,buildMenuTemplate:t._renderEventsBasedBehaviorMenuTemplate(a),reactDndType:"GD_EVENTS_BASED_BEHAVIOR"})}))}))),c.createElement(d.a,{value:p,onRequestSearch:function(){},onChange:function(e){return t.setState({searchText:e})}}))}}]),n}(c.Component);C.defaultProps={onDeleteEventsBasedBehavior:function(e,t){return t(!0)},onRenameEventsBasedBehavior:function(e,t,n){return n(!0)}}},function(e,t,n){"use strict";var r=n(3),a=n(4),o=n(6),i=n(5),s=n(115),c=n(15),l=n.n(c),u=n(599),d=n.n(u),p=n(124),m=n(175),f=n(689),h=n.n(f),g=n(607),b=n.n(g),v=n(135),E=n(128),y=n(117),C=n(375),j=n(680),O=n.n(j),x=n(1678),k=n.n(x),T=n(125),w={timeField:{width:75},timeIcon:{paddingLeft:6,paddingRight:8}},S=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={currentFrameIndex:0,currentFrameElapsedTime:0,paused:!1,fps:Math.round(1/e.props.timeBetweenFrames)},e.nextUpdate=null,e.previousUpdateTimeInMs=0,e.replay=function(){return e.setState({currentFrameIndex:0,currentFrameElapsedTime:0,paused:!1})},e.play=function(){return e.setState({paused:!1})},e.pause=function(){return e.setState({paused:!0})},e._updateAnimation=function(t){var n=e.previousUpdateTimeInMs?(t-e.previousUpdateTimeInMs)/1e3:0,r=e.props,a=r.spritesContainer,o=r.timeBetweenFrames,i=e.state,s=i.currentFrameIndex,c=i.currentFrameElapsedTime;if((c+=i.paused?0:n)>o){var l=Math.floor(c/o);s+=l,(c-=l*o)<0&&(c=0)}s>=a.getSpritesCount()&&(s=a.isLooping()?s%a.getSpritesCount():a.getSpritesCount()-1),s<0&&(s=0),e.setState({currentFrameIndex:s,currentFrameElapsedTime:c}),e.nextUpdate=requestAnimationFrame(e._updateAnimation),e.previousUpdateTimeInMs=t},e}return Object(a.a)(n,[{key:"componentDidMount",value:function(){this.nextUpdate=requestAnimationFrame(this._updateAnimation)}},{key:"componentWillUnmount",value:function(){this.nextUpdate&&cancelAnimationFrame(this.nextUpdate)}},{key:"render",value:function(){var e=this,t=this.props,n=t.spritesContainer,r=t.resourcesLoader,a=t.project,o=t.timeBetweenFrames,i=t.onChangeTimeBetweenFrames,c=this.state,u=c.currentFrameIndex,m=c.paused,f=c.fps,h=u<n.getSpritesCount()?n.getSprite(u):null;return l.a.createElement(y.a,{expand:!0,noOverflowParent:!0},l.a.createElement(C.a,{resourceName:h?h.getImageName():"",resourcesLoader:r,project:a}),l.a.createElement(y.b,{noMargin:!0,alignItems:"center"},l.a.createElement(T.a,null,l.a.createElement(s.Trans,{id:"FPS:"})),l.a.createElement(y.c,null),l.a.createElement(v.b,{margin:"none",value:f,onChange:function(t,n){var r=parseFloat(n);r>0&&(e.setState({fps:r}),i(parseFloat((1/r).toFixed(4))),e.replay())},id:"direction-time-between-frames",type:"number",step:1,min:1,max:100,style:w.timeField,autoFocus:!0}),l.a.createElement(d.a,{style:w.timeIcon}),l.a.createElement(v.b,{margin:"none",value:o,onChange:function(t,n){var r=parseFloat(n);r>0&&(e.setState({fps:Math.round(1/r)}),i(r),e.replay())},id:"direction-time-between-frames",type:"number",step:.005,precision:2,min:.01,max:5,style:w.timeField}),l.a.createElement(p.a,{icon:l.a.createElement(O.a,null),label:l.a.createElement(s.Trans,{id:"Replay"}),onClick:this.replay}),l.a.createElement(p.a,{icon:m?l.a.createElement(b.a,null):l.a.createElement(k.a,null),label:m?"Play":"Pause",onClick:m?this.play:this.pause})))}}]),n}(c.Component),P=(n(144),n(146));n.d(t,"a",(function(){return N}));var _={container:{paddingLeft:12,paddingRight:12,display:"flex",alignItems:"center"},timeField:{width:75},timeIcon:{paddingLeft:6,paddingRight:6},spacer:{width:16}},I=function(e){return Number(e.toFixed(6))},N=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){var e;Object(r.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).state={timeBetweenFrames:I(e.props.direction.getTimeBetweenFrames()),timeError:!1,previewOpen:!1},e.saveTimeBetweenFrames=function(){var t=e.props.direction,n=Math.max(parseFloat(e.state.timeBetweenFrames),1e-5),r=!isNaN(n);r&&t.setTimeBetweenFrames(n),e.setState({timeBetweenFrames:I(e.props.direction.getTimeBetweenFrames()),timeError:r})},e.setLooping=function(t){e.props.direction.setLoop(!!t),e.forceUpdate()},e.openPreview=function(t){e.setState({previewOpen:t}),t||e.saveTimeBetweenFrames()},e}return Object(a.a)(n,[{key:"componentWillReceiveProps",value:function(e){this.setState({timeBetweenFrames:I(this.props.direction.getTimeBetweenFrames()),timeError:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.direction,r=t.resourcesLoader,a=t.project,o=t.resourceExternalEditors,i=t.onEditWith,c=o.filter((function(e){return"image"===e.kind}));return l.a.createElement("div",{style:_.container},l.a.createElement(P.a,null,(function(e){return"small"!==e&&!!c.length&&l.a.createElement(p.a,{label:c[0].displayName,icon:l.a.createElement(h.a,null),onClick:function(){return i(c[0])}})})),l.a.createElement(p.a,{label:l.a.createElement(s.Trans,{id:"Preview"}),icon:l.a.createElement(b.a,null),onClick:function(){return e.openPreview(!0)}}),l.a.createElement(d.a,{style:_.timeIcon}),l.a.createElement(v.b,{value:this.state.timeBetweenFrames,onChange:function(t,n){return e.setState({timeBetweenFrames:parseFloat(n)||0})},onBlur:function(){return e.saveTimeBetweenFrames()},id:"direction-time-between-frames",margin:"none",style:_.timeField,type:"number",step:.005,precision:2,min:.01,max:5}),l.a.createElement("span",{style:_.spacer}),l.a.createElement(m.a,{checked:n.isLooping(),label:l.a.createElement(s.Trans,{id:"Loop"}),onCheck:function(t,n){return e.setLooping(n)}}),this.state.previewOpen&&l.a.createElement(E.a,{actions:[l.a.createElement(p.a,{label:l.a.createElement(s.Trans,{id:"OK"}),primary:!0,onClick:function(){return e.openPreview(!1)},key:"ok"})],noMargin:!0,cannotBeDismissed:!1,onRequestClose:function(){return e.openPreview(!1)},open:this.state.previewOpen,fullHeight:!0,flexBody:!0},l.a.createElement(S,{spritesContainer:n,resourcesLoader:r,project:a,timeBetweenFrames:this.state.timeBetweenFrames,onChangeTimeBetweenFrames:function(t){return e.setState({timeBetweenFrames:t})}})))}}]),n}(c.Component)},function(e,t,n){"use strict";var r=n(3),a=n(4),o=n(6),i=n(5),s=n(15),c=n.n(s),l=n(338),u=n(344),d=n(299),p=n(186),m=n(246),f=function(e){return Object(m.a)("OPEN_OBJECTS_PANEL",!0,{handler:e.openObjectsList}),Object(m.a)("OPEN_OBJECT_GROUPS_PANEL",!0,{handler:e.openObjectGroupsList}),Object(m.a)("OPEN_PROPERTIES_PANEL",!0,{handler:e.openPropertiesPanel}),Object(m.a)("TOGGLE_INSTANCES_PANEL",!0,{handler:e.toggleInstancesList}),Object(m.a)("TOGGLE_LAYERS_PANEL",!0,{handler:e.toggleLayersList}),Object(m.a)("SCENE_EDITOR_UNDO",e.canUndo,{handler:e.undo}),Object(m.a)("SCENE_EDITOR_REDO",e.canRedo,{handler:e.redo}),Object(m.a)("DELETE_INSTANCES",e.canDeleteSelection,{handler:e.deleteSelection}),Object(m.a)("TOGGLE_WINDOW_MASK",!0,{handler:e.toggleWindowMask}),Object(m.a)("TOGGLE_GRID",!0,{handler:e.toggleGrid}),Object(m.a)("OPEN_SETUP_GRID",!0,{handler:e.setupGrid}),null},h=(n(447),function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this;return c.a.createElement(c.a.Fragment,null,c.a.createElement(f,{openObjectsList:this.props.openObjectsList,openObjectGroupsList:this.props.openObjectGroupsList,openPropertiesPanel:this.props.openProperties,toggleInstancesList:this.props.toggleInstancesList,toggleLayersList:this.props.toggleLayersList,undo:this.props.undo,canUndo:this.props.canUndo,redo:this.props.redo,canRedo:this.props.canRedo,deleteSelection:this.props.deleteSelection,toggleWindowMask:this.props.toggleWindowMask,toggleGrid:this.props.toggleGrid,setupGrid:this.props.openSetupGrid,canDeleteSelection:0!==this.props.instancesSelection.getSelectedInstances().length}),c.a.createElement(l.b,{lastChild:!0},c.a.createElement(d.a,{onClick:this.props.openObjectsList,src:"res/ribbon_default/objects64.png",tooltip:{id:"Open the objects editor"}}),c.a.createElement(d.a,{onClick:this.props.openObjectGroupsList,src:"res/ribbon_default/objectsgroups64.png",tooltip:{id:"Open the objects groups editor"}}),c.a.createElement(d.a,{onClick:this.props.openProperties,src:"res/ribbon_default/editprop32.png",tooltip:{id:"Open the properties panel"}}),c.a.createElement(d.a,{onClick:this.props.toggleInstancesList,src:"res/ribbon_default/ObjectsPositionsList32.png",tooltip:{id:"Open the list of instances"}}),c.a.createElement(d.a,{onClick:this.props.toggleLayersList,src:"res/ribbon_default/layers32.png",tooltip:{id:"Open the layers editor"}}),c.a.createElement(u.a,null),c.a.createElement(d.a,{onClick:this.props.undo,src:"res/ribbon_default/undo32.png",disabled:!this.props.canUndo,tooltip:{id:"Undo the last changes"}}),c.a.createElement(d.a,{onClick:this.props.redo,src:"res/ribbon_default/redo32.png",disabled:!this.props.canRedo,tooltip:{id:"Redo the last changes"}}),c.a.createElement(u.a,null),c.a.createElement(d.a,{onClick:this.props.deleteSelection,src:"res/ribbon_default/deleteselected32.png",disabled:!this.props.instancesSelection.getSelectedInstances().length,tooltip:{id:"Delete the selected instances from the scene"}}),c.a.createElement(u.a,null),c.a.createElement(p.a,{element:c.a.createElement(d.a,{src:"res/ribbon_default/grid32.png",tooltip:{id:"Toggle/edit grid"}}),buildMenuTemplate:function(t){return[{type:"checkbox",label:t._({id:"Show Mask"}),checked:e.props.isWindowMaskShown(),click:function(){return e.props.toggleWindowMask()}},{type:"checkbox",label:t._({id:"Show grid"}),checked:e.props.isGridShown(),click:function(){return e.props.toggleGrid()}},{type:"separator"},{label:t._({id:"Setup grid"}),click:function(){return e.props.openSetupGrid()}}]}}),c.a.createElement(p.a,{element:c.a.createElement(d.a,{src:"res/ribbon_default/zoom32.png",tooltip:{id:"Change editor zoom"}}),buildMenuTemplate:function(t){return[{label:t._({id:"Zoom in"}),click:e.props.zoomIn,accelerator:"CmdOrCtrl+numadd"},{label:t._({id:"Zoom out"}),click:e.props.zoomOut,accelerator:"CmdOrCtrl+numsub"},{label:t._({id:"Center View"}),click:function(){return e.props.centerView()}},{type:"separator"},{label:"5%",click:function(){return e.props.setZoomFactor(.05)}},{label:"10%",click:function(){return e.props.setZoomFactor(.1)}},{label:"25%",click:function(){return e.props.setZoomFactor(.25)}},{label:"50%",click:function(){return e.props.setZoomFactor(.5)}},{label:"100%",click:function(){return e.props.setZoomFactor(1)}},{label:"150%",click:function(){return e.props.setZoomFactor(1.5)}},{label:"200%",click:function(){return e.props.setZoomFactor(2)}},{label:"400%",click:function(){return e.props.setZoomFactor(4)}}]}}),this.props.onOpenSettings&&c.a.createElement(u.a,null),this.props.onOpenSettings&&c.a.createElement(d.a,{onClick:this.props.onOpenSettings,src:"res/ribbon_default/pref32.png",tooltip:{id:"Open settings"}})))}}]),n}(s.PureComponent));t.a=h},,,,function(e,t,n){"use strict";var r=n(3),a=n(4),o=n(6),i=n(5),s=n(15),c=n(171),l=n.n(c),u=n(169),d=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){return s.createElement("p",{className:l()({[u.m]:!0,[u.n]:this.props.selected})},"Unknown event of type "+this.props.event.getType())}}]),n}(s.Component),p=n(1396),m=n(1460),f=n(1461),h=n(1462),g=n(1463),b=n(1464),v=n(1465),E=n(1466),y=n(1468);t.a={components:{unknownEvent:d,"BuiltinCommonInstructions::Standard":p.a,"BuiltinCommonInstructions::Group":m.a,"BuiltinCommonInstructions::Comment":f.a,"BuiltinCommonInstructions::ForEach":h.a,"BuiltinCommonInstructions::ForEachChildVariable":g.a,"BuiltinCommonInstructions::Repeat":b.a,"BuiltinCommonInstructions::While":v.a,"BuiltinCommonInstructions::Link":E.a,"BuiltinCommonInstructions::JsCode":y.a},getEventComponent:function(e){return this.components.hasOwnProperty(e.getType())?this.components[e.getType()]:this.components.unknownEvent},registerEvent:function(e,t){this.components.hasOwnProperty(e)?this.components[e]=t:console.warn('Tried to register renderer for events "'+e+'", but a renderer already exists.')}}},function(e,t,n){"use strict";var r=n(119),a=n(3),o=n(4),i=n(6),s=n(5),c=n(115),l=n(15),u=n(229),d=n(17),p=n.n(d),m=p()("fs"),f=p()("path"),h=function(e){var t=function(t){return m.readdir(t,(function(n,r){n?console.error("Unable to read GDJS files for setting up autocompletions:",n):r.forEach((function(n){if(n.endsWith(".ts")||n.endsWith(".js")){var r=f.join(t,n);m.readFile(r,"utf8",(function(t,n){t?console.error("Unable to read ".concat(r," for setting up autocompletions:"),t):e.languages.typescript.javascriptDefaults.addExtraLib(n,r)}))}}))}))};Object(u.findGDJS)().then((function(n){var r=n.gdjsRoot,a=f.join(r,"Runtime-sources"),o=f.join(a,"types"),i=f.join(a,"libs"),s=f.join(a,"pixi-renderers"),c=f.join(a,"cocos-renderers"),l=f.join(a,"howler-sound-manager"),u=f.join(a,"cocos-sound-manager"),d=f.join(a,"fontfaceobserver-font-manager"),p=f.join(a,"Extensions"),h=f.join(a,"events-tools");t(a),t(o),t(i),t(s),t(c),t(l),t(u),t(d),t(h),m.readdir(p,(function(e,n){e?console.error("Unable to read Extensions folders for setting up autocompletions:",e):n.filter((function(e){return!e.endsWith(".txt")&&!e.endsWith(".md")&&!e.endsWith(".flow.js")&&!e.endsWith(".gitignore")})).forEach((function(e){return t(f.join(p,e))}))})),e.languages.typescript.javascriptDefaults.addExtraLib("\n/** Represents the scene being played. */\nvar runtimeScene = new gdjs.RuntimeScene();\n\n/**\n * The instances of objects that are passed to your JavaScript function.\n * @type {gdjs.RuntimeObject[]}\n */\nvar objects = [];\n\n/**\n * @type {EventsFunctionContext}\n */\nvar eventsFunctionContext = {};\n","this-mock-the-context-of-events.js")}))},g=n(158),b=n(127),v=n(125),E=n(143),y=n(921);n.d(t,"a",(function(){return x}));var C={scrollBeyondLastLine:!1,minimap:{enabled:!1}},j=!1,O=!1,x=function(e){Object(i.a)(u,e);var t=Object(s.a)(u);function u(){var e;Object(a.a)(this,u);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={MonacoEditor:null,error:null},e.setupEditorThemes=function(e){O||(O=!0,Object(y.a)().forEach((function(t){t.themeData&&e.editor.defineTheme(t.themeName,t.themeData)})))},e.setupEditorCompletions=function(t,n){j||(j=!0,n.languages.typescript.javascriptDefaults.setCompilerOptions({target:n.languages.typescript.ScriptTarget.ES6,allowNonTsExtensions:!0,allowJs:!0,checkJs:!0}),h(n)),e.props.onEditorMounted&&e.props.onEditorMounted()},e._handleContextMenu=function(e){e.preventDefault(),e.stopPropagation()},e}return Object(o.a)(u,[{key:"componentDidMount",value:function(){this.loadMonacoEditor()}},{key:"handleLoadError",value:function(e){this.setState({error:e})}},{key:"loadMonacoEditor",value:function(){var e=this;this.setState({error:null}),window.MonacoEnvironment={getWorkerUrl:function(e,t){return"external/monaco-editor-min/vs/base/worker/workerMain.js"}},n.e(62).then(n.t.bind(null,2150,7)).then((function(t){return e.setState({MonacoEditor:t.default})})).catch(this.handleLoadError)}},{key:"render",value:function(){var e=this,t=this.state,n=t.MonacoEditor;return t.error?l.createElement(l.Fragment,null,l.createElement(v.a,null,l.createElement(c.Trans,{id:"Unable to load the code editor"})),l.createElement(b.a,{label:l.createElement(c.Trans,{id:"Retry"}),onClick:this.loadMonacoEditor})):n?l.createElement("div",{onContextMenu:this._handleContextMenu},l.createElement(E.a.Consumer,null,(function(t){var a=t.values;return l.createElement(n,{width:e.props.width||600,height:e.props.height||200,language:"javascript",theme:a.codeEditorThemeName,value:e.props.value,onChange:e.props.onChange,editorWillMount:e.setupEditorThemes,editorDidMount:e.setupEditorCompletions,options:Object(r.a)(Object(r.a)({},C),{},{fontSize:a.eventsSheetZoomLevel})})}))):l.createElement(g.a,null)}}]),u}(l.Component)}])]);
//# sourceMappingURL=1.232a7acb.chunk.js.map